{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaThreads/J/TypeSafe.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaThreads", "problem_names": ["theorem (in J_conf_read)\n  shows red_preserves_hconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>; P,E,hp s \\<turnstile> e : T; hconf (hp s) \\<rbrakk> \\<Longrightarrow> hconf (hp s')\"\n  and reds_preserves_hconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; P,E,hp s \\<turnstile> es [:] Ts; hconf (hp s) \\<rbrakk> \\<Longrightarrow> hconf (hp s')\"", "theorem (in J_heap) red_preserves_lconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>; P,E,hp s \\<turnstile> e:T; P,hp s \\<turnstile> lcl s (:\\<le>) E \\<rbrakk> \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\"\n  and reds_preserves_lconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; P,E,hp s \\<turnstile> es[:]Ts; P,hp s \\<turnstile> lcl s (:\\<le>) E \\<rbrakk> \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\"", "lemma red_preserves_sconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -tas\\<rightarrow> \\<langle>e',s'\\<rangle>; P,E,hp s \\<turnstile> e : T; E \\<turnstile> s \\<surd> \\<rbrakk> \\<Longrightarrow> E \\<turnstile> s' \\<surd>\"", "lemma reds_preserves_sconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; P,E,hp s \\<turnstile> es [:] Ts; E \\<turnstile> s \\<surd> \\<rbrakk> \\<Longrightarrow> E \\<turnstile> s' \\<surd>\"", "lemma (in J_heap_base) wt_external_call:\n  \"\\<lbrakk> conf_extRet P h va T; P,E,h \\<turnstile> e : T \\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,h \\<turnstile> extRet2J e va : T' \\<and> P \\<turnstile> T' \\<le> T\"", "theorem (in J_conf_read) assumes wf: \"wf_J_prog P\"\n  shows subject_reduction:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>; E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e:T; P,hp s \\<turnstile> t \\<surd>t \\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e':T' \\<and> P \\<turnstile> T' \\<le> T\"\n  and subjects_reduction:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> es[:]Ts; P,hp s \\<turnstile> t \\<surd>t \\<rbrakk>\n  \\<Longrightarrow> \\<exists>Ts'. P,E,hp s' \\<turnstile> es'[:]Ts' \\<and> P \\<turnstile> Ts' [\\<le>] Ts\""], "translations": [["", "theorem (in J_conf_read)\n  shows red_preserves_hconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>; P,E,hp s \\<turnstile> e : T; hconf (hp s) \\<rbrakk> \\<Longrightarrow> hconf (hp s')\"\n  and reds_preserves_hconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; P,E,hp s \\<turnstile> es [:] Ts; hconf (hp s) \\<rbrakk> \\<Longrightarrow> hconf (hp s')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                     \\<langle>e',s'\\<rangle>;\n      P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n     \\<Longrightarrow> hconf (hp s')) &&&\n    (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\ns\\<rangle> [-ta\\<rightarrow>]\n                                     \\<langle>es',s'\\<rangle>;\n      P,E,hp s \\<turnstile> es [:] Ts; hconf (hp s)\\<rbrakk>\n     \\<Longrightarrow> hconf (hp s'))", "proof (induct arbitrary: T E and Ts E rule: red_reds.inducts)"], ["proof (state)\ngoal (98 subgoals):\n 1. \\<And>h' a h C l T E.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        P,E,hp (h, l) \\<turnstile> new C : T; hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 2. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T; hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 5. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 7. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 10. \\<And>e s ta e' s' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 98 subgoals...", "case RedNew"], ["proof (state)\nthis:\n  (h'_, a_) \\<in> allocate h_ (Class_type C_)\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  hconf (hp (h_, l_))\n\ngoal (98 subgoals):\n 1. \\<And>h' a h C l T E.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        P,E,hp (h, l) \\<turnstile> new C : T; hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 2. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T; hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 5. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 7. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 10. \\<And>e s ta e' s' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 98 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  (h'_, a_) \\<in> allocate h_ (Class_type C_)\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  hconf (hp (h_, l_))\n\ngoal (1 subgoal):\n 1. hconf (hp (h'_, l_))", "by(auto intro: hconf_heap_ops_mono)"], ["proof (state)\nthis:\n  hconf (hp (h'_, l_))\n\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T; hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 97 subgoals...", "next"], ["proof (state)\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T; hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 97 subgoals...", "case RedNewFail"], ["proof (state)\nthis:\n  allocate h_ (Class_type C_) = {}\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  hconf (hp (h_, l_))\n\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T; hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 97 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  allocate h_ (Class_type C_) = {}\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  hconf (hp (h_, l_))\n\ngoal (1 subgoal):\n 1. hconf (hp (h_, l_))", "by(auto intro: hconf_heap_ops_mono)"], ["proof (state)\nthis:\n  hconf (hp (h_, l_))\n\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 96 subgoals...", "next"], ["proof (state)\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 96 subgoals...", "case RedNewArray"], ["proof (state)\nthis:\n  0 \\<le>s i_\n  (h'_, a_) \\<in> allocate h_ (Array_type T_ (nat (sint i_)))\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  hconf (hp (h_, l_))\n\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h', l))\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 96 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  0 \\<le>s i_\n  (h'_, a_) \\<in> allocate h_ (Array_type T_ (nat (sint i_)))\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  hconf (hp (h_, l_))\n\ngoal (1 subgoal):\n 1. hconf (hp (h'_, l_))", "by(auto intro: hconf_heap_ops_mono)"], ["proof (state)\nthis:\n  hconf (hp (h'_, l_))\n\ngoal (95 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 95 subgoals...", "next"], ["proof (state)\ngoal (95 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 95 subgoals...", "case RedNewArrayFail"], ["proof (state)\nthis:\n  0 \\<le>s i_\n  allocate h_ (Array_type T_ (nat (sint i_))) = {}\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  hconf (hp (h_, l_))\n\ngoal (95 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp (h, l))\\<rbrakk>\n       \\<Longrightarrow> hconf (hp (h, l))\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n            \\<Longrightarrow> hconf (hp s');\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s')\nA total of 95 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  0 \\<le>s i_\n  allocate h_ (Array_type T_ (nat (sint i_))) = {}\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  hconf (hp (h_, l_))\n\ngoal (1 subgoal):\n 1. hconf (hp (h_, l_))", "by(auto intro: hconf_heap_ops_mono)"], ["proof (state)\nthis:\n  hconf (hp (h_, l_))\n\ngoal (94 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 94 subgoals...", "next"], ["proof (state)\ngoal (94 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 94 subgoals...", "case (RedAAss h a U n i v U' h' l)"], ["proof (state)\nthis:\n  typeof_addr h a = \\<lfloor>Array_type U n\\<rfloor>\n  0 \\<le>s i\n  sint i < int n\n  typeof\\<^bsub>h\\<^esub> v = \\<lfloor>U'\\<rfloor>\n  P \\<turnstile> U' \\<le> U\n  heap_write h a (ACell (nat (sint i))) v h'\n  P,E,hp (h, l) \\<turnstile> addr\n                              a\\<lfloor>Val (Intg i)\\<rceil> := Val v : T\n  hconf (hp (h, l))\n\ngoal (94 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 94 subgoals...", "from \\<open>sint i < int n\\<close> \\<open>0 <=s i\\<close>"], ["proof (chain)\npicking this:\n  sint i < int n\n  0 \\<le>s i", "have \"nat (sint i) < n\""], ["proof (prove)\nusing this:\n  sint i < int n\n  0 \\<le>s i\n\ngoal (1 subgoal):\n 1. nat (sint i) < n", "by (simp add: word_sle_eq nat_less_iff)"], ["proof (state)\nthis:\n  nat (sint i) < n\n\ngoal (94 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 94 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  nat (sint i) < n\n\ngoal (1 subgoal):\n 1. hconf (hp (h', l))", "using RedAAss"], ["proof (prove)\nusing this:\n  nat (sint i) < n\n  typeof_addr h a = \\<lfloor>Array_type U n\\<rfloor>\n  0 \\<le>s i\n  sint i < int n\n  typeof\\<^bsub>h\\<^esub> v = \\<lfloor>U'\\<rfloor>\n  P \\<turnstile> U' \\<le> U\n  heap_write h a (ACell (nat (sint i))) v h'\n  P,E,hp (h, l) \\<turnstile> addr\n                              a\\<lfloor>Val (Intg i)\\<rceil> := Val v : T\n  hconf (hp (h, l))\n\ngoal (1 subgoal):\n 1. hconf (hp (h', l))", "by(fastforce elim: hconf_heap_write_mono intro: addr_loc_type.intros simp add: conf_def)"], ["proof (state)\nthis:\n  hconf (hp (h', l))\n\ngoal (93 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 93 subgoals...", "next"], ["proof (state)\ngoal (93 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 93 subgoals...", "case RedFAss"], ["proof (state)\nthis:\n  heap_write h_ a_ (CField D_ F_) v_ h'_\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} := Val v_ : T\n  hconf (hp (h_, l_))\n\ngoal (93 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 93 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  heap_write h_ a_ (CField D_ F_) v_ h'_\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} := Val v_ : T\n  hconf (hp (h_, l_))\n\ngoal (1 subgoal):\n 1. hconf (hp (h'_, l_))", "by(fastforce elim: hconf_heap_write_mono intro: addr_loc_type.intros simp add: conf_def)"], ["proof (state)\nthis:\n  hconf (hp (h'_, l_))\n\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 92 subgoals...", "next"], ["proof (state)\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 92 subgoals...", "case RedCASSucceed"], ["proof (state)\nthis:\n  heap_read h_ a_ (CField D_ F_) v_\n  heap_write h_ a_ (CField D_ F_) v'_ h'_\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<bullet>compareAndSwap(D_\\<bullet>F_, Val\n                                v_, Val v'_) : T\n  hconf (hp (h_, l_))\n\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 92 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  heap_read h_ a_ (CField D_ F_) v_\n  heap_write h_ a_ (CField D_ F_) v'_ h'_\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<bullet>compareAndSwap(D_\\<bullet>F_, Val\n                                v_, Val v'_) : T\n  hconf (hp (h_, l_))\n\ngoal (1 subgoal):\n 1. hconf (hp (h'_, l_))", "by(fastforce elim: hconf_heap_write_mono intro: addr_loc_type.intros simp add: conf_def)"], ["proof (state)\nthis:\n  hconf (hp (h'_, l_))\n\ngoal (91 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 91 subgoals...", "next"], ["proof (state)\ngoal (91 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 91 subgoals...", "case (RedCallExternal s a U M Ts T' D vs ta va h' ta' e' s')"], ["proof (state)\nthis:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n  ta' = extTA ta\n  e' = extRet2J (addr a\\<bullet>M(map Val vs)) va\n  s' = (h', lcl s)\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  hconf (hp s)\n\ngoal (91 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 91 subgoals...", "hence \"P,hp s \\<turnstile> a\\<bullet>M(vs) : T\""], ["proof (prove)\nusing this:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n  ta' = extTA ta\n  e' = extRet2J (addr a\\<bullet>M(map Val vs)) va\n  s' = (h', lcl s)\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  hconf (hp s)\n\ngoal (1 subgoal):\n 1. P,hp s \\<turnstile> a\\<bullet>M(vs) : T", "by(fastforce simp add: external_WT'_iff dest: sees_method_fun)"], ["proof (state)\nthis:\n  P,hp s \\<turnstile> a\\<bullet>M(vs) : T\n\ngoal (91 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 91 subgoals...", "with RedCallExternal"], ["proof (chain)\npicking this:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n  ta' = extTA ta\n  e' = extRet2J (addr a\\<bullet>M(map Val vs)) va\n  s' = (h', lcl s)\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  hconf (hp s)\n  P,hp s \\<turnstile> a\\<bullet>M(vs) : T", "show ?case"], ["proof (prove)\nusing this:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n  ta' = extTA ta\n  e' = extRet2J (addr a\\<bullet>M(map Val vs)) va\n  s' = (h', lcl s)\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  hconf (hp s)\n  P,hp s \\<turnstile> a\\<bullet>M(vs) : T\n\ngoal (1 subgoal):\n 1. hconf (hp s')", "by(auto dest: external_call_hconf)"], ["proof (state)\nthis:\n  hconf (hp s')\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Cast C e : T; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta; hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s)\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T; hconf (hp s)\\<rbrakk>\n           \\<Longrightarrow> hconf (hp s');\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        hconf (hp s)\\<rbrakk>\n       \\<Longrightarrow> hconf (hp s')\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         hconf (hp s)\\<rbrakk>\n        \\<Longrightarrow> hconf (hp s)\nA total of 90 subgoals...", "qed auto"], ["", "theorem (in J_heap) red_preserves_lconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>; P,E,hp s \\<turnstile> e:T; P,hp s \\<turnstile> lcl s (:\\<le>) E \\<rbrakk> \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\"\n  and reds_preserves_lconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; P,E,hp s \\<turnstile> es[:]Ts; P,hp s \\<turnstile> lcl s (:\\<le>) E \\<rbrakk> \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                     \\<langle>e',s'\\<rangle>;\n      P,E,hp s \\<turnstile> e : T;\n      P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n     \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E) &&&\n    (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\ns\\<rangle> [-ta\\<rightarrow>]\n                                     \\<langle>es',s'\\<rangle>;\n      P,E,hp s \\<turnstile> es [:] Ts;\n      P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n     \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E)", "proof(induct arbitrary: T E and Ts E rule:red_reds.inducts)"], ["proof (state)\ngoal (98 subgoals):\n 1. \\<And>h' a h C l T E.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 2. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 5. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 7. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 10. \\<And>e s ta e' s' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> e instanceof T : Ta;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 98 subgoals...", "case RedNew"], ["proof (state)\nthis:\n  (h'_, a_) \\<in> allocate h_ (Class_type C_)\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (98 subgoals):\n 1. \\<And>h' a h C l T E.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 2. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 5. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 7. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 10. \\<And>e s ta e' s' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> e instanceof T : Ta;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 98 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  (h'_, a_) \\<in> allocate h_ (Class_type C_)\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E", "by(fastforce intro:lconf_hext hext_heap_ops simp del: fun_upd_apply)"], ["proof (state)\nthis:\n  P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E\n\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 97 subgoals...", "next"], ["proof (state)\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 97 subgoals...", "case RedNewFail"], ["proof (state)\nthis:\n  allocate h_ (Class_type C_) = {}\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 97 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  allocate h_ (Class_type C_) = {}\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E", "by(auto intro:lconf_hext hext_heap_ops simp del: fun_upd_apply)"], ["proof (state)\nthis:\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 96 subgoals...", "next"], ["proof (state)\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 96 subgoals...", "case RedNewArray"], ["proof (state)\nthis:\n  0 \\<le>s i_\n  (h'_, a_) \\<in> allocate h_ (Array_type T_ (nat (sint i_)))\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h', l) \\<turnstile> lcl (h', l) (:\\<le>) E\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 96 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  0 \\<le>s i_\n  (h'_, a_) \\<in> allocate h_ (Array_type T_ (nat (sint i_)))\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E", "by(fastforce intro:lconf_hext hext_heap_ops simp del: fun_upd_apply)"], ["proof (state)\nthis:\n  P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E\n\ngoal (95 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 95 subgoals...", "next"], ["proof (state)\ngoal (95 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 95 subgoals...", "case RedNewArrayFail"], ["proof (state)\nthis:\n  0 \\<le>s i_\n  allocate h_ (Array_type T_ (nat (sint i_))) = {}\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (95 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp (h, l) \\<turnstile> lcl (h, l) (:\\<le>) E\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n            \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\nA total of 95 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  0 \\<le>s i_\n  allocate h_ (Array_type T_ (nat (sint i_))) = {}\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E", "by(fastforce intro:lconf_hext hext_heap_ops simp del: fun_upd_apply)"], ["proof (state)\nthis:\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (94 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 94 subgoals...", "next"], ["proof (state)\ngoal (94 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 94 subgoals...", "case RedLAss"], ["proof (state)\nthis:\n  P,E,hp (h_, l_) \\<turnstile> V_:=Val v_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (94 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 94 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,E,hp (h_, l_) \\<turnstile> V_:=Val v_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h_, l_(V_ \\<mapsto>\n          v_)) \\<turnstile> lcl (h_, l_(V_ \\<mapsto> v_)) (:\\<le>) E", "by(fastforce elim: lconf_upd simp add: conf_def simp del: fun_upd_apply )"], ["proof (state)\nthis:\n  P,hp (h_, l_(V_ \\<mapsto>\n        v_)) \\<turnstile> lcl (h_, l_(V_ \\<mapsto> v_)) (:\\<le>) E\n\ngoal (93 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 93 subgoals...", "next"], ["proof (state)\ngoal (93 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 93 subgoals...", "case RedAAss"], ["proof (state)\nthis:\n  typeof_addr h_ a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  0 \\<le>s i_\n  sint i_ < int n_\n  typeof\\<^bsub>h_\\<^esub> w_ = \\<lfloor>U_\\<rfloor>\n  P \\<turnstile> U_ \\<le> T_\n  heap_write h_ a_ (ACell (nat (sint i_))) w_ h'_\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<lfloor>Val (Intg i_)\\<rceil> := Val w_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (93 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 93 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr h_ a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  0 \\<le>s i_\n  sint i_ < int n_\n  typeof\\<^bsub>h_\\<^esub> w_ = \\<lfloor>U_\\<rfloor>\n  P \\<turnstile> U_ \\<le> T_\n  heap_write h_ a_ (ACell (nat (sint i_))) w_ h'_\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<lfloor>Val (Intg i_)\\<rceil> := Val w_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E", "by(fastforce intro:lconf_hext hext_heap_ops simp del: fun_upd_apply)"], ["proof (state)\nthis:\n  P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E\n\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 92 subgoals...", "next"], ["proof (state)\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 92 subgoals...", "case RedFAss"], ["proof (state)\nthis:\n  heap_write h_ a_ (CField D_ F_) v_ h'_\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} := Val v_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 92 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  heap_write h_ a_ (CField D_ F_) v_ h'_\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} := Val v_ : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E", "by(fastforce intro:lconf_hext hext_heap_ops simp del: fun_upd_apply)"], ["proof (state)\nthis:\n  P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E\n\ngoal (91 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 91 subgoals...", "next"], ["proof (state)\ngoal (91 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 91 subgoals...", "case RedCASSucceed"], ["proof (state)\nthis:\n  heap_read h_ a_ (CField D_ F_) v_\n  heap_write h_ a_ (CField D_ F_) v'_ h'_\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<bullet>compareAndSwap(D_\\<bullet>F_, Val\n                                v_, Val v'_) : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (91 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 91 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  heap_read h_ a_ (CField D_ F_) v_\n  heap_write h_ a_ (CField D_ F_) v'_ h'_\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<bullet>compareAndSwap(D_\\<bullet>F_, Val\n                                v_, Val v'_) : T\n  P,hp (h_, l_) \\<turnstile> lcl (h_, l_) (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E", "by(fastforce intro:lconf_hext hext_heap_ops simp del: fun_upd_apply)"], ["proof (state)\nthis:\n  P,hp (h'_, l_) \\<turnstile> lcl (h'_, l_) (:\\<le>) E\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "next"], ["proof (state)\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "case (BlockRed e h x V vo ta e' h' x' T T' E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,\n                          (h, x(V := vo))\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',(h', x')\\<rangle>\n  \\<lbrakk>P,?E15,hp (h, x(V := vo)) \\<turnstile> e : ?T15;\n   P,hp (h, x\n         (V := vo)) \\<turnstile> lcl (h, x(V := vo)) (:\\<le>) ?E15\\<rbrakk>\n  \\<Longrightarrow> P,hp (h', x') \\<turnstile> lcl (h', x') (:\\<le>) ?E15\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\n  P,hp (h, x) \\<turnstile> lcl (h, x) (:\\<le>) E\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "note red = \\<open>extTA,P,t \\<turnstile> \\<langle>e,(h, x(V := vo))\\<rangle> -ta\\<rightarrow> \\<langle>e',(h', x')\\<rangle>\\<close>"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,\n                          (h, x(V := vo))\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',(h', x')\\<rangle>\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "note IH = \\<open>\\<And>T E. \\<lbrakk>P,E,hp (h, x(V := vo)) \\<turnstile> e : T;\n               P,hp (h, x(V := vo)) \\<turnstile> lcl (h, x(V := vo)) (:\\<le>) E\\<rbrakk>\n              \\<Longrightarrow> P,hp (h', x') \\<turnstile> lcl (h', x') (:\\<le>) E\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>P,?E,hp (h, x(V := vo)) \\<turnstile> e : ?T;\n   P,hp (h, x\n         (V := vo)) \\<turnstile> lcl (h, x(V := vo)) (:\\<le>) ?E\\<rbrakk>\n  \\<Longrightarrow> P,hp (h', x') \\<turnstile> lcl (h', x') (:\\<le>) ?E\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "note wt = \\<open>P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\\<close>"], ["proof (state)\nthis:\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "note lconf = \\<open>P,hp (h, x) \\<turnstile> lcl (h, x) (:\\<le>) E\\<close>"], ["proof (state)\nthis:\n  P,hp (h, x) \\<turnstile> lcl (h, x) (:\\<le>) E\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "from lconf_hext[OF lconf[simplified] red_hext_incr[OF red, simplified]]"], ["proof (chain)\npicking this:\n  P,h' \\<turnstile> x (:\\<le>) E", "have \"P,h' \\<turnstile> x (:\\<le>) E\""], ["proof (prove)\nusing this:\n  P,h' \\<turnstile> x (:\\<le>) E\n\ngoal (1 subgoal):\n 1. P,h' \\<turnstile> x (:\\<le>) E", "."], ["proof (state)\nthis:\n  P,h' \\<turnstile> x (:\\<le>) E\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,h' \\<turnstile> x (:\\<le>) E\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'", "have \"P,E(V\\<mapsto>T),h \\<turnstile> e : T'\""], ["proof (prove)\nusing this:\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\n\ngoal (1 subgoal):\n 1. P,E(V \\<mapsto> T),h \\<turnstile> e : T'", "by(cases vo, auto)"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "from lconf wt"], ["proof (chain)\npicking this:\n  P,hp (h, x) \\<turnstile> lcl (h, x) (:\\<le>) E\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'", "have \"P,h \\<turnstile> x(V := vo) (:\\<le>) E(V \\<mapsto> T)\""], ["proof (prove)\nusing this:\n  P,hp (h, x) \\<turnstile> lcl (h, x) (:\\<le>) E\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\n\ngoal (1 subgoal):\n 1. P,h \\<turnstile> x(V := vo) (:\\<le>) E(V \\<mapsto> T)", "by(cases vo)(simp add: lconf_def,auto intro: lconf_upd2 simp add: conf_def)"], ["proof (state)\nthis:\n  P,h \\<turnstile> x(V := vo) (:\\<le>) E(V \\<mapsto> T)\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P,h' \\<turnstile> x (:\\<le>) E\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n  P,h \\<turnstile> x(V := vo) (:\\<le>) E(V \\<mapsto> T)", "have \"P,h' \\<turnstile> x' (:\\<le>) E(V\\<mapsto>T)\""], ["proof (prove)\nusing this:\n  P,h' \\<turnstile> x (:\\<le>) E\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n  P,h \\<turnstile> x(V := vo) (:\\<le>) E(V \\<mapsto> T)\n\ngoal (1 subgoal):\n 1. P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)", "by(auto intro: IH[simplified])"], ["proof (state)\nthis:\n  P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)\n\ngoal (90 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 90 subgoals...", "with \\<open>P,h' \\<turnstile> x (:\\<le>) E\\<close>"], ["proof (chain)\npicking this:\n  P,h' \\<turnstile> x (:\\<le>) E\n  P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)", "show ?case"], ["proof (prove)\nusing this:\n  P,h' \\<turnstile> x (:\\<le>) E\n  P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)\n\ngoal (1 subgoal):\n 1. P,hp (h', x'(V := x V)) \\<turnstile> lcl (h', x'(V := x V)) (:\\<le>) E", "by(auto simp add: lconf_def split: if_split_asm)"], ["proof (state)\nthis:\n  P,hp (h', x'(V := x V)) \\<turnstile> lcl (h', x'(V := x V)) (:\\<le>) E\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 89 subgoals...", "next"], ["proof (state)\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 89 subgoals...", "case (RedCallExternal s a U M Ts T' D vs ta va h' ta' e' s')"], ["proof (state)\nthis:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n  ta' = extTA ta\n  e' = extRet2J (addr a\\<bullet>M(map Val vs)) va\n  s' = (h', lcl s)\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  P,hp s \\<turnstile> lcl s (:\\<le>) E\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 89 subgoals...", "from \\<open>P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\\<close>"], ["proof (chain)\npicking this:\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>", "have \"hp s \\<unlhd> h'\""], ["proof (prove)\nusing this:\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n\ngoal (1 subgoal):\n 1. hp s \\<unlhd> h'", "by(rule red_external_hext)"], ["proof (state)\nthis:\n  hp s \\<unlhd> h'\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 89 subgoals...", "with \\<open>s' = (h', lcl s)\\<close> \\<open>P,hp s \\<turnstile> lcl s (:\\<le>) E\\<close>"], ["proof (chain)\npicking this:\n  s' = (h', lcl s)\n  P,hp s \\<turnstile> lcl s (:\\<le>) E\n  hp s \\<unlhd> h'", "show ?case"], ["proof (prove)\nusing this:\n  s' = (h', lcl s)\n  P,hp s \\<turnstile> lcl s (:\\<le>) E\n  hp s \\<unlhd> h'\n\ngoal (1 subgoal):\n 1. P,hp s' \\<turnstile> lcl s' (:\\<le>) E", "by(auto intro: lconf_hext)"], ["proof (state)\nthis:\n  P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n\ngoal (88 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n           \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n       \\<Longrightarrow> P,hp s' \\<turnstile> lcl s' (:\\<le>) E\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> lcl s (:\\<le>) E\\<rbrakk>\n        \\<Longrightarrow> P,hp s \\<turnstile> lcl s (:\\<le>) E\nA total of 88 subgoals...", "qed auto"], ["", "text\\<open>Combining conformance of heap and local variables:\\<close>"], ["", "definition (in J_heap_conf_base) sconf :: \"env \\<Rightarrow> ('addr, 'heap) Jstate \\<Rightarrow> bool\" (\"_ \\<turnstile> _ \\<surd>\"   [51,51]50)\n  where \"E \\<turnstile> s \\<surd>  \\<equiv>  let (h,l) = s in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\""], ["", "context J_conf_read begin"], ["", "lemma red_preserves_sconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -tas\\<rightarrow> \\<langle>e',s'\\<rangle>; P,E,hp s \\<turnstile> e : T; E \\<turnstile> s \\<surd> \\<rbrakk> \\<Longrightarrow> E \\<turnstile> s' \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -tas\\<rightarrow>\n                                    \\<langle>e',s'\\<rangle>;\n     P,E,hp s \\<turnstile> e : T; E \\<turnstile> s \\<surd>\\<rbrakk>\n    \\<Longrightarrow> E \\<turnstile> s' \\<surd>", "apply(auto dest: red_preserves_hconf red_preserves_lconf simp add:sconf_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>h l x y.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (x, y)\\<rangle> -tas\\<rightarrow>\n \\<langle>e',(h, l)\\<rangle>;\n        P,E,x \\<turnstile> e : T; s' = (h, l); s = (x, y); hconf x;\n        P,x \\<turnstile> y (:\\<le>) E; preallocated x\\<rbrakk>\n       \\<Longrightarrow> preallocated h", "apply(fastforce dest: red_hext_incr intro: preallocated_hext)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma reds_preserves_sconf:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; P,E,hp s \\<turnstile> es [:] Ts; E \\<turnstile> s \\<surd> \\<rbrakk> \\<Longrightarrow> E \\<turnstile> s' \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n                                     s\\<rangle> [-ta\\<rightarrow>]\n                                    \\<langle>es',s'\\<rangle>;\n     P,E,hp s \\<turnstile> es [:] Ts; E \\<turnstile> s \\<surd>\\<rbrakk>\n    \\<Longrightarrow> E \\<turnstile> s' \\<surd>", "apply(auto dest: reds_preserves_hconf reds_preserves_lconf simp add: sconf_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>h l x y.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  (x, y)\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',(h, l)\\<rangle>;\n        P,E,x \\<turnstile> es [:] Ts; s' = (h, l); s = (x, y); hconf x;\n        P,x \\<turnstile> y (:\\<le>) E; preallocated x\\<rbrakk>\n       \\<Longrightarrow> preallocated h", "apply(fastforce dest: reds_hext_incr intro: preallocated_hext)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"], ["", "lemma (in J_heap_base) wt_external_call:\n  \"\\<lbrakk> conf_extRet P h va T; P,E,h \\<turnstile> e : T \\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,h \\<turnstile> extRet2J e va : T' \\<and> P \\<turnstile> T' \\<le> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>conf_extRet P h va T; P,E,h \\<turnstile> e : T\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,h \\<turnstile> extRet2J e va : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "by(cases va)(auto simp add: conf_def)"], ["", "subsection \"Subject reduction\""], ["", "theorem (in J_conf_read) assumes wf: \"wf_J_prog P\"\n  shows subject_reduction:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>; E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e:T; P,hp s \\<turnstile> t \\<surd>t \\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e':T' \\<and> P \\<turnstile> T' \\<le> T\"\n  and subjects_reduction:\n  \"\\<lbrakk> extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>; E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> es[:]Ts; P,hp s \\<turnstile> t \\<surd>t \\<rbrakk>\n  \\<Longrightarrow> \\<exists>Ts'. P,E,hp s' \\<turnstile> es'[:]Ts' \\<and> P \\<turnstile> Ts' [\\<le>] Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                     \\<langle>e',s'\\<rangle>;\n      E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n      P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n     \\<Longrightarrow> \\<exists>T'.\n                          P,E,hp s' \\<turnstile> e' : T' \\<and>\n                          P \\<turnstile> T' \\<le> T) &&&\n    (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\ns\\<rangle> [-ta\\<rightarrow>]\n                                     \\<langle>es',s'\\<rangle>;\n      E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> es [:] Ts;\n      P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n     \\<Longrightarrow> \\<exists>Ts'.\n                          P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                          P \\<turnstile> Ts' [\\<le>] Ts)", "proof (induct arbitrary: T E and Ts E rule:red_reds.inducts)"], ["proof (state)\ngoal (98 subgoals):\n 1. \\<And>h' a h C l T E.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        E \\<turnstile> (h, l) \\<surd>; P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        E \\<turnstile> (h, l) \\<surd>; P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>e s ta e' s' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 98 subgoals...", "case RedNew"], ["proof (state)\nthis:\n  (h'_, a_) \\<in> allocate h_ (Class_type C_)\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (98 subgoals):\n 1. \\<And>h' a h C l T E.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        E \\<turnstile> (h, l) \\<surd>; P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        E \\<turnstile> (h, l) \\<surd>; P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>e s ta e' s' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 98 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  (h'_, a_) \\<in> allocate h_ (Class_type C_)\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h'_, l_) \\<turnstile> addr a_ : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto dest: allocate_SomeD)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h'_, l_) \\<turnstile> addr a_ : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        E \\<turnstile> (h, l) \\<surd>; P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 97 subgoals...", "next"], ["proof (state)\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        E \\<turnstile> (h, l) \\<surd>; P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 97 subgoals...", "case RedNewFail"], ["proof (state)\nthis:\n  allocate h_ (Class_type C_) = {}\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (97 subgoals):\n 1. \\<And>h C l T E.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        E \\<turnstile> (h, l) \\<surd>; P,E,hp (h, l) \\<turnstile> new C : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s v U b T Ta E.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 97 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  allocate h_ (Class_type C_) = {}\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h_,\n               l_) \\<turnstile> Throw\n                                 (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  allocate h_ (Class_type C_) = {}\n  let (h, l) = (h_, l_)\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp (h_, l_) \\<turnstile> new C_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h_,\n               l_) \\<turnstile> Throw\n                                 (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro:typeof_OutOfMemory preallocated_heap_ops simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h_,\n             l_) \\<turnstile> Throw\n                               (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 96 subgoals...", "next"], ["proof (state)\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 96 subgoals...", "case NewArrayRed"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> e_ : ?T15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> newA T_\\<lfloor>e_\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (96 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>e\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> newA T\\<lfloor>e'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>e s ta e' s' bop e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 96 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> e_ : ?T15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> newA T_\\<lfloor>e_\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s'_ \\<turnstile> newA T_\\<lfloor>e'_\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s'_ \\<turnstile> newA T_\\<lfloor>e'_\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (95 subgoals):\n 1. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 95 subgoals...", "next"], ["proof (state)\ngoal (95 subgoals):\n 1. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 95 subgoals...", "case RedNewArray"], ["proof (state)\nthis:\n  0 \\<le>s i_\n  (h'_, a_) \\<in> allocate h_ (Array_type T_ (nat (sint i_)))\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (95 subgoals):\n 1. \\<And>i h' a h T l Ta E.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> addr a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v bop T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 95 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  0 \\<le>s i_\n  (h'_, a_) \\<in> allocate h_ (Array_type T_ (nat (sint i_)))\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h'_, l_) \\<turnstile> addr a_ : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto dest: allocate_SomeD)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h'_, l_) \\<turnstile> addr a_ : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (94 subgoals):\n 1. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 94 subgoals...", "next"], ["proof (state)\ngoal (94 subgoals):\n 1. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 94 subgoals...", "case RedNewArrayNegative"], ["proof (state)\nthis:\n  i_ <s 0\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (94 subgoals):\n 1. \\<And>i T s Ta E.\n       \\<lbrakk>i <s 0; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NegativeArraySize) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>bop v1 v2 v s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 94 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  i_ <s 0\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt\n                                 NegativeArraySize) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  i_ <s 0\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt\n                                 NegativeArraySize) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro: preallocated_heap_ops simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw\n                             (addr_of_sys_xcpt\n                               NegativeArraySize) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (93 subgoals):\n 1. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>bop v1 v2 a s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 93 subgoals...", "next"], ["proof (state)\ngoal (93 subgoals):\n 1. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>bop v1 v2 a s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 93 subgoals...", "case RedNewArrayFail"], ["proof (state)\nthis:\n  0 \\<le>s i_\n  allocate h_ (Array_type T_ (nat (sint i_))) = {}\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (93 subgoals):\n 1. \\<And>i h T l Ta E.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> newA T\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Throw\n                  (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>bop v1 v2 a s T E.\n        \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\nv2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 93 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  0 \\<le>s i_\n  allocate h_ (Array_type T_ (nat (sint i_))) = {}\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h_,\n               l_) \\<turnstile> Throw\n                                 (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  0 \\<le>s i_\n  allocate h_ (Array_type T_ (nat (sint i_))) = {}\n  let (h, l) = (h_, l_)\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp (h_, l_) \\<turnstile> newA T_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h_,\n               l_) \\<turnstile> Throw\n                                 (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro:typeof_OutOfMemory preallocated_heap_ops simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h_,\n             l_) \\<turnstile> Throw\n                               (addr_of_sys_xcpt OutOfMemory) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s V v T E.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Var V : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 92 subgoals...", "next"], ["proof (state)\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s V v T E.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Var V : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 92 subgoals...", "case (CastRed e s ta e' s' C T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Cast C e : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s V v T E.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Var V : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 92 subgoals...", "have esse: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>\" \n    and IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\"\n    and hconf: \"E \\<turnstile> s \\<surd>\"\n    and wtc: \"P,E,hp s \\<turnstile> Cast C e : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>e',s'\\<rangle> &&&\n     (\\<And>T E.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>T'.\n                              P,E,hp s' \\<turnstile> e' : T' \\<and>\n                              P \\<turnstile> T' \\<le> T)) &&&\n    E \\<turnstile> s \\<surd> &&& P,E,hp s \\<turnstile> Cast C e : T", "by fact+"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Cast C e : T\n\ngoal (92 subgoals):\n 1. \\<And>e s ta e' s' C T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Cast C e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s V v T E.\n        \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Var V : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 92 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Cast C e : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(clarsimp)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; is_type P C;\n        T = C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> C", "fix T'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; is_type P C;\n        T = C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> C", "assume wte: \"P,E,hp s \\<turnstile> e : T'\" \"is_type P C\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T'\n  is_type P C\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; is_type P C;\n        T = C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> C", "from wte and hconf and IH and \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : T'\n  is_type P C\n  E \\<turnstile> s \\<surd>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  P,hp s \\<turnstile> t \\<surd>t", "have \"\\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : T'\n  is_type P C\n  E \\<turnstile> s \\<surd>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>U.\n       P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'", "by simp"], ["proof (state)\nthis:\n  \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; is_type P C;\n        T = C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> C", "then"], ["proof (chain)\npicking this:\n  \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'", "obtain U where wtee: \"P,E,hp s' \\<turnstile> e' : U\" and UsTT: \"P \\<turnstile> U \\<le> T'\""], ["proof (prove)\nusing this:\n  \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>U.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : U;\n         P \\<turnstile> U \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> U \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; is_type P C;\n        T = C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> C", "from wtee \\<open>is_type P C\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : U\n  is_type P C", "have \"P,E,hp s' \\<turnstile> Cast C e' : C\""], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : U\n  is_type P C\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Cast C e' : C", "by(rule WTrtCast)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Cast C e' : C\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; is_type P C;\n        T = C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> C", "thus \"\\<exists>T'. P,E,hp s' \\<turnstile> Cast C e' : T' \\<and> P \\<turnstile> T' \\<le> C\""], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Cast C e' : C\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Cast C e' : T' \\<and>\n       P \\<turnstile> T' \\<le> C", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Cast C e' : T' \\<and> P \\<turnstile> T' \\<le> C\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Cast C e' : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (91 subgoals):\n 1. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' V T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 91 subgoals...", "next"], ["proof (state)\ngoal (91 subgoals):\n 1. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' V T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 91 subgoals...", "case RedCast"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s_\\<^esub> v_ = \\<lfloor>U_\\<rfloor>\n  P \\<turnstile> U_ \\<le> T_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Cast T_ (Val v_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (91 subgoals):\n 1. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' V T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 91 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s_\\<^esub> v_ = \\<lfloor>U_\\<rfloor>\n  P \\<turnstile> U_ \\<le> T_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Cast T_ (Val v_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by(clarsimp simp add: is_refT_def)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (90 subgoals):\n 1. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V v h l T E.\n        \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l(V \\<mapsto>\n                                     v)) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 90 subgoals...", "next"], ["proof (state)\ngoal (90 subgoals):\n 1. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V v h l T E.\n        \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l(V \\<mapsto>\n                                     v)) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 90 subgoals...", "case RedCastFail"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s_\\<^esub> v_ = \\<lfloor>U_\\<rfloor>\n  \\<not> P \\<turnstile> U_ \\<le> T_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Cast T_ (Val v_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (90 subgoals):\n 1. \\<And>s v U T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast T (Val v) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ClassCast) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V v h l T E.\n        \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l(V \\<mapsto>\n                                     v)) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 90 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s_\\<^esub> v_ = \\<lfloor>U_\\<rfloor>\n  \\<not> P \\<turnstile> U_ \\<le> T_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Cast T_ (Val v_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt ClassCast) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s_\\<^esub> v_ = \\<lfloor>U_\\<rfloor>\n  \\<not> P \\<turnstile> U_ \\<le> T_\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> Cast T_ (Val v_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt ClassCast) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt ClassCast) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a s ta a' s' i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 89 subgoals...", "next"], ["proof (state)\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a s ta a' s' i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 89 subgoals...", "case (InstanceOfRed e s ta e' s' U T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e instanceof U : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a s ta a' s' i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 89 subgoals...", "have IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\"\n    and hconf: \"E \\<turnstile> s \\<surd>\"\n    and wtc: \"P,E,hp s \\<turnstile> e instanceof U : T\" \n    and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>T E.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>T'.\n                              P,E,hp s' \\<turnstile> e' : T' \\<and>\n                              P \\<turnstile> T' \\<le> T) &&&\n     E \\<turnstile> s \\<surd>) &&&\n    P,E,hp s \\<turnstile> e instanceof U : T &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e instanceof U : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a s ta a' s' i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 89 subgoals...", "from wtc"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e instanceof U : T", "obtain T' where \"P,E,hp s \\<turnstile> e : T'\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e instanceof U : T\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        P,E,hp s \\<turnstile> e : T' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T'\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a s ta a' s' i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 89 subgoals...", "from IH[OF hconf this tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'", "obtain T'' where \"P,E,hp s' \\<turnstile> e' : T''\""], ["proof (prove)\nusing this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>T''.\n        P,E,hp s' \\<turnstile> e' : T'' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T''\n\ngoal (89 subgoals):\n 1. \\<And>e s ta e' s' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' instanceof T : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a s ta a' s' i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 89 subgoals...", "with wtc"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e instanceof U : T\n  P,E,hp s' \\<turnstile> e' : T''", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e instanceof U : T\n  P,E,hp s' \\<turnstile> e' : T''\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e' instanceof U : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' instanceof U : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (88 subgoals):\n 1. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s ta i' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>i',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>i'\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 88 subgoals...", "next"], ["proof (state)\ngoal (88 subgoals):\n 1. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s ta i' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>i',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>i'\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 88 subgoals...", "case RedInstanceOf"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s_\\<^esub> v_ = \\<lfloor>U_\\<rfloor>\n  b_ = (v_ \\<noteq> Null \\<and> P \\<turnstile> U_ \\<le> T_)\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Val v_ instanceof T_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (88 subgoals):\n 1. \\<And>s v U b T Ta E.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        b = (v \\<noteq> Null \\<and> P \\<turnstile> U \\<le> T);\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val (Bool b) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s ta i' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>i',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>i'\\<rceil> : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 88 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s_\\<^esub> v_ = \\<lfloor>U_\\<rfloor>\n  b_ = (v_ \\<noteq> Null \\<and> P \\<turnstile> U_ \\<le> T_)\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Val v_ instanceof T_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Val (Bool b_) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(clarsimp)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Val (Bool b_) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "next"], ["proof (state)\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "case (BinOpRed1 e\\<^sub>1 s ta e\\<^sub>1' s' bop e\\<^sub>2 T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e\\<^sub>1',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> e\\<^sub>1 : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e\\<^sub>1' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>e\\<^sub>1, s\\<rangle> -ta\\<rightarrow> \\<langle>e\\<^sub>1', s'\\<rangle>\"\n   and IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<^sub>1:T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n                 \\<Longrightarrow> \\<exists>U. P,E,hp s' \\<turnstile> e\\<^sub>1' : U \\<and> P \\<turnstile> U \\<le> T\"\n   and conf: \"E \\<turnstile> s \\<surd>\" and wt: \"P,E,hp s \\<turnstile> e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\" \n   and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (extTA,P,t \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>e\\<^sub>1',s'\\<rangle> &&&\n     (\\<And>T E.\n         \\<lbrakk>E \\<turnstile> s \\<surd>;\n          P,E,hp s \\<turnstile> e\\<^sub>1 : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>U.\n                              P,E,hp s' \\<turnstile> e\\<^sub>1' : U \\<and>\n                              P \\<turnstile> U \\<le> T)) &&&\n    E \\<turnstile> s \\<surd> &&&\n    P,E,hp s \\<turnstile> e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e\\<^sub>1,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e\\<^sub>1',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> e\\<^sub>1 : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>U.\n                       P,?E15,hp s' \\<turnstile> e\\<^sub>1' : U \\<and>\n                       P \\<turnstile> U \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T", "obtain T1 T2 where wt1: \"P,E,hp s \\<turnstile> e\\<^sub>1 : T1\"\n    and wt2: \"P,E,hp s \\<turnstile> e\\<^sub>2 : T2\" and wtbop: \"P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\n\ngoal (1 subgoal):\n 1. (\\<And>T1 T2.\n        \\<lbrakk>P,E,hp s \\<turnstile> e\\<^sub>1 : T1;\n         P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n         P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e\\<^sub>1 : T1\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T2\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "from IH[OF conf wt1 tconf]"], ["proof (chain)\npicking this:\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e\\<^sub>1' : U \\<and> P \\<turnstile> U \\<le> T1", "obtain T1' where wt1': \"P,E,hp s' \\<turnstile> e\\<^sub>1' : T1'\"\n    and sub: \"P \\<turnstile> T1' \\<le> T1\""], ["proof (prove)\nusing this:\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e\\<^sub>1' : U \\<and> P \\<turnstile> U \\<le> T1\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e\\<^sub>1' : T1';\n         P \\<turnstile> T1' \\<le> T1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e\\<^sub>1' : T1'\n  P \\<turnstile> T1' \\<le> T1\n\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "from WTrt_binop_widen_mono[OF wtbop sub widen_refl]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P \\<turnstile> T1'\\<guillemotleft>bop\\<guillemotright>T2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T", "obtain T' where wtbop': \"P \\<turnstile> T1'\\<guillemotleft>bop\\<guillemotright>T2 : T'\" and sub': \"P \\<turnstile> T' \\<le> T\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P \\<turnstile> T1'\\<guillemotleft>bop\\<guillemotright>T2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        \\<lbrakk>P \\<turnstile> T1'\\<guillemotleft>bop\\<guillemotright>T2 : T';\n         P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P \\<turnstile> T1'\\<guillemotleft>bop\\<guillemotright>T2 : T'\n  P \\<turnstile> T' \\<le> T\n\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "from wt1' WTrt_hext_mono[OF wt2 red_hext_incr[OF red]] wtbop'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e\\<^sub>1' : T1'\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T2\n  P \\<turnstile> T1'\\<guillemotleft>bop\\<guillemotright>T2 : T'", "have \"P,E,hp s' \\<turnstile> e\\<^sub>1' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T'\""], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e\\<^sub>1' : T1'\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T2\n  P \\<turnstile> T1'\\<guillemotleft>bop\\<guillemotright>T2 : T'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e\\<^sub>1' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T'", "by(rule WTrtBinOp)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e\\<^sub>1' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T'\n\ngoal (87 subgoals):\n 1. \\<And>e s ta e' s' bop e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' \\<guillemotleft>bop\\<guillemotright> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 87 subgoals...", "with sub'"], ["proof (chain)\npicking this:\n  P \\<turnstile> T' \\<le> T\n  P,E,hp s' \\<turnstile> e\\<^sub>1' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> T' \\<le> T\n  P,E,hp s' \\<turnstile> e\\<^sub>1' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T'\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e\\<^sub>1' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e\\<^sub>1' \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "next"], ["proof (state)\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "case (BinOpRed2 e\\<^sub>2 s ta e\\<^sub>2' s' v\\<^sub>1 bop T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e\\<^sub>2',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> e\\<^sub>2 : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e\\<^sub>2' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow> \\<langle>e\\<^sub>2',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow>\n                           \\<langle>e\\<^sub>2',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e\\<^sub>2',s'\\<rangle>\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "have IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<^sub>2:T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n                 \\<Longrightarrow> \\<exists>U. P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and> P \\<turnstile> U \\<le> T\" \n    and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>E T.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<^sub>2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>U.\n                             P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and>\n                             P \\<turnstile> U \\<le> T) &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> e\\<^sub>2 : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>U.\n                       P,?E15,hp s' \\<turnstile> e\\<^sub>2' : U \\<and>\n                       P \\<turnstile> U \\<le> ?T15\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "have conf: \"E \\<turnstile> s \\<surd>\" and wt: \"P,E,hp s \\<turnstile> (Val v\\<^sub>1) \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. E \\<turnstile> s \\<surd> &&&\n    P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T", "by fact+"], ["proof (state)\nthis:\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T", "obtain T1 T2 where wt1: \"P,E,hp s \\<turnstile> Val v\\<^sub>1 : T1\"\n    and wt2: \"P,E,hp s \\<turnstile> e\\<^sub>2 : T2\" and wtbop: \"P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\n\ngoal (1 subgoal):\n 1. (\\<And>T1 T2.\n        \\<lbrakk>P,E,hp s \\<turnstile> Val v\\<^sub>1 : T1;\n         P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n         P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val v\\<^sub>1 : T1\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T2\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "from IH[OF conf wt2 tconf]"], ["proof (chain)\npicking this:\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and> P \\<turnstile> U \\<le> T2", "obtain T2' where wt2': \"P,E,hp s' \\<turnstile> e\\<^sub>2' : T2'\"\n    and sub: \"P \\<turnstile> T2' \\<le> T2\""], ["proof (prove)\nusing this:\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and> P \\<turnstile> U \\<le> T2\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e\\<^sub>2' : T2';\n         P \\<turnstile> T2' \\<le> T2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e\\<^sub>2' : T2'\n  P \\<turnstile> T2' \\<le> T2\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "from WTrt_binop_widen_mono[OF wtbop widen_refl sub]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2' : T' \\<and>\n     P \\<turnstile> T' \\<le> T", "obtain T' where wtbop': \"P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2' : T'\" and sub': \"P \\<turnstile> T' \\<le> T\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        \\<lbrakk>P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2' : T';\n         P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2' : T'\n  P \\<turnstile> T' \\<le> T\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "from WTrt_hext_mono[OF wt1 red_hext_incr[OF red]] wt2' wtbop'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> Val v\\<^sub>1 : T1\n  P,E,hp s' \\<turnstile> e\\<^sub>2' : T2'\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2' : T'", "have \"P,E,hp s' \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2' : T'\""], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val v\\<^sub>1 : T1\n  P,E,hp s' \\<turnstile> e\\<^sub>2' : T2'\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2' : T'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2' : T'", "by(rule WTrtBinOp)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2' : T'\n\ngoal (86 subgoals):\n 1. \\<And>e s ta e' s' v bop T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v \\<guillemotleft>bop\\<guillemotright> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v \\<guillemotleft>bop\\<guillemotright> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 86 subgoals...", "with sub'"], ["proof (chain)\npicking this:\n  P \\<turnstile> T' \\<le> T\n  P,E,hp s' \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2' : T'", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> T' \\<le> T\n  P,E,hp s' \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2' : T'\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (85 subgoals):\n 1. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i v l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 85 subgoals...", "next"], ["proof (state)\ngoal (85 subgoals):\n 1. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i v l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 85 subgoals...", "case (RedBinOp bop v1 v2 v s)"], ["proof (state)\nthis:\n  binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                               v2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (85 subgoals):\n 1. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i v l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 85 subgoals...", "from \\<open>E \\<turnstile> s \\<surd>\\<close>"], ["proof (chain)\npicking this:\n  E \\<turnstile> s \\<surd>", "have preh: \"preallocated (hp s)\""], ["proof (prove)\nusing this:\n  E \\<turnstile> s \\<surd>\n\ngoal (1 subgoal):\n 1. preallocated (hp s)", "by(cases s)(simp add: sconf_def)"], ["proof (state)\nthis:\n  preallocated (hp s)\n\ngoal (85 subgoals):\n 1. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i v l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 85 subgoals...", "from \\<open>P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val v2 : T\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                               v2 : T", "obtain T1 T2\n    where \"typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\" \"typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\" \"P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                               v2 : T\n\ngoal (1 subgoal):\n 1. (\\<And>T1 T2.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>;\n         typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>;\n         P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n\ngoal (85 subgoals):\n 1. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i v l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 85 subgoals...", "with wf preh"], ["proof (chain)\npicking this:\n  wf_J_prog P\n  preallocated (hp s)\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T", "have \"P,hp s \\<turnstile> v :\\<le> T\""], ["proof (prove)\nusing this:\n  wf_J_prog P\n  preallocated (hp s)\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n\ngoal (1 subgoal):\n 1. P,hp s \\<turnstile> v :\\<le> T", "using \\<open>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>\\<close>"], ["proof (prove)\nusing this:\n  wf_J_prog P\n  preallocated (hp s)\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n  binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>\n\ngoal (1 subgoal):\n 1. P,hp s \\<turnstile> v :\\<le> T", "by(rule binop_type)"], ["proof (state)\nthis:\n  P,hp s \\<turnstile> v :\\<le> T\n\ngoal (85 subgoals):\n 1. \\<And>bop v1 v2 v s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inl v\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i v l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 85 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,hp s \\<turnstile> v :\\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s \\<turnstile> Val v : T' \\<and> P \\<turnstile> T' \\<le> T", "by(auto simp add: conf_def)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s \\<turnstile> Val v : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (84 subgoals):\n 1. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' i e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 84 subgoals...", "next"], ["proof (state)\ngoal (84 subgoals):\n 1. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' i e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 84 subgoals...", "case (RedBinOpFail bop v1 v2 a s)"], ["proof (state)\nthis:\n  binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                               v2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (84 subgoals):\n 1. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' i e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 84 subgoals...", "from \\<open>E \\<turnstile> s \\<surd>\\<close>"], ["proof (chain)\npicking this:\n  E \\<turnstile> s \\<surd>", "have preh: \"preallocated (hp s)\""], ["proof (prove)\nusing this:\n  E \\<turnstile> s \\<surd>\n\ngoal (1 subgoal):\n 1. preallocated (hp s)", "by(cases s)(simp add: sconf_def)"], ["proof (state)\nthis:\n  preallocated (hp s)\n\ngoal (84 subgoals):\n 1. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' i e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 84 subgoals...", "from \\<open>P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val v2 : T\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                               v2 : T", "obtain T1 T2\n    where \"typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\" \"typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\" \"P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                               v2 : T\n\ngoal (1 subgoal):\n 1. (\\<And>T1 T2.\n        \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>;\n         typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>;\n         P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n\ngoal (84 subgoals):\n 1. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' i e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 84 subgoals...", "with wf preh"], ["proof (chain)\npicking this:\n  wf_J_prog P\n  preallocated (hp s)\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T", "have \"P,hp s \\<turnstile> Addr a :\\<le> Class Throwable\""], ["proof (prove)\nusing this:\n  wf_J_prog P\n  preallocated (hp s)\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n\ngoal (1 subgoal):\n 1. P,hp s \\<turnstile> Addr a :\\<le> Class Throwable", "using \\<open>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>\\<close>"], ["proof (prove)\nusing this:\n  wf_J_prog P\n  preallocated (hp s)\n  typeof\\<^bsub>hp s\\<^esub> v1 = \\<lfloor>T1\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v2 = \\<lfloor>T2\\<rfloor>\n  P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T\n  binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>\n\ngoal (1 subgoal):\n 1. P,hp s \\<turnstile> Addr a :\\<le> Class Throwable", "by(rule binop_type)"], ["proof (state)\nthis:\n  P,hp s \\<turnstile> Addr a :\\<le> Class Throwable\n\ngoal (84 subgoals):\n 1. \\<And>bop v1 v2 a s T E.\n       \\<lbrakk>binop bop v1 v2 = \\<lfloor>Inr a\\<rfloor>;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v1 \\<guillemotleft>bop\\<guillemotright> Val\n                                     v2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' i e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 84 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,hp s \\<turnstile> Addr a :\\<le> Class Throwable\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s \\<turnstile> Throw a : T' \\<and> P \\<turnstile> T' \\<le> T", "by(auto simp add: conf_def)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s \\<turnstile> Throw a : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (83 subgoals):\n 1. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s ta i' s' a e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>i',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 83 subgoals...", "next"], ["proof (state)\ngoal (83 subgoals):\n 1. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s ta i' s' a e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>i',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 83 subgoals...", "case RedVar"], ["proof (state)\nthis:\n  lcl s_ V_ = \\<lfloor>v_\\<rfloor>\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Var V_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (83 subgoals):\n 1. \\<And>s V v T E.\n       \\<lbrakk>lcl s V = \\<lfloor>v\\<rfloor>; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Var V : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i s ta i' s' a e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>i',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 83 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  lcl s_ V_ = \\<lfloor>v_\\<rfloor>\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Var V_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by (fastforce simp:sconf_def lconf_def conf_def)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (82 subgoals):\n 1. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 82 subgoals...", "next"], ["proof (state)\ngoal (82 subgoals):\n 1. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 82 subgoals...", "case LAssRed"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> e_ : ?T15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> V_:=e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (82 subgoals):\n 1. \\<And>e s ta e' s' V T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> V:=e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> V:=e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a i T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 82 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> e_ : ?T15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> V_:=e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s'_ \\<turnstile> V_:=e'_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by(blast intro:widen_trans)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s'_ \\<turnstile> V_:=e'_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (81 subgoals):\n 1. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 81 subgoals...", "next"], ["proof (state)\ngoal (81 subgoals):\n 1. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 81 subgoals...", "case RedLAss"], ["proof (state)\nthis:\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> V_:=Val v_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (81 subgoals):\n 1. \\<And>V v h l T E.\n       \\<lbrakk>E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> V:=Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l(V \\<mapsto>\n                                    v)) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>i e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 81 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> V_:=Val v_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h_, l_(V_ \\<mapsto> v_)) \\<turnstile> unit : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h_, l_(V_ \\<mapsto> v_)) \\<turnstile> unit : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "next"], ["proof (state)\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "case (AAccRed1 a s ta a' s' i T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>a',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> a : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> a' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "have IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> a' : T' \\<and> P \\<turnstile> T' \\<le> T\"\n    and assa: \"extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow> \\<langle>a',s'\\<rangle>\"\n    and wt: \"P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T\"\n    and hconf: \"E \\<turnstile> s \\<surd>\" \n    and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>T'.\n                              P,E,hp s' \\<turnstile> a' : T' \\<and>\n                              P \\<turnstile> T' \\<le> T) &&&\n     extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>a',s'\\<rangle>) &&&\n    P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T &&&\n    E \\<turnstile> s \\<surd> &&& P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> a : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> a' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>a',s'\\<rangle>\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T", "have wti: \"P,E,hp s \\<turnstile> i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> i : Integer", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> i : Integer\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "from wti red_hext_incr[OF assa]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> i : Integer\n  hp s \\<unlhd> hp s'", "have wti': \"P,E,hp s' \\<turnstile> i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> i : Integer\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> i : Integer", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> i : Integer\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "{"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> i : Integer\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "assume wta: \"P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil>\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil>\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "from IH[OF hconf wta tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\\<lfloor>\\<rceil>", "obtain U where wta': \"P,E,hp s' \\<turnstile> a' : U\" and UsubT: \"P \\<turnstile> U \\<le> T\\<lfloor>\\<rceil>\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\\<lfloor>\\<rceil>\n\ngoal (1 subgoal):\n 1. (\\<And>U.\n        \\<lbrakk>P,E,hp s' \\<turnstile> a' : U;\n         P \\<turnstile> U \\<le> T\\<lfloor>\\<rceil>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a' : U\n  P \\<turnstile> U \\<le> T\\<lfloor>\\<rceil>\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "with wta' wti'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : U\n  P,E,hp s' \\<turnstile> i : Integer\n  P,E,hp s' \\<turnstile> a' : U\n  P \\<turnstile> U \\<le> T\\<lfloor>\\<rceil>", "have ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : U\n  P,E,hp s' \\<turnstile> i : Integer\n  P,E,hp s' \\<turnstile> a' : U\n  P \\<turnstile> U \\<le> T\\<lfloor>\\<rceil>\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(cases U, auto simp add: widen_Array)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "}"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "{"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "assume wta: \"P,E,hp s \\<turnstile> a : NT\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : NT\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "from IH[OF hconf wta tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and> P \\<turnstile> T' \\<le> NT", "have \"P,E,hp s' \\<turnstile> a' : NT\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and> P \\<turnstile> T' \\<le> NT\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> a' : NT", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a' : NT\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "from this wti'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : NT\n  P,E,hp s' \\<turnstile> i : Integer", "have ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : NT\n  P,E,hp s' \\<turnstile> i : Integer\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro:WTrtAAccNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "}"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (80 subgoals):\n 1. \\<And>a s ta a' s' i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a T n i e Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val e : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 80 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wt"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (79 subgoals):\n 1. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a T n i w U Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val w : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 79 subgoals...", "next"], ["proof (state)\ngoal (79 subgoals):\n 1. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a T n i w U Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val w : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 79 subgoals...", "case (AAccRed2 i s ta i' s' a T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>i',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> i : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> i' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (79 subgoals):\n 1. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a T n i w U Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val w : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 79 subgoals...", "have IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> i' : T' \\<and> P \\<turnstile> T' \\<le> T\"\n    and issi: \"extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow> \\<langle>i',s'\\<rangle>\"\n    and wt: \"P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T\"\n    and sconf: \"E \\<turnstile> s \\<surd>\" \n    and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>T'.\n                              P,E,hp s' \\<turnstile> i' : T' \\<and>\n                              P \\<turnstile> T' \\<le> T) &&&\n     extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>i',s'\\<rangle>) &&&\n    P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T &&&\n    E \\<turnstile> s \\<surd> &&& P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> i : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> i' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>i',s'\\<rangle>\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (79 subgoals):\n 1. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a T n i w U Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val w : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 79 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T", "have wti: \"P,E,hp s \\<turnstile> i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> i : Integer", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> i : Integer\n\ngoal (79 subgoals):\n 1. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a T n i w U Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val w : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 79 subgoals...", "from wti IH sconf tconf"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> i : Integer\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> i : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> i' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t", "have wti': \"P,E,hp s' \\<turnstile> i' : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> i : Integer\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> i : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> i' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> i' : Integer", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> i' : Integer\n\ngoal (79 subgoals):\n 1. \\<And>i s ta i' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a T n i w U Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr\n                                a\\<lfloor>Val\n     (Intg i)\\<rceil> := Val w : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 79 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof (rule WTrt_elim_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s \\<turnstile> Val a : NT;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "assume wta: \"P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s \\<turnstile> Val a : NT;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "from wta red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>\n  hp s \\<unlhd> hp s'", "have wta': \"P,E,hp s' \\<turnstile> Val a : T\\<lfloor>\\<rceil>\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val a : T\\<lfloor>\\<rceil>", "by (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val a : T\\<lfloor>\\<rceil>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s \\<turnstile> Val a : NT;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "from wta' wti'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> Val a : T\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> i' : Integer", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val a : T\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> i' : Integer\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,hp s \\<turnstile> Val a : NT;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,hp s \\<turnstile> Val a : NT;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "assume wta: \"P,E,hp s \\<turnstile> Val a : NT\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val a : NT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,hp s \\<turnstile> Val a : NT;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "from wta red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a : NT\n  hp s \\<unlhd> hp s'", "have wta': \"P,E,hp s' \\<turnstile> Val a : NT\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a : NT\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val a : NT", "by (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val a : NT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P,E,hp s \\<turnstile> Val a : NT;\n     P,E,hp s \\<turnstile> i : Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> Val\n           a\\<lfloor>i'\\<rceil> : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "from wta' wti'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> Val a : NT\n  P,E,hp s' \\<turnstile> i' : Integer", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val a : NT\n  P,E,hp s' \\<turnstile> i' : Integer\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce elim:WTrtAAccNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (78 subgoals):\n 1. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i w U h' l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         P \\<turnstile> U \\<le> T;\n         heap_write h a (ACell (nat (sint i))) w h';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val\n          (Intg i)\\<rceil> := Val w : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 78 subgoals...", "next"], ["proof (state)\ngoal (78 subgoals):\n 1. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i w U h' l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         P \\<turnstile> U \\<le> T;\n         heap_write h a (ACell (nat (sint i))) w h';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val\n          (Intg i)\\<rceil> := Val w : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 78 subgoals...", "case RedAAccNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<lfloor>Val i_\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (78 subgoals):\n 1. \\<And>i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>h a T n i w U h' l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         0 \\<le>s i; sint i < int n;\n         typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n         P \\<turnstile> U \\<le> T;\n         heap_write h a (ACell (nat (sint i))) w h';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<lfloor>Val\n          (Intg i)\\<rceil> := Val w : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 78 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<lfloor>Val i_\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> null\\<lfloor>Val i_\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (77 subgoals):\n 1. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 77 subgoals...", "next"], ["proof (state)\ngoal (77 subgoals):\n 1. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 77 subgoals...", "case RedAAccBounds"], ["proof (state)\nthis:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  i_ <s 0 \\<or> int n_ \\<le> sint i_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (77 subgoals):\n 1. \\<And>s a T n i Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a s ta a' s' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>a',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> a\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 77 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  i_ <s 0 \\<or> int n_ \\<le> sint i_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt\n                                 ArrayIndexOutOfBounds) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  i_ <s 0 \\<or> int n_ \\<le> sint i_\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt\n                                 ArrayIndexOutOfBounds) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw\n                             (addr_of_sys_xcpt\n                               ArrayIndexOutOfBounds) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (76 subgoals):\n 1. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a T n l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val\n                   (Intg (word_of_nat n)) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 76 subgoals...", "next"], ["proof (state)\ngoal (76 subgoals):\n 1. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a T n l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val\n                   (Intg (word_of_nat n)) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 76 subgoals...", "case (RedAAcc h a T n i v l T' E)"], ["proof (state)\nthis:\n  typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\n  0 \\<le>s i\n  sint i < int n\n  heap_read h a (ACell (nat (sint i))) v\n  E \\<turnstile> (h, l) \\<surd>\n  P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : T'\n  P,hp (h, l) \\<turnstile> t \\<surd>t\n\ngoal (76 subgoals):\n 1. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a T n l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val\n                   (Intg (word_of_nat n)) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 76 subgoals...", "from \\<open>E \\<turnstile> (h, l) \\<surd>\\<close>"], ["proof (chain)\npicking this:\n  E \\<turnstile> (h, l) \\<surd>", "have \"hconf h\""], ["proof (prove)\nusing this:\n  E \\<turnstile> (h, l) \\<surd>\n\ngoal (1 subgoal):\n 1. hconf h", "by(clarsimp simp add: sconf_def)"], ["proof (state)\nthis:\n  hconf h\n\ngoal (76 subgoals):\n 1. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a T n l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val\n                   (Intg (word_of_nat n)) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 76 subgoals...", "from \\<open>0 <=s i\\<close> \\<open>sint i < int n\\<close>"], ["proof (chain)\npicking this:\n  0 \\<le>s i\n  sint i < int n", "have \"nat (sint i) < n\""], ["proof (prove)\nusing this:\n  0 \\<le>s i\n  sint i < int n\n\ngoal (1 subgoal):\n 1. nat (sint i) < n", "by (simp add: word_sle_eq nat_less_iff)"], ["proof (state)\nthis:\n  nat (sint i) < n\n\ngoal (76 subgoals):\n 1. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a T n l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val\n                   (Intg (word_of_nat n)) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 76 subgoals...", "with \\<open>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\n  nat (sint i) < n", "have \"P,h \\<turnstile> a@ACell (nat (sint i)) : T\""], ["proof (prove)\nusing this:\n  typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\n  nat (sint i) < n\n\ngoal (1 subgoal):\n 1. P,h \\<turnstile> a@ACell (nat (sint i)) : T", "by(auto intro: addr_loc_type.intros)"], ["proof (state)\nthis:\n  P,h \\<turnstile> a@ACell (nat (sint i)) : T\n\ngoal (76 subgoals):\n 1. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a T n l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val\n                   (Intg (word_of_nat n)) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 76 subgoals...", "from heap_read_conf[OF \\<open>heap_read h a (ACell (nat (sint i))) v\\<close> this] \\<open>hconf h\\<close>"], ["proof (chain)\npicking this:\n  hconf h \\<Longrightarrow> P,h \\<turnstile> v :\\<le> T\n  hconf h", "have \"P,h \\<turnstile> v :\\<le> T\""], ["proof (prove)\nusing this:\n  hconf h \\<Longrightarrow> P,h \\<turnstile> v :\\<le> T\n  hconf h\n\ngoal (1 subgoal):\n 1. P,h \\<turnstile> v :\\<le> T", "by simp"], ["proof (state)\nthis:\n  P,h \\<turnstile> v :\\<le> T\n\ngoal (76 subgoals):\n 1. \\<And>h a T n i v l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n; heap_read h a (ACell (nat (sint i))) v;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a T n l Ta E.\n        \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val\n                   (Intg (word_of_nat n)) : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 76 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,h \\<turnstile> v :\\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp (h, l) \\<turnstile> Val v : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'", "using RedAAcc"], ["proof (prove)\nusing this:\n  P,h \\<turnstile> v :\\<le> T\n  typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\n  0 \\<le>s i\n  sint i < int n\n  heap_read h a (ACell (nat (sint i))) v\n  E \\<turnstile> (h, l) \\<surd>\n  P,E,hp (h, l) \\<turnstile> addr a\\<lfloor>Val (Intg i)\\<rceil> : T'\n  P,hp (h, l) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp (h, l) \\<turnstile> Val v : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'", "by(auto simp add: conf_def)"], ["proof (state)\nthis:\n  \\<exists>T'a.\n     P,E,hp (h, l) \\<turnstile> Val v : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "next"], ["proof (state)\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "case (AAssRed1 a s ta a' s' i e T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>a',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> a : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> a' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "have IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> a' : T' \\<and> P \\<turnstile> T' \\<le> T\"\n    and assa: \"extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow> \\<langle>a',s'\\<rangle>\"\n    and wt: \"P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\"\n    and sconf: \"E \\<turnstile> s \\<surd>\" \n    and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>T'.\n                              P,E,hp s' \\<turnstile> a' : T' \\<and>\n                              P \\<turnstile> T' \\<le> T) &&&\n     extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>a',s'\\<rangle>) &&&\n    P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T &&&\n    E \\<turnstile> s \\<surd> &&& P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> a : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> a' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>a',s'\\<rangle>\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T", "have void: \"T = Void\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. T = Void", "by blast"], ["proof (state)\nthis:\n  T = Void\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T", "have wti: \"P,E,hp s \\<turnstile> i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> i : Integer", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> i : Integer\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from wti red_hext_incr[OF assa]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> i : Integer\n  hp s \\<unlhd> hp s'", "have wti': \"P,E,hp s' \\<turnstile> i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> i : Integer\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> i : Integer", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> i : Integer\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "{"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> i : Integer\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "assume wta: \"P,E,hp s \\<turnstile> a : NT\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : NT\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from IH[OF sconf wta tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and> P \\<turnstile> T' \\<le> NT", "have wta': \"P,E,hp s' \\<turnstile> a' : NT\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and> P \\<turnstile> T' \\<le> NT\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> a' : NT", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a' : NT\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from wt wta"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  P,E,hp s \\<turnstile> a : NT", "obtain V where wte: \"P,E,hp s \\<turnstile> e : V\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  P,E,hp s \\<turnstile> a : NT\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        P,E,hp s \\<turnstile> e : V \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : V\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from wte red_hext_incr[OF assa]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : V\n  hp s \\<unlhd> hp s'", "have wte': \"P,E,hp s' \\<turnstile> e : V\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : V\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e : V", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e : V\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from wta' wti' wte' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : NT\n  P,E,hp s' \\<turnstile> i : Integer\n  P,E,hp s' \\<turnstile> e : V\n  T = Void", "have ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : NT\n  P,E,hp s' \\<turnstile> i : Integer\n  P,E,hp s' \\<turnstile> e : V\n  T = Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce elim: WTrtAAssNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "}"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "{"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "fix U"], ["proof (state)\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "assume wta: \"P,E,hp s \\<turnstile> a : U\\<lfloor>\\<rceil>\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : U\\<lfloor>\\<rceil>\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "from IH[OF sconf wta tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and>\n     P \\<turnstile> T' \\<le> U\\<lfloor>\\<rceil>", "obtain U' where wta': \"P,E,hp s' \\<turnstile> a' : U'\" and UsubT: \"P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a' : T' \\<and>\n     P \\<turnstile> T' \\<le> U\\<lfloor>\\<rceil>\n\ngoal (1 subgoal):\n 1. (\\<And>U'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n         P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a' : U'\n  P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "with wta'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : U'\n  P,E,hp s' \\<turnstile> a' : U'\n  P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>", "have ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : U'\n  P,E,hp s' \\<turnstile> a' : U'\n  P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(cases U')"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 5. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case NT"], ["proof (state)\nthis:\n  U' = NT\n\ngoal (6 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 5. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume UNT: \"U' = NT\""], ["proof (state)\nthis:\n  U' = NT\n\ngoal (6 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 5. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from UNT wt wta"], ["proof (chain)\npicking this:\n  U' = NT\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  P,E,hp s \\<turnstile> a : U\\<lfloor>\\<rceil>", "obtain V where wte: \"P,E,hp s \\<turnstile> e : V\""], ["proof (prove)\nusing this:\n  U' = NT\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  P,E,hp s \\<turnstile> a : U\\<lfloor>\\<rceil>\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        P,E,hp s \\<turnstile> e : V \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : V\n\ngoal (6 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 5. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wte red_hext_incr[OF assa]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : V\n  hp s \\<unlhd> hp s'", "have wte': \"P,E,hp s' \\<turnstile> e : V\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : V\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e : V", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e : V\n\ngoal (6 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 5. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta' UNT wti' wte' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : U'\n  U' = NT\n  P,E,hp s' \\<turnstile> i : Integer\n  P,E,hp s' \\<turnstile> e : V\n  T = Void", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : U'\n  U' = NT\n  P,E,hp s' \\<turnstile> i : Integer\n  P,E,hp s' \\<turnstile> e : V\n  T = Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce elim: WTrtAAssNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (5 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case (Array A)"], ["proof (state)\nthis:\n  U' = A\\<lfloor>\\<rceil>\n\ngoal (5 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have UA: \"U' = A\\<lfloor>\\<rceil>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U' = A\\<lfloor>\\<rceil>", "by fact"], ["proof (state)\nthis:\n  U' = A\\<lfloor>\\<rceil>\n\ngoal (5 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "with UA UsubT wt wta"], ["proof (chain)\npicking this:\n  U' = A\\<lfloor>\\<rceil>\n  P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  P,E,hp s \\<turnstile> a : U\\<lfloor>\\<rceil>\n  U' = A\\<lfloor>\\<rceil>", "obtain V where wte: \"P,E,hp s \\<turnstile> e : V\""], ["proof (prove)\nusing this:\n  U' = A\\<lfloor>\\<rceil>\n  P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n  P,E,hp s \\<turnstile> a : U\\<lfloor>\\<rceil>\n  U' = A\\<lfloor>\\<rceil>\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        P,E,hp s \\<turnstile> e : V \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : V\n\ngoal (5 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wte red_hext_incr[OF assa]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : V\n  hp s \\<unlhd> hp s'", "have wte': \"P,E,hp s' \\<turnstile> e : V\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : V\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e : V", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e : V\n\ngoal (5 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>x6.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>;\n        U' = x6\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "with wta' wte' UA wti' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : U'\n  P,E,hp s' \\<turnstile> e : V\n  U' = A\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> i : Integer\n  T = Void\n  P,E,hp s' \\<turnstile> e : V", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : U'\n  P,E,hp s' \\<turnstile> e : V\n  U' = A\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> i : Integer\n  T = Void\n  P,E,hp s' \\<turnstile> e : V\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by (fast elim:WTrtAAss)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (4 subgoals):\n 1. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Void\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Boolean\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 3. \\<lbrakk>P,E,hp s' \\<turnstile> a' : U'; P,E,hp s' \\<turnstile> a' : U';\n     P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Integer\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 4. \\<And>x5.\n       \\<lbrakk>P,E,hp s' \\<turnstile> a' : U';\n        P,E,hp s' \\<turnstile> a' : U';\n        P \\<turnstile> U' \\<le> U\\<lfloor>\\<rceil>; U' = Class x5\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "qed(simp_all add: widen_Array)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "}"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : ?U17\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (75 subgoals):\n 1. \\<And>a s ta a' s' i e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>length : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 75 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a : ?U17\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a : ?U17\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wt"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a : ?U17\\<lfloor>\\<rceil> \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<lfloor>i\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (74 subgoals):\n 1. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 74 subgoals...", "next"], ["proof (state)\ngoal (74 subgoals):\n 1. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 74 subgoals...", "case (AAssRed2 i s ta i' s' a e T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>i',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> i : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> i' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (74 subgoals):\n 1. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 74 subgoals...", "have IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T; P,hp s \\<turnstile> t \\<surd>t \\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> i' : T' \\<and> P \\<turnstile> T' \\<le> T\" \n    and issi: \"extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow> \\<langle>i',s'\\<rangle>\" \n    and wt: \"P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T\" \n    and sconf: \"E \\<turnstile> s \\<surd>\" and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>T'.\n                              P,E,hp s' \\<turnstile> i' : T' \\<and>\n                              P \\<turnstile> T' \\<le> T) &&&\n     extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>i',s'\\<rangle>) &&&\n    P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T &&&\n    E \\<turnstile> s \\<surd> &&& P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> i : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> i' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>i',s'\\<rangle>\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (74 subgoals):\n 1. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 74 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T", "have void: \"T = Void\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. T = Void", "by blast"], ["proof (state)\nthis:\n  T = Void\n\ngoal (74 subgoals):\n 1. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 74 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T", "have wti: \"P,E,hp s \\<turnstile> i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> i : Integer", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> i : Integer\n\ngoal (74 subgoals):\n 1. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 74 subgoals...", "from IH[OF sconf wti tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> i' : T' \\<and> P \\<turnstile> T' \\<le> Integer", "have wti': \"P,E,hp s' \\<turnstile> i' : Integer\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> i' : T' \\<and> P \\<turnstile> T' \\<le> Integer\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> i' : Integer", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> i' : Integer\n\ngoal (74 subgoals):\n 1. \\<And>i s ta i' s' a e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>i,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>i',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> i : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> i' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 74 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix U T'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wta: \"P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\"\n      and wte: \"P,E,hp s \\<turnstile> e : T'\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  P,E,hp s \\<turnstile> e : T'\n\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wte red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : T'\n  hp s \\<unlhd> hp s'", "have wte': \"P,E,hp s' \\<turnstile> e : T'\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : T'\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e : T'", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e : T'\n\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  hp s \\<unlhd> hp s'", "have wta': \"P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta' wti' wte' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> i' : Integer\n  P,E,hp s' \\<turnstile> e : T'\n  T = Void", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> i' : Integer\n  P,E,hp s' \\<turnstile> e : T'\n  T = Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by (fastforce elim:WTrtAAss)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix T'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wta: \"P,E,hp s \\<turnstile> Val a : NT\"\n      and wte: \"P,E,hp s \\<turnstile> e : T'\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val a : NT\n  P,E,hp s \\<turnstile> e : T'\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wte red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : T'\n  hp s \\<unlhd> hp s'", "have wte': \"P,E,hp s' \\<turnstile> e : T'\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : T'\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e : T'", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e : T'\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a : NT\n  hp s \\<unlhd> hp s'", "have wta': \"P,E,hp s' \\<turnstile> Val a : NT\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a : NT\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val a : NT", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val a : NT\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta' wti' wte' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> Val a : NT\n  P,E,hp s' \\<turnstile> i' : Integer\n  P,E,hp s' \\<turnstile> e : T'\n  T = Void", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val a : NT\n  P,E,hp s' \\<turnstile> i' : Integer\n  P,E,hp s' \\<turnstile> e : T'\n  T = Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by (fastforce elim:WTrtAAss)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>i'\\<rceil> := e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (73 subgoals):\n 1. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 73 subgoals...", "next"], ["proof (state)\ngoal (73 subgoals):\n 1. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 73 subgoals...", "case (AAssRed3 e s ta e' s' a i T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (73 subgoals):\n 1. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 73 subgoals...", "have IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\" \n    and issi: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>\" \n    and wt: \"P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T\" \n    and sconf: \"E \\<turnstile> s \\<surd>\" and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>T'.\n                              P,E,hp s' \\<turnstile> e' : T' \\<and>\n                              P \\<turnstile> T' \\<le> T) &&&\n     extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>e',s'\\<rangle>) &&&\n    P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T &&&\n    E \\<turnstile> s \\<surd> &&& P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (73 subgoals):\n 1. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 73 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T", "have void: \"T = Void\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. T = Void", "by blast"], ["proof (state)\nthis:\n  T = Void\n\ngoal (73 subgoals):\n 1. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 73 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T", "have wti: \"P,E,hp s \\<turnstile> Val i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> Val i : Integer", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val i : Integer\n\ngoal (73 subgoals):\n 1. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 73 subgoals...", "from wti red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val i : Integer\n  hp s \\<unlhd> hp s'", "have wti': \"P,E,hp s' \\<turnstile> Val i : Integer\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val i : Integer\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val i : Integer", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val i : Integer\n\ngoal (73 subgoals):\n 1. \\<And>e s ta e' s' a i T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 73 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix U T'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wta: \"P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\"\n      and wte: \"P,E,hp s \\<turnstile> e : T'\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  P,E,hp s \\<turnstile> e : T'\n\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  hp s \\<unlhd> hp s'", "have wta': \"P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from IH[OF sconf wte tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'", "obtain V where wte': \"P,E,hp s' \\<turnstile> e' : V\""], ["proof (prove)\nusing this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        P,E,hp s' \\<turnstile> e' : V \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : V\n\ngoal (2 subgoals):\n 1. \\<And>T T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : T\\<lfloor>\\<rceil>;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta' wti' wte' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> Val i : Integer\n  P,E,hp s' \\<turnstile> e' : V\n  T = Void", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val a : U\\<lfloor>\\<rceil>\n  P,E,hp s' \\<turnstile> Val i : Integer\n  P,E,hp s' \\<turnstile> e' : V\n  T = Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by (fastforce elim:WTrtAAss)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix T'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wta: \"P,E,hp s \\<turnstile> Val a : NT\"\n      and wte: \"P,E,hp s \\<turnstile> e : T'\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val a : NT\n  P,E,hp s \\<turnstile> e : T'\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta red_hext_incr[OF issi]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val a : NT\n  hp s \\<unlhd> hp s'", "have wta': \"P,E,hp s' \\<turnstile> Val a : NT\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val a : NT\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val a : NT", "by - (rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val a : NT\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from IH[OF sconf wte tconf]"], ["proof (chain)\npicking this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'", "obtain V where wte': \"P,E,hp s' \\<turnstile> e' : V\""], ["proof (prove)\nusing this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        P,E,hp s' \\<turnstile> e' : V \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : V\n\ngoal (1 subgoal):\n 1. \\<And>T'.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val a : NT;\n        P,E,hp s \\<turnstile> Val i : Integer;\n        P,E,hp s \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from wta' wti' wte' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> Val a : NT\n  P,E,hp s' \\<turnstile> Val i : Integer\n  P,E,hp s' \\<turnstile> e' : V\n  T = Void", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val a : NT\n  P,E,hp s' \\<turnstile> Val i : Integer\n  P,E,hp s' \\<turnstile> e' : V\n  T = Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by (fastforce elim:WTrtAAss)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val a\\<lfloor>Val i\\<rceil> := e' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (72 subgoals):\n 1. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>F D s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 72 subgoals...", "next"], ["proof (state)\ngoal (72 subgoals):\n 1. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>F D s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 72 subgoals...", "case RedAAssNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<lfloor>Val i_\\<rceil> := Val e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (72 subgoals):\n 1. \\<And>i e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<lfloor>Val i\\<rceil> := Val e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>F D s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 72 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<lfloor>Val i_\\<rceil> := Val e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> null\\<lfloor>Val i_\\<rceil> := Val e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (71 subgoals):\n 1. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 71 subgoals...", "next"], ["proof (state)\ngoal (71 subgoals):\n 1. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 71 subgoals...", "case RedAAssBounds"], ["proof (state)\nthis:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  i_ <s 0 \\<or> int n_ \\<le> sint i_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> := Val e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (71 subgoals):\n 1. \\<And>s a T n i e Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        i <s 0 \\<or> int n \\<le> sint i; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val e : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayIndexOutOfBounds) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' F D e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 71 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  i_ <s 0 \\<or> int n_ \\<le> sint i_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> := Val e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt\n                                 ArrayIndexOutOfBounds) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  i_ <s 0 \\<or> int n_ \\<le> sint i_\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> := Val e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt\n                                 ArrayIndexOutOfBounds) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw\n                             (addr_of_sys_xcpt\n                               ArrayIndexOutOfBounds) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (70 subgoals):\n 1. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>F{D} := e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 70 subgoals...", "next"], ["proof (state)\ngoal (70 subgoals):\n 1. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>F{D} := e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 70 subgoals...", "case RedAAssStore"], ["proof (state)\nthis:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  0 \\<le>s i_\n  sint i_ < int n_\n  typeof\\<^bsub>hp s_\\<^esub> w_ = \\<lfloor>U_\\<rfloor>\n  \\<not> P \\<turnstile> U_ \\<le> T_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> := Val w_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (70 subgoals):\n 1. \\<And>s a T n i w U Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>hp s\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr\n                               a\\<lfloor>Val (Intg i)\\<rceil> := Val w : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v F D T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>F{D} := e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 70 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  0 \\<le>s i_\n  sint i_ < int n_\n  typeof\\<^bsub>hp s_\\<^esub> w_ = \\<lfloor>U_\\<rfloor>\n  \\<not> P \\<turnstile> U_ \\<le> T_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> := Val w_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  0 \\<le>s i_\n  sint i_ < int n_\n  typeof\\<^bsub>hp s_\\<^esub> w_ = \\<lfloor>U_\\<rfloor>\n  \\<not> P \\<turnstile> U_ \\<le> T_\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> addr a_\\<lfloor>Val (Intg i_)\\<rceil> := Val w_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt ArrayStore) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (69 subgoals):\n 1. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v h' l T E.\n        \\<lbrakk>heap_write h a (CField D F) v h';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 69 subgoals...", "next"], ["proof (state)\ngoal (69 subgoals):\n 1. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v h' l T E.\n        \\<lbrakk>heap_write h a (CField D F) v h';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 69 subgoals...", "case RedAAss"], ["proof (state)\nthis:\n  typeof_addr h_ a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  0 \\<le>s i_\n  sint i_ < int n_\n  typeof\\<^bsub>h_\\<^esub> w_ = \\<lfloor>U_\\<rfloor>\n  P \\<turnstile> U_ \\<le> T_\n  heap_write h_ a_ (ACell (nat (sint i_))) w_ h'_\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<lfloor>Val (Intg i_)\\<rceil> := Val w_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (69 subgoals):\n 1. \\<And>h a T n i w U h' l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        0 \\<le>s i; sint i < int n;\n        typeof\\<^bsub>h\\<^esub> w = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        heap_write h a (ACell (nat (sint i))) w h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<lfloor>Val\n         (Intg i)\\<rceil> := Val w : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v h' l T E.\n        \\<lbrakk>heap_write h a (CField D F) v h';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 69 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr h_ a_ = \\<lfloor>Array_type T_ n_\\<rfloor>\n  0 \\<le>s i_\n  sint i_ < int n_\n  typeof\\<^bsub>h_\\<^esub> w_ = \\<lfloor>U_\\<rfloor>\n  P \\<turnstile> U_ \\<le> T_\n  heap_write h_ a_ (ACell (nat (sint i_))) w_ h'_\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_,\n          l_) \\<turnstile> addr\n                            a_\\<lfloor>Val (Intg i_)\\<rceil> := Val w_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h'_, l_) \\<turnstile> unit : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto simp del:fun_upd_apply)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h'_, l_) \\<turnstile> unit : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (68 subgoals):\n 1. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>F D v s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 68 subgoals...", "next"], ["proof (state)\ngoal (68 subgoals):\n 1. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>F D v s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 68 subgoals...", "case (ALengthRed a s ta a' s' T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>a',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> a : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> a' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> a\\<bullet>length : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (68 subgoals):\n 1. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>F D v s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 68 subgoals...", "note IH = \\<open>\\<And>T'. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T'; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n      \\<Longrightarrow> \\<exists>T''. P,E,hp s' \\<turnstile> a' : T'' \\<and> P \\<turnstile> T'' \\<le> T'\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : ?T';\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T''.\n                       P,E,hp s' \\<turnstile> a' : T'' \\<and>\n                       P \\<turnstile> T'' \\<le> ?T'\n\ngoal (68 subgoals):\n 1. \\<And>a s ta a' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>a,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>a',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> a' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> a\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 3. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>F D v s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 68 subgoals...", "from \\<open>P,E,hp s \\<turnstile> a\\<bullet>length : T\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a\\<bullet>length : T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a\\<bullet>length : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T.\n       \\<lbrakk>T = Integer;\n        P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "fix T'"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T.\n       \\<lbrakk>T = Integer;\n        P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "assume [simp]: \"T = Integer\"\n      and wta: \"P,E,hp s \\<turnstile> a : T'\\<lfloor>\\<rceil>\""], ["proof (state)\nthis:\n  T = Integer\n  P,E,hp s \\<turnstile> a : T'\\<lfloor>\\<rceil>\n\ngoal (2 subgoals):\n 1. \\<And>T.\n       \\<lbrakk>T = Integer;\n        P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "from wta \\<open>E \\<turnstile> s \\<surd>\\<close> IH \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> a : T'\\<lfloor>\\<rceil>\n  E \\<turnstile> s \\<surd>\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : ?T';\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T''.\n                       P,E,hp s' \\<turnstile> a' : T'' \\<and>\n                       P \\<turnstile> T'' \\<le> ?T'\n  P,hp s \\<turnstile> t \\<surd>t", "obtain T'' where wta': \"P,E,hp s' \\<turnstile> a' : T''\" \n      and sub: \"P \\<turnstile> T'' \\<le> T'\\<lfloor>\\<rceil>\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> a : T'\\<lfloor>\\<rceil>\n  E \\<turnstile> s \\<surd>\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : ?T';\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T''.\n                       P,E,hp s' \\<turnstile> a' : T'' \\<and>\n                       P \\<turnstile> T'' \\<le> ?T'\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. (\\<And>T''.\n        \\<lbrakk>P,E,hp s' \\<turnstile> a' : T'';\n         P \\<turnstile> T'' \\<le> T'\\<lfloor>\\<rceil>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a' : T''\n  P \\<turnstile> T'' \\<le> T'\\<lfloor>\\<rceil>\n\ngoal (2 subgoals):\n 1. \\<And>T.\n       \\<lbrakk>T = Integer;\n        P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "from sub"], ["proof (chain)\npicking this:\n  P \\<turnstile> T'' \\<le> T'\\<lfloor>\\<rceil>", "have \"P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer\""], ["proof (prove)\nusing this:\n  P \\<turnstile> T'' \\<le> T'\\<lfloor>\\<rceil>\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "unfolding widen_Array"], ["proof (prove)\nusing this:\n  T'' = NT \\<or>\n  (\\<exists>V. T'' = V\\<lfloor>\\<rceil> \\<and> P \\<turnstile> V \\<le> T')\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "proof(rule disjE)"], ["proof (state)\ngoal (2 subgoals):\n 1. T'' = NT \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer\n 2. \\<exists>V.\n       T'' = V\\<lfloor>\\<rceil> \\<and>\n       P \\<turnstile> V \\<le> T' \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "assume \"T'' = NT\""], ["proof (state)\nthis:\n  T'' = NT\n\ngoal (2 subgoals):\n 1. T'' = NT \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer\n 2. \\<exists>V.\n       T'' = V\\<lfloor>\\<rceil> \\<and>\n       P \\<turnstile> V \\<le> T' \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "with wta'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : T''\n  T'' = NT", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : T''\n  T'' = NT\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "by(auto)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer\n\ngoal (1 subgoal):\n 1. \\<exists>V.\n       T'' = V\\<lfloor>\\<rceil> \\<and>\n       P \\<turnstile> V \\<le> T' \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>V.\n       T'' = V\\<lfloor>\\<rceil> \\<and>\n       P \\<turnstile> V \\<le> T' \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "assume \"\\<exists>V. T'' = V\\<lfloor>\\<rceil> \\<and> P \\<turnstile> V \\<le> T'\""], ["proof (state)\nthis:\n  \\<exists>V. T'' = V\\<lfloor>\\<rceil> \\<and> P \\<turnstile> V \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<exists>V.\n       T'' = V\\<lfloor>\\<rceil> \\<and>\n       P \\<turnstile> V \\<le> T' \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "then"], ["proof (chain)\npicking this:\n  \\<exists>V. T'' = V\\<lfloor>\\<rceil> \\<and> P \\<turnstile> V \\<le> T'", "obtain V where \"T'' = V\\<lfloor>\\<rceil>\" \"P \\<turnstile> V \\<le> T'\""], ["proof (prove)\nusing this:\n  \\<exists>V. T'' = V\\<lfloor>\\<rceil> \\<and> P \\<turnstile> V \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        \\<lbrakk>T'' = V\\<lfloor>\\<rceil>;\n         P \\<turnstile> V \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  T'' = V\\<lfloor>\\<rceil>\n  P \\<turnstile> V \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<exists>V.\n       T'' = V\\<lfloor>\\<rceil> \\<and>\n       P \\<turnstile> V \\<le> T' \\<Longrightarrow>\n    P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "with wta'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : T''\n  T'' = V\\<lfloor>\\<rceil>\n  P \\<turnstile> V \\<le> T'", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : T''\n  T'' = V\\<lfloor>\\<rceil>\n  P \\<turnstile> V \\<le> T'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer", "by -(rule WTrtALength, simp)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer\n\ngoal (2 subgoals):\n 1. \\<And>T.\n       \\<lbrakk>T = Integer;\n        P,E,hp s \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "thus ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a'\\<bullet>length : Integer\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(simp)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "assume \"P,E,hp s \\<turnstile> a : NT\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> a : NT\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with \\<open>E \\<turnstile> s \\<surd>\\<close> IH \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>"], ["proof (chain)\npicking this:\n  E \\<turnstile> s \\<surd>\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : ?T';\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T''.\n                       P,E,hp s' \\<turnstile> a' : T'' \\<and>\n                       P \\<turnstile> T'' \\<le> ?T'\n  P,hp s \\<turnstile> t \\<surd>t\n  P,E,hp s \\<turnstile> a : NT", "obtain T'' where wta': \"P,E,hp s' \\<turnstile> a' : T''\" \n      and sub: \"P \\<turnstile> T'' \\<le> NT\""], ["proof (prove)\nusing this:\n  E \\<turnstile> s \\<surd>\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> a : ?T';\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T''.\n                       P,E,hp s' \\<turnstile> a' : T'' \\<and>\n                       P \\<turnstile> T'' \\<le> ?T'\n  P,hp s \\<turnstile> t \\<surd>t\n  P,E,hp s \\<turnstile> a : NT\n\ngoal (1 subgoal):\n 1. (\\<And>T''.\n        \\<lbrakk>P,E,hp s' \\<turnstile> a' : T'';\n         P \\<turnstile> T'' \\<le> NT\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> a' : T''\n  P \\<turnstile> T'' \\<le> NT\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "from sub"], ["proof (chain)\npicking this:\n  P \\<turnstile> T'' \\<le> NT", "have \"T'' = NT\""], ["proof (prove)\nusing this:\n  P \\<turnstile> T'' \\<le> NT\n\ngoal (1 subgoal):\n 1. T'' = NT", "by auto"], ["proof (state)\nthis:\n  T'' = NT\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> a : NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with wta'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> a' : T''\n  T'' = NT", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> a' : T''\n  T'' = NT\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> a'\\<bullet>length : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (67 subgoals):\n 1. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' D F e2 e3 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 67 subgoals...", "next"], ["proof (state)\ngoal (67 subgoals):\n 1. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' D F e2 e3 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 67 subgoals...", "case (RedALength h a T n l T' E)"], ["proof (state)\nthis:\n  typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\n  E \\<turnstile> (h, l) \\<surd>\n  P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : T'\n  P,hp (h, l) \\<turnstile> t \\<surd>t\n\ngoal (67 subgoals):\n 1. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' D F e2 e3 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 67 subgoals...", "from \\<open>P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : T'\\<close> \\<open>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : T'\n  typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>", "have [simp]: \"T' = Integer\""], ["proof (prove)\nusing this:\n  P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : T'\n  typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>\n\ngoal (1 subgoal):\n 1. T' = Integer", "by(auto)"], ["proof (state)\nthis:\n  T' = Integer\n\ngoal (67 subgoals):\n 1. \\<And>h a T n l Ta E.\n       \\<lbrakk>typeof_addr h a = \\<lfloor>Array_type T n\\<rfloor>;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>length : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val\n                  (Intg (word_of_nat n)) : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 2. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' D F e2 e3 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 67 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  T' = Integer\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp (h, l) \\<turnstile> Val (Intg (word_of_nat n)) : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'a.\n     P,E,hp (h, l) \\<turnstile> Val (Intg (word_of_nat n)) : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (66 subgoals):\n 1. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F e3 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 66 subgoals...", "next"], ["proof (state)\ngoal (66 subgoals):\n 1. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F e3 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 66 subgoals...", "case RedALengthNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>length : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (66 subgoals):\n 1. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>length : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F e3 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 66 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>length : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> null\\<bullet>length : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "next"], ["proof (state)\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "case (FAccRed e s ta e' s' F D T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "have IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n                 \\<Longrightarrow> \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T\"\n   and conf: \"E \\<turnstile> s \\<surd>\" and wt: \"P,E,hp s \\<turnstile> e\\<bullet>F{D} : T\" \n   and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>U.\n                              P,E,hp s' \\<turnstile> e' : U \\<and>\n                              P \\<turnstile> U \\<le> T) &&&\n     E \\<turnstile> s \\<surd>) &&&\n    P,E,hp s \\<turnstile> e\\<bullet>F{D} : T &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+\n  \\<comment> \\<open>Now distinguish the two cases how wt can have arisen.\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>U.\n                       P,?E15,hp s' \\<turnstile> e' : U \\<and>\n                       P \\<turnstile> U \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>U.\n                       P,?E15,hp s' \\<turnstile> e' : U \\<and>\n                       P \\<turnstile> U \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "fix T' C fm"], ["proof (state)\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "assume wte: \"P,E,hp s \\<turnstile> e : T'\"\n      and icto: \"class_type_of' T' = \\<lfloor>C\\<rfloor>\"\n      and has: \"P \\<turnstile> C has F:T (fm) in D\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T'\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T (fm) in D\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "from IH[OF conf wte tconf]"], ["proof (chain)\npicking this:\n  \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'", "obtain U where wte': \"P,E,hp s' \\<turnstile> e' : U\" and UsubC: \"P \\<turnstile> U \\<le> T'\""], ["proof (prove)\nusing this:\n  \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>U.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : U;\n         P \\<turnstile> U \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto\n    \\<comment> \\<open>Now distinguish what @{term U} can be.\\<close>"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> U \\<le> T'\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "with UsubC"], ["proof (chain)\npicking this:\n  P \\<turnstile> U \\<le> T'\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> U \\<le> T'", "have ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> U \\<le> T'\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> U \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(cases \"U = NT\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U = NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U \\<noteq> NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "case True"], ["proof (state)\nthis:\n  U = NT\n\ngoal (2 subgoals):\n 1. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U = NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T\n 2. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U \\<noteq> NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "thus ?thesis"], ["proof (prove)\nusing this:\n  U = NT\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wte'"], ["proof (prove)\nusing this:\n  U = NT\n  P,E,hp s' \\<turnstile> e' : U\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(blast intro:WTrtFAccNT widen_refl)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U \\<noteq> NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U \\<noteq> NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "case False"], ["proof (state)\nthis:\n  U \\<noteq> NT\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U \\<noteq> NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "with icto UsubC"], ["proof (chain)\npicking this:\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> U \\<le> T'\n  U \\<noteq> NT", "obtain C' where icto': \"class_type_of' U = \\<lfloor>C'\\<rfloor>\"\n        and C'subC: \"P \\<turnstile> C' \\<preceq>\\<^sup>* C\""], ["proof (prove)\nusing this:\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> U \\<le> T'\n  U \\<noteq> NT\n\ngoal (1 subgoal):\n 1. (\\<And>C'.\n        \\<lbrakk>class_type_of' U = \\<lfloor>C'\\<rfloor>;\n         P \\<turnstile> C' \\<preceq>\\<^sup>* C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule widen_is_class_type_of)"], ["proof (state)\nthis:\n  class_type_of' U = \\<lfloor>C'\\<rfloor>\n  P \\<turnstile> C' \\<preceq>\\<^sup>* C\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P \\<turnstile> U \\<le> T'; P,E,hp s' \\<turnstile> e' : U;\n     P \\<turnstile> U \\<le> T'; U \\<noteq> NT\\<rbrakk>\n    \\<Longrightarrow> \\<exists>T'.\n                         P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                         P \\<turnstile> T' \\<le> T", "from has_field_mono[OF has C'subC] wte' icto'"], ["proof (chain)\npicking this:\n  P \\<turnstile> C' has F:T (fm) in D\n  P,E,hp s' \\<turnstile> e' : U\n  class_type_of' U = \\<lfloor>C'\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<turnstile> C' has F:T (fm) in D\n  P,E,hp s' \\<turnstile> e' : U\n  class_type_of' U = \\<lfloor>C'\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto intro!:WTrtFAcc)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "}"], ["proof (state)\nthis:\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P \\<turnstile> ?C17 has F:T (?fm17) in D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P \\<turnstile> ?C17 has F:T (?fm17) in D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "{"], ["proof (state)\nthis:\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P \\<turnstile> ?C17 has F:T (?fm17) in D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "assume \"P,E,hp s \\<turnstile> e : NT\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "hence \"P,E,hp s' \\<turnstile> e' : NT\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "using IH[OF conf _ tconf]"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT\n  P,E,hp s \\<turnstile> e : ?T15 \\<Longrightarrow>\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> ?T15\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "hence ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro:WTrtFAccNT widen_refl)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "}"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (65 subgoals):\n 1. \\<And>e s ta e' s' F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' v D F v' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                    v', e) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 65 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P \\<turnstile> ?C17 has F:T (?fm17) in D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P \\<turnstile> ?C17 has F:T (?fm17) in D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wt"], ["proof (prove)\nusing this:\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P \\<turnstile> ?C17 has F:T (?fm17) in D\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (64 subgoals):\n 1. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>D F v v' s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v, Val v') : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 64 subgoals...", "next"], ["proof (state)\ngoal (64 subgoals):\n 1. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>D F v v' s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v, Val v') : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 64 subgoals...", "case RedFAcc"], ["proof (state)\nthis:\n  heap_read h_ a_ (CField D_ F_) v_\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (64 subgoals):\n 1. \\<And>h a D F v l T E.\n       \\<lbrakk>heap_read h a (CField D F) v; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>D F v v' s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v, Val v') : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 64 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  heap_read h_ a_ (CField D_ F_) v_\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h_, l_) \\<turnstile> Val v_ : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  heap_read h_ a_ (CField D_ F_) v_\n  let (h, l) = (h_, l_)\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h_, l_) \\<turnstile> Val v_ : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce dest: heap_read_conf intro: addr_loc_type.intros simp add: conf_def)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h_, l_) \\<turnstile> Val v_ : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (63 subgoals):\n 1. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v v' h' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 63 subgoals...", "next"], ["proof (state)\ngoal (63 subgoals):\n 1. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v v' h' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 63 subgoals...", "case RedFAccNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>F_{D_} : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (63 subgoals):\n 1. \\<And>F D s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v v' h' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v;\n         heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 63 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>F_{D_} : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> null\\<bullet>F_{D_} : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "next"], ["proof (state)\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "case (FAssRed1 e s ta e' s' F D e\\<^sub>2)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} := e\\<^sub>2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>\"\n   and IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n                 \\<Longrightarrow> \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T\"\n   and conf: \"E \\<turnstile> s \\<surd>\" and wt: \"P,E,hp s \\<turnstile> e\\<bullet>F{D}:=e\\<^sub>2 : T\"\n   and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>e',s'\\<rangle> &&&\n     (\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>U.\n                              P,E,hp s' \\<turnstile> e' : U \\<and>\n                              P \\<turnstile> U \\<le> T)) &&&\n    E \\<turnstile> s \\<surd> &&&\n    P,E,hp s \\<turnstile> e\\<bullet>F{D} := e\\<^sub>2 : T &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>U.\n                       P,?E15,hp s' \\<turnstile> e' : U \\<and>\n                       P \\<turnstile> U \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} := e\\<^sub>2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} := e\\<^sub>2 : T", "have void: \"T = Void\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} := e\\<^sub>2 : T\n\ngoal (1 subgoal):\n 1. T = Void", "by blast\n  \\<comment> \\<open>We distinguish if @{term e} has type @{term NT} or a Class type\\<close>"], ["proof (state)\nthis:\n  T = Void\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "{"], ["proof (state)\nthis:\n  T = Void\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "assume \"P,E,hp s \\<turnstile> e : NT\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "hence \"P,E,hp s' \\<turnstile> e' : NT\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "using IH[OF conf _ tconf]"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT\n  P,E,hp s \\<turnstile> e : ?T15 \\<Longrightarrow>\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> ?T15\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "obtain T\\<^sub>2 where \"P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>T\\<^sub>2.\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using wt"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} := e\\<^sub>2 : T\n\ngoal (1 subgoal):\n 1. (\\<And>T\\<^sub>2.\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "from this red_hext_incr[OF red]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  hp s \\<unlhd> hp s'", "have  \"P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2", "by(rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2", "have ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using void"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  T = Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(blast intro!:WTrtFAssNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "}"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "{"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "fix T' C TF T\\<^sub>2 fm"], ["proof (state)\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "assume wt\\<^sub>1: \"P,E,hp s \\<turnstile> e : T'\" and icto: \"class_type_of' T' = \\<lfloor>C\\<rfloor>\" and wt\\<^sub>2: \"P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\"\n      and has: \"P \\<turnstile> C has F:TF (fm) in D\" and sub: \"P \\<turnstile> T\\<^sub>2 \\<le> TF\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T'\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  P \\<turnstile> C has F:TF (fm) in D\n  P \\<turnstile> T\\<^sub>2 \\<le> TF\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "obtain U where wt\\<^sub>1': \"P,E,hp s' \\<turnstile> e' : U\" and UsubC: \"P \\<turnstile> U \\<le> T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>U.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : U;\n         P \\<turnstile> U \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH[OF conf wt\\<^sub>1 tconf]"], ["proof (prove)\nusing this:\n  \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>U.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : U;\n         P \\<turnstile> U \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> U \\<le> T'\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "have wt\\<^sub>2': \"P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2", "by(rule WTrt_hext_mono[OF wt\\<^sub>2 red_hext_incr[OF red]])\n    \\<comment> \\<open>Is @{term U} the null type or a class type?\\<close>"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "have ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(cases \"U = NT\")"], ["proof (state)\ngoal (2 subgoals):\n 1. U = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "case True"], ["proof (state)\nthis:\n  U = NT\n\ngoal (2 subgoals):\n 1. U = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with wt\\<^sub>1' wt\\<^sub>2' void"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : U\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  T = Void\n  U = NT", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : U\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  T = Void\n  U = NT\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(blast intro!:WTrtFAssNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "case False"], ["proof (state)\nthis:\n  U \\<noteq> NT\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with icto UsubC"], ["proof (chain)\npicking this:\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> U \\<le> T'\n  U \\<noteq> NT", "obtain C' where icto': \"class_type_of' U = \\<lfloor>C'\\<rfloor>\"\n        and \"subclass\": \"P \\<turnstile> C' \\<preceq>\\<^sup>* C\""], ["proof (prove)\nusing this:\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> U \\<le> T'\n  U \\<noteq> NT\n\ngoal (1 subgoal):\n 1. (\\<And>C'.\n        \\<lbrakk>class_type_of' U = \\<lfloor>C'\\<rfloor>;\n         P \\<turnstile> C' \\<preceq>\\<^sup>* C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule widen_is_class_type_of)"], ["proof (state)\nthis:\n  class_type_of' U = \\<lfloor>C'\\<rfloor>\n  P \\<turnstile> C' \\<preceq>\\<^sup>* C\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "have \"P \\<turnstile> C' has F:TF (fm) in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> C' has F:TF (fm) in D", "by(rule has_field_mono[OF has \"subclass\"])"], ["proof (state)\nthis:\n  P \\<turnstile> C' has F:TF (fm) in D\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with wt\\<^sub>1'"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> C' has F:TF (fm) in D", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> C' has F:TF (fm) in D\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wt\\<^sub>2' sub void icto'"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> C' has F:TF (fm) in D\n  P,E,hp s' \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  P \\<turnstile> T\\<^sub>2 \\<le> TF\n  T = Void\n  class_type_of' U = \\<lfloor>C'\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(blast intro:WTrtFAss)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "}"], ["proof (state)\nthis:\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P,E,hp s \\<turnstile> e\\<^sub>2 : ?T\\<^sub>217;\n   P \\<turnstile> ?C17 has F:?TF17 (?fm17) in D;\n   P \\<turnstile> ?T\\<^sub>217 \\<le> ?TF17\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n\ngoal (62 subgoals):\n 1. \\<And>e s ta e' s' F D e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>F{D} := e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>h a D F v'' v v' l T E.\n        \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> addr\n                                     a\\<bullet>compareAndSwap(D\\<bullet>F, Val\nv, Val v') : T;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 62 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P,E,hp s \\<turnstile> e\\<^sub>2 : ?T\\<^sub>217;\n   P \\<turnstile> ?C17 has F:?TF17 (?fm17) in D;\n   P \\<turnstile> ?T\\<^sub>217 \\<le> ?TF17\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n                       P \\<turnstile> T' \\<le> T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P,E,hp s \\<turnstile> e\\<^sub>2 : ?T\\<^sub>217;\n   P \\<turnstile> ?C17 has F:?TF17 (?fm17) in D;\n   P \\<turnstile> ?T\\<^sub>217 \\<le> ?TF17\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wt"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT \\<Longrightarrow>\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n  \\<lbrakk>P,E,hp s \\<turnstile> e : ?T'17;\n   class_type_of' ?T'17 = \\<lfloor>?C17\\<rfloor>;\n   P,E,hp s \\<turnstile> e\\<^sub>2 : ?T\\<^sub>217;\n   P \\<turnstile> ?C17 has F:?TF17 (?fm17) in D;\n   P \\<turnstile> ?T\\<^sub>217 \\<le> ?TF17\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n  P,E,hp s \\<turnstile> e\\<bullet>F{D} := e\\<^sub>2 : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>F{D} := e\\<^sub>2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (61 subgoals):\n 1. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' M es T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 61 subgoals...", "next"], ["proof (state)\ngoal (61 subgoals):\n 1. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' M es T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 61 subgoals...", "case (FAssRed2 e\\<^sub>2 s ta e\\<^sub>2' s' v F D T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e\\<^sub>2',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> e\\<^sub>2 : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e\\<^sub>2' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (61 subgoals):\n 1. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' M es T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 61 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow> \\<langle>e\\<^sub>2',s'\\<rangle>\"\n   and IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<^sub>2 : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n                 \\<Longrightarrow> \\<exists>U. P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and> P \\<turnstile> U \\<le> T\"\n   and conf: \"E \\<turnstile> s \\<surd>\" and wt: \"P,E,hp s \\<turnstile> Val v\\<bullet>F{D}:=e\\<^sub>2 : T\" \n   and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>e\\<^sub>2',s'\\<rangle> &&&\n     (\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>;\n          P,E,hp s \\<turnstile> e\\<^sub>2 : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>U.\n                              P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and>\n                              P \\<turnstile> U \\<le> T)) &&&\n    E \\<turnstile> s \\<surd> &&&\n    P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2 : T &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e\\<^sub>2,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e\\<^sub>2',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> e\\<^sub>2 : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>U.\n                       P,?E15,hp s' \\<turnstile> e\\<^sub>2' : U \\<and>\n                       P \\<turnstile> U \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (61 subgoals):\n 1. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' M es T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 61 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2 : T", "have [simp]: \"T = Void\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2 : T\n\ngoal (1 subgoal):\n 1. T = Void", "by auto"], ["proof (state)\nthis:\n  T = Void\n\ngoal (61 subgoals):\n 1. \\<And>e s ta e' s' v F D T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' M es T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 61 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2 : T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2 : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof (rule WTrt_elim_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>U C T fm T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n        P \\<turnstile> T2 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix U C TF T\\<^sub>2 fm"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>U C T fm T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n        P \\<turnstile> T2 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wt\\<^sub>1: \"P,E,hp s \\<turnstile> Val v : U\"\n      and icto: \"class_type_of' U = \\<lfloor>C\\<rfloor>\"\n      and has: \"P \\<turnstile> C has F:TF (fm) in D\"\n      and wt\\<^sub>2: \"P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\" and TsubTF: \"P \\<turnstile> T\\<^sub>2 \\<le> TF\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val v : U\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:TF (fm) in D\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n  P \\<turnstile> T\\<^sub>2 \\<le> TF\n\ngoal (2 subgoals):\n 1. \\<And>U C T fm T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n        P \\<turnstile> T2 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have wt\\<^sub>1': \"P,E,hp s' \\<turnstile> Val v : U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val v : U", "by(rule WTrt_hext_mono[OF wt\\<^sub>1 red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val v : U\n\ngoal (2 subgoals):\n 1. \\<And>U C T fm T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n        P \\<turnstile> T2 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "obtain T\\<^sub>2' where wt\\<^sub>2': \"P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2'\" and T'subT: \"P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>T\\<^sub>2'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2';\n         P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH[OF conf wt\\<^sub>2 tconf]"], ["proof (prove)\nusing this:\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and>\n     P \\<turnstile> U \\<le> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>T\\<^sub>2'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2';\n         P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2'\n  P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2\n\ngoal (2 subgoals):\n 1. \\<And>U C T fm T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n        P \\<turnstile> T2 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> Val v\\<bullet>F{D}:=e\\<^sub>2' : Void\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : Void", "by(rule WTrtFAss[OF wt\\<^sub>1' icto has wt\\<^sub>2' widen_trans[OF T'subT TsubTF]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : Void\n\ngoal (2 subgoals):\n 1. \\<And>U C T fm T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2;\n        P \\<turnstile> T2 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "thus ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : Void\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix T\\<^sub>2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume null: \"P,E,hp s \\<turnstile> Val v : NT\" and wt\\<^sub>2: \"P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val v : NT\n  P,E,hp s \\<turnstile> e\\<^sub>2 : T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from null"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v : NT", "have \"v = Null\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v : NT\n\ngoal (1 subgoal):\n 1. v = Null", "by simp"], ["proof (state)\nthis:\n  v = Null\n\ngoal (1 subgoal):\n 1. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  v = Null\n\ngoal (1 subgoal):\n 1. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "obtain T\\<^sub>2' where \"P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2' \\<and> P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>T\\<^sub>2'.\n        P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2' \\<and>\n        P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using IH[OF conf wt\\<^sub>2 tconf]"], ["proof (prove)\nusing this:\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e\\<^sub>2' : U \\<and>\n     P \\<turnstile> U \\<le> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. (\\<And>T\\<^sub>2'.\n        P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2' \\<and>\n        P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2' \\<and>\n  P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>T2.\n       \\<lbrakk>T = Void; P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> e\\<^sub>2 : T2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  v = Null\n  P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2' \\<and>\n  P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  v = Null\n  P,E,hp s' \\<turnstile> e\\<^sub>2' : T\\<^sub>2' \\<and>\n  P \\<turnstile> T\\<^sub>2' \\<le> T\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro:WTrtFAssNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>F{D} := e\\<^sub>2' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (60 subgoals):\n 1. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>es s ta es' s' v M T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n   s\\<rangle> [-ta\\<rightarrow>]\n  \\<langle>es',s'\\<rangle>;\n         \\<And>Ts E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>;\n             P,E,hp s \\<turnstile> es [:] Ts;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>Ts'.\n                                 P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                 P \\<turnstile> Ts' [\\<le>] Ts;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>M(es') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 60 subgoals...", "next"], ["proof (state)\ngoal (60 subgoals):\n 1. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>es s ta es' s' v M T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n   s\\<rangle> [-ta\\<rightarrow>]\n  \\<langle>es',s'\\<rangle>;\n         \\<And>Ts E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>;\n             P,E,hp s \\<turnstile> es [:] Ts;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>Ts'.\n                                 P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                 P \\<turnstile> Ts' [\\<le>] Ts;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>M(es') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 60 subgoals...", "case RedFAss"], ["proof (state)\nthis:\n  heap_write h_ a_ (CField D_ F_) v_ h'_\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} := Val v_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (60 subgoals):\n 1. \\<And>h a D F v h' l T E.\n       \\<lbrakk>heap_write h a (CField D F) v h';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr a\\<bullet>F{D} := Val v : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> unit : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>es s ta es' s' v M T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n   s\\<rangle> [-ta\\<rightarrow>]\n  \\<langle>es',s'\\<rangle>;\n         \\<And>Ts E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>;\n             P,E,hp s \\<turnstile> es [:] Ts;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>Ts'.\n                                 P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                 P \\<turnstile> Ts' [\\<le>] Ts;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> Val\n               v\\<bullet>M(es') : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 60 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  heap_write h_ a_ (CField D_ F_) v_ h'_\n  E \\<turnstile> (h_, l_) \\<surd>\n  P,E,hp (h_, l_) \\<turnstile> addr a_\\<bullet>F_{D_} := Val v_ : T\n  P,hp (h_, l_) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp (h'_, l_) \\<turnstile> unit : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto simp del:fun_upd_apply)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp (h'_, l_) \\<turnstile> unit : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (59 subgoals):\n 1. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a hU M Ts T pns body D vs Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n         P \\<turnstile> class_type_of\n                         hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                           body)\\<rfloor> in D;\n         length vs = length pns; length Ts = length pns;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> blocks (this # pns)\n              (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 59 subgoals...", "next"], ["proof (state)\ngoal (59 subgoals):\n 1. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a hU M Ts T pns body D vs Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n         P \\<turnstile> class_type_of\n                         hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                           body)\\<rfloor> in D;\n         length vs = length pns; length Ts = length pns;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> blocks (this # pns)\n              (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 59 subgoals...", "case RedFAssNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>F_{D_} := Val v_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (59 subgoals):\n 1. \\<And>F D v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>F{D} := Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a hU M Ts T pns body D vs Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n         P \\<turnstile> class_type_of\n                         hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                           body)\\<rfloor> in D;\n         length vs = length pns; length Ts = length pns;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> blocks (this # pns)\n              (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 59 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>F_{D_} := Val v_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> null\\<bullet>F_{D_} := Val v_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (58 subgoals):\n 1. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n         P \\<turnstile> class_type_of\n                         hU sees M: Ts\\<rightarrow>T = Native in D;\n         P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                          hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                      h'\\<rangle>;\n         ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n         s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 58 subgoals...", "next"], ["proof (state)\ngoal (58 subgoals):\n 1. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n         P \\<turnstile> class_type_of\n                         hU sees M: Ts\\<rightarrow>T = Native in D;\n         P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                          hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                      h'\\<rangle>;\n         ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n         s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 58 subgoals...", "case (CASRed1 e s ta e' s' D F e2 e3)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (58 subgoals):\n 1. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n         P \\<turnstile> class_type_of\n                         hU sees M: Ts\\<rightarrow>T = Native in D;\n         P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                          hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                      h'\\<rangle>;\n         ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n         s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 58 subgoals...", "from CASRed1.prems(2)"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T", "consider (NT) T2 T3 where \n      \"P,E,hp s \\<turnstile> e : NT\" \"T = Boolean\" \"P,E,hp s \\<turnstile> e2 : T2\" \"P,E,hp s \\<turnstile> e3 : T3\"\n    | (RefT) U T' C fm T2 T3 where\n      \"P,E,hp s \\<turnstile> e : U\" \"T = Boolean\" \"class_type_of' U = \\<lfloor>C\\<rfloor>\" \"P \\<turnstile> C has F:T' (fm) in D\"\n      \"P,E,hp s \\<turnstile> e2 : T2\" \"P \\<turnstile> T2 \\<le> T'\" \"P,E,hp s \\<turnstile> e3 : T3\" \"P \\<turnstile> T3 \\<le> T'\" \"volatile fm\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>T2 T3.\n                \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n                 P,E,hp s \\<turnstile> e2 : T2;\n                 P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<And>U C T' fm T2 T3.\n        \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n         P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n         P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by fastforce"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>T2 T3.\n              \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n               P,E,hp s \\<turnstile> e2 : T2;\n               P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n              \\<Longrightarrow> ?thesis15;\n   \\<And>U T' C fm T2 T3.\n      \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n       class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n       P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n       P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15\n\ngoal (58 subgoals):\n 1. \\<And>e s ta e' s' D F e2 e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n         P \\<turnstile> class_type_of\n                         hU sees M: Ts\\<rightarrow>T = Native in D;\n         P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                          hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                      h'\\<rangle>;\n         ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n         s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 58 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>T2 T3.\n              \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n               P,E,hp s \\<turnstile> e2 : T2;\n               P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n              \\<Longrightarrow> ?thesis15;\n   \\<And>U T' C fm T2 T3.\n      \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n       class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n       P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n       P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n        P,E,hp s \\<turnstile> e2 : T2;\n        P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case NT"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT\n  T = Boolean\n  P,E,hp s \\<turnstile> e2 : T2\n  P,E,hp s \\<turnstile> e3 : T3\n\ngoal (2 subgoals):\n 1. \\<And>T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n        P,E,hp s \\<turnstile> e2 : T2;\n        P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> e' : NT\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "using CASRed1.hyps(2)[OF CASRed1.prems(1) NT(1) CASRed1.prems(3)]"], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> NT\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "by auto"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (2 subgoals):\n 1. \\<And>T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n        P,E,hp s \\<turnstile> e2 : T2;\n        P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (2 subgoals):\n 1. \\<And>T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n        P,E,hp s \\<turnstile> e2 : T2;\n        P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from NT CASRed1.hyps(1)[THEN red_hext_incr]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : NT\n  T = Boolean\n  P,E,hp s \\<turnstile> e2 : T2\n  P,E,hp s \\<turnstile> e3 : T3\n  hp s \\<unlhd> hp s'", "have \"P,E,hp s' \\<turnstile> e2 : T2\" \"P,E,hp s' \\<turnstile> e3 : T3\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT\n  T = Boolean\n  P,E,hp s \\<turnstile> e2 : T2\n  P,E,hp s \\<turnstile> e3 : T3\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e2 : T2 &&& P,E,hp s' \\<turnstile> e3 : T3", "by(auto intro: WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n\ngoal (2 subgoals):\n 1. \\<And>T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT; T = Boolean;\n        P,E,hp s \\<turnstile> e2 : T2;\n        P,E,hp s \\<turnstile> e3 : T3\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using NT"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n  P,E,hp s \\<turnstile> e : NT\n  T = Boolean\n  P,E,hp s \\<turnstile> e2 : T2\n  P,E,hp s \\<turnstile> e3 : T3\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto intro: WTrtCASNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case RefT"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : U\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  volatile fm\n\ngoal (1 subgoal):\n 1. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from CASRed1.hyps(2)[OF CASRed1.prems(1) RefT(1) CASRed1.prems(3)]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> U", "obtain U' where wt1: \"P,E,hp s' \\<turnstile> e' : U'\" \"P \\<turnstile> U' \\<le> U\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> U\n\ngoal (1 subgoal):\n 1. (\\<And>U'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : U';\n         P \\<turnstile> U' \\<le> U\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : U'\n  P \\<turnstile> U' \\<le> U\n\ngoal (1 subgoal):\n 1. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from RefT CASRed1.hyps(1)[THEN red_hext_incr]"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : U\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  volatile fm\n  hp s \\<unlhd> hp s'", "have wt2: \"P,E,hp s' \\<turnstile> e2 : T2\" and wt3: \"P,E,hp s' \\<turnstile> e3 : T3\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : U\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  volatile fm\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e2 : T2 &&& P,E,hp s' \\<turnstile> e3 : T3", "by(auto intro: WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n\ngoal (1 subgoal):\n 1. \\<And>U T' C fm T2 T3.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U; T = Boolean;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T'; volatile fm\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(cases \"U' = NT\")"], ["proof (state)\ngoal (2 subgoals):\n 1. U' = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U' \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "case True"], ["proof (state)\nthis:\n  U' = NT\n\ngoal (2 subgoals):\n 1. U' = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U' \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with RefT wt1 wt2 wt3"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : U\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  volatile fm\n  P,E,hp s' \\<turnstile> e' : U'\n  P \\<turnstile> U' \\<le> U\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n  U' = NT", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : U\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  volatile fm\n  P,E,hp s' \\<turnstile> e' : U'\n  P \\<turnstile> U' \\<le> U\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n  U' = NT\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto intro: WTrtCASNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. U' \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. U' \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "case False"], ["proof (state)\nthis:\n  U' \\<noteq> NT\n\ngoal (1 subgoal):\n 1. U' \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with RefT(3) wt1"], ["proof (chain)\npicking this:\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : U'\n  P \\<turnstile> U' \\<le> U\n  U' \\<noteq> NT", "obtain C' where icto': \"class_type_of' U' = \\<lfloor>C'\\<rfloor>\"\n        and \"subclass\": \"P \\<turnstile> C' \\<preceq>\\<^sup>* C\""], ["proof (prove)\nusing this:\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : U'\n  P \\<turnstile> U' \\<le> U\n  U' \\<noteq> NT\n\ngoal (1 subgoal):\n 1. (\\<And>C'.\n        \\<lbrakk>class_type_of' U' = \\<lfloor>C'\\<rfloor>;\n         P \\<turnstile> C' \\<preceq>\\<^sup>* C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast intro: widen_is_class_type_of)"], ["proof (state)\nthis:\n  class_type_of' U' = \\<lfloor>C'\\<rfloor>\n  P \\<turnstile> C' \\<preceq>\\<^sup>* C\n\ngoal (1 subgoal):\n 1. U' \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "have \"P \\<turnstile> C' has F:T' (fm) in D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> C' has F:T' (fm) in D", "by(rule has_field_mono[OF RefT(4) \"subclass\"])"], ["proof (state)\nthis:\n  P \\<turnstile> C' has F:T' (fm) in D\n\ngoal (1 subgoal):\n 1. U' \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with RefT wt1 wt2 wt3 icto'"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : U\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  volatile fm\n  P,E,hp s' \\<turnstile> e' : U'\n  P \\<turnstile> U' \\<le> U\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n  class_type_of' U' = \\<lfloor>C'\\<rfloor>\n  P \\<turnstile> C' has F:T' (fm) in D", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : U\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  volatile fm\n  P,E,hp s' \\<turnstile> e' : U'\n  P \\<turnstile> U' \\<le> U\n  P,E,hp s' \\<turnstile> e2 : T2\n  P,E,hp s' \\<turnstile> e3 : T3\n  class_type_of' U' = \\<lfloor>C'\\<rfloor>\n  P \\<turnstile> C' has F:T' (fm) in D\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto intro!: WTrtCAS)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (57 subgoals):\n 1. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>M vs s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 57 subgoals...", "next"], ["proof (state)\ngoal (57 subgoals):\n 1. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>M vs s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 57 subgoals...", "case (CASRed2 e s ta e' s' v D F e3)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (57 subgoals):\n 1. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>M vs s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 57 subgoals...", "consider (Null) \"v = Null\" | (Val) U C T' fm T2 T3 where\n    \"class_type_of' U = \\<lfloor>C\\<rfloor>\" \"P \\<turnstile> C has F:T' (fm) in D\" \"volatile fm\"\n    \"P,E,hp s \\<turnstile> e : T2\" \"P \\<turnstile> T2 \\<le> T'\" \"P,E,hp s \\<turnstile> e3 : T3\" \"P \\<turnstile> T3 \\<le> T'\" \"T = Boolean\"\n    \"typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v = Null \\<Longrightarrow> thesis;\n     \\<And>U C T' fm T2 T3.\n        \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n         P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n         P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n         T = Boolean;\n         typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using CASRed2.prems(2)"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v = Null \\<Longrightarrow> thesis;\n     \\<And>U C T' fm T2 T3.\n        \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n         P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n         P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n         T = Boolean;\n         typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>v = Null \\<Longrightarrow> ?thesis15;\n   \\<And>U C T' fm T2 T3.\n      \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n       P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n       P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n       T = Boolean;\n       typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15\n\ngoal (57 subgoals):\n 1. \\<And>e s ta e' s' v D F e3 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>M vs s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 57 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>v = Null \\<Longrightarrow> ?thesis15;\n   \\<And>U C T' fm T2 T3.\n      \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n       P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n       P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n       T = Boolean;\n       typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>v = Null \\<Longrightarrow> ?thesis15;\n   \\<And>U C T' fm T2 T3.\n      \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n       P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n       P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n       T = Boolean;\n       typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. v = Null \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case Null"], ["proof (state)\nthis:\n  v = Null\n\ngoal (2 subgoals):\n 1. v = Null \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "then"], ["proof (chain)\npicking this:\n  v = Null", "show ?thesis"], ["proof (prove)\nusing this:\n  v = Null\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using CASRed2"], ["proof (prove)\nusing this:\n  v = Null\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e, e3) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(force dest: red_hext_incr intro: WTrt_hext_mono WTrtCASNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case Val"], ["proof (state)\nthis:\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  volatile fm\n  P,E,hp s \\<turnstile> e : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  T = Boolean\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from CASRed2.hyps(1)"], ["proof (chain)\npicking this:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>", "have hext: \"hp s \\<unlhd> hp s'\""], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. hp s \\<unlhd> hp s'", "by(auto dest: red_hext_incr)"], ["proof (state)\nthis:\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "with Val(9)"], ["proof (chain)\npicking this:\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n  hp s \\<unlhd> hp s'", "have \"typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\""], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>", "by(rule type_of_hext_type_of)"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from CASRed2.hyps(2)[OF CASRed2.prems(1) Val(4) CASRed2.prems(3)] Val(5)"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T2\n  P \\<turnstile> T2 \\<le> T'", "obtain T2' where \"P,E,hp s' \\<turnstile> e' : T2'\" \"P \\<turnstile> T2' \\<le> T'\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T2\n  P \\<turnstile> T2 \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>T2'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : T2';\n         P \\<turnstile> T2' \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro: widen_trans)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T2'\n  P \\<turnstile> T2' \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T2'\n  P \\<turnstile> T2' \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from Val(6) hext"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e3 : T3\n  hp s \\<unlhd> hp s'", "have \"P,E,hp s' \\<turnstile> e3 : T3\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e3 : T3\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e3 : T3", "by(rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e3 : T3\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P,E,hp s \\<turnstile> e : T2; P \\<turnstile> T2 \\<le> T';\n        P,E,hp s \\<turnstile> e3 : T3; P \\<turnstile> T3 \\<le> T';\n        T = Boolean;\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : T2'\n  P \\<turnstile> T2' \\<le> T'\n  P,E,hp s' \\<turnstile> e3 : T3", "show ?thesis"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : T2'\n  P \\<turnstile> T2' \\<le> T'\n  P,E,hp s' \\<turnstile> e3 : T3\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using Val"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : T2'\n  P \\<turnstile> T2' \\<le> T'\n  P,E,hp s' \\<turnstile> e3 : T3\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  volatile fm\n  P,E,hp s \\<turnstile> e : T2\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e3 : T3\n  P \\<turnstile> T3 \\<le> T'\n  T = Boolean\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto intro: WTrtCAS)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, e', e3) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (56 subgoals):\n 1. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e h l V vo ta e' h' l' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',(h', l')\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n             P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n             P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l'\n                                     (V :=\n  l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 56 subgoals...", "next"], ["proof (state)\ngoal (56 subgoals):\n 1. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e h l V vo ta e' h' l' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',(h', l')\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n             P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n             P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l'\n                                     (V :=\n  l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 56 subgoals...", "case (CASRed3 e s ta e' s' v D F v')"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                             v', e) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (56 subgoals):\n 1. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e h l V vo ta e' h' l' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',(h', l')\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n             P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n             P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l'\n                                     (V :=\n  l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 56 subgoals...", "consider (Null) \"v = Null\" | (Val) U C T' fm T2 T3 where \n    \"T = Boolean\" \"class_type_of' U = \\<lfloor>C\\<rfloor>\" \"P \\<turnstile> C has F:T' (fm) in D\" \"volatile fm\"\n    \"P \\<turnstile> T2 \\<le> T'\" \"P,E,hp s \\<turnstile> e : T3\" \"P \\<turnstile> T3 \\<le> T'\"\n    \"typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\" \"typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v = Null \\<Longrightarrow> thesis;\n     \\<And>U C T' fm T2 T3.\n        \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n         P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n         P \\<turnstile> T3 \\<le> T';\n         typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using CASRed3.prems(2)"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                             v', e) : T\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v = Null \\<Longrightarrow> thesis;\n     \\<And>U C T' fm T2 T3.\n        \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n         P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n         P \\<turnstile> T3 \\<le> T';\n         typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n         typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>v = Null \\<Longrightarrow> ?thesis15;\n   \\<And>U C T' fm T2 T3.\n      \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n       P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n       P \\<turnstile> T3 \\<le> T';\n       typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n       typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15\n\ngoal (56 subgoals):\n 1. \\<And>e s ta e' s' v D F v' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e h l V vo ta e' h' l' T Ta E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',(h', l')\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n             P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n             P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> (h, l) \\<surd>;\n         P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n         P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp (h', l'\n                                     (V :=\n  l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 56 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>v = Null \\<Longrightarrow> ?thesis15;\n   \\<And>U C T' fm T2 T3.\n      \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n       P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n       P \\<turnstile> T3 \\<le> T';\n       typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n       typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>v = Null \\<Longrightarrow> ?thesis15;\n   \\<And>U C T' fm T2 T3.\n      \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n       P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n       P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n       P \\<turnstile> T3 \\<le> T';\n       typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n       typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n      \\<Longrightarrow> ?thesis15\\<rbrakk>\n  \\<Longrightarrow> ?thesis15\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. v = Null \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e') : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case Null"], ["proof (state)\nthis:\n  v = Null\n\ngoal (2 subgoals):\n 1. v = Null \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e') : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "then"], ["proof (chain)\npicking this:\n  v = Null", "show ?thesis"], ["proof (prove)\nusing this:\n  v = Null\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using CASRed3"], ["proof (prove)\nusing this:\n  v = Null\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                             v', e) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(force dest: red_hext_incr intro: type_of_hext_type_of WTrtCASNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                 v', e') : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "case Val"], ["proof (state)\nthis:\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  volatile fm\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e : T3\n  P \\<turnstile> T3 \\<le> T'\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from CASRed3.hyps(1)"], ["proof (chain)\npicking this:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>", "have hext: \"hp s \\<unlhd> hp s'\""], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. hp s \\<unlhd> hp s'", "by(auto dest: red_hext_incr)"], ["proof (state)\nthis:\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "with Val(8,9)"], ["proof (chain)\npicking this:\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n  hp s \\<unlhd> hp s'", "have \"typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\" \"typeof\\<^bsub>hp s'\\<^esub> v' = \\<lfloor>T2\\<rfloor>\""], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor> &&&\n    typeof\\<^bsub>hp s'\\<^esub> v' = \\<lfloor>T2\\<rfloor>", "by(blast intro: type_of_hext_type_of)+"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s'\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s'\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from CASRed3.hyps(2)[OF CASRed3.prems(1) Val(6) CASRed3.prems(3)] Val(7)"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T3\n  P \\<turnstile> T3 \\<le> T'", "obtain T3' where \"P,E,hp s' \\<turnstile> e' : T3'\" \"P \\<turnstile> T3' \\<le> T'\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T3\n  P \\<turnstile> T3 \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>T3'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : T3';\n         P \\<turnstile> T3' \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto intro: widen_trans)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T3'\n  P \\<turnstile> T3' \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<And>U C T' fm T2 T3.\n       \\<lbrakk>T = Boolean; class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T' (fm) in D; volatile fm;\n        P \\<turnstile> T2 \\<le> T'; P,E,hp s \\<turnstile> e : T3;\n        P \\<turnstile> T3 \\<le> T';\n        typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>compareAndSwap(D\\<bullet>F, Val v', e') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s'\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : T3'\n  P \\<turnstile> T3' \\<le> T'", "show ?thesis"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s'\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : T3'\n  P \\<turnstile> T3' \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using Val"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>hp s'\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s'\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n  P,E,hp s' \\<turnstile> e' : T3'\n  P \\<turnstile> T3' \\<le> T'\n  T = Boolean\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C has F:T' (fm) in D\n  volatile fm\n  P \\<turnstile> T2 \\<le> T'\n  P,E,hp s \\<turnstile> e : T3\n  P \\<turnstile> T3 \\<le> T'\n  typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>\n  typeof\\<^bsub>hp s\\<^esub> v' = \\<lfloor>T2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                   v', e') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto intro: WTrtCAS)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                 v', e') : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                 v', e') : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (55 subgoals):\n 1. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>V T vo u s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val u : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 55 subgoals...", "next"], ["proof (state)\ngoal (55 subgoals):\n 1. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>V T vo u s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val u : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 55 subgoals...", "case CASNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>compareAndSwap(D_\\<bullet>F_, Val\n                               v_, Val v'_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (55 subgoals):\n 1. \\<And>D F v v' s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                  v, Val v') : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>V T vo u s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val u : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 55 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>compareAndSwap(D_\\<bullet>F_, Val\n                               v_, Val v'_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> null\\<bullet>compareAndSwap(D_\\<bullet>F_, Val\n                               v_, Val v'_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (54 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>o' s ta o'' s' e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>o'',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 54 subgoals...", "next"], ["proof (state)\ngoal (54 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>o' s ta o'' s' e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>o'',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 54 subgoals...", "case (CallObj e s ta e' s' M es T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>M(es) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (54 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>o' s ta o'' s' e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>o'',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 54 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>\"\n   and IH: \"\\<And>E T. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n                 \\<Longrightarrow> \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T\"\n   and conf: \"E \\<turnstile> s \\<surd>\" and wt: \"P,E,hp s \\<turnstile> e\\<bullet>M(es) : T\"\n   and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>e',s'\\<rangle> &&&\n     (\\<And>E T.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>U.\n                              P,E,hp s' \\<turnstile> e' : U \\<and>\n                              P \\<turnstile> U \\<le> T)) &&&\n    E \\<turnstile> s \\<surd> &&&\n    P,E,hp s \\<turnstile> e\\<bullet>M(es) : T &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+\n  \\<comment> \\<open>We distinguish if @{term e} has type @{term NT} or a Class type\\<close>"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>U.\n                       P,?E15,hp s' \\<turnstile> e' : U \\<and>\n                       P \\<turnstile> U \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e\\<bullet>M(es) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (54 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' M es T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>o' s ta o'' s' e T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>o'',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 54 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e\\<bullet>M(es) : T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e\\<bullet>M(es) : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix T' C Ts meth D Us"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wte: \"P,E,hp s \\<turnstile> e : T'\" and icto: \"class_type_of' T' = \\<lfloor>C\\<rfloor>\"\n      and \"method\": \"P \\<turnstile> C sees M:Ts\\<rightarrow>T = meth in D\"\n      and wtes: \"P,E,hp s \\<turnstile> es [:] Us\" and subs: \"P \\<turnstile> Us [\\<le>] Ts\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T'\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D\n  P,E,hp s \\<turnstile> es [:] Us\n  P \\<turnstile> Us [\\<le>] Ts\n\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "obtain U where wte': \"P,E,hp s' \\<turnstile> e' : U\" and UsubC: \"P \\<turnstile> U \\<le> T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>U.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : U;\n         P \\<turnstile> U \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH[OF conf wte tconf]"], ["proof (prove)\nusing this:\n  \\<exists>U. P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>U.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : U;\n         P \\<turnstile> U \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : U\n  P \\<turnstile> U \\<le> T'\n\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(cases \"U = NT\")"], ["proof (state)\ngoal (2 subgoals):\n 1. U = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "case True"], ["proof (state)\nthis:\n  U = NT\n\ngoal (2 subgoals):\n 1. U = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  U = NT\n\ngoal (2 subgoals):\n 1. U = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> es [:] Us\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> es [:] Us", "by(rule WTrts_hext_mono[OF wtes red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> es [:] Us\n\ngoal (2 subgoals):\n 1. U = NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T\n 2. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  U = NT\n  P,E,hp s' \\<turnstile> es [:] Us", "show ?thesis"], ["proof (prove)\nusing this:\n  U = NT\n  P,E,hp s' \\<turnstile> es [:] Us\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wte'"], ["proof (prove)\nusing this:\n  U = NT\n  P,E,hp s' \\<turnstile> es [:] Us\n  P,E,hp s' \\<turnstile> e' : U\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(blast intro!:WTrtCallNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "case False"], ["proof (state)\nthis:\n  U \\<noteq> NT\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "with icto UsubC"], ["proof (chain)\npicking this:\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> U \\<le> T'\n  U \\<noteq> NT", "obtain C'\n        where icto': \"class_type_of' U = \\<lfloor>C'\\<rfloor>\" and \"subclass\": \"P \\<turnstile> C' \\<preceq>\\<^sup>* C\""], ["proof (prove)\nusing this:\n  class_type_of' T' = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> U \\<le> T'\n  U \\<noteq> NT\n\ngoal (1 subgoal):\n 1. (\\<And>C'.\n        \\<lbrakk>class_type_of' U = \\<lfloor>C'\\<rfloor>;\n         P \\<turnstile> C' \\<preceq>\\<^sup>* C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule widen_is_class_type_of)"], ["proof (state)\nthis:\n  class_type_of' U = \\<lfloor>C'\\<rfloor>\n  P \\<turnstile> C' \\<preceq>\\<^sup>* C\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "obtain Ts' T' meth' D'\n        where method': \"P \\<turnstile> C' sees M:Ts'\\<rightarrow>T' = meth' in D'\"\n        and subs': \"P \\<turnstile> Ts [\\<le>] Ts'\" and sub': \"P \\<turnstile> T' \\<le> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Ts' T' meth' D'.\n        \\<lbrakk>P \\<turnstile> C' sees M: Ts'\\<rightarrow>T' = meth' in D';\n         P \\<turnstile> Ts [\\<le>] Ts'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Call_lemma[OF \"method\" \"subclass\" wf]"], ["proof (prove)\nusing this:\n  \\<exists>D' Ts' T' m'.\n     P \\<turnstile> C' sees M: Ts'\\<rightarrow>T' = m' in D' \\<and>\n     P \\<turnstile> Ts [\\<le>] Ts' \\<and>\n     P \\<turnstile> T' \\<le> T \\<and>\n     P \\<turnstile> C' \\<preceq>\\<^sup>* D' \\<and>\n     is_type P T' \\<and>\n     (\\<forall>T\\<in>set Ts'. is_type P T) \\<and>\n     (m' \\<noteq> None \\<longrightarrow>\n      wf_J_mdecl P D' (M, Ts', T', the m'))\n\ngoal (1 subgoal):\n 1. (\\<And>Ts' T' meth' D'.\n        \\<lbrakk>P \\<turnstile> C' sees M: Ts'\\<rightarrow>T' = meth' in D';\n         P \\<turnstile> Ts [\\<le>] Ts'; P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fast"], ["proof (state)\nthis:\n  P \\<turnstile> C' sees M: Ts'\\<rightarrow>T' = meth' in D'\n  P \\<turnstile> Ts [\\<le>] Ts'\n  P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "have wtes': \"P,E,hp s' \\<turnstile> es [:] Us\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> es [:] Us", "by(rule WTrts_hext_mono[OF wtes red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> es [:] Us\n\ngoal (1 subgoal):\n 1. U \\<noteq> NT \\<Longrightarrow>\n    \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using wtes' wte' icto' subs method' subs' sub'"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> es [:] Us\n  P,E,hp s' \\<turnstile> e' : U\n  class_type_of' U = \\<lfloor>C'\\<rfloor>\n  P \\<turnstile> Us [\\<le>] Ts\n  P \\<turnstile> C' sees M: Ts'\\<rightarrow>T' = meth' in D'\n  P \\<turnstile> Ts [\\<le>] Ts'\n  P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(blast intro:widens_trans)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix Ts"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume \"P,E,hp s \\<turnstile> e:NT\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : NT\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "hence \"P,E,hp s' \\<turnstile> e' : NT\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "using IH[OF conf _ tconf]"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : NT\n  P,E,hp s \\<turnstile> e : ?T15 \\<Longrightarrow>\n  \\<exists>U.\n     P,E,hp s' \\<turnstile> e' : U \\<and> P \\<turnstile> U \\<le> ?T15\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e' : NT", "by fastforce"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : NT\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix Ts"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wtes: \"P,E,hp s \\<turnstile> es [:] Ts\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> es [:] Ts\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> es [:] Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> es [:] Ts", "by(rule WTrts_hext_mono[OF wtes red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> es [:] Ts\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> es [:] Ts", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : NT\n  P,E,hp s' \\<turnstile> es [:] Ts\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(blast intro!:WTrtCallNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e'\\<bullet>M(es) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (53 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(null) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 53 subgoals...", "next"], ["proof (state)\ngoal (53 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(null) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 53 subgoals...", "case (CallParams es s ta es' s' v M T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                         \\<langle>es',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> es [:] ?Ts15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Ts'.\n                       P,?E15,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                       P \\<turnstile> Ts' [\\<le>] ?Ts15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (53 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(null) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 53 subgoals...", "have reds: \"extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle>\"\n   and IH: \"\\<And>Ts E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> es [:] Ts; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'. P,E,hp s' \\<turnstile> es' [:] Ts' \\<and> P \\<turnstile> Ts' [\\<le>] Ts\"\n   and conf: \"E \\<turnstile> s \\<surd>\" and wt: \"P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T\" \n   and tconf: \"P,hp s \\<turnstile> t \\<surd>t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                            \\<langle>es',s'\\<rangle> &&&\n     (\\<And>Ts E.\n         \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> es [:] Ts;\n          P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n         \\<Longrightarrow> \\<exists>Ts'.\n                              P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] Ts)) &&&\n    E \\<turnstile> s \\<surd> &&&\n    P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T &&&\n    P,hp s \\<turnstile> t \\<surd>t", "by fact+"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                         \\<langle>es',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>;\n   P,?E15,hp s \\<turnstile> es [:] ?Ts15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Ts'.\n                       P,?E15,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                       P \\<turnstile> Ts' [\\<le>] ?Ts15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (53 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>es s ta es' s' v M T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(null) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 53 subgoals...", "from wt"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T", "show ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v\\<bullet>M(es) : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>M(es') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof (rule WTrt_elim_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix U C Ts meth D Us"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wte: \"P,E,hp s \\<turnstile> Val v : U\" and icto: \"class_type_of' U = \\<lfloor>C\\<rfloor>\"\n      and \"P \\<turnstile> C sees M:Ts\\<rightarrow>T = meth in D\"\n      and wtes: \"P,E,hp s \\<turnstile> es [:] Us\" and \"P \\<turnstile> Us [\\<le>] Ts\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val v : U\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D\n  P,E,hp s \\<turnstile> es [:] Us\n  P \\<turnstile> Us [\\<le>] Ts\n\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val v : U\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D\n  P,E,hp s \\<turnstile> es [:] Us\n  P \\<turnstile> Us [\\<le>] Ts\n\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> Val v : U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> Val v : U", "by(rule WTrt_hext_mono[OF wte reds_hext_incr[OF reds]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val v : U\n\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> Val v : U\n\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "obtain Us' where \"P,E,hp s' \\<turnstile> es' [:] Us'\" \"P \\<turnstile> Us' [\\<le>] Us\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Us'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> es' [:] Us';\n         P \\<turnstile> Us' [\\<le>] Us\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using IH[OF conf wtes tconf]"], ["proof (prove)\nusing this:\n  \\<exists>Ts'.\n     P,E,hp s' \\<turnstile> es' [:] Ts' \\<and> P \\<turnstile> Ts' [\\<le>] Us\n\ngoal (1 subgoal):\n 1. (\\<And>Us'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> es' [:] Us';\n         P \\<turnstile> Us' [\\<le>] Us\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> es' [:] Us'\n  P \\<turnstile> Us' [\\<le>] Us\n\ngoal (2 subgoals):\n 1. \\<And>U C Ts meth D Ts'.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,hp s \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v : U\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D\n  P,E,hp s \\<turnstile> es [:] Us\n  P \\<turnstile> Us [\\<le>] Ts\n  P,E,hp s' \\<turnstile> Val v : U\n  P,E,hp s' \\<turnstile> es' [:] Us'\n  P \\<turnstile> Us' [\\<le>] Us", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v : U\n  class_type_of' U = \\<lfloor>C\\<rfloor>\n  P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D\n  P,E,hp s \\<turnstile> es [:] Us\n  P \\<turnstile> Us [\\<le>] Ts\n  P,E,hp s' \\<turnstile> Val v : U\n  P,E,hp s' \\<turnstile> es' [:] Us'\n  P \\<turnstile> Us' [\\<le>] Us\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>M(es') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro:WTrtCall widens_trans)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>M(es') : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix Us"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume null: \"P,E,hp s \\<turnstile> Val v : NT\" and wtes: \"P,E,hp s \\<turnstile> es [:] Us\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> Val v : NT\n  P,E,hp s \\<turnstile> es [:] Us\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from null"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> Val v : NT", "have \"v = Null\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> Val v : NT\n\ngoal (1 subgoal):\n 1. v = Null", "by simp"], ["proof (state)\nthis:\n  v = Null\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  v = Null\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "obtain Us' where \"P,E,hp s' \\<turnstile> es' [:] Us' \\<and> P \\<turnstile> Us' [\\<le>] Us\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Us'.\n        P,E,hp s' \\<turnstile> es' [:] Us' \\<and>\n        P \\<turnstile> Us' [\\<le>] Us \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using IH[OF conf wtes tconf]"], ["proof (prove)\nusing this:\n  \\<exists>Ts'.\n     P,E,hp s' \\<turnstile> es' [:] Ts' \\<and> P \\<turnstile> Ts' [\\<le>] Us\n\ngoal (1 subgoal):\n 1. (\\<And>Us'.\n        P,E,hp s' \\<turnstile> es' [:] Us' \\<and>\n        P \\<turnstile> Us' [\\<le>] Us \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> es' [:] Us' \\<and> P \\<turnstile> Us' [\\<le>] Us\n\ngoal (1 subgoal):\n 1. \\<And>Ts.\n       \\<lbrakk>P,E,hp s \\<turnstile> Val v : NT;\n        P,E,hp s \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> Val\n              v\\<bullet>M(es') : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  v = Null\n  P,E,hp s' \\<turnstile> es' [:] Us' \\<and> P \\<turnstile> Us' [\\<le>] Us", "show ?thesis"], ["proof (prove)\nusing this:\n  v = Null\n  P,E,hp s' \\<turnstile> es' [:] Us' \\<and> P \\<turnstile> Us' [\\<le>] Us\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> Val v\\<bullet>M(es') : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce intro:WTrtCallNT)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>M(es') : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> Val v\\<bullet>M(es') : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "next"], ["proof (state)\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "case (RedCall s a U M Ts T pns body D vs T' E)"], ["proof (state)\nthis:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of\n                  U sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                   body)\\<rfloor> in D\n  length vs = length pns\n  length Ts = length pns\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T'\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "have hp: \"typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\"\n    and \"method\": \"P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,body)\\<rfloor> in D\"\n    and wt: \"P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. typeof_addr (hp s) a = \\<lfloor>U\\<rfloor> &&&\n    P \\<turnstile> class_type_of\n                    U sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                     body)\\<rfloor> in D &&&\n    P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T'", "by fact+"], ["proof (state)\nthis:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of\n                  U sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                   body)\\<rfloor> in D\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T'\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "obtain Ts' where wtes: \"P,E,hp s \\<turnstile> map Val vs [:] Ts'\"\n    and subs: \"P \\<turnstile> Ts' [\\<le>] Ts\" and T'isT: \"T' = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Ts'.\n        \\<lbrakk>P,E,hp s \\<turnstile> map Val vs [:] Ts';\n         P \\<turnstile> Ts' [\\<le>] Ts; T' = T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using wt \"method\" hp wf"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T'\n  P \\<turnstile> class_type_of\n                  U sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                   body)\\<rfloor> in D\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  wf_J_prog P\n\ngoal (1 subgoal):\n 1. (\\<And>Ts'.\n        \\<lbrakk>P,E,hp s \\<turnstile> map Val vs [:] Ts';\n         P \\<turnstile> Ts' [\\<le>] Ts; T' = T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto 4 3 dest: sees_method_fun)"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> map Val vs [:] Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n  T' = T\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "from wtes subs"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> map Val vs [:] Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts", "have length_vs: \"length vs = length Ts\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> map Val vs [:] Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n\ngoal (1 subgoal):\n 1. length vs = length Ts", "by(auto simp add: WTrts_conv_list_all2 dest!: list_all2_lengthD)"], ["proof (state)\nthis:\n  length vs = length Ts\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "have UsubD: \"P \\<turnstile> ty_of_htype U \\<le> Class (class_type_of U)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<turnstile> ty_of_htype U \\<le> Class (class_type_of U)", "by(cases U)(simp_all add: widen_array_object)"], ["proof (state)\nthis:\n  P \\<turnstile> ty_of_htype U \\<le> Class (class_type_of U)\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "from sees_wf_mdecl[OF wf \"method\"]"], ["proof (chain)\npicking this:\n  wf_mdecl wf_J_mdecl P D (M, Ts, T, \\<lfloor>(pns, body)\\<rfloor>)", "obtain T''\n    where wtabody: \"P,[this#pns [\\<mapsto>] Class D#Ts] \\<turnstile> body :: T''\"\n    and T''subT: \"P \\<turnstile> T'' \\<le> T\" and length_pns: \"length pns = length Ts\""], ["proof (prove)\nusing this:\n  wf_mdecl wf_J_mdecl P D (M, Ts, T, \\<lfloor>(pns, body)\\<rfloor>)\n\ngoal (1 subgoal):\n 1. (\\<And>T''.\n        \\<lbrakk>P,[this # pns [\\<mapsto>]\n                    Class D # Ts] \\<turnstile> body :: T'';\n         P \\<turnstile> T'' \\<le> T; length pns = length Ts\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce simp:wf_mdecl_def simp del:map_upds_twist)"], ["proof (state)\nthis:\n  P,[this # pns [\\<mapsto>] Class D # Ts] \\<turnstile> body :: T''\n  P \\<turnstile> T'' \\<le> T\n  length pns = length Ts\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "from wtabody"], ["proof (chain)\npicking this:\n  P,[this # pns [\\<mapsto>] Class D # Ts] \\<turnstile> body :: T''", "have \"P,Map.empty(this#pns [\\<mapsto>] Class D#Ts),hp s \\<turnstile> body : T''\""], ["proof (prove)\nusing this:\n  P,[this # pns [\\<mapsto>] Class D # Ts] \\<turnstile> body :: T''\n\ngoal (1 subgoal):\n 1. P,[this # pns [\\<mapsto>] Class D # Ts],hp s \\<turnstile> body : T''", "by(rule WT_implies_WTrt)"], ["proof (state)\nthis:\n  P,[this # pns [\\<mapsto>] Class D # Ts],hp s \\<turnstile> body : T''\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "hence \"P,E(this#pns [\\<mapsto>] Class D#Ts),hp s \\<turnstile> body : T''\""], ["proof (prove)\nusing this:\n  P,[this # pns [\\<mapsto>] Class D # Ts],hp s \\<turnstile> body : T''\n\ngoal (1 subgoal):\n 1. P,E(this # pns [\\<mapsto>] Class D # Ts),hp s \\<turnstile> body : T''", "by(rule WTrt_env_mono) simp"], ["proof (state)\nthis:\n  P,E(this # pns [\\<mapsto>] Class D # Ts),hp s \\<turnstile> body : T''\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "hence \"P,E,hp s \\<turnstile> blocks (this#pns) (Class D#Ts) (Addr a#vs) body : T''\""], ["proof (prove)\nusing this:\n  P,E(this # pns [\\<mapsto>] Class D # Ts),hp s \\<turnstile> body : T''\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> blocks (this # pns) (Class D # Ts) (Addr a # vs)\n                           body : T''", "using wtes subs hp sees_method_decl_above[OF \"method\"] length_vs length_pns UsubD"], ["proof (prove)\nusing this:\n  P,E(this # pns [\\<mapsto>] Class D # Ts),hp s \\<turnstile> body : T''\n  P,E,hp s \\<turnstile> map Val vs [:] Ts'\n  P \\<turnstile> Ts' [\\<le>] Ts\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U \\<preceq>\\<^sup>* D\n  length vs = length Ts\n  length pns = length Ts\n  P \\<turnstile> ty_of_htype U \\<le> Class (class_type_of U)\n\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> blocks (this # pns) (Class D # Ts) (Addr a # vs)\n                           body : T''", "by(auto simp add:wt_blocks rel_list_all2_Cons2 intro: widen_trans)"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> blocks (this # pns) (Class D # Ts) (Addr a # vs)\n                         body : T''\n\ngoal (52 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T pns body D vs Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = \\<lfloor>(pns,\n                          body)\\<rfloor> in D;\n        length vs = length pns; length Ts = length pns;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> blocks (this # pns)\n             (Class D # Ts) (Addr a # vs) body : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> sync(addr a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 52 subgoals...", "with T''subT T'isT"], ["proof (chain)\npicking this:\n  P \\<turnstile> T'' \\<le> T\n  T' = T\n  P,E,hp s \\<turnstile> blocks (this # pns) (Class D # Ts) (Addr a # vs)\n                         body : T''", "show ?case"], ["proof (prove)\nusing this:\n  P \\<turnstile> T'' \\<le> T\n  T' = T\n  P,E,hp s \\<turnstile> blocks (this # pns) (Class D # Ts) (Addr a # vs)\n                         body : T''\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp s \\<turnstile> blocks (this # pns) (Class D # Ts)\n                              (Addr a # vs) body : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'a.\n     P,E,hp s \\<turnstile> blocks (this # pns) (Class D # Ts) (Addr a # vs)\n                            body : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (51 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 51 subgoals...", "next"], ["proof (state)\ngoal (51 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 51 subgoals...", "case (RedCallExternal s a U M Ts T' D vs ta va h' ta' e' s')"], ["proof (state)\nthis:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n  ta' = extTA ta\n  e' = extRet2J (addr a\\<bullet>M(map Val vs)) va\n  s' = (h', lcl s)\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (51 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 51 subgoals...", "from \\<open>P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\\<close>"], ["proof (chain)\npicking this:\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>", "have \"hp s \\<unlhd> h'\""], ["proof (prove)\nusing this:\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n\ngoal (1 subgoal):\n 1. hp s \\<unlhd> h'", "by(rule red_external_hext)"], ["proof (state)\nthis:\n  hp s \\<unlhd> h'\n\ngoal (51 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 51 subgoals...", "with \\<open>P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  hp s \\<unlhd> h'", "have \"P,E,h' \\<turnstile> addr a\\<bullet>M(map Val vs) : T\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  hp s \\<unlhd> h'\n\ngoal (1 subgoal):\n 1. P,E,h' \\<turnstile> addr a\\<bullet>M(map Val vs) : T", "by(rule WTrt_hext_mono)"], ["proof (state)\nthis:\n  P,E,h' \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n\ngoal (51 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 51 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,E,h' \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n\ngoal (51 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 51 subgoals...", "from \\<open>typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\\<close> \\<open>P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\\<close> \\<open>P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\\<close>"], ["proof (chain)\npicking this:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T", "have \"P,hp s \\<turnstile> a\\<bullet>M(vs) : T'\""], ["proof (prove)\nusing this:\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n\ngoal (1 subgoal):\n 1. P,hp s \\<turnstile> a\\<bullet>M(vs) : T'", "by(fastforce simp add: external_WT'_iff dest: sees_method_fun)"], ["proof (state)\nthis:\n  P,hp s \\<turnstile> a\\<bullet>M(vs) : T'\n\ngoal (51 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a hU M Ts T D vs ta va h' ta' e' s' Ta E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>hU\\<rfloor>;\n        P \\<turnstile> class_type_of\n                        hU sees M: Ts\\<rightarrow>T = Native in D;\n        P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                         hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,\n                     h'\\<rangle>;\n        ta' = extTA ta; e' = extRet2J (addr a\\<bullet>M(map Val vs)) va;\n        s' = (h', lcl s); E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' a T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 51 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P,E,h' \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  P,hp s \\<turnstile> a\\<bullet>M(vs) : T'", "show ?case"], ["proof (prove)\nusing this:\n  P,E,h' \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  P,hp s \\<turnstile> a\\<bullet>M(vs) : T'\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T", "using RedCallExternal"], ["proof (prove)\nusing this:\n  P,E,h' \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  P,hp s \\<turnstile> a\\<bullet>M(vs) : T'\n  typeof_addr (hp s) a = \\<lfloor>U\\<rfloor>\n  P \\<turnstile> class_type_of U sees M: Ts\\<rightarrow>T' = Native in D\n  P,t \\<turnstile> \\<langle>a\\<bullet>M(vs),\n                   hp s\\<rangle> -ta\\<rightarrow>ext \\<langle>va,h'\\<rangle>\n  ta' = extTA ta\n  e' = extRet2J (addr a\\<bullet>M(map Val vs)) va\n  s' = (h', lcl s)\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> addr a\\<bullet>M(map Val vs) : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T", "by(auto 4 3 intro: red_external_conf_extRet[OF wf] intro!: wt_external_call simp add: sconf_def dest: sees_method_fun[where C=\"class_type_of U\"])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (50 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a v s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> insync(a) Val v : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 50 subgoals...", "next"], ["proof (state)\ngoal (50 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a v s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> insync(a) Val v : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 50 subgoals...", "case RedCallNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>M_(map Val vs_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (50 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>M vs s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> null\\<bullet>M(map Val vs) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a v s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> insync(a) Val v : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 50 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> null\\<bullet>M_(map Val vs_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> null\\<bullet>M_(map Val vs_) : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "next"], ["proof (state)\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "case (BlockRed e h x V vo ta e' h' x' T T' E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,\n                          (h, x(V := vo))\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',(h', x')\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> (h, x(V := vo)) \\<surd>;\n   P,?E15,hp (h, x(V := vo)) \\<turnstile> e : ?T15;\n   P,hp (h, x(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp (h', x') \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> (h, x) \\<surd>\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\n  P,hp (h, x) \\<turnstile> t \\<surd>t\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "note IH = \\<open>\\<And>T E. \\<lbrakk>E \\<turnstile> (h, x(V := vo)) \\<surd>; P,E,hp (h, x(V := vo)) \\<turnstile> e : T; P,hp (h, x(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n             \\<Longrightarrow> \\<exists>T'. P,E,hp (h', x') \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\\<close>[simplified]"], ["proof (state)\nthis:\n  \\<lbrakk>?E \\<turnstile> (h, x(V := vo)) \\<surd>;\n   P,?E,h \\<turnstile> e : ?T; P,h \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E,h' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "from \\<open>P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'", "have \"P,E(V\\<mapsto>T),h \\<turnstile> e : T'\""], ["proof (prove)\nusing this:\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\n\ngoal (1 subgoal):\n 1. P,E(V \\<mapsto> T),h \\<turnstile> e : T'", "by(cases vo, auto)"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "moreover"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "from \\<open>E \\<turnstile> (h, x) \\<surd>\\<close> \\<open>P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\\<close>"], ["proof (chain)\npicking this:\n  E \\<turnstile> (h, x) \\<surd>\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'", "have \"(E(V \\<mapsto> T)) \\<turnstile> (h, x(V := vo)) \\<surd>\""], ["proof (prove)\nusing this:\n  E \\<turnstile> (h, x) \\<surd>\n  P,E,hp (h, x) \\<turnstile> {V:T=vo; e} : T'\n\ngoal (1 subgoal):\n 1. E(V \\<mapsto> T) \\<turnstile> (h, x(V := vo)) \\<surd>", "by(cases vo)(simp add: lconf_def sconf_def,auto simp add: sconf_def conf_def intro: lconf_upd2)"], ["proof (state)\nthis:\n  E(V \\<mapsto> T) \\<turnstile> (h, x(V := vo)) \\<surd>\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n  E(V \\<mapsto> T) \\<turnstile> (h, x(V := vo)) \\<surd>", "obtain T'' where wt': \"P,E(V\\<mapsto>T),h' \\<turnstile> e' : T''\" \"P \\<turnstile> T'' \\<le> T'\""], ["proof (prove)\nusing this:\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n  E(V \\<mapsto> T) \\<turnstile> (h, x(V := vo)) \\<surd>\n\ngoal (1 subgoal):\n 1. (\\<And>T''.\n        \\<lbrakk>P,E(V \\<mapsto> T),h' \\<turnstile> e' : T'';\n         P \\<turnstile> T'' \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>P,hp (h, x) \\<turnstile> t \\<surd>t\\<close>"], ["proof (prove)\nusing this:\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n  E(V \\<mapsto> T) \\<turnstile> (h, x(V := vo)) \\<surd>\n  P,hp (h, x) \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. (\\<And>T''.\n        \\<lbrakk>P,E(V \\<mapsto> T),h' \\<turnstile> e' : T'';\n         P \\<turnstile> T'' \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto dest: IH)"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> T),h' \\<turnstile> e' : T''\n  P \\<turnstile> T'' \\<le> T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "{"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> T),h' \\<turnstile> e' : T''\n  P \\<turnstile> T'' \\<le> T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "fix v"], ["proof (state)\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "assume vo: \"x' V = \\<lfloor>v\\<rfloor>\""], ["proof (state)\nthis:\n  x' V = \\<lfloor>v\\<rfloor>\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "from \\<open>(E(V \\<mapsto> T)) \\<turnstile> (h, x(V := vo)) \\<surd>\\<close> \\<open>extTA,P,t \\<turnstile> \\<langle>e,(h, x(V := vo))\\<rangle> -ta\\<rightarrow> \\<langle>e',(h', x')\\<rangle>\\<close> \\<open>P,E(V\\<mapsto>T),h \\<turnstile> e : T'\\<close>"], ["proof (chain)\npicking this:\n  E(V \\<mapsto> T) \\<turnstile> (h, x(V := vo)) \\<surd>\n  extTA,P,t \\<turnstile> \\<langle>e,\n                          (h, x(V := vo))\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',(h', x')\\<rangle>\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'", "have \"P,h' \\<turnstile> x' (:\\<le>) (E(V \\<mapsto> T))\""], ["proof (prove)\nusing this:\n  E(V \\<mapsto> T) \\<turnstile> (h, x(V := vo)) \\<surd>\n  extTA,P,t \\<turnstile> \\<langle>e,\n                          (h, x(V := vo))\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',(h', x')\\<rangle>\n  P,E(V \\<mapsto> T),h \\<turnstile> e : T'\n\ngoal (1 subgoal):\n 1. P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)", "by(auto simp add: sconf_def dest: red_preserves_lconf)"], ["proof (state)\nthis:\n  P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "with vo"], ["proof (chain)\npicking this:\n  x' V = \\<lfloor>v\\<rfloor>\n  P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)", "have \"\\<exists>T'. typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and> P \\<turnstile> T' \\<le> T\""], ["proof (prove)\nusing this:\n  x' V = \\<lfloor>v\\<rfloor>\n  P,h' \\<turnstile> x' (:\\<le>) E(V \\<mapsto> T)\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: sconf_def lconf_def conf_def)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n     P \\<turnstile> T' \\<le> T", "obtain T' where \"typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor>\" \"P \\<turnstile> T' \\<le> T\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        \\<lbrakk>typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor>;\n         P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor>\n  P \\<turnstile> T' \\<le> T\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "hence ?case"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor>\n  P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'__", "using wt' vo"], ["proof (prove)\nusing this:\n  typeof\\<^bsub>h'\\<^esub> v = \\<lfloor>T'\\<rfloor>\n  P \\<turnstile> T' \\<le> T\n  P,E(V \\<mapsto> T),h' \\<turnstile> e' : T''\n  P \\<turnstile> T'' \\<le> T'__\n  x' V = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'__", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'__\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "}"], ["proof (state)\nthis:\n  x' V = \\<lfloor>?v17\\<rfloor> \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "moreover"], ["proof (state)\nthis:\n  x' V = \\<lfloor>?v17\\<rfloor> \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "{"], ["proof (state)\nthis:\n  x' V = \\<lfloor>?v17\\<rfloor> \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "assume \"x' V = None\""], ["proof (state)\nthis:\n  x' V = None\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "with wt'"], ["proof (chain)\npicking this:\n  P,E(V \\<mapsto> T),h' \\<turnstile> e' : T''\n  P \\<turnstile> T'' \\<le> T'\n  x' V = None", "have ?case"], ["proof (prove)\nusing this:\n  P,E(V \\<mapsto> T),h' \\<turnstile> e' : T''\n  P \\<turnstile> T'' \\<le> T'\n  x' V = None\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "}"], ["proof (state)\nthis:\n  x' V = None \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (49 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e h l V vo ta e' h' l' T Ta E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n \\<langle>e',(h', l')\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> (h, l(V := vo)) \\<surd>;\n            P,E,hp (h, l(V := vo)) \\<turnstile> e : T;\n            P,hp (h, l(V := vo)) \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp (h', l') \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> {V:T=vo; e} : Ta;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l'\n                                    (V :=\n l V)) \\<turnstile> {V:T=l' V; e'} : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 49 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  x' V = \\<lfloor>?v17\\<rfloor> \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n  x' V = None \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'", "show ?case"], ["proof (prove)\nusing this:\n  x' V = \\<lfloor>?v17\\<rfloor> \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n  x' V = None \\<Longrightarrow>\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (1 subgoal):\n 1. \\<exists>T'a.\n       P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n       P \\<turnstile> T'a \\<le> T'", "by blast"], ["proof (state)\nthis:\n  \\<exists>T'a.\n     P,E,hp (h', x'(V := x V)) \\<turnstile> {V:T=x' V; e'} : T'a \\<and>\n     P \\<turnstile> T'a \\<le> T'\n\ngoal (48 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v;; e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 48 subgoals...", "next"], ["proof (state)\ngoal (48 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v;; e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 48 subgoals...", "case RedBlock"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> {V_:T_=vo_; Val u_} : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (48 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>V T vo u s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> {V:T=vo; Val u} : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val u : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v e s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v;; e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 48 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> {V_:T_=vo_; Val u_} : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Val u_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Val u_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (47 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b s ta b' s' e1 e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>b',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> if (b') e1\n                             else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 47 subgoals...", "next"], ["proof (state)\ngoal (47 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b s ta b' s' e1 e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>b',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> if (b') e1\n                             else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 47 subgoals...", "case (SynchronizedRed1 o' s ta o'' s' e T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>o'',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> o' : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> o'' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> sync(o') e : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (47 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b s ta b' s' e1 e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>b',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> if (b') e1\n                             else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 47 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow> \\<langle>o'',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                           \\<langle>o'',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>o'',s'\\<rangle>\n\ngoal (47 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b s ta b' s' e1 e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>b',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> if (b') e1\n                             else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 47 subgoals...", "have IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> o'' : T' \\<and> P \\<turnstile> T' \\<le> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> o' : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> o'' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n\ngoal (47 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b s ta b' s' e1 e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>b',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> if (b') e1\n                             else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 47 subgoals...", "have conf: \"E \\<turnstile> s \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. E \\<turnstile> s \\<surd>", "by fact"], ["proof (state)\nthis:\n  E \\<turnstile> s \\<surd>\n\ngoal (47 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b s ta b' s' e1 e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>b',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> if (b') e1\n                             else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 47 subgoals...", "have wt: \"P,E,hp s \\<turnstile> sync(o') e : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> sync(o') e : T", "by fact+"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> sync(o') e : T\n\ngoal (47 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>o' s ta o'' s' e T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>o',\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>o'',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> o' : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> o'' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> sync(o') e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b s ta b' s' e1 e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>b',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> if (b') e1\n                             else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 47 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> sync(o') e : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix To"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wto: \"P,E,hp s \\<turnstile> o' : To\"\n      and refT: \"is_refT To\" \n      and wte: \"P,E,hp s \\<turnstile> e : T\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> o' : To\n  is_refT To\n  P,E,hp s \\<turnstile> e : T\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from IH[OF conf wto \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> o'' : T' \\<and> P \\<turnstile> T' \\<le> To", "obtain To' where \"P,E,hp s' \\<turnstile> o'' : To'\" and sub: \"P \\<turnstile> To' \\<le> To\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> o'' : T' \\<and> P \\<turnstile> T' \\<le> To\n\ngoal (1 subgoal):\n 1. (\\<And>To'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> o'' : To';\n         P \\<turnstile> To' \\<le> To\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> o'' : To'\n  P \\<turnstile> To' \\<le> To\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> o'' : To'\n  P \\<turnstile> To' \\<le> To\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> e : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e : T", "by(rule WTrt_hext_mono[OF wte red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e : T\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e : T\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have \"is_refT To'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_refT To'", "using refT sub"], ["proof (prove)\nusing this:\n  is_refT To\n  P \\<turnstile> To' \\<le> To\n\ngoal (1 subgoal):\n 1. is_refT To'", "by(auto intro: widen_refT)"], ["proof (state)\nthis:\n  is_refT To'\n\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>P,E,hp s \\<turnstile> o' : T; is_refT T;\n        P,E,hp s \\<turnstile> e : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> o'' : To'\n  P \\<turnstile> To' \\<le> To\n  P,E,hp s' \\<turnstile> e : T\n  is_refT To'", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> o'' : To'\n  P \\<turnstile> To' \\<le> To\n  P,E,hp s' \\<turnstile> e : T\n  is_refT To'\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> sync(o'') e : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (46 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 10. \\<And>e1 e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e1 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 46 subgoals...", "next"], ["proof (state)\ngoal (46 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 10. \\<And>e1 e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e1 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 46 subgoals...", "case SynchronizedNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> sync(null) e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (46 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(null) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 10. \\<And>e1 e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e1 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 46 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> sync(null) e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> sync(null) e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (45 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e1 e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 45 subgoals...", "next"], ["proof (state)\ngoal (45 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e1 e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 45 subgoals...", "case LockSynchronized"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> sync(addr a_) e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (45 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> sync(addr a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> insync(a) e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e1 e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 45 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> sync(addr a_) e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> insync(a_) e_ : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> insync(a_) e_ : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (44 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b c s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> while (b) c : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                             else unit : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 44 subgoals...", "next"], ["proof (state)\ngoal (44 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b c s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> while (b) c : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                             else unit : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 44 subgoals...", "case (SynchronizedRed2 e s ta e' s' a T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> insync(a) e : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (44 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b c s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> while (b) c : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                             else unit : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 44 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                           \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n\ngoal (44 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b c s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> while (b) c : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                             else unit : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 44 subgoals...", "have IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n\ngoal (44 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b c s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> while (b) c : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                             else unit : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 44 subgoals...", "have conf: \"E \\<turnstile> s \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. E \\<turnstile> s \\<surd>", "by fact"], ["proof (state)\nthis:\n  E \\<turnstile> s \\<surd>\n\ngoal (44 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b c s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> while (b) c : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                             else unit : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 44 subgoals...", "have wt: \"P,E,hp s \\<turnstile> insync(a) e : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> insync(a) e : T", "by fact"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> insync(a) e : T\n\ngoal (44 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' a T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> insync(a) e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>b c s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> while (b) c : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                             else unit : T' \\<and> P \\<turnstile> T' \\<le> T\nA total of 44 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> insync(a) e : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n        typeof_addr (hp s) a = \\<lfloor>z\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix Ta"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n        typeof_addr (hp s) a = \\<lfloor>z\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume \"P,E,hp s \\<turnstile> e : T\"\n      and hpa: \"typeof_addr (hp s) a = \\<lfloor>Ta\\<rfloor>\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T\n  typeof_addr (hp s) a = \\<lfloor>Ta\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n        typeof_addr (hp s) a = \\<lfloor>z\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from \\<open>P,E,hp s \\<turnstile> e : T\\<close> conf \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e : T\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t", "obtain T'\n      where \"P,E,hp s' \\<turnstile> e' : T'\" \"P \\<turnstile> T' \\<le> T\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e : T\n  E \\<turnstile> s \\<surd>\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : T';\n         P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: IH)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T'\n  P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n        typeof_addr (hp s) a = \\<lfloor>z\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T'\n  P \\<turnstile> T' \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n        typeof_addr (hp s) a = \\<lfloor>z\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from red"], ["proof (chain)\npicking this:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>", "have hext: \"hp s \\<unlhd> hp s'\""], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. hp s \\<unlhd> hp s'", "by(auto dest: red_hext_incr)"], ["proof (state)\nthis:\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n        typeof_addr (hp s) a = \\<lfloor>z\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "with hpa"], ["proof (chain)\npicking this:\n  typeof_addr (hp s) a = \\<lfloor>Ta\\<rfloor>\n  hp s \\<unlhd> hp s'", "have \"P,E,hp s' \\<turnstile> addr a : ty_of_htype Ta\""], ["proof (prove)\nusing this:\n  typeof_addr (hp s) a = \\<lfloor>Ta\\<rfloor>\n  hp s \\<unlhd> hp s'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> addr a : ty_of_htype Ta", "by(auto intro: typeof_addr_hext_mono)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> addr a : ty_of_htype Ta\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T;\n        typeof_addr (hp s) a = \\<lfloor>z\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : T'\n  P \\<turnstile> T' \\<le> T\n  P,E,hp s' \\<turnstile> addr a : ty_of_htype Ta", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : T'\n  P \\<turnstile> T' \\<le> T\n  P,E,hp s' \\<turnstile> addr a : ty_of_htype Ta\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> insync(a) e' : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (43 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 43 subgoals...", "next"], ["proof (state)\ngoal (43 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 43 subgoals...", "case UnlockSynchronized"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> insync(a_) Val v_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (43 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>a v s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> insync(a) Val v : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 43 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> insync(a_) Val v_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (42 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> throw null : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 42 subgoals...", "next"], ["proof (state)\ngoal (42 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> throw null : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 42 subgoals...", "case SeqRed"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> e_ : ?T15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> e_;; e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (42 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e;; e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e';; e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> throw null : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw\n              (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 42 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> e_ : ?T15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> e_;; e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s'_ \\<turnstile> e'_;; e2_ : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "apply(auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e_,\n  s_\\<rangle> -ta_\\<rightarrow>\n \\<langle>e'_,s'_\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s_ \\<surd>;\n            P,E,hp s_ \\<turnstile> e_ : T\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s_ \\<surd>; P,hp s_ \\<turnstile> t \\<surd>t;\n        P,E,hp s_ \\<turnstile> e2_ : T;\n        P,E,hp s_ \\<turnstile> e_ : x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s'_ \\<turnstile> e2_ : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "apply(drule WTrt_hext_mono[OF _ red_hext_incr], assumption)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e_,\n  s_\\<rangle> -ta_\\<rightarrow>\n \\<langle>e'_,s'_\\<rangle>;\n        \\<And>E T.\n           \\<lbrakk>E \\<turnstile> s_ \\<surd>;\n            P,E,hp s_ \\<turnstile> e_ : T\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s'_ \\<turnstile> e'_ : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s_ \\<surd>; P,hp s_ \\<turnstile> t \\<surd>t;\n        P,E,hp s_ \\<turnstile> e_ : x;\n        P,E,hp s'_ \\<turnstile> e2_ : T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s'_ \\<turnstile> e2_ : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s'_ \\<turnstile> e'_;; e2_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (41 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' C V e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> try e'\n                             catch(C V) e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 41 subgoals...", "next"], ["proof (state)\ngoal (41 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' C V e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> try e'\n                             catch(C V) e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 41 subgoals...", "case (CondRed b s ta b' s' e1 e2 T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>b',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> b : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> b' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> if (b) e1 else e2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (41 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' C V e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> try e'\n                             catch(C V) e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 41 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow> \\<langle>b',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                           \\<langle>b',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>b',s'\\<rangle>\n\ngoal (41 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' C V e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> try e'\n                             catch(C V) e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 41 subgoals...", "have IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> b' : T' \\<and> P \\<turnstile> T' \\<le> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> b' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> b : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> b' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n\ngoal (41 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' C V e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> try e'\n                             catch(C V) e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 41 subgoals...", "have conf: \"E \\<turnstile> s \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. E \\<turnstile> s \\<surd>", "by fact"], ["proof (state)\nthis:\n  E \\<turnstile> s \\<surd>\n\ngoal (41 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' C V e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> try e'\n                             catch(C V) e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 41 subgoals...", "have wt: \"P,E,hp s \\<turnstile> if (b) e1 else e2 : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> if (b) e1 else e2 : T", "by fact"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> if (b) e1 else e2 : T\n\ngoal (41 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b s ta b' s' e1 e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>b,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>b',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> b : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> b' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (b) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' C V e2 T E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s' \\<turnstile> try e'\n                             catch(C V) e2 : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 41 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> if (b) e1 else e2 : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> if (b') e1 else e2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "fix T1 T2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "assume wtb: \"P,E,hp s \\<turnstile> b : Boolean\"\n      and wte1: \"P,E,hp s \\<turnstile> e1 : T1\"\n      and wte2: \"P,E,hp s \\<turnstile> e2 : T2\"\n      and lub: \"P \\<turnstile> lub(T1, T2) = T\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> b : Boolean\n  P,E,hp s \\<turnstile> e1 : T1\n  P,E,hp s \\<turnstile> e2 : T2\n  P \\<turnstile> lub(T1, T2) = T\n\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "from IH[OF conf wtb \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> b' : T' \\<and> P \\<turnstile> T' \\<le> Boolean", "have \"P,E,hp s' \\<turnstile> b' : Boolean\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> b' : T' \\<and> P \\<turnstile> T' \\<le> Boolean\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> b' : Boolean", "by(auto)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> b' : Boolean\n\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> b' : Boolean\n\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> e1 : T1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e1 : T1", "by(rule WTrt_hext_mono[OF wte1 red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e1 : T1\n\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e1 : T1\n\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "have \"P,E,hp s' \\<turnstile> e2 : T2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> e2 : T2", "by(rule WTrt_hext_mono[OF wte2 red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e2 : T2\n\ngoal (1 subgoal):\n 1. \\<And>T1 T2.\n       \\<lbrakk>P,E,hp s \\<turnstile> b : Boolean;\n        P,E,hp s \\<turnstile> e1 : T1; P,E,hp s \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> if (b') e1\n                            else e2 : T' \\<and> P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> b' : Boolean\n  P,E,hp s' \\<turnstile> e1 : T1\n  P,E,hp s' \\<turnstile> e2 : T2", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> b' : Boolean\n  P,E,hp s' \\<turnstile> e1 : T1\n  P,E,hp s' \\<turnstile> e2 : T2\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> if (b') e1 else e2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using lub"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> b' : Boolean\n  P,E,hp s' \\<turnstile> e1 : T1\n  P,E,hp s' \\<turnstile> e2 : T2\n  P \\<turnstile> lub(T1, T2) = T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> if (b') e1 else e2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> if (b') e1 else e2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> if (b') e1 else e2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "next"], ["proof (state)\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "case (ThrowRed e s ta e' s' T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> throw e : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "have IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "have conf: \"E \\<turnstile> s \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. E \\<turnstile> s \\<surd>", "by fact"], ["proof (state)\nthis:\n  E \\<turnstile> s \\<surd>\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "have wt: \"P,E,hp s \\<turnstile> throw e : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> throw e : T", "by fact"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> throw e : T\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "then"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> throw e : T", "obtain T'\n    where wte: \"P,E,hp s \\<turnstile> e : T'\" \n    and nobject: \"P \\<turnstile> T' \\<le> Class Throwable\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> throw e : T\n\ngoal (1 subgoal):\n 1. (\\<And>T'.\n        \\<lbrakk>P,E,hp s \\<turnstile> e : T';\n         P \\<turnstile> T' \\<le> Class Throwable\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T'\n  P \\<turnstile> T' \\<le> Class Throwable\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "from IH[OF conf wte \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'", "obtain T'' \n    where wte': \"P,E,hp s' \\<turnstile> e' : T''\"\n    and PT'T'': \"P \\<turnstile> T'' \\<le> T'\""], ["proof (prove)\nusing this:\n  \\<exists>T'a.\n     P,E,hp s' \\<turnstile> e' : T'a \\<and> P \\<turnstile> T'a \\<le> T'\n\ngoal (1 subgoal):\n 1. (\\<And>T''.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : T'';\n         P \\<turnstile> T'' \\<le> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T''\n  P \\<turnstile> T'' \\<le> T'\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "from nobject PT'T''"], ["proof (chain)\npicking this:\n  P \\<turnstile> T' \\<le> Class Throwable\n  P \\<turnstile> T'' \\<le> T'", "have \"P \\<turnstile> T'' \\<le> Class Throwable\""], ["proof (prove)\nusing this:\n  P \\<turnstile> T' \\<le> Class Throwable\n  P \\<turnstile> T'' \\<le> T'\n\ngoal (1 subgoal):\n 1. P \\<turnstile> T'' \\<le> Class Throwable", "by(auto simp add: widen_Class)(erule notE, rule rtranclp_trans)"], ["proof (state)\nthis:\n  P \\<turnstile> T'' \\<le> Class Throwable\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "hence \"P,E,hp s' \\<turnstile> throw e' : T\""], ["proof (prove)\nusing this:\n  P \\<turnstile> T'' \\<le> Class Throwable\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> throw e' : T", "using wte' PT'T''"], ["proof (prove)\nusing this:\n  P \\<turnstile> T'' \\<le> Class Throwable\n  P,E,hp s' \\<turnstile> e' : T''\n  P \\<turnstile> T'' \\<le> T'\n\ngoal (1 subgoal):\n 1. P,E,hp s' \\<turnstile> throw e' : T", "by -(erule WTrtThrow)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> throw e' : T\n\ngoal (40 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> throw e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> throw e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v C V e2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Val v : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 40 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> throw e' : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> throw e' : T' \\<and> P \\<turnstile> T' \\<le> T", "by(auto)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> throw e' : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (39 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> {V:Class\n                 C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 39 subgoals...", "next"], ["proof (state)\ngoal (39 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> {V:Class\n                 C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 39 subgoals...", "case RedThrowNull"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> throw null : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (39 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> throw null : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw\n             (addr_of_sys_xcpt NullPointer) : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> {V:Class\n                 C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 39 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> throw null : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> throw null : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw\n                               (addr_of_sys_xcpt NullPointer) : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw (addr_of_sys_xcpt NullPointer) : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (38 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 38 subgoals...", "next"], ["proof (state)\ngoal (38 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 38 subgoals...", "case (TryRed e s ta e' s' C V e2 T E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> try e catch(C V) e2 : T\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (38 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 38 subgoals...", "have red: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                           \\<langle>e',s'\\<rangle>", "by fact"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n\ngoal (38 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 38 subgoals...", "have IH: \"\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> e' : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n\ngoal (38 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 38 subgoals...", "have conf: \"E \\<turnstile> s \\<surd>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. E \\<turnstile> s \\<surd>", "by fact"], ["proof (state)\nthis:\n  E \\<turnstile> s \\<surd>\n\ngoal (38 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 38 subgoals...", "have wt: \"P,E,hp s \\<turnstile> try e catch(C V) e2 : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E,hp s \\<turnstile> try e catch(C V) e2 : T", "by fact"], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> try e catch(C V) e2 : T\n\ngoal (38 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' C V e2 T E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try e catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>s a D C V e2 T E.\n        \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n         \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n         E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 38 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> try e catch(C V) e2 : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> try e' catch(C V) e2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "proof(rule WTrt_elim_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T1.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T1;\n        P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T;\n        P \\<turnstile> T1 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "fix T1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>T1.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T1;\n        P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T;\n        P \\<turnstile> T1 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "assume wte: \"P,E,hp s \\<turnstile> e : T1\"\n      and wte2: \"P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T\"\n      and sub: \"P \\<turnstile> T1 \\<le> T\""], ["proof (state)\nthis:\n  P,E,hp s \\<turnstile> e : T1\n  P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T\n  P \\<turnstile> T1 \\<le> T\n\ngoal (1 subgoal):\n 1. \\<And>T1.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T1;\n        P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T;\n        P \\<turnstile> T1 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "from IH[OF conf wte \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T1", "obtain T1' where \"P,E,hp s' \\<turnstile> e' : T1'\" and \"P \\<turnstile> T1' \\<le> T1\""], ["proof (prove)\nusing this:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T1\n\ngoal (1 subgoal):\n 1. (\\<And>T1'.\n        \\<lbrakk>P,E,hp s' \\<turnstile> e' : T1';\n         P \\<turnstile> T1' \\<le> T1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T1'\n  P \\<turnstile> T1' \\<le> T1\n\ngoal (1 subgoal):\n 1. \\<And>T1.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T1;\n        P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T;\n        P \\<turnstile> T1 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "moreover"], ["proof (state)\nthis:\n  P,E,hp s' \\<turnstile> e' : T1'\n  P \\<turnstile> T1' \\<le> T1\n\ngoal (1 subgoal):\n 1. \\<And>T1.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T1;\n        P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T;\n        P \\<turnstile> T1 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "have \"P,E(V \\<mapsto> Class C),hp s' \\<turnstile> e2 : T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P,E(V \\<mapsto> Class C),hp s' \\<turnstile> e2 : T", "by(rule WTrt_hext_mono[OF wte2 red_hext_incr[OF red]])"], ["proof (state)\nthis:\n  P,E(V \\<mapsto> Class C),hp s' \\<turnstile> e2 : T\n\ngoal (1 subgoal):\n 1. \\<And>T1.\n       \\<lbrakk>P,E,hp s \\<turnstile> e : T1;\n        P,E(V \\<mapsto> Class C),hp s \\<turnstile> e2 : T;\n        P \\<turnstile> T1 \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s' \\<turnstile> try e'\n                            catch(C V) e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T", "ultimately"], ["proof (chain)\npicking this:\n  P,E,hp s' \\<turnstile> e' : T1'\n  P \\<turnstile> T1' \\<le> T1\n  P,E(V \\<mapsto> Class C),hp s' \\<turnstile> e2 : T", "show ?thesis"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : T1'\n  P \\<turnstile> T1' \\<le> T1\n  P,E(V \\<mapsto> Class C),hp s' \\<turnstile> e2 : T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> try e' catch(C V) e2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "using sub"], ["proof (prove)\nusing this:\n  P,E,hp s' \\<turnstile> e' : T1'\n  P \\<turnstile> T1' \\<le> T1\n  P,E(V \\<mapsto> Class C),hp s' \\<turnstile> e2 : T\n  P \\<turnstile> T1 \\<le> T\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s' \\<turnstile> try e' catch(C V) e2 : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(auto elim: widen_trans)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> try e' catch(C V) e2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s' \\<turnstile> try e' catch(C V) e2 : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (37 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' es Ts E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Ts'.\n                             P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                             P \\<turnstile> Ts' [\\<le>] Ts\nA total of 37 subgoals...", "next"], ["proof (state)\ngoal (37 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' es Ts E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Ts'.\n                             P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                             P \\<turnstile> Ts' [\\<le>] Ts\nA total of 37 subgoals...", "case RedTryFail"], ["proof (state)\nthis:\n  typeof_addr (hp s_) a_ = \\<lfloor>Class_type D_\\<rfloor>\n  \\<not> P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> try Throw a_ catch(C_ V_) e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (37 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        \\<not> P \\<turnstile> D \\<preceq>\\<^sup>* C;\n        E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>e s ta e' s' es Ts E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<And>T E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>T'.\n                                 P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                 P \\<turnstile> T' \\<le> T;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Ts'.\n                             P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                             P \\<turnstile> Ts' [\\<le>] Ts\nA total of 37 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Class_type D_\\<rfloor>\n  \\<not> P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> try Throw a_ catch(C_ V_) e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw a_ : T' \\<and> P \\<turnstile> T' \\<le> T", "unfolding sconf_def"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Class_type D_\\<rfloor>\n  \\<not> P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  let (h, l) = s_\n  in hconf h \\<and> P,h \\<turnstile> l (:\\<le>) E \\<and> preallocated h\n  P,E,hp s_ \\<turnstile> try Throw a_ catch(C_ V_) e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Throw a_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by(fastforce simp add: xcpt_subcls_Throwable[OF _ wf])"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Throw a_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (36 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 10. \\<And>es s ta es' s' v Ts E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n   s\\<rangle> [-ta\\<rightarrow>]\n  \\<langle>es',s'\\<rangle>;\n         \\<And>Ts E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>;\n             P,E,hp s \\<turnstile> es [:] Ts;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>Ts'.\n                                 P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                 P \\<turnstile> Ts' [\\<le>] Ts;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Ts'.\n                             P,E,hp s' \\<turnstile> Val v #\n              es' [:] Ts' \\<and>\n                             P \\<turnstile> Ts' [\\<le>] Ts\nA total of 36 subgoals...", "next"], ["proof (state)\ngoal (36 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 10. \\<And>es s ta es' s' v Ts E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n   s\\<rangle> [-ta\\<rightarrow>]\n  \\<langle>es',s'\\<rangle>;\n         \\<And>Ts E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>;\n             P,E,hp s \\<turnstile> es [:] Ts;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>Ts'.\n                                 P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                 P \\<turnstile> Ts' [\\<le>] Ts;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Ts'.\n                             P,E,hp s' \\<turnstile> Val v #\n              es' [:] Ts' \\<and>\n                             P \\<turnstile> Ts' [\\<le>] Ts\nA total of 36 subgoals...", "case RedSeq"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Val v_;; e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (36 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v e s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v;; e : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 7. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 10. \\<And>es s ta es' s' v Ts E.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n   s\\<rangle> [-ta\\<rightarrow>]\n  \\<langle>es',s'\\<rangle>;\n         \\<And>Ts E.\n            \\<lbrakk>E \\<turnstile> s \\<surd>;\n             P,E,hp s \\<turnstile> es [:] Ts;\n             P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n            \\<Longrightarrow> \\<exists>Ts'.\n                                 P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                 P \\<turnstile> Ts' [\\<le>] Ts;\n         E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Ts'.\n                             P,E,hp s' \\<turnstile> Val v #\n              es' [:] Ts' \\<and>\n                             P \\<turnstile> Ts' [\\<le>] Ts\nA total of 36 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Val v_;; e_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> e_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> e_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (35 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 6. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 9. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 10. \\<And>T a s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 35 subgoals...", "next"], ["proof (state)\ngoal (35 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 6. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 9. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 10. \\<And>T a s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 35 subgoals...", "case RedCondT"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> if (true) e1_ else e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (35 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (true) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e1 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 6. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 9. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 10. \\<And>T a s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 35 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> if (true) e1_ else e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> e1_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by(auto dest: is_lub_upper)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> e1_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (34 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 8. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 9. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>C a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 34 subgoals...", "next"], ["proof (state)\ngoal (34 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 8. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 9. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>C a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 34 subgoals...", "case RedCondF"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> if (false) e1_ else e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (34 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e1 e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> if (false) e1 else e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> e2 : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 5. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 8. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 9. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>C a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 34 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> if (false) e1_ else e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> e2_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by(auto dest: is_lub_upper)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> e2_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (33 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 4. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 7. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 8. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a T s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 33 subgoals...", "next"], ["proof (state)\ngoal (33 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 4. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 7. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 8. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a T s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 33 subgoals...", "case RedWhile"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> while (b_) c_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (33 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>b c s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> while (b) c : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> if (b) (c;; while (b) c)\n                            else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n 4. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 7. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 8. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a T s Ta E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> Ta\nA total of 33 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> while (b_) c_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> if (b_) (c_;; while (b_) c_)\n       else unit : T' \\<and> P \\<turnstile> T' \\<le> T", "by(fastforce)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> if (b_) (c_;; while (b_) c_)\n     else unit : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (32 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 6. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 7. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a bop e\\<^sub>2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw\n                                a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 32 subgoals...", "next"], ["proof (state)\ngoal (32 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 6. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 7. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a bop e\\<^sub>2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw\n                                a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 32 subgoals...", "case RedTry"], ["proof (state)\nthis:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> try Val v_ catch(C_ V_) e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (32 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>v C V e2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Val v catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Val v : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 6. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 7. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 10. \\<And>a bop e\\<^sub>2 s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw\n                                a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 32 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> try Val v_ catch(C_ V_) e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T", "by auto"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> Val v_ : T' \\<and> P \\<turnstile> T' \\<le> T\n\ngoal (31 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 6. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v\\<^sub>1 bop a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n       a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 31 subgoals...", "next"], ["proof (state)\ngoal (31 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 6. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v\\<^sub>1 bop a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n       a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 31 subgoals...", "case RedTryCatch"], ["proof (state)\nthis:\n  typeof_addr (hp s_) a_ = \\<lfloor>Class_type D_\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> try Throw a_ catch(C_ V_) e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (31 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>s a D C V e2 T E.\n       \\<lbrakk>typeof_addr (hp s) a = \\<lfloor>Class_type D\\<rfloor>;\n        P \\<turnstile> D \\<preceq>\\<^sup>* C; E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> try Throw a catch(C V) e2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> {V:Class\n                C=\\<lfloor>Addr a\\<rfloor>; e2} : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 4. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 6. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 9. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v\\<^sub>1 bop a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n       a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 31 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>Class_type D_\\<rfloor>\n  P \\<turnstile> D_ \\<preceq>\\<^sup>* C_\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> try Throw a_ catch(C_ V_) e2_ : T\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>T'.\n       P,E,hp s_ \\<turnstile> {V_:Class\n                                   C_=\\<lfloor>Addr\n          a_\\<rfloor>; e2_} : T' \\<and>\n       P \\<turnstile> T' \\<le> T", "by(fastforce)"], ["proof (state)\nthis:\n  \\<exists>T'.\n     P,E,hp s_ \\<turnstile> {V_:Class\n                                 C_=\\<lfloor>Addr\n        a_\\<rfloor>; e2_} : T' \\<and>\n     P \\<turnstile> T' \\<le> T\n\ngoal (30 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> V:=Throw a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 30 subgoals...", "next"], ["proof (state)\ngoal (30 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> V:=Throw a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 30 subgoals...", "case (ListRed1 e s ta e' s' es Ts E)"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                         \\<langle>e',s'\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s \\<surd>; P,?E15,hp s \\<turnstile> e : ?T15;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E15,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T15\n  E \\<turnstile> s \\<surd>\n  P,E,hp s \\<turnstile> e # es [:] Ts\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (30 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> V:=Throw a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 30 subgoals...", "note IH = \\<open>\\<And>T E. \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T; P,hp s \\<turnstile> t \\<surd>t\\<rbrakk> \\<Longrightarrow> \\<exists>T'. P,E,hp s' \\<turnstile> e' : T' \\<and> P \\<turnstile> T' \\<le> T\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>?E \\<turnstile> s \\<surd>; P,?E,hp s \\<turnstile> e : ?T;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,?E,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> ?T\n\ngoal (30 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> V:=Throw a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 30 subgoals...", "from \\<open>P,E,hp s \\<turnstile> e # es [:] Ts\\<close>"], ["proof (chain)\npicking this:\n  P,E,hp s \\<turnstile> e # es [:] Ts", "obtain T Ts' where \"Ts = T # Ts'\" \"P,E,hp s \\<turnstile> e : T\" \"P,E,hp s \\<turnstile> es [:] Ts'\""], ["proof (prove)\nusing this:\n  P,E,hp s \\<turnstile> e # es [:] Ts\n\ngoal (1 subgoal):\n 1. (\\<And>T Ts'.\n        \\<lbrakk>Ts = T # Ts'; P,E,hp s \\<turnstile> e : T;\n         P,E,hp s \\<turnstile> es [:] Ts'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Ts = T # Ts'\n  P,E,hp s \\<turnstile> e : T\n  P,E,hp s \\<turnstile> es [:] Ts'\n\ngoal (30 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>e s ta e' s' es Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<And>T E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>T'.\n                                P,E,hp s' \\<turnstile> e' : T' \\<and>\n                                P \\<turnstile> T' \\<le> T;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 5. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 8. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>V a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> V:=Throw a : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 30 subgoals...", "with IH[of E T] \\<open>E \\<turnstile> s \\<surd>\\<close> WTrts_hext_mono[OF \\<open>P,E,hp s \\<turnstile> es [:] Ts'\\<close> red_hext_incr[OF \\<open>extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle>\\<close>]]"], ["proof (chain)\npicking this:\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n  E \\<turnstile> s \\<surd>\n  P,E,hp s' \\<turnstile> es [:] Ts'\n  Ts = T # Ts'\n  P,E,hp s \\<turnstile> e : T\n  P,E,hp s \\<turnstile> es [:] Ts'", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n  E \\<turnstile> s \\<surd>\n  P,E,hp s' \\<turnstile> es [:] Ts'\n  Ts = T # Ts'\n  P,E,hp s \\<turnstile> e : T\n  P,E,hp s \\<turnstile> es [:] Ts'\n\ngoal (1 subgoal):\n 1. \\<exists>Ts'.\n       P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n       P \\<turnstile> Ts' [\\<le>] Ts", "using \\<open>P,hp s \\<turnstile> t \\<surd>t\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> e : T;\n   P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T'.\n                       P,E,hp s' \\<turnstile> e' : T' \\<and>\n                       P \\<turnstile> T' \\<le> T\n  E \\<turnstile> s \\<surd>\n  P,E,hp s' \\<turnstile> es [:] Ts'\n  Ts = T # Ts'\n  P,E,hp s \\<turnstile> e : T\n  P,E,hp s \\<turnstile> es [:] Ts'\n  P,hp s \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>Ts'.\n       P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n       P \\<turnstile> Ts' [\\<le>] Ts", "by(auto simp add: list_all2_Cons2 intro: widens_refl)"], ["proof (state)\nthis:\n  \\<exists>Ts'.\n     P,E,hp s' \\<turnstile> e' # es [:] Ts' \\<and>\n     P \\<turnstile> Ts' [\\<le>] Ts\n\ngoal (29 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> V:=Throw a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 29 subgoals...", "next"], ["proof (state)\ngoal (29 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> V:=Throw a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 29 subgoals...", "case ListRed2"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>es_,s_\\<rangle> [-ta_\\<rightarrow>]\n                         \\<langle>es'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> es_ [:] ?Ts15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Ts'.\n                       P,?E15,hp s'_ \\<turnstile> es'_ [:] Ts' \\<and>\n                       P \\<turnstile> Ts' [\\<le>] ?Ts15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Val v_ # es_ [:] Ts\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (29 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>es s ta es' s' v Ts E.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\n  s\\<rangle> [-ta\\<rightarrow>]\n \\<langle>es',s'\\<rangle>;\n        \\<And>Ts E.\n           \\<lbrakk>E \\<turnstile> s \\<surd>;\n            P,E,hp s \\<turnstile> es [:] Ts;\n            P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Ts'.\n                                P,E,hp s' \\<turnstile> es' [:] Ts' \\<and>\n                                P \\<turnstile> Ts' [\\<le>] Ts;\n        E \\<turnstile> s \\<surd>; P,E,hp s \\<turnstile> Val v # es [:] Ts;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ts'.\n                            P,E,hp s' \\<turnstile> Val v #\n             es' [:] Ts' \\<and>\n                            P \\<turnstile> Ts' [\\<le>] Ts\n 4. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 5. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 6. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 7. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>V a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> V:=Throw a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>a i s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Throw a\\<lfloor>i\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 29 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>es_,s_\\<rangle> [-ta_\\<rightarrow>]\n                         \\<langle>es'_,s'_\\<rangle>\n  \\<lbrakk>?E15 \\<turnstile> s_ \\<surd>;\n   P,?E15,hp s_ \\<turnstile> es_ [:] ?Ts15;\n   P,hp s_ \\<turnstile> t \\<surd>t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Ts'.\n                       P,?E15,hp s'_ \\<turnstile> es'_ [:] Ts' \\<and>\n                       P \\<turnstile> Ts' [\\<le>] ?Ts15\n  E \\<turnstile> s_ \\<surd>\n  P,E,hp s_ \\<turnstile> Val v_ # es_ [:] Ts\n  P,hp s_ \\<turnstile> t \\<surd>t\n\ngoal (1 subgoal):\n 1. \\<exists>Ts'.\n       P,E,hp s'_ \\<turnstile> Val v_ # es'_ [:] Ts' \\<and>\n       P \\<turnstile> Ts' [\\<le>] Ts", "by(fastforce dest: hext_typeof_mono[OF reds_hext_incr])"], ["proof (state)\nthis:\n  \\<exists>Ts'.\n     P,E,hp s'_ \\<turnstile> Val v_ # es'_ [:] Ts' \\<and>\n     P \\<turnstile> Ts' [\\<le>] Ts\n\ngoal (28 subgoals):\n 1. \\<And>h a D F v v' h' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v;\n        heap_write h a (CField D F) v' h'; E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h', l) \\<turnstile> true : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 2. \\<And>h a D F v'' v v' l T E.\n       \\<lbrakk>heap_read h a (CField D F) v''; v \\<noteq> v'';\n        E \\<turnstile> (h, l) \\<surd>;\n        P,E,hp (h, l) \\<turnstile> addr\n                                    a\\<bullet>compareAndSwap(D\\<bullet>F, Val\n                                     v, Val v') : T;\n        P,hp (h, l) \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp (h, l) \\<turnstile> false : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 3. \\<And>T a s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> newA T\\<lfloor>Throw a\\<rceil> : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 4. \\<And>C a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Cast C (Throw a) : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 5. \\<And>a T s Ta E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a instanceof T : Ta;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> Ta\n 6. \\<And>a bop e\\<^sub>2 s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw\n                               a \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 7. \\<And>v\\<^sub>1 bop a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Val v\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> Throw\n      a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 8. \\<And>V a s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> V:=Throw a : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 9. \\<And>a i s T E.\n       \\<lbrakk>E \\<turnstile> s \\<surd>;\n        P,E,hp s \\<turnstile> Throw a\\<lfloor>i\\<rceil> : T;\n        P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T'.\n                            P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                            P \\<turnstile> T' \\<le> T\n 10. \\<And>v a s T E.\n        \\<lbrakk>E \\<turnstile> s \\<surd>;\n         P,E,hp s \\<turnstile> Val v\\<lfloor>Throw a\\<rceil> : T;\n         P,hp s \\<turnstile> t \\<surd>t\\<rbrakk>\n        \\<Longrightarrow> \\<exists>T'.\n                             P,E,hp s \\<turnstile> Throw a : T' \\<and>\n                             P \\<turnstile> T' \\<le> T\nA total of 28 subgoals...", "qed(fastforce)+"], ["", "end"]]}