{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaThreads/MM/MM.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaThreads", "problem_names": ["lemma new_Addr_SomeD:\n  \"new_Addr h = Some a \\<Longrightarrow> h a = None\"", "lemma new_Addr_SomeI:\n  \"finite (dom h) \\<Longrightarrow> \\<exists>a. new_Addr h = Some a\"", "lemma new_Addr_code_code [code]:\n  \"new_Addr h = gen_new_Addr h 0\"", "lemma gen_new_Addr_code [code]:\n  \"gen_new_Addr h n = (if h n = None then Some n else gen_new_Addr h (Suc n))\""], "translations": [["", "lemma new_Addr_SomeD:\n  \"new_Addr h = Some a \\<Longrightarrow> h a = None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. new_Addr h = \\<lfloor>a\\<rfloor> \\<Longrightarrow> h a = None", "by(auto simp add:new_Addr_def split:if_splits intro: LeastI)"], ["", "lemma new_Addr_SomeI:\n  \"finite (dom h) \\<Longrightarrow> \\<exists>a. new_Addr h = Some a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (dom h) \\<Longrightarrow>\n    \\<exists>a. new_Addr h = \\<lfloor>a\\<rfloor>", "by(simp add: new_Addr_def) (metis finite_map_freshness infinite_UNIV_nat)"], ["", "subsection \\<open>Code generation\\<close>"], ["", "definition gen_new_Addr :: \"(addr \\<rightharpoonup> 'b) \\<Rightarrow> addr \\<Rightarrow> addr option\"\nwhere \"gen_new_Addr h n \\<equiv> if \\<exists>a. a \\<ge> n \\<and> h a = None then Some(LEAST a. a \\<ge> n \\<and> h a = None) else None\""], ["", "lemma new_Addr_code_code [code]:\n  \"new_Addr h = gen_new_Addr h 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. new_Addr h = gen_new_Addr h 0", "by(simp add: new_Addr_def gen_new_Addr_def)"], ["", "lemma gen_new_Addr_code [code]:\n  \"gen_new_Addr h n = (if h n = None then Some n else gen_new_Addr h (Suc n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gen_new_Addr h n =\n    (if h n = None then \\<lfloor>n\\<rfloor> else gen_new_Addr h (Suc n))", "apply(simp add: gen_new_Addr_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>a\\<ge>n. h a = None) \\<longrightarrow>\n    ((\\<exists>a\\<ge>Suc n. h a = None) \\<longrightarrow>\n     (h n = None \\<longrightarrow>\n      (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n     ((\\<exists>y. h n = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n      (LEAST a. n \\<le> a \\<and> h a = None) =\n      (LEAST a. Suc n \\<le> a \\<and> h a = None))) \\<and>\n    ((\\<forall>a\\<ge>Suc n.\n         \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n     (h n = None \\<longrightarrow>\n      (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n     h n = None)", "apply(rule impI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    ((\\<exists>a\\<ge>Suc n. h a = None) \\<longrightarrow>\n     (h n = None \\<longrightarrow>\n      (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n     ((\\<exists>y. h n = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n      (LEAST a. n \\<le> a \\<and> h a = None) =\n      (LEAST a. Suc n \\<le> a \\<and> h a = None))) \\<and>\n    ((\\<forall>a\\<ge>Suc n.\n         \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n     (h n = None \\<longrightarrow>\n      (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n     h n = None)", "apply(rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<exists>a\\<ge>Suc n. h a = None) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    ((\\<exists>y. h n = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) =\n     (LEAST a. Suc n \\<le> a \\<and> h a = None))\n 2. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply safe[1]"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a aa.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = None\\<rbrakk>\n       \\<Longrightarrow> (LEAST a. n \\<le> a \\<and> h a = None) = n\n 2. \\<And>a aa y.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (LEAST a. n \\<le> a \\<and> h a = None) =\n                         (LEAST a. Suc n \\<le> a \\<and> h a = None)\n 3. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply(auto intro: Least_equality)[2]"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa y.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (LEAST a. n \\<le> a \\<and> h a = None) =\n                         (LEAST a. Suc n \\<le> a \\<and> h a = None)\n 2. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply(rule arg_cong[where f=Least])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa y.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>a. n \\<le> a \\<and> h a = None) =\n                         (\\<lambda>a. Suc n \\<le> a \\<and> h a = None)\n 2. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply(rule ext)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa y ab.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (n \\<le> ab \\<and> h ab = None) =\n                         (Suc n \\<le> ab \\<and> h ab = None)\n 2. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply auto[1]"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa y ab.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>; n \\<le> ab; h ab = None\\<rbrakk>\n       \\<Longrightarrow> Suc n \\<le> ab\n 2. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply(case_tac \"n = ab\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a aa y ab.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>; n \\<le> ab; h ab = None; n = ab\\<rbrakk>\n       \\<Longrightarrow> Suc n \\<le> ab\n 2. \\<And>a aa y ab.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>; n \\<le> ab; h ab = None;\n        n \\<noteq> ab\\<rbrakk>\n       \\<Longrightarrow> Suc n \\<le> ab\n 3. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa y ab.\n       \\<lbrakk>n \\<le> a; h a = None; Suc n \\<le> aa; h aa = None;\n        h n = \\<lfloor>y\\<rfloor>; n \\<le> ab; h ab = None;\n        n \\<noteq> ab\\<rbrakk>\n       \\<Longrightarrow> Suc n \\<le> ab\n 2. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a\\<ge>n. h a = None \\<Longrightarrow>\n    (\\<forall>a\\<ge>Suc n.\n        \\<exists>y. h a = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n    (h n = None \\<longrightarrow>\n     (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n    h n = None", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> (h n = None \\<longrightarrow>\n                          (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n                         h n = None", "apply(subgoal_tac \"a = n\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>;\n        a = n\\<rbrakk>\n       \\<Longrightarrow> (h n = None \\<longrightarrow>\n                          (LEAST a. n \\<le> a \\<and> h a = None) = n) \\<and>\n                         h n = None\n 2. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> a = n", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>h n = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>;\n        a = n\\<rbrakk>\n       \\<Longrightarrow> (LEAST a. n \\<le> a \\<and> h a = None) = n\n 2. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> a = n", "apply(rule Least_equality)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a.\n       \\<lbrakk>h n = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>;\n        a = n\\<rbrakk>\n       \\<Longrightarrow> n \\<le> n \\<and> h n = None\n 2. \\<And>a y.\n       \\<lbrakk>h n = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>; a = n;\n        n \\<le> y \\<and> h y = None\\<rbrakk>\n       \\<Longrightarrow> n \\<le> y\n 3. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> a = n", "apply auto[2]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> a = n", "apply(rule ccontr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None;\n        \\<forall>a\\<ge>Suc n. \\<exists>y. h a = \\<lfloor>y\\<rfloor>;\n        a \\<noteq> n\\<rbrakk>\n       \\<Longrightarrow> False", "apply(erule_tac x=\"a\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>n \\<le> a; h a = None; a \\<noteq> n;\n        Suc n \\<le> a \\<longrightarrow>\n        (\\<exists>y. h a = \\<lfloor>y\\<rfloor>)\\<rbrakk>\n       \\<Longrightarrow> False", "apply simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"]]}