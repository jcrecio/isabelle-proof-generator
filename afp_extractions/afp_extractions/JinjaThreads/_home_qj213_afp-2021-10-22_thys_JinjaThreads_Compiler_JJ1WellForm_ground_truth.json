{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaThreads/Compiler/JJ1WellForm.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaThreads", "problem_names": ["lemma assumes wf: \"wf_prog wfmd P\"\n  shows compE1_pres_wt: \"\\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> e :: U; size Ts = size Vs \\<rbrakk> \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U\"\n  and compEs1_pres_wt: \"\\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> es [::] Us; size Ts = size Vs \\<rbrakk> \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compEs1 Vs es [::] Us\"", "lemma fixes e :: \"'addr expr\" and es :: \"'addr expr list\"\n  shows A_compE1_None[simp]: \"\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None\"\n  and As_compEs1_None: \"\\<A>s es = None \\<Longrightarrow> \\<A>s (compEs1 Vs es) = None\"", "lemma fixes e :: \"'addr expr\" and es :: \"'addr expr list\"\n  shows A_compE1: \"\\<lbrakk> \\<A> e = \\<lfloor>A\\<rfloor>; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` A\\<rfloor>\"\n  and As_compEs1: \"\\<lbrakk> \\<A>s es = \\<lfloor>A\\<rfloor>; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A>s (compEs1 Vs es) = \\<lfloor>index Vs ` A\\<rfloor>\"", "lemma fixes e :: \"('a, 'b, 'addr) exp\" and es :: \"('a, 'b, 'addr) exp list\"\n  shows D_None [iff]: \"\\<D> e None\"\n  and Ds_None [iff]: \"\\<D>s es None\"", "lemma fixes e :: \"'addr expr\" and es :: \"'addr expr list\"\n  shows D_index_compE1: \"\\<lbrakk> A \\<subseteq> set Vs; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<D> e \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\"\n  and Ds_index_compEs1: \"\\<lbrakk> A \\<subseteq> set Vs; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<D>s es \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` A\\<rfloor>\"", "lemma index_image_set: \"distinct xs \\<Longrightarrow> index xs ` set xs = {..<size xs}\"", "lemma D_compE1:\n  \"\\<lbrakk> \\<D> e \\<lfloor>set Vs\\<rfloor>; fv e \\<subseteq> set Vs; distinct Vs \\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>{..<length Vs}\\<rfloor>\"", "lemma D_compE1':\n  assumes \"\\<D> e \\<lfloor>set(V#Vs)\\<rfloor>\" and \"fv e \\<subseteq> set(V#Vs)\" and \"distinct(V#Vs)\"\n  shows \"\\<D> (compE1 (V#Vs) e) \\<lfloor>{..length Vs}\\<rfloor>\"", "lemma compP1_pres_wf: \"wf_J_prog P \\<Longrightarrow> wf_J1_prog (compP1 P)\""], "translations": [["", "lemma assumes wf: \"wf_prog wfmd P\"\n  shows compE1_pres_wt: \"\\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> e :: U; size Ts = size Vs \\<rbrakk> \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U\"\n  and compEs1_pres_wt: \"\\<lbrakk> P,[Vs[\\<mapsto>]Ts] \\<turnstile> es [::] Us; size Ts = size Vs \\<rbrakk> \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compEs1 Vs es [::] Us\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n      length Ts = length Vs\\<rbrakk>\n     \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U) &&&\n    (\\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> es [::] Us;\n      length Ts = length Vs\\<rbrakk>\n     \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compEs1 Vs es [::] Us)", "proof(induct Vs e and Vs es arbitrary: Ts U and Ts Us rule: compE1_compEs1_induct)"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs V Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Var V :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Var V) :: U\n 7. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 8. \\<And>Vs V e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> V:=e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (V:=e) :: U\n 9. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 10. \\<And>Vs a i e Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs a :: U;\n         \\<And>Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n         \\<And>Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (a\\<lfloor>i\\<rceil> := e) :: U\nA total of 25 subgoals...", "case Var"], ["proof (state)\nthis:\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> Var V_ :: U\n  length Ts = length Vs_\n\ngoal (25 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs V Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Var V :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Var V) :: U\n 7. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 8. \\<And>Vs V e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> V:=e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (V:=e) :: U\n 9. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 10. \\<And>Vs a i e Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs a :: U;\n         \\<And>Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n         \\<And>Ts U.\n            \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n             length Ts = length Vs\\<rbrakk>\n            \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (a\\<lfloor>i\\<rceil> := e) :: U\nA total of 25 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> Var V_ :: U\n  length Ts = length Vs_\n\ngoal (1 subgoal):\n 1. compP f P,Ts \\<turnstile>1 compE1 Vs_ (Var V_) :: U", "by(fastforce simp:map_upds_apply_eq_Some split:if_split_asm)"], ["proof (state)\nthis:\n  compP f P,Ts \\<turnstile>1 compE1 Vs_ (Var V_) :: U\n\ngoal (24 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs V e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> V:=e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (V:=e) :: U\n 8. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 9. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 10. \\<And>Vs a Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs a :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (a\\<bullet>length) :: U\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs V e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> V:=e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (V:=e) :: U\n 8. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 9. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 10. \\<And>Vs a Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs a :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (a\\<bullet>length) :: U\nA total of 24 subgoals...", "case LAss"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs_ [\\<mapsto>] ?Ts] \\<turnstile> e_ :: ?U;\n   length ?Ts = length Vs_\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs_ e_ :: ?U\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> V_:=e_ :: U\n  length Ts = length Vs_\n\ngoal (24 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs V e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> V:=e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (V:=e) :: U\n 8. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 9. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 10. \\<And>Vs a Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs a :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (a\\<bullet>length) :: U\nA total of 24 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>P,[Vs_ [\\<mapsto>] ?Ts] \\<turnstile> e_ :: ?U;\n   length ?Ts = length Vs_\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs_ e_ :: ?U\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> V_:=e_ :: U\n  length Ts = length Vs_\n\ngoal (1 subgoal):\n 1. compP f P,Ts \\<turnstile>1 compE1 Vs_ (V_:=e_) :: U", "by(fastforce simp:map_upds_apply_eq_Some split:if_split_asm)"], ["proof (state)\nthis:\n  compP f P,Ts \\<turnstile>1 compE1 Vs_ (V_:=e_) :: U\n\ngoal (23 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 23 subgoals...", "case Call"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs_ [\\<mapsto>] ?Ts] \\<turnstile> e_ :: ?U;\n   length ?Ts = length Vs_\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs_ e_ :: ?U\n  \\<lbrakk>P,[Vs_ [\\<mapsto>] ?Ts] \\<turnstile> es_ [::] ?Us;\n   length ?Ts = length Vs_\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compEs1 Vs_ es_ [::] ?Us\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> e_\\<bullet>M_(es_) :: U\n  length Ts = length Vs_\n\ngoal (23 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 23 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>P,[Vs_ [\\<mapsto>] ?Ts] \\<turnstile> e_ :: ?U;\n   length ?Ts = length Vs_\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs_ e_ :: ?U\n  \\<lbrakk>P,[Vs_ [\\<mapsto>] ?Ts] \\<turnstile> es_ [::] ?Us;\n   length ?Ts = length Vs_\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compEs1 Vs_ es_ [::] ?Us\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> e_\\<bullet>M_(es_) :: U\n  length Ts = length Vs_\n\ngoal (1 subgoal):\n 1. compP f P,Ts \\<turnstile>1 compE1 Vs_ (e_\\<bullet>M_(es_)) :: U", "by(fastforce dest: sees_method_compP[where f = f])"], ["proof (state)\nthis:\n  compP f P,Ts \\<turnstile>1 compE1 Vs_ (e_\\<bullet>M_(es_)) :: U\n\ngoal (22 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 22 subgoals...", "case Block"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs_ @ [V_] [\\<mapsto>] ?Ts] \\<turnstile> e_ :: ?U;\n   length ?Ts = length (Vs_ @ [V_])\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 (Vs_ @ [V_]) e_ :: ?U\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> {V_:T_=vo_; e_} :: U\n  length Ts = length Vs_\n\ngoal (22 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 22 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>P,[Vs_ @ [V_] [\\<mapsto>] ?Ts] \\<turnstile> e_ :: ?U;\n   length ?Ts = length (Vs_ @ [V_])\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 (Vs_ @ [V_]) e_ :: ?U\n  P,[Vs_ [\\<mapsto>] Ts] \\<turnstile> {V_:T_=vo_; e_} :: U\n  length Ts = length Vs_\n\ngoal (1 subgoal):\n 1. compP f P,Ts \\<turnstile>1 compE1 Vs_ {V_:T_=vo_; e_} :: U", "by(fastforce simp:nth_append)"], ["proof (state)\nthis:\n  compP f P,Ts \\<turnstile>1 compE1 Vs_ {V_:T_=vo_; e_} :: U\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "case (Synchronized Vs V exp1 exp2 Ts U)"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs [\\<mapsto>] ?Ts] \\<turnstile> exp1 :: ?U;\n   length ?Ts = length Vs\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs exp1 :: ?U\n  \\<lbrakk>P,[Vs @ [fresh_var Vs] [\\<mapsto>] ?Ts] \\<turnstile> exp2 :: ?U;\n   length ?Ts = length (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> compP f\n                     P,?Ts \\<turnstile>1 compE1 (Vs @ [fresh_var Vs])\n    exp2 :: ?U\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> sync\\<^bsub>V\\<^esub> (exp1) exp2 :: U\n  length Ts = length Vs\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "note IH1 = \\<open>\\<And>Ts U. \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U;\n    length Ts = length Vs\\<rbrakk> \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs [\\<mapsto>] ?Ts] \\<turnstile> exp1 :: ?U;\n   length ?Ts = length Vs\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs exp1 :: ?U\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "note IH2 = \\<open>\\<And>Ts U. \\<lbrakk>P,[(Vs @ [fresh_var Vs]) [\\<mapsto>] Ts] \\<turnstile> exp2 :: U; length Ts = length (Vs @ [fresh_var Vs])\\<rbrakk>\n      \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 (Vs @ [fresh_var Vs]) exp2 :: U\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs @ [fresh_var Vs] [\\<mapsto>] ?Ts] \\<turnstile> exp2 :: ?U;\n   length ?Ts = length (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> compP f\n                     P,?Ts \\<turnstile>1 compE1 (Vs @ [fresh_var Vs])\n    exp2 :: ?U\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "note length = \\<open>length Ts = length Vs\\<close>"], ["proof (state)\nthis:\n  length Ts = length Vs\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "from \\<open>P,[Vs [\\<mapsto>] Ts] \\<turnstile> sync\\<^bsub>V\\<^esub> (exp1) exp2 :: U\\<close>"], ["proof (chain)\npicking this:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> sync\\<^bsub>V\\<^esub> (exp1) exp2 :: U", "obtain U1 where wt1: \"P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U1\"\n    and wt2: \"P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp2 :: U\"\n    and U1: \"is_refT U1\" \"U1 \\<noteq> NT\""], ["proof (prove)\nusing this:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> sync\\<^bsub>V\\<^esub> (exp1) exp2 :: U\n\ngoal (1 subgoal):\n 1. (\\<And>U1.\n        \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U1;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp2 :: U; is_refT U1;\n         U1 \\<noteq> NT\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto)"], ["proof (state)\nthis:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U1\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp2 :: U\n  is_refT U1\n  U1 \\<noteq> NT\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "from IH1[of Ts U1] wt1 length"], ["proof (chain)\npicking this:\n  \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U1;\n   length Ts = length Vs\\<rbrakk>\n  \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U1\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U1\n  length Ts = length Vs", "have wt1': \"compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U1\""], ["proof (prove)\nusing this:\n  \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U1;\n   length Ts = length Vs\\<rbrakk>\n  \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U1\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U1\n  length Ts = length Vs\n\ngoal (1 subgoal):\n 1. compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U1", "by simp"], ["proof (state)\nthis:\n  compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U1\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "from length fresh_var_fresh[of Vs]"], ["proof (chain)\npicking this:\n  length Ts = length Vs\n  fresh_var Vs \\<notin> set Vs", "have \"[Vs [\\<mapsto>] Ts] \\<subseteq>\\<^sub>m [Vs @ [fresh_var Vs] [\\<mapsto>] Ts @ [Class Object]]\""], ["proof (prove)\nusing this:\n  length Ts = length Vs\n  fresh_var Vs \\<notin> set Vs\n\ngoal (1 subgoal):\n 1. [Vs [\\<mapsto>] Ts] \\<subseteq>\\<^sub>m\n    [Vs @ [fresh_var Vs] [\\<mapsto>] Ts @ [Class Object]]", "by(auto simp add: map_le_def fun_upd_def)"], ["proof (state)\nthis:\n  [Vs [\\<mapsto>] Ts] \\<subseteq>\\<^sub>m\n  [Vs @ [fresh_var Vs] [\\<mapsto>] Ts @ [Class Object]]\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "with wt2"], ["proof (chain)\npicking this:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp2 :: U\n  [Vs [\\<mapsto>] Ts] \\<subseteq>\\<^sub>m\n  [Vs @ [fresh_var Vs] [\\<mapsto>] Ts @ [Class Object]]", "have \"P,[Vs@[fresh_var Vs] [\\<mapsto>] Ts @ [Class Object]] \\<turnstile> exp2 :: U\""], ["proof (prove)\nusing this:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp2 :: U\n  [Vs [\\<mapsto>] Ts] \\<subseteq>\\<^sub>m\n  [Vs @ [fresh_var Vs] [\\<mapsto>] Ts @ [Class Object]]\n\ngoal (1 subgoal):\n 1. P,[Vs @ [fresh_var Vs] [\\<mapsto>]\n       Ts @ [Class Object]] \\<turnstile> exp2 :: U", "by(rule wt_env_mono)"], ["proof (state)\nthis:\n  P,[Vs @ [fresh_var Vs] [\\<mapsto>]\n     Ts @ [Class Object]] \\<turnstile> exp2 :: U\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "with length IH2[of \"Ts @ [Class Object]\" U]"], ["proof (chain)\npicking this:\n  length Ts = length Vs\n  \\<lbrakk>P,[Vs @ [fresh_var Vs] [\\<mapsto>]\n              Ts @ [Class Object]] \\<turnstile> exp2 :: U;\n   length (Ts @ [Class Object]) = length (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> compP f\n                     P,Ts @\n                       [Class\n                         Object] \\<turnstile>1 compE1 (Vs @ [fresh_var Vs])\n          exp2 :: U\n  P,[Vs @ [fresh_var Vs] [\\<mapsto>]\n     Ts @ [Class Object]] \\<turnstile> exp2 :: U", "have \"compP f P,Ts @ [Class Object] \\<turnstile>1 compE1 (Vs @ [fresh_var Vs]) exp2 :: U\""], ["proof (prove)\nusing this:\n  length Ts = length Vs\n  \\<lbrakk>P,[Vs @ [fresh_var Vs] [\\<mapsto>]\n              Ts @ [Class Object]] \\<turnstile> exp2 :: U;\n   length (Ts @ [Class Object]) = length (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> compP f\n                     P,Ts @\n                       [Class\n                         Object] \\<turnstile>1 compE1 (Vs @ [fresh_var Vs])\n          exp2 :: U\n  P,[Vs @ [fresh_var Vs] [\\<mapsto>]\n     Ts @ [Class Object]] \\<turnstile> exp2 :: U\n\ngoal (1 subgoal):\n 1. compP f\n     P,Ts @\n       [Class Object] \\<turnstile>1 compE1 (Vs @ [fresh_var Vs]) exp2 :: U", "by simp"], ["proof (state)\nthis:\n  compP f\n   P,Ts @\n     [Class Object] \\<turnstile>1 compE1 (Vs @ [fresh_var Vs]) exp2 :: U\n\ngoal (21 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 21 subgoals...", "with wt1' U1"], ["proof (chain)\npicking this:\n  compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U1\n  is_refT U1\n  U1 \\<noteq> NT\n  compP f\n   P,Ts @\n     [Class Object] \\<turnstile>1 compE1 (Vs @ [fresh_var Vs]) exp2 :: U", "show ?case"], ["proof (prove)\nusing this:\n  compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U1\n  is_refT U1\n  U1 \\<noteq> NT\n  compP f\n   P,Ts @\n     [Class Object] \\<turnstile>1 compE1 (Vs @ [fresh_var Vs]) exp2 :: U\n\ngoal (1 subgoal):\n 1. compP f\n     P,Ts \\<turnstile>1 compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2) :: U", "by(auto)"], ["proof (state)\nthis:\n  compP f\n   P,Ts \\<turnstile>1 compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2) :: U\n\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "case (TryCatch Vs exp1 C V exp2)"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs [\\<mapsto>] ?Ts] \\<turnstile> exp1 :: ?U;\n   length ?Ts = length Vs\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs exp1 :: ?U\n  \\<lbrakk>P,[Vs @ [V] [\\<mapsto>] ?Ts] \\<turnstile> exp2 :: ?U;\n   length ?Ts = length (Vs @ [V])\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 (Vs @ [V]) exp2 :: ?U\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> try exp1 catch(C V) exp2 :: U\n  length Ts = length Vs\n\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "note IH1 = \\<open>\\<And>Ts U. \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U; length Ts = length Vs\\<rbrakk> \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs [\\<mapsto>] ?Ts] \\<turnstile> exp1 :: ?U;\n   length ?Ts = length Vs\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 Vs exp1 :: ?U\n\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "note IH2 = \\<open>\\<And>Ts U. \\<lbrakk>P,[(Vs @ [V]) [\\<mapsto>] Ts] \\<turnstile> exp2 :: U; length Ts = length (Vs @ [V])\\<rbrakk> \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 (Vs @ [V]) exp2 :: U\\<close>"], ["proof (state)\nthis:\n  \\<lbrakk>P,[Vs @ [V] [\\<mapsto>] ?Ts] \\<turnstile> exp2 :: ?U;\n   length ?Ts = length (Vs @ [V])\\<rbrakk>\n  \\<Longrightarrow> compP f P,?Ts \\<turnstile>1 compE1 (Vs @ [V]) exp2 :: ?U\n\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "note length = \\<open>length Ts = length Vs\\<close>"], ["proof (state)\nthis:\n  length Ts = length Vs\n\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "with \\<open>P,[Vs [\\<mapsto>] Ts] \\<turnstile> try exp1 catch(C V) exp2 :: U\\<close>"], ["proof (chain)\npicking this:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> try exp1 catch(C V) exp2 :: U\n  length Ts = length Vs", "have wt1: \"P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U\" and wt2: \"P,[(Vs@[V]) [\\<mapsto>] (Ts@[Class C])] \\<turnstile> exp2 :: U\"\n    and C: \"P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\""], ["proof (prove)\nusing this:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> try exp1 catch(C V) exp2 :: U\n  length Ts = length Vs\n\ngoal (1 subgoal):\n 1. P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U &&&\n    P,[Vs @ [V] [\\<mapsto>] Ts @ [Class C]] \\<turnstile> exp2 :: U &&&\n    P \\<turnstile> C \\<preceq>\\<^sup>* Throwable", "by(auto simp add: nth_append)"], ["proof (state)\nthis:\n  P,[Vs [\\<mapsto>] Ts] \\<turnstile> exp1 :: U\n  P,[Vs @ [V] [\\<mapsto>] Ts @ [Class C]] \\<turnstile> exp2 :: U\n  P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\n\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "from wf C"], ["proof (chain)\npicking this:\n  wf_prog wfmd P\n  P \\<turnstile> C \\<preceq>\\<^sup>* Throwable", "have \"is_class P C\""], ["proof (prove)\nusing this:\n  wf_prog wfmd P\n  P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\n\ngoal (1 subgoal):\n 1. is_class P C", "by(rule is_class_sub_Throwable)"], ["proof (state)\nthis:\n  is_class P C\n\ngoal (20 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 20 subgoals...", "with IH1[OF wt1 length] IH2[OF wt2] length"], ["proof (chain)\npicking this:\n  compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U\n  length (Ts @ [Class C]) = length (Vs @ [V]) \\<Longrightarrow>\n  compP f P,Ts @ [Class C] \\<turnstile>1 compE1 (Vs @ [V]) exp2 :: U\n  length Ts = length Vs\n  is_class P C", "show ?case"], ["proof (prove)\nusing this:\n  compP f P,Ts \\<turnstile>1 compE1 Vs exp1 :: U\n  length (Ts @ [Class C]) = length (Vs @ [V]) \\<Longrightarrow>\n  compP f P,Ts @ [Class C] \\<turnstile>1 compE1 (Vs @ [V]) exp2 :: U\n  length Ts = length Vs\n  is_class P C\n\ngoal (1 subgoal):\n 1. compP f P,Ts \\<turnstile>1 compE1 Vs (try exp1 catch(C V) exp2) :: U", "by(auto)"], ["proof (state)\nthis:\n  compP f P,Ts \\<turnstile>1 compE1 Vs (try exp1 catch(C V) exp2) :: U\n\ngoal (19 subgoals):\n 1. \\<And>Vs C Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> new C :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (new C) :: U\n 2. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> newA T\\<lfloor>e\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (newA T\\<lfloor>e\\<rceil>) :: U\n 3. \\<And>Vs T e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> Cast T e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (Cast T e) :: U\n 4. \\<And>Vs e T Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> e instanceof T :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs (e instanceof T) :: U\n 5. \\<And>Vs v Ts U.\n       \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> Val v :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs (Val v) :: U\n 6. \\<And>Vs e bop e' Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs e :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e' :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e' :: U;\n        P,[Vs [\\<mapsto>]\n           Ts] \\<turnstile> e \\<guillemotleft>bop\\<guillemotright> e' :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (e \\<guillemotleft>bop\\<guillemotright> e') :: U\n 7. \\<And>Vs a i Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil>) :: U\n 8. \\<And>Vs a i e Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> i :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs i :: U;\n        \\<And>Ts U.\n           \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n            length Ts = length Vs\\<rbrakk>\n           \\<Longrightarrow> compP f P,Ts \\<turnstile>1 compE1 Vs e :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<lfloor>i\\<rceil> := e :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<lfloor>i\\<rceil> := e) :: U\n 9. \\<And>Vs a Ts U.\n       \\<lbrakk>\\<And>Ts U.\n                   \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> a :: U;\n                    length Ts = length Vs\\<rbrakk>\n                   \\<Longrightarrow> compP f\nP,Ts \\<turnstile>1 compE1 Vs a :: U;\n        P,[Vs [\\<mapsto>] Ts] \\<turnstile> a\\<bullet>length :: U;\n        length Ts = length Vs\\<rbrakk>\n       \\<Longrightarrow> compP f\n                          P,Ts \\<turnstile>1 compE1 Vs\n        (a\\<bullet>length) :: U\n 10. \\<And>Vs e F D Ts U.\n        \\<lbrakk>\\<And>Ts U.\n                    \\<lbrakk>P,[Vs [\\<mapsto>] Ts] \\<turnstile> e :: U;\n                     length Ts = length Vs\\<rbrakk>\n                    \\<Longrightarrow> compP f\n P,Ts \\<turnstile>1 compE1 Vs e :: U;\n         P,[Vs [\\<mapsto>] Ts] \\<turnstile> e\\<bullet>F{D} :: U;\n         length Ts = length Vs\\<rbrakk>\n        \\<Longrightarrow> compP f\n                           P,Ts \\<turnstile>1 compE1 Vs\n         (e\\<bullet>F{D}) :: U\nA total of 19 subgoals...", "qed(fastforce)+"], ["", "text\\<open>\\noindent and the correct block numbering:\\<close>"], ["", "text\\<open>The main complication is preservation of definite assignment\n@{term\"\\<D>\"}.\\<close>"], ["", "lemma fixes e :: \"'addr expr\" and es :: \"'addr expr list\"\n  shows A_compE1_None[simp]: \"\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None\"\n  and As_compEs1_None: \"\\<A>s es = None \\<Longrightarrow> \\<A>s (compEs1 Vs es) = None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None) &&&\n    (\\<A>s es = None \\<Longrightarrow> \\<A>s (compEs1 Vs es) = None)", "apply(induct Vs e and Vs es rule: compE1_compEs1_induct)"], ["proof (prove)\ngoal (25 subgoals):\n 1. \\<And>Vs C.\n       \\<A> (new C) = None \\<Longrightarrow> \\<A> (compE1 Vs (new C)) = None\n 2. \\<And>Vs T e.\n       \\<lbrakk>\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = None\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) = None\n 3. \\<And>Vs T e.\n       \\<lbrakk>\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None;\n        \\<A> (Cast T e) = None\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) = None\n 4. \\<And>Vs e T.\n       \\<lbrakk>\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None;\n        \\<A> (e instanceof T) = None\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) = None\n 5. \\<And>Vs v.\n       \\<A> (Val v) = None \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) = None\n 6. \\<And>Vs V.\n       \\<A> (Var V) = None \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) = None\n 7. \\<And>Vs e bop e'.\n       \\<lbrakk>\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None;\n        \\<A> e' = None \\<Longrightarrow> \\<A> (compE1 Vs e') = None;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') = None\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         None\n 8. \\<And>Vs V e.\n       \\<lbrakk>\\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None;\n        \\<A> (V:=e) = None\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) = None\n 9. \\<And>Vs a i.\n       \\<lbrakk>\\<A> a = None \\<Longrightarrow> \\<A> (compE1 Vs a) = None;\n        \\<A> i = None \\<Longrightarrow> \\<A> (compE1 Vs i) = None;\n        \\<A> (a\\<lfloor>i\\<rceil>) = None\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) = None\n 10. \\<And>Vs a i e.\n        \\<lbrakk>\\<A> a = None \\<Longrightarrow> \\<A> (compE1 Vs a) = None;\n         \\<A> i = None \\<Longrightarrow> \\<A> (compE1 Vs i) = None;\n         \\<A> e = None \\<Longrightarrow> \\<A> (compE1 Vs e) = None;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = None\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) = None\nA total of 25 subgoals...", "apply(auto simp:hyperset_defs)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma fixes e :: \"'addr expr\" and es :: \"'addr expr list\"\n  shows A_compE1: \"\\<lbrakk> \\<A> e = \\<lfloor>A\\<rfloor>; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` A\\<rfloor>\"\n  and As_compEs1: \"\\<lbrakk> \\<A>s es = \\<lfloor>A\\<rfloor>; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<A>s (compEs1 Vs es) = \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>; fv e \\<subseteq> set Vs\\<rbrakk>\n     \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                       \\<lfloor>index Vs ` A\\<rfloor>) &&&\n    (\\<lbrakk>\\<A>s es = \\<lfloor>A\\<rfloor>;\n      fvs es \\<subseteq> set Vs\\<rbrakk>\n     \\<Longrightarrow> \\<A>s (compEs1 Vs es) =\n                       \\<lfloor>index Vs ` A\\<rfloor>)", "proof(induct Vs e and Vs es arbitrary: A and A rule: compE1_compEs1_induct)"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "case (Block Vs V' T vo e)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>;\n   fv e \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> {V':T=vo; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T=vo; e} \\<subseteq> set Vs\n\ngoal (25 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "hence \"fv e \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>;\n   fv e \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> {V':T=vo; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T=vo; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e \\<subseteq> set (Vs @ [V'])", "by fastforce"], ["proof (state)\nthis:\n  fv e \\<subseteq> set (Vs @ [V'])\n\ngoal (25 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "moreover"], ["proof (state)\nthis:\n  fv e \\<subseteq> set (Vs @ [V'])\n\ngoal (25 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "obtain B where \"\\<A> e = \\<lfloor>B\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<A> e = \\<lfloor>B\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using Block.prems"], ["proof (prove)\nusing this:\n  \\<A> {V':T=vo; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T=vo; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<A> e = \\<lfloor>B\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(simp add: hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (25 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (25 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "from calculation"], ["proof (chain)\npicking this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>", "have \"B \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (1 subgoal):\n 1. B \\<subseteq> set (Vs @ [V'])", "by(auto dest!:A_fv)"], ["proof (state)\nthis:\n  B \\<subseteq> set (Vs @ [V'])\n\ngoal (25 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n  B \\<subseteq> set (Vs @ [V'])", "show ?case"], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n  B \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs {V':T=vo; e}) = \\<lfloor>index Vs ` A\\<rfloor>", "using Block"], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set (Vs @ [V'])\n  \\<A> e = \\<lfloor>B\\<rfloor>\n  B \\<subseteq> set (Vs @ [V'])\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>;\n   fv e \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> {V':T=vo; e} = \\<lfloor>A\\<rfloor>\n  fv {V':T=vo; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs {V':T=vo; e}) = \\<lfloor>index Vs ` A\\<rfloor>", "by(auto simp add: hyperset_defs image_index)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs {V':T=vo; e}) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "case (Synchronized Vs V exp1 exp2 A)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> exp1 = \\<lfloor>?A\\<rfloor>;\n   fv exp1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> exp2 = \\<lfloor>?A\\<rfloor>;\n   fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n                    \\<lfloor>index (Vs @ [fresh_var Vs]) ` ?A\\<rfloor>\n  \\<A> (sync\\<^bsub>V\\<^esub> (exp1) exp2) = \\<lfloor>A\\<rfloor>\n  fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "have IH1: \"\\<And>A. \\<lbrakk>\\<A> exp1 = \\<lfloor>A\\<rfloor>; fv exp1 \\<subseteq> set Vs\\<rbrakk> \\<Longrightarrow> \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<A> exp1 = \\<lfloor>A\\<rfloor>;\n        fv exp1 \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs exp1) =\n                         \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> exp1 = \\<lfloor>?A\\<rfloor>;\n   fv exp1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "have IH2: \"\\<And>A. \\<lbrakk>\\<A> exp2 = \\<lfloor>A\\<rfloor>; fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk> \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) = \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<A> exp2 = \\<lfloor>A\\<rfloor>;\n        fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n                         \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> exp2 = \\<lfloor>?A\\<rfloor>;\n   fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n                    \\<lfloor>index (Vs @ [fresh_var Vs]) ` ?A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "from \\<open>fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs", "have fv1: \"fv exp1 \\<subseteq> set Vs\"\n    and fv2: \"fv exp2 \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv exp1 \\<subseteq> set Vs &&& fv exp2 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  fv exp1 \\<subseteq> set Vs\n  fv exp2 \\<subseteq> set Vs\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "from \\<open>\\<A> (sync\\<^bsub>V\\<^esub> (exp1) exp2) = \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<A> (sync\\<^bsub>V\\<^esub> (exp1) exp2) = \\<lfloor>A\\<rfloor>", "have A: \"\\<A> exp1 \\<squnion> \\<A> exp2 = \\<lfloor>A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<A> (sync\\<^bsub>V\\<^esub> (exp1) exp2) = \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> exp1 \\<squnion> \\<A> exp2 = \\<lfloor>A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<A> exp1 \\<squnion> \\<A> exp2 = \\<lfloor>A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<A> exp1 \\<squnion> \\<A> exp2 = \\<lfloor>A\\<rfloor>", "obtain A1 A2 where A1: \"\\<A> exp1 = \\<lfloor>A1\\<rfloor>\" and A2: \"\\<A> exp2 = \\<lfloor>A2\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<A> exp1 \\<squnion> \\<A> exp2 = \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. (\\<And>A1 A2.\n        \\<lbrakk>\\<A> exp1 = \\<lfloor>A1\\<rfloor>;\n         \\<A> exp2 = \\<lfloor>A2\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(auto simp add: hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>\n  \\<A> exp2 = \\<lfloor>A2\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "from A2 fv2"], ["proof (chain)\npicking this:\n  \\<A> exp2 = \\<lfloor>A2\\<rfloor>\n  fv exp2 \\<subseteq> set Vs", "have \"A2 \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  \\<A> exp2 = \\<lfloor>A2\\<rfloor>\n  fv exp2 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A2 \\<subseteq> set Vs", "by(auto dest: A_fv del: subsetI)"], ["proof (state)\nthis:\n  A2 \\<subseteq> set Vs\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "with fresh_var_fresh[of Vs]"], ["proof (chain)\npicking this:\n  fresh_var Vs \\<notin> set Vs\n  A2 \\<subseteq> set Vs", "have \"(fresh_var Vs) \\<notin> A2\""], ["proof (prove)\nusing this:\n  fresh_var Vs \\<notin> set Vs\n  A2 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fresh_var Vs \\<notin> A2", "by(auto)"], ["proof (state)\nthis:\n  fresh_var Vs \\<notin> A2\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "from fv2"], ["proof (chain)\npicking this:\n  fv exp2 \\<subseteq> set Vs", "have \"fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])\""], ["proof (prove)\nusing this:\n  fv exp2 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])", "by auto"], ["proof (state)\nthis:\n  fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "with IH2[OF A2]"], ["proof (chain)\npicking this:\n  fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs]) \\<Longrightarrow>\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A2\\<rfloor>\n  fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])", "have \"\\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) = \\<lfloor>index (Vs @ [fresh_var Vs]) ` A2\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs]) \\<Longrightarrow>\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A2\\<rfloor>\n  fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs])\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n    \\<lfloor>index (Vs @ [fresh_var Vs]) ` A2\\<rfloor>", "by(auto)"], ["proof (state)\nthis:\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A2\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "with IH1[OF A1 fv1] A[symmetric] \\<open>A2 \\<subseteq> set Vs\\<close> \\<open>(fresh_var Vs) \\<notin> A2\\<close> A1 A2"], ["proof (chain)\npicking this:\n  \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` A1\\<rfloor>\n  \\<lfloor>A\\<rfloor> = \\<A> exp1 \\<squnion> \\<A> exp2\n  A2 \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A2\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>\n  \\<A> exp2 = \\<lfloor>A2\\<rfloor>\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A2\\<rfloor>", "show ?case"], ["proof (prove)\nusing this:\n  \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` A1\\<rfloor>\n  \\<lfloor>A\\<rfloor> = \\<A> exp1 \\<squnion> \\<A> exp2\n  A2 \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A2\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>\n  \\<A> exp2 = \\<lfloor>A2\\<rfloor>\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp2) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "by(auto simp add: image_index)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2)) =\n  \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "case (InSynchronized Vs V a exp A)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> exp = \\<lfloor>?A\\<rfloor>;\n   fv exp \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n                    \\<lfloor>index (Vs @ [fresh_var Vs]) ` ?A\\<rfloor>\n  \\<A> (insync\\<^bsub>V\\<^esub> (a) exp) = \\<lfloor>A\\<rfloor>\n  fv (insync\\<^bsub>V\\<^esub> (a) exp) \\<subseteq> set Vs\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "have IH: \"\\<And>A. \\<lbrakk>\\<A> exp = \\<lfloor>A\\<rfloor>; fv exp \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk> \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) = \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>\\<A> exp = \\<lfloor>A\\<rfloor>;\n        fv exp \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n                         \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> exp = \\<lfloor>?A\\<rfloor>;\n   fv exp \\<subseteq> set (Vs @ [fresh_var Vs])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n                    \\<lfloor>index (Vs @ [fresh_var Vs]) ` ?A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "from \\<open>\\<A> (insync\\<^bsub>V\\<^esub> (a) exp) = \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<A> (insync\\<^bsub>V\\<^esub> (a) exp) = \\<lfloor>A\\<rfloor>", "have A: \"\\<A> exp = \\<lfloor>A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<A> (insync\\<^bsub>V\\<^esub> (a) exp) = \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> exp = \\<lfloor>A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<A> exp = \\<lfloor>A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "from \\<open>fv (insync\\<^bsub>V\\<^esub> (a) exp) \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fv (insync\\<^bsub>V\\<^esub> (a) exp) \\<subseteq> set Vs", "have fv: \"fv exp \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  fv (insync\\<^bsub>V\\<^esub> (a) exp) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv exp \\<subseteq> set Vs", "by simp"], ["proof (state)\nthis:\n  fv exp \\<subseteq> set Vs\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "from A fv"], ["proof (chain)\npicking this:\n  \\<A> exp = \\<lfloor>A\\<rfloor>\n  fv exp \\<subseteq> set Vs", "have \"A \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  \\<A> exp = \\<lfloor>A\\<rfloor>\n  fv exp \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A \\<subseteq> set Vs", "by(auto dest: A_fv del: subsetI)"], ["proof (state)\nthis:\n  A \\<subseteq> set Vs\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "with fresh_var_fresh[of Vs]"], ["proof (chain)\npicking this:\n  fresh_var Vs \\<notin> set Vs\n  A \\<subseteq> set Vs", "have \"(fresh_var Vs) \\<notin> A\""], ["proof (prove)\nusing this:\n  fresh_var Vs \\<notin> set Vs\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fresh_var Vs \\<notin> A", "by(auto)"], ["proof (state)\nthis:\n  fresh_var Vs \\<notin> A\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "from fv IH[OF A]"], ["proof (chain)\npicking this:\n  fv exp \\<subseteq> set Vs\n  fv exp \\<subseteq> set (Vs @ [fresh_var Vs]) \\<Longrightarrow>\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>", "have \" \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) = \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv exp \\<subseteq> set Vs\n  fv exp \\<subseteq> set (Vs @ [fresh_var Vs]) \\<Longrightarrow>\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n    \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "with \\<open>A \\<subseteq> set Vs\\<close> \\<open>(fresh_var Vs) \\<notin> A\\<close>"], ["proof (chain)\npicking this:\n  A \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>", "show ?case"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A\n  \\<A> (compE1 (Vs @ [fresh_var Vs]) exp) =\n  \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (insync\\<^bsub>V\\<^esub> (a) exp)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "by(simp add: image_index)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (insync\\<^bsub>V\\<^esub> (a) exp)) =\n  \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (22 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "case (TryCatch Vs e1 C V' e2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>;\n   fv e2 \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e2) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n\ngoal (22 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "hence fve2: \"fv e2 \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>;\n   fv e2 \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e2) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e2 \\<subseteq> set (Vs @ [V'])", "by auto"], ["proof (state)\nthis:\n  fv e2 \\<subseteq> set (Vs @ [V'])\n\ngoal (22 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "assume A1: \"\\<A> e1 = None\""], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "then"], ["proof (chain)\npicking this:\n  \\<A> e1 = None", "obtain A2 where A2: \"\\<A> e2 = \\<lfloor>A2\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. (\\<And>A2.\n        \\<A> e2 = \\<lfloor>A2\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using TryCatch"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>;\n   fv e2 \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e2) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. (\\<And>A2.\n        \\<A> e2 = \\<lfloor>A2\\<rfloor> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(simp add:hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "hence \"A2 \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\nusing this:\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. A2 \\<subseteq> set (Vs @ [V'])", "using TryCatch.prems A_fv[OF A2]"], ["proof (prove)\nusing this:\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n  A2 \\<subseteq> fv e2\n\ngoal (1 subgoal):\n 1. A2 \\<subseteq> set (Vs @ [V'])", "by simp blast"], ["proof (state)\nthis:\n  A2 \\<subseteq> set (Vs @ [V'])\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  A2 \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "using TryCatch fve2 A1 A2"], ["proof (prove)\nusing this:\n  A2 \\<subseteq> set (Vs @ [V'])\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>;\n   fv e2 \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e2) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n  fv e2 \\<subseteq> set (Vs @ [V'])\n  \\<A> e1 = None\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "by(auto simp add:hyperset_defs image_index)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (try e1 catch(C V') e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "fix A1"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "assume A1: \"\\<A> e1 =  \\<lfloor>A1\\<rfloor>\""], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases  \"\\<A> e2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e2 = None \\<Longrightarrow>\n    \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "assume A2: \"\\<A> e2 = None\""], ["proof (state)\nthis:\n  \\<A> e2 = None\n\ngoal (2 subgoals):\n 1. \\<A> e2 = None \\<Longrightarrow>\n    \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "then"], ["proof (chain)\npicking this:\n  \\<A> e2 = None", "show ?case"], ["proof (prove)\nusing this:\n  \\<A> e2 = None\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "using TryCatch A1"], ["proof (prove)\nusing this:\n  \\<A> e2 = None\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>;\n   fv e2 \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e2) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "by(simp add:hyperset_defs)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (try e1 catch(C V') e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "fix A2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "assume A2: \"\\<A> e2 = \\<lfloor>A2\\<rfloor>\""], ["proof (state)\nthis:\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "have \"A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A1 \\<subseteq> set Vs", "using TryCatch.prems A_fv[OF A1]"], ["proof (prove)\nusing this:\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A1 \\<subseteq> set Vs", "by simp blast"], ["proof (state)\nthis:\n  A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "have \"A2 \\<subseteq> set (Vs@[V'])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A2 \\<subseteq> set (Vs @ [V'])", "using TryCatch.prems A_fv[OF A2]"], ["proof (prove)\nusing this:\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n  A2 \\<subseteq> fv e2\n\ngoal (1 subgoal):\n 1. A2 \\<subseteq> set (Vs @ [V'])", "by simp blast"], ["proof (state)\nthis:\n  A2 \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n       \\<lfloor>index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  A1 \\<subseteq> set Vs\n  A2 \\<subseteq> set (Vs @ [V'])", "show ?thesis"], ["proof (prove)\nusing this:\n  A1 \\<subseteq> set Vs\n  A2 \\<subseteq> set (Vs @ [V'])\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "using TryCatch A1 A2"], ["proof (prove)\nusing this:\n  A1 \\<subseteq> set Vs\n  A2 \\<subseteq> set (Vs @ [V'])\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>;\n   fv e2 \\<subseteq> set (Vs @ [V'])\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 (Vs @ [V']) e2) =\n                    \\<lfloor>index (Vs @ [V']) ` ?A\\<rfloor>\n  \\<A> (try e1 catch(C V') e2) = \\<lfloor>A\\<rfloor>\n  fv (try e1 catch(C V') e2) \\<subseteq> set Vs\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (try e1 catch(C V') e2)) =\n    \\<lfloor>index Vs ` A\\<rfloor>", "by(fastforce simp add: hyperset_defs image_index\n          Diff_subset_conv inj_on_image_Int[OF inj_on_index])"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (try e1 catch(C V') e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (try e1 catch(C V') e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (try e1 catch(C V') e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "case (Cond Vs e e1 e2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>; fv e2 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e1 else e2) = \\<lfloor>A\\<rfloor>\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "{"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>; fv e2 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e1 else e2) = \\<lfloor>A\\<rfloor>\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "assume \"\\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None\""], ["proof (state)\nthis:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "hence ?case"], ["proof (prove)\nusing this:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>", "using Cond"], ["proof (prove)\nusing this:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>; fv e2 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e1 else e2) = \\<lfloor>A\\<rfloor>\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>", "by(auto simp add:hyperset_defs image_Un)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "}"], ["proof (state)\nthis:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None \\<Longrightarrow>\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None \\<Longrightarrow>\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "{"], ["proof (state)\nthis:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None \\<Longrightarrow>\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "fix A A1 A2"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "assume \"\\<A> e = \\<lfloor>A\\<rfloor>\" and A1: \"\\<A> e1 = \\<lfloor>A1\\<rfloor>\" and A2: \"\\<A> e2 = \\<lfloor>A2\\<rfloor>\""], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "have \"A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A1 \\<subseteq> set Vs", "using Cond.prems A_fv[OF A1]"], ["proof (prove)\nusing this:\n  \\<A> (if (e) e1 else e2) = \\<lfloor>Aa__\\<rfloor>\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A1 \\<subseteq> set Vs", "by simp blast"], ["proof (state)\nthis:\n  A1 \\<subseteq> set Vs\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "moreover"], ["proof (state)\nthis:\n  A1 \\<subseteq> set Vs\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "have \"A2 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A2 \\<subseteq> set Vs", "using Cond.prems A_fv[OF A2]"], ["proof (prove)\nusing this:\n  \\<A> (if (e) e1 else e2) = \\<lfloor>Aa__\\<rfloor>\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  A2 \\<subseteq> fv e2\n\ngoal (1 subgoal):\n 1. A2 \\<subseteq> set Vs", "by simp blast"], ["proof (state)\nthis:\n  A2 \\<subseteq> set Vs\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n  A1 \\<subseteq> set Vs\n  A2 \\<subseteq> set Vs", "have ?case"], ["proof (prove)\nusing this:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n  A1 \\<subseteq> set Vs\n  A2 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` Aa__\\<rfloor>", "using Cond"], ["proof (prove)\nusing this:\n  \\<A> e = \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n  A1 \\<subseteq> set Vs\n  A2 \\<subseteq> set Vs\n  \\<lbrakk>\\<A> e = \\<lfloor>?A\\<rfloor>; fv e \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e1 = \\<lfloor>?A\\<rfloor>; fv e1 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<lbrakk>\\<A> e2 = \\<lfloor>?A\\<rfloor>; fv e2 \\<subseteq> set Vs\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` ?A\\<rfloor>\n  \\<A> (if (e) e1 else e2) = \\<lfloor>Aa__\\<rfloor>\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` Aa__\\<rfloor>", "by(auto simp add:hyperset_defs image_Un\n          inj_on_image_Int[OF inj_on_index])"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` Aa__\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<A> e = \\<lfloor>?Ab2\\<rfloor>;\n   \\<A> e1 = \\<lfloor>?A1.2\\<rfloor>;\n   \\<A> e2 = \\<lfloor>?A2.2\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs (if (e) e1 else e2)) =\n                    \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None \\<Longrightarrow>\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n  \\<lbrakk>\\<A> e = \\<lfloor>?Ab2\\<rfloor>;\n   \\<A> e1 = \\<lfloor>?A1.2\\<rfloor>;\n   \\<A> e2 = \\<lfloor>?A2.2\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs (if (e) e1 else e2)) =\n                    \\<lfloor>index Vs ` A\\<rfloor>", "show ?case"], ["proof (prove)\nusing this:\n  \\<A> e = None \\<or> \\<A> e1 = None \\<or> \\<A> e2 = None \\<Longrightarrow>\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n  \\<lbrakk>\\<A> e = \\<lfloor>?Ab2\\<rfloor>;\n   \\<A> e1 = \\<lfloor>?A1.2\\<rfloor>;\n   \\<A> e2 = \\<lfloor>?A2.2\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<A> (compE1 Vs (if (e) e1 else e2)) =\n                    \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>", "by fastforce"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs (if (e) e1 else e2)) = \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (20 subgoals):\n 1. \\<And>Vs C A.\n       \\<lbrakk>\\<A> (new C) = \\<lfloor>A\\<rfloor>;\n        fv (new C) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (new C)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (newA T\\<lfloor>e\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (newA T\\<lfloor>e\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (newA T\\<lfloor>e\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>Vs T e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (Cast T e) = \\<lfloor>A\\<rfloor>;\n        fv (Cast T e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Cast T e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>Vs e T A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e instanceof T) = \\<lfloor>A\\<rfloor>;\n        fv (e instanceof T) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (e instanceof T)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>Vs v A.\n       \\<lbrakk>\\<A> (Val v) = \\<lfloor>A\\<rfloor>;\n        fv (Val v) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Val v)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>Vs V A.\n       \\<lbrakk>\\<A> (Var V) = \\<lfloor>A\\<rfloor>;\n        fv (Var V) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (Var V)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>Vs e bop e' A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> e' = \\<lfloor>A\\<rfloor>;\n            fv e' \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs e') =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (e \\<guillemotleft>bop\\<guillemotright> e') =\n        \\<lfloor>A\\<rfloor>;\n        fv (e \\<guillemotleft>bop\\<guillemotright> e')\n        \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A>\n                          (compE1 Vs\n                            (e \\<guillemotleft>bop\\<guillemotright> e')) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>Vs V e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n                    fv e \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (V:=e) = \\<lfloor>A\\<rfloor>;\n        fv (V:=e) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (V:=e)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>Vs a i A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                    fv a \\<subseteq> set Vs\\<rbrakk>\n                   \\<Longrightarrow> \\<A> (compE1 Vs a) =\n                                     \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A.\n           \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n            fv i \\<subseteq> set Vs\\<rbrakk>\n           \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                             \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<A> (a\\<lfloor>i\\<rceil>) = \\<lfloor>A\\<rfloor>;\n        fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<rbrakk>\n       \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil>)) =\n                         \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>Vs a i e A.\n        \\<lbrakk>\\<And>A.\n                    \\<lbrakk>\\<A> a = \\<lfloor>A\\<rfloor>;\n                     fv a \\<subseteq> set Vs\\<rbrakk>\n                    \\<Longrightarrow> \\<A> (compE1 Vs a) =\n\\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> i = \\<lfloor>A\\<rfloor>;\n             fv i \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs i) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A.\n            \\<lbrakk>\\<A> e = \\<lfloor>A\\<rfloor>;\n             fv e \\<subseteq> set Vs\\<rbrakk>\n            \\<Longrightarrow> \\<A> (compE1 Vs e) =\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<A> (a\\<lfloor>i\\<rceil> := e) = \\<lfloor>A\\<rfloor>;\n         fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<rbrakk>\n        \\<Longrightarrow> \\<A> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) =\n                          \\<lfloor>index Vs ` A\\<rfloor>\nA total of 20 subgoals...", "qed (auto simp add:hyperset_defs)"], ["", "lemma fixes e :: \"('a, 'b, 'addr) exp\" and es :: \"('a, 'b, 'addr) exp list\"\n  shows D_None [iff]: \"\\<D> e None\"\n  and Ds_None [iff]: \"\\<D>s es None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> e None &&& \\<D>s es None", "by(induct e and es rule: \\<D>.induct \\<D>s.induct)(simp_all)"], ["", "declare Un_ac [simp]"], ["", "lemma fixes e :: \"'addr expr\" and es :: \"'addr expr list\"\n  shows D_index_compE1: \"\\<lbrakk> A \\<subseteq> set Vs; fv e \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<D> e \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\"\n  and Ds_index_compEs1: \"\\<lbrakk> A \\<subseteq> set Vs; fvs es \\<subseteq> set Vs \\<rbrakk> \\<Longrightarrow> \\<D>s es \\<lfloor>A\\<rfloor> \\<Longrightarrow> \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs;\n      \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n     \\<Longrightarrow> \\<D> (compE1 Vs e)\n                        \\<lfloor>index Vs ` A\\<rfloor>) &&&\n    (\\<lbrakk>A \\<subseteq> set Vs; fvs es \\<subseteq> set Vs;\n      \\<D>s es \\<lfloor>A\\<rfloor>\\<rbrakk>\n     \\<Longrightarrow> \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` A\\<rfloor>)", "proof(induct e and es arbitrary: A Vs and A Vs rule: \\<D>.induct \\<D>s.induct)"], ["proof (state)\ngoal (25 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<subseteq> set Vs;\n        \\<D> (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n         \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>\n                          (compE1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n             \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n         \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "case (BinOp e1 bop e2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<subseteq> set Vs\n  \\<D> (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<lfloor>A\\<rfloor>\n\ngoal (25 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<subseteq> set Vs;\n        \\<D> (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n         \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>\n                          (compE1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n             \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n         \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "hence IH1: \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<subseteq> set Vs\n  \\<D> (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (25 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1 \\<guillemotleft>x2\\<guillemotright> x3) \\<subseteq> set Vs;\n        \\<D> (x1 \\<guillemotleft>x2\\<guillemotright> x3)\n         \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D>\n                          (compE1 Vs\n                            (x1 \\<guillemotleft>x2\\<guillemotright> x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n             \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n             \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n         \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 25 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using BinOp"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<subseteq> set Vs\n  \\<D> (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "have indexA1: \"\\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "using A_compE1[OF Some] BinOp.prems"], ["proof (prove)\nusing this:\n  fv e1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE1 ?Vs e1) = \\<lfloor>index ?Vs ` A1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<subseteq> set Vs\n  \\<D> (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "have \"A \\<union> A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "using BinOp.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<subseteq> set Vs\n  \\<D> (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<lfloor>A\\<rfloor>\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>", "using BinOp Some"], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<subseteq> set Vs\n  \\<D> (e1 \\<guillemotleft>bop\\<guillemotright> e2) \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>", "by(auto)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2)\n     \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using IH1 indexA1"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1 \\<guillemotleft>bop\\<guillemotright> e2))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n         \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "next"], ["proof (state)\ngoal (24 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n         \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "case (AAcc a i A Vs)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv a \\<subseteq> set ?Vs;\n   \\<D> a \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs a) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv i \\<subseteq> set ?Vs;\n   \\<D> i \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs i) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\n  \\<D> (a\\<lfloor>i\\<rceil>) \\<lfloor>A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n         \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "have IH1: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv a \\<subseteq> set Vs; \\<D> a \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs a) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv a \\<subseteq> set Vs;\n        \\<D> a \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs a) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv a \\<subseteq> set ?Vs;\n   \\<D> a \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs a) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n         \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "have IH2: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv i \\<subseteq> set Vs; \\<D> i \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv i \\<subseteq> set Vs;\n        \\<D> i \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv i \\<subseteq> set ?Vs;\n   \\<D> i \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs i) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (24 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n         \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "from \\<open>\\<D> (a\\<lfloor>i\\<rceil>) \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<D> (a\\<lfloor>i\\<rceil>) \\<lfloor>A\\<rfloor>", "have D1: \"\\<D> a \\<lfloor>A\\<rfloor>\" and D2: \"\\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)\""], ["proof (prove)\nusing this:\n  \\<D> (a\\<lfloor>i\\<rceil>) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> a \\<lfloor>A\\<rfloor> &&&\n    \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)", "by auto"], ["proof (state)\nthis:\n  \\<D> a \\<lfloor>A\\<rfloor>\n  \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)\n\ngoal (24 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n         \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "from \\<open>fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs", "have fv1: \"fv a \\<subseteq> set Vs\" and fv2: \"fv i \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv a \\<subseteq> set Vs &&& fv i \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  fv a \\<subseteq> set Vs\n  fv i \\<subseteq> set Vs\n\ngoal (24 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n         \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 24 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "proof(cases \"\\<A> a\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> a = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> a = None\n\ngoal (2 subgoals):\n 1. \\<A> a = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> a = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "using AAcc"], ["proof (prove)\nusing this:\n  \\<A> a = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv a \\<subseteq> set ?Vs;\n   \\<D> a \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs a) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv i \\<subseteq> set ?Vs;\n   \\<D> i \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs i) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (a\\<lfloor>i\\<rceil>) \\<subseteq> set Vs\n  \\<D> (a\\<lfloor>i\\<rceil>) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "with fv1"], ["proof (chain)\npicking this:\n  fv a \\<subseteq> set Vs\n  \\<A> a = \\<lfloor>A1\\<rfloor>", "have \"\\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv a \\<subseteq> set Vs\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>", "by-(rule A_compE1)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "from A_fv[OF Some] fv1 \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A1 \\<subseteq> fv a\n  fv a \\<subseteq> set Vs\n  A \\<subseteq> set Vs", "have \"A1 \\<union> A \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  A1 \\<subseteq> fv a\n  fv a \\<subseteq> set Vs\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A1 \\<union> A \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A1 \\<union> A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "from IH2[OF this fv2] Some D2"], ["proof (chain)\npicking this:\n  \\<D> i \\<lfloor>A1 \\<union> A\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n  \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)", "have \"\\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> i \\<lfloor>A1 \\<union> A\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n  \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "using IH1[OF \\<open>A \\<subseteq> set Vs\\<close> fv1 D1]"], ["proof (prove)\nusing this:\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n  \\<D> (compE1 Vs a) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil>)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "next"], ["proof (state)\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "case (AAss a i e A Vs)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv a \\<subseteq> set ?Vs;\n   \\<D> a \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs a) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv i \\<subseteq> set ?Vs;\n   \\<D> i \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs i) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\n  \\<D> (a\\<lfloor>i\\<rceil> := e) \\<lfloor>A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "have IH1: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv a \\<subseteq> set Vs; \\<D> a \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs a) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv a \\<subseteq> set Vs;\n        \\<D> a \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs a) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv a \\<subseteq> set ?Vs;\n   \\<D> a \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs a) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "have IH2: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv i \\<subseteq> set Vs; \\<D> i \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv i \\<subseteq> set Vs;\n        \\<D> i \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv i \\<subseteq> set ?Vs;\n   \\<D> i \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs i) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "have IH3: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs; \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs;\n        \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "from \\<open>\\<D> (a\\<lfloor>i\\<rceil>:=e) \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<D> (a\\<lfloor>i\\<rceil> := e) \\<lfloor>A\\<rfloor>", "have D1: \"\\<D> a \\<lfloor>A\\<rfloor>\" and D2: \"\\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)\" \n    and D3: \"\\<D> e (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a \\<squnion> \\<A> i)\""], ["proof (prove)\nusing this:\n  \\<D> (a\\<lfloor>i\\<rceil> := e) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> a \\<lfloor>A\\<rfloor> &&&\n    \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a) &&&\n    \\<D> e (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a \\<squnion> \\<A> i)", "by auto"], ["proof (state)\nthis:\n  \\<D> a \\<lfloor>A\\<rfloor>\n  \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)\n  \\<D> e (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a \\<squnion> \\<A> i)\n\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "from \\<open>fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs", "have fv1: \"fv a \\<subseteq> set Vs\" and fv2: \"fv i \\<subseteq> set Vs\" and fv3: \"fv e \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv a \\<subseteq> set Vs &&&\n    fv i \\<subseteq> set Vs &&& fv e \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  fv a \\<subseteq> set Vs\n  fv i \\<subseteq> set Vs\n  fv e \\<subseteq> set Vs\n\ngoal (23 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n            \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x2)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        \\<And>A Vs.\n           \\<lbrakk>A \\<subseteq> set Vs; fv x3 \\<subseteq> set Vs;\n            \\<D> x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n           \\<Longrightarrow> \\<D> (compE1 Vs x3)\n                              \\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (x1\\<lfloor>x2\\<rceil> := x3) \\<subseteq> set Vs;\n        \\<D> (x1\\<lfloor>x2\\<rceil> := x3) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<lfloor>x2\\<rceil> := x3))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 23 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "proof(cases \"\\<A> a\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> a = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> a = None\n\ngoal (2 subgoals):\n 1. \\<A> a = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> a = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using AAss"], ["proof (prove)\nusing this:\n  \\<A> a = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv a \\<subseteq> set ?Vs;\n   \\<D> a \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs a) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv i \\<subseteq> set ?Vs;\n   \\<D> i \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs i) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\n  \\<D> (a\\<lfloor>i\\<rceil> := e) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "with fv1"], ["proof (chain)\npicking this:\n  fv a \\<subseteq> set Vs\n  \\<A> a = \\<lfloor>A1\\<rfloor>", "have A1: \"\\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv a \\<subseteq> set Vs\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>", "by-(rule A_compE1)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from A_fv[OF Some] fv1 \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A1 \\<subseteq> fv a\n  fv a \\<subseteq> set Vs\n  A \\<subseteq> set Vs", "have \"A1 \\<union> A \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  A1 \\<subseteq> fv a\n  fv a \\<subseteq> set Vs\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A1 \\<union> A \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A1 \\<union> A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from IH2[OF this fv2] Some D2"], ["proof (chain)\npicking this:\n  \\<D> i \\<lfloor>A1 \\<union> A\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n  \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)", "have D2': \"\\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> i \\<lfloor>A1 \\<union> A\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n  \\<D> i (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> a = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "proof(cases \"\\<A> i\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> i = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> i = None\n\ngoal (2 subgoals):\n 1. \\<A> i = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> i = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using AAss D2' Some A1"], ["proof (prove)\nusing this:\n  \\<A> i = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv a \\<subseteq> set ?Vs;\n   \\<D> a \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs a) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv i \\<subseteq> set ?Vs;\n   \\<D> i \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs i) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (a\\<lfloor>i\\<rceil> := e) \\<subseteq> set Vs\n  \\<D> (a\\<lfloor>i\\<rceil> := e) \\<lfloor>A\\<rfloor>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A2)"], ["proof (state)\nthis:\n  \\<A> i = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "with fv2"], ["proof (chain)\npicking this:\n  fv i \\<subseteq> set Vs\n  \\<A> i = \\<lfloor>A2\\<rfloor>", "have A2: \"\\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv i \\<subseteq> set Vs\n  \\<A> i = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>", "by-(rule A_compE1)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from A_fv[OF Some] fv2 \\<open>A1 \\<union> A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A2 \\<subseteq> fv i\n  fv i \\<subseteq> set Vs\n  A1 \\<union> A \\<subseteq> set Vs", "have \"A1 \\<union> A \\<union> A2 \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  A2 \\<subseteq> fv i\n  fv i \\<subseteq> set Vs\n  A1 \\<union> A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A1 \\<union> A \\<union> A2 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A1 \\<union> A \\<union> A2 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from IH3[OF this fv3] Some \\<open>\\<A> a = \\<lfloor>A1\\<rfloor>\\<close> D3"], ["proof (chain)\npicking this:\n  \\<D> e \\<lfloor>A1 \\<union> A \\<union> A2\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs e)\n   \\<lfloor>index Vs ` (A1 \\<union> A \\<union> A2)\\<rfloor>\n  \\<A> i = \\<lfloor>A2\\<rfloor>\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n  \\<D> e (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a \\<squnion> \\<A> i)", "have \"\\<D> (compE1 Vs e) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union> index Vs ` A2\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> e \\<lfloor>A1 \\<union> A \\<union> A2\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs e)\n   \\<lfloor>index Vs ` (A1 \\<union> A \\<union> A2)\\<rfloor>\n  \\<A> i = \\<lfloor>A2\\<rfloor>\n  \\<A> a = \\<lfloor>A1\\<rfloor>\n  \\<D> e (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> a \\<squnion> \\<A> i)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e)\n     \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n              index Vs ` A2\\<rfloor>", "by(simp add: image_Un Un_commute Un_assoc)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>aa.\n       \\<A> i = \\<lfloor>aa\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n        \\<lfloor>index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs e)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs e)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using IH1[OF \\<open>A \\<subseteq> set Vs\\<close> fv1 D1] D2' A1 A2"], ["proof (prove)\nusing this:\n  \\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs e)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs a) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<D> (compE1 Vs i) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs a) = \\<lfloor>index Vs ` A1\\<rfloor>\n  \\<A> (compE1 Vs i) = \\<lfloor>index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (a\\<lfloor>i\\<rceil> := e)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (22 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3} := x4))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "next"], ["proof (state)\ngoal (22 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3} := x4))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "case (FAss e1 F D e2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>F{D} := e2) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>A\\<rfloor>\n\ngoal (22 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3} := x4))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "hence IH1: \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>F{D} := e2) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (22 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>x2{x3} := x4) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2{x3} := x4) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3} := x4))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 22 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using FAss"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>F{D} := e2) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "have indexA1: \"\\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "using A_compE1[OF Some] FAss.prems"], ["proof (prove)\nusing this:\n  fv e1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE1 ?Vs e1) = \\<lfloor>index ?Vs ` A1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>F{D} := e2) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "have \"A \\<union> A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "using FAss.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>F{D} := e2) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>A\\<rfloor>\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "using FAss Some"], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>F{D} := e2) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>F{D} := e2) \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2)\n     \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using IH1 indexA1"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>F{D} := e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "next"], ["proof (state)\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "case (CompareAndSwap e1 D F e2 e3 A Vs)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e3 \\<subseteq> set ?Vs;\n   \\<D> e3 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e3) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<lfloor>A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "have IH1: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv e1 \\<subseteq> set Vs; \\<D> e1 \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv e1 \\<subseteq> set Vs;\n        \\<D> e1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "have IH2: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv e2 \\<subseteq> set Vs; \\<D> e2 \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv e2 \\<subseteq> set Vs;\n        \\<D> e2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "have IH3: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv e3 \\<subseteq> set Vs; \\<D> e3 \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e3) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv e3 \\<subseteq> set Vs;\n        \\<D> e3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs e3) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e3 \\<subseteq> set ?Vs;\n   \\<D> e3 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e3) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "from \\<open>\\<D> (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<D> (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<lfloor>A\\<rfloor>", "have D1: \"\\<D> e1 \\<lfloor>A\\<rfloor>\" and D2: \"\\<D> e2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1)\" \n    and D3: \"\\<D> e3 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1 \\<squnion> \\<A> e2)\""], ["proof (prove)\nusing this:\n  \\<D> (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> e1 \\<lfloor>A\\<rfloor> &&&\n    \\<D> e2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1) &&&\n    \\<D> e3 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1 \\<squnion> \\<A> e2)", "by auto"], ["proof (state)\nthis:\n  \\<D> e1 \\<lfloor>A\\<rfloor>\n  \\<D> e2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1)\n  \\<D> e3 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1 \\<squnion> \\<A> e2)\n\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "from \\<open>fv (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fv (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<subseteq> set Vs", "have fv1: \"fv e1 \\<subseteq> set Vs\" and fv2: \"fv e2 \\<subseteq> set Vs\" and fv3: \"fv e3 \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  fv (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e1 \\<subseteq> set Vs &&&\n    fv e2 \\<subseteq> set Vs &&& fv e3 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  fv e1 \\<subseteq> set Vs\n  fv e2 \\<subseteq> set Vs\n  fv e3 \\<subseteq> set Vs\n\ngoal (21 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 x5 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n             \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x4)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fv x5 \\<subseteq> set Vs;\n             \\<D> x5 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D> (compE1 Vs x5)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs;\n         fv (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n         \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5))\n          \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D>\n                           (compE1 Vs\n                             (x1\\<bullet>compareAndSwap(x2\\<bullet>x3, x4, x5)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 21 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "proof(cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using CompareAndSwap"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e3 \\<subseteq> set ?Vs;\n   \\<D> e3 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e3) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "with fv1"], ["proof (chain)\npicking this:\n  fv e1 \\<subseteq> set Vs\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>", "have A1: \"\\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv e1 \\<subseteq> set Vs\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by-(rule A_compE1)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from A_fv[OF Some] fv1 \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A1 \\<subseteq> fv e1\n  fv e1 \\<subseteq> set Vs\n  A \\<subseteq> set Vs", "have \"A1 \\<union> A \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  A1 \\<subseteq> fv e1\n  fv e1 \\<subseteq> set Vs\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A1 \\<union> A \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A1 \\<union> A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from IH2[OF this fv2] Some D2"], ["proof (chain)\npicking this:\n  \\<D> e2 \\<lfloor>A1 \\<union> A\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<D> e2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1)", "have D2': \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> e2 \\<lfloor>A1 \\<union> A\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A1 \\<union> A)\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<D> e2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2)\n     \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "proof(cases \"\\<A> e2\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e2 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e2 = None\n\ngoal (2 subgoals):\n 1. \\<A> e2 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e2 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using CompareAndSwap D2' Some A1"], ["proof (prove)\nusing this:\n  \\<A> e2 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e3 \\<subseteq> set ?Vs;\n   \\<D> e3 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e3) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)) \\<lfloor>A\\<rfloor>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A2)"], ["proof (state)\nthis:\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "with fv2"], ["proof (chain)\npicking this:\n  fv e2 \\<subseteq> set Vs\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>", "have A2: \"\\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv e2 \\<subseteq> set Vs\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>", "by-(rule A_compE1)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from A_fv[OF Some] fv2 \\<open>A1 \\<union> A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A2 \\<subseteq> fv e2\n  fv e2 \\<subseteq> set Vs\n  A1 \\<union> A \\<subseteq> set Vs", "have \"A1 \\<union> A \\<union> A2 \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  A2 \\<subseteq> fv e2\n  fv e2 \\<subseteq> set Vs\n  A1 \\<union> A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A1 \\<union> A \\<union> A2 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A1 \\<union> A \\<union> A2 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from IH3[OF this fv3] Some \\<open>\\<A> e1 = \\<lfloor>A1\\<rfloor>\\<close> D3"], ["proof (chain)\npicking this:\n  \\<D> e3 \\<lfloor>A1 \\<union> A \\<union> A2\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs e3)\n   \\<lfloor>index Vs ` (A1 \\<union> A \\<union> A2)\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<D> e3 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1 \\<squnion> \\<A> e2)", "have \"\\<D> (compE1 Vs e3) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union> index Vs ` A2\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> e3 \\<lfloor>A1 \\<union> A \\<union> A2\\<rfloor> \\<Longrightarrow>\n  \\<D> (compE1 Vs e3)\n   \\<lfloor>index Vs ` (A1 \\<union> A \\<union> A2)\\<rfloor>\n  \\<A> e2 = \\<lfloor>A2\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n  \\<D> e3 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> e1 \\<squnion> \\<A> e2)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e3)\n     \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n              index Vs ` A2\\<rfloor>", "by(simp add: image_Un Un_commute Un_assoc)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e3)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e2 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n        \\<lfloor>index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs e3)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs e3)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using IH1[OF \\<open>A \\<subseteq> set Vs\\<close> fv1 D1] D2' A1 A2"], ["proof (prove)\nusing this:\n  \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs e3)\n   \\<lfloor>index Vs ` A1 \\<union> index Vs ` A \\<union>\n            index Vs ` A2\\<rfloor>\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A1 \\<union> index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n  \\<A> (compE1 Vs e2) = \\<lfloor>index Vs ` A2\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3)))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (20 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n             \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs1 Vs x3)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2(x3)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 20 subgoals...", "next"], ["proof (state)\ngoal (20 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n             \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs1 Vs x3)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2(x3)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 20 subgoals...", "case (Call e1 M es)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (20 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n             \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs1 Vs x3)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2(x3)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 20 subgoals...", "hence IH1: \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (20 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                     \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x1)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         \\<And>A Vs.\n            \\<lbrakk>A \\<subseteq> set Vs; fvs x3 \\<subseteq> set Vs;\n             \\<D>s x3 \\<lfloor>A\\<rfloor>\\<rbrakk>\n            \\<Longrightarrow> \\<D>s (compEs1 Vs x3)\n                               \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (x1\\<bullet>x2(x3)) \\<subseteq> set Vs;\n         \\<D> (x1\\<bullet>x2(x3)) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2(x3)))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 20 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "using Call"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "have indexA1: \"\\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "using A_compE1[OF Some] Call.prems"], ["proof (prove)\nusing this:\n  fv e1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE1 ?Vs e1) = \\<lfloor>index ?Vs ` A1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "have \"A \\<union> A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "using Call.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "using Call Some"], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1\\<bullet>M(es)) \\<subseteq> set Vs\n  \\<D> (e1\\<bullet>M(es)) \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs es)\n     \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D>s (compEs1 Vs es)\n   \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D>s (compEs1 Vs es)\n   \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "using IH1 indexA1"], ["proof (prove)\nusing this:\n  \\<D>s (compEs1 Vs es)\n   \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1\\<bullet>M(es))) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (19 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 19 subgoals...", "next"], ["proof (state)\ngoal (19 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 19 subgoals...", "case (Synchronized V exp1 exp2 A Vs)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv exp1 \\<subseteq> set ?Vs;\n   \\<D> exp1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs exp1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv exp2 \\<subseteq> set ?Vs;\n   \\<D> exp2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs exp2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs\n  \\<D> (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<lfloor>A\\<rfloor>\n\ngoal (19 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 19 subgoals...", "have IH1: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv exp1 \\<subseteq> set Vs; \\<D> exp1 \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs exp1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv exp1 \\<subseteq> set Vs;\n        \\<D> exp1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs exp1)\n                          \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv exp1 \\<subseteq> set ?Vs;\n   \\<D> exp1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs exp1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (19 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 19 subgoals...", "have IH2: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv exp2 \\<subseteq> set Vs; \\<D> exp2 \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs exp2) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv exp2 \\<subseteq> set Vs;\n        \\<D> exp2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs exp2)\n                          \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv exp2 \\<subseteq> set ?Vs;\n   \\<D> exp2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs exp2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (19 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 19 subgoals...", "from \\<open>\\<D> (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<D> (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<lfloor>A\\<rfloor>", "have D1: \"\\<D> exp1 \\<lfloor>A\\<rfloor>\" and D2: \"\\<D> exp2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> exp1)\""], ["proof (prove)\nusing this:\n  \\<D> (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> exp1 \\<lfloor>A\\<rfloor> &&&\n    \\<D> exp2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> exp1)", "by auto"], ["proof (state)\nthis:\n  \\<D> exp1 \\<lfloor>A\\<rfloor>\n  \\<D> exp2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> exp1)\n\ngoal (19 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 19 subgoals...", "from \\<open>fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs", "have fv1: \"fv exp1 \\<subseteq> set Vs\" and fv2: \"fv exp2 \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv exp1 \\<subseteq> set Vs &&& fv exp2 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  fv exp1 \\<subseteq> set Vs\n  fv exp2 \\<subseteq> set Vs\n\ngoal (19 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 19 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "proof(cases \"\\<A> exp1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> exp1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> exp1 = None\n\ngoal (2 subgoals):\n 1. \\<A> exp1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n     \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> exp1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using Synchronized"], ["proof (prove)\nusing this:\n  \\<A> exp1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv exp1 \\<subseteq> set ?Vs;\n   \\<D> exp1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs exp1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv exp2 \\<subseteq> set ?Vs;\n   \\<D> exp2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs exp2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<subseteq> set Vs\n  \\<D> (sync\\<^bsub>V\\<^esub> (exp1) exp2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "with fv1"], ["proof (chain)\npicking this:\n  fv exp1 \\<subseteq> set Vs\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>", "have A1: \"\\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  fv exp1 \\<subseteq> set Vs\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by-(rule A_compE1)"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from A_fv[OF Some] fv1 \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A1 \\<subseteq> fv exp1\n  fv exp1 \\<subseteq> set Vs\n  A \\<subseteq> set Vs", "have \"A \\<union> A1 \\<subseteq> set Vs\""], ["proof (prove)\nusing this:\n  A1 \\<subseteq> fv exp1\n  fv exp1 \\<subseteq> set Vs\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "hence \"A \\<union> A1 \\<subseteq> set (Vs @ [fresh_var Vs])\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set (Vs @ [fresh_var Vs])", "by simp"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set (Vs @ [fresh_var Vs])\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from IH2[OF this] fv2 Some D2"], ["proof (chain)\npicking this:\n  \\<lbrakk>fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs]);\n   \\<D> exp2 \\<lfloor>A \\<union> A1\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n                     \\<lfloor>index (Vs @ [fresh_var Vs]) `\n                              (A \\<union> A1)\\<rfloor>\n  fv exp2 \\<subseteq> set Vs\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>\n  \\<D> exp2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> exp1)", "have D2': \"\\<D> (compE1 (Vs @ [fresh_var Vs]) exp2) \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>fv exp2 \\<subseteq> set (Vs @ [fresh_var Vs]);\n   \\<D> exp2 \\<lfloor>A \\<union> A1\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n                     \\<lfloor>index (Vs @ [fresh_var Vs]) `\n                              (A \\<union> A1)\\<rfloor>\n  fv exp2 \\<subseteq> set Vs\n  \\<A> exp1 = \\<lfloor>A1\\<rfloor>\n  \\<D> exp2 (\\<lfloor>A\\<rfloor> \\<squnion> \\<A> exp1)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n     \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "from fresh_var_fresh[of Vs] \\<open>A \\<union> A1 \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fresh_var Vs \\<notin> set Vs\n  A \\<union> A1 \\<subseteq> set Vs", "have \"(fresh_var Vs) \\<notin> A \\<union> A1\""], ["proof (prove)\nusing this:\n  fresh_var Vs \\<notin> set Vs\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fresh_var Vs \\<notin> A \\<union> A1", "by auto"], ["proof (state)\nthis:\n  fresh_var Vs \\<notin> A \\<union> A1\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "with \\<open>A \\<union> A1 \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A \\<union> A1 \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A \\<union> A1", "have \"index (Vs @ [fresh_var Vs]) ` (A \\<union> A1) = index Vs ` A \\<union> index Vs ` A1\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A \\<union> A1\n\ngoal (1 subgoal):\n 1. index (Vs @ [fresh_var Vs]) ` (A \\<union> A1) =\n    index Vs ` A \\<union> index Vs ` A1", "by(simp add: image_index image_Un)"], ["proof (state)\nthis:\n  index (Vs @ [fresh_var Vs]) ` (A \\<union> A1) =\n  index Vs ` A \\<union> index Vs ` A1\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> exp1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n        \\<lfloor>index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>\n  index (Vs @ [fresh_var Vs]) ` (A \\<union> A1) =\n  index Vs ` A \\<union> index Vs ` A1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>\n  index (Vs @ [fresh_var Vs]) ` (A \\<union> A1) =\n  index Vs ` A \\<union> index Vs ` A1\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "using IH1[OF \\<open>A \\<subseteq> set Vs\\<close> fv1 D1] D2' A1"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>\n  index (Vs @ [fresh_var Vs]) ` (A \\<union> A1) =\n  index Vs ` A \\<union> index Vs ` A1\n  \\<D> (compE1 Vs exp1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) exp2)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` (A \\<union> A1)\\<rfloor>\n  \\<A> (compE1 Vs exp1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (sync\\<^bsub>V\\<^esub> (exp1) exp2))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "next"], ["proof (state)\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "case (InSynchronized V a e A Vs)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (insync\\<^bsub>V\\<^esub> (a) e) \\<subseteq> set Vs\n  \\<D> (insync\\<^bsub>V\\<^esub> (a) e) \\<lfloor>A\\<rfloor>\n\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "have IH: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs; \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs;\n        \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "from IH[of A \"Vs @ [fresh_var Vs]\"] \\<open>A \\<subseteq> set Vs\\<close> \\<open>fv (insync\\<^bsub>V\\<^esub> (a) e) \\<subseteq> set Vs\\<close> \\<open>\\<D> (insync\\<^bsub>V\\<^esub> (a) e) \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>A \\<subseteq> set (Vs @ [fresh_var Vs]);\n   fv e \\<subseteq> set (Vs @ [fresh_var Vs]);\n   \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 (Vs @ [fresh_var Vs]) e)\n                     \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (insync\\<^bsub>V\\<^esub> (a) e) \\<subseteq> set Vs\n  \\<D> (insync\\<^bsub>V\\<^esub> (a) e) \\<lfloor>A\\<rfloor>", "have \"\\<D> (compE1 (Vs @ [fresh_var Vs]) e) \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<subseteq> set (Vs @ [fresh_var Vs]);\n   fv e \\<subseteq> set (Vs @ [fresh_var Vs]);\n   \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 (Vs @ [fresh_var Vs]) e)\n                     \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (insync\\<^bsub>V\\<^esub> (a) e) \\<subseteq> set Vs\n  \\<D> (insync\\<^bsub>V\\<^esub> (a) e) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [fresh_var Vs]) e)\n     \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>", "by(auto)"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) e)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) e)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "from fresh_var_fresh[of Vs] \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fresh_var Vs \\<notin> set Vs\n  A \\<subseteq> set Vs", "have \"(fresh_var Vs) \\<notin> A\""], ["proof (prove)\nusing this:\n  fresh_var Vs \\<notin> set Vs\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fresh_var Vs \\<notin> A", "by auto"], ["proof (state)\nthis:\n  fresh_var Vs \\<notin> A\n\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "with \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A", "have \"index (Vs @ [fresh_var Vs]) ` A = index Vs ` A\""], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fresh_var Vs \\<notin> A\n\ngoal (1 subgoal):\n 1. index (Vs @ [fresh_var Vs]) ` A = index Vs ` A", "by(simp add: image_index)"], ["proof (state)\nthis:\n  index (Vs @ [fresh_var Vs]) ` A = index Vs ` A\n\ngoal (18 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 18 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) e)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n  index (Vs @ [fresh_var Vs]) ` A = index Vs ` A", "show ?case"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [fresh_var Vs]) e)\n   \\<lfloor>index (Vs @ [fresh_var Vs]) ` A\\<rfloor>\n  index (Vs @ [fresh_var Vs]) ` A = index Vs ` A\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (insync\\<^bsub>V\\<^esub> (a) e))\n     \\<lfloor>index Vs ` A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (insync\\<^bsub>V\\<^esub> (a) e))\n   \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "next"], ["proof (state)\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "case (TryCatch e1 C V e2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (try e1 catch(C V) e2) \\<subseteq> set Vs\n  \\<D> (try e1 catch(C V) e2) \\<lfloor>A\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "have \"\\<lbrakk> A\\<union>{V} \\<subseteq> set(Vs@[V]); fv e2 \\<subseteq> set(Vs@[V]); \\<D> e2 \\<lfloor>A\\<union>{V}\\<rfloor>\\<rbrakk> \\<Longrightarrow>\n        \\<D> (compE1 (Vs@[V]) e2) \\<lfloor>index (Vs@[V]) ` (A\\<union>{V})\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n     fv e2 \\<subseteq> set (Vs @ [V]);\n     \\<D> e2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n    \\<Longrightarrow> \\<D> (compE1 (Vs @ [V]) e2)\n                       \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n   fv e2 \\<subseteq> set (Vs @ [V]);\n   \\<D> e2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 (Vs @ [V]) e2)\n                     \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "hence \"\\<D> (compE1 (Vs@[V]) e2) \\<lfloor>index (Vs@[V]) ` (A\\<union>{V})\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n   fv e2 \\<subseteq> set (Vs @ [V]);\n   \\<D> e2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 (Vs @ [V]) e2)\n                     \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [V]) e2)\n     \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>", "using TryCatch.prems"], ["proof (prove)\nusing this:\n  \\<lbrakk>A \\<union> {V} \\<subseteq> set (Vs @ [V]);\n   fv e2 \\<subseteq> set (Vs @ [V]);\n   \\<D> e2 \\<lfloor>A \\<union> {V}\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 (Vs @ [V]) e2)\n                     \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (try e1 catch(C V) e2) \\<subseteq> set Vs\n  \\<D> (try e1 catch(C V) e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [V]) e2)\n     \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>", "by(simp add:Diff_subset_conv)"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [V]) e2)\n   \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "moreover"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [V]) e2)\n   \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "have \"index (Vs@[V]) ` A \\<subseteq> index Vs ` A \\<union> {size Vs}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. index (Vs @ [V]) ` A \\<subseteq> index Vs ` A \\<union> {length Vs}", "using TryCatch.prems"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (try e1 catch(C V) e2) \\<subseteq> set Vs\n  \\<D> (try e1 catch(C V) e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. index (Vs @ [V]) ` A \\<subseteq> index Vs ` A \\<union> {length Vs}", "by(auto simp add: image_index split:if_split_asm)"], ["proof (state)\nthis:\n  index (Vs @ [V]) ` A \\<subseteq> index Vs ` A \\<union> {length Vs}\n\ngoal (17 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 17 subgoals...", "ultimately"], ["proof (chain)\npicking this:\n  \\<D> (compE1 (Vs @ [V]) e2)\n   \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n  index (Vs @ [V]) ` A \\<subseteq> index Vs ` A \\<union> {length Vs}", "show ?case"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e2)\n   \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n  index (Vs @ [V]) ` A \\<subseteq> index Vs ` A \\<union> {length Vs}\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (try e1 catch(C V) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using TryCatch"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e2)\n   \\<lfloor>index (Vs @ [V]) ` (A \\<union> {V})\\<rfloor>\n  index (Vs @ [V]) ` A \\<subseteq> index Vs ` A \\<union> {length Vs}\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (try e1 catch(C V) e2) \\<subseteq> set Vs\n  \\<D> (try e1 catch(C V) e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (try e1 catch(C V) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by(auto simp:hyperset_defs elim!:D_mono')"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (try e1 catch(C V) e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "next"], ["proof (state)\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "case (Seq e1 e2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1;; e2) \\<subseteq> set Vs\n  \\<D> (e1;; e2) \\<lfloor>A\\<rfloor>\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "hence IH1: \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1;; e2) \\<subseteq> set Vs\n  \\<D> (e1;; e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (16 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 16 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using Seq"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1;; e2) \\<subseteq> set Vs\n  \\<D> (e1;; e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "have indexA1: \"\\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "using A_compE1[OF Some] Seq.prems"], ["proof (prove)\nusing this:\n  fv e1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE1 ?Vs e1) = \\<lfloor>index ?Vs ` A1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1;; e2) \\<subseteq> set Vs\n  \\<D> (e1;; e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "have \"A \\<union> A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "using Seq.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (e1;; e2) \\<subseteq> set Vs\n  \\<D> (e1;; e2) \\<lfloor>A\\<rfloor>\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "using Seq Some"], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (e1;; e2) \\<subseteq> set Vs\n  \\<D> (e1;; e2) \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2)\n     \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using IH1 indexA1"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (e1;; e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "next"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "case (Cond e e1 e2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  \\<D> (if (e) e1 else e2) \\<lfloor>A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "hence IH1: \"\\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  \\<D> (if (e) e1 else e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (15 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 15 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e = None\n\ngoal (2 subgoals):\n 1. \\<A> e = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using Cond"], ["proof (prove)\nusing this:\n  \\<A> e = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  \\<D> (if (e) e1 else e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "case (Some B)"], ["proof (state)\nthis:\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "have indexB: \"\\<A> (compE1 Vs e) = \\<lfloor>index Vs ` B\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` B\\<rfloor>", "using A_compE1[OF Some] Cond.prems"], ["proof (prove)\nusing this:\n  fv e \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE1 ?Vs e) = \\<lfloor>index ?Vs ` B\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  \\<D> (if (e) e1 else e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` B\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "have \"A \\<union> B \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> B \\<subseteq> set Vs", "using Cond.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  \\<D> (if (e) e1 else e2) \\<lfloor>A\\<rfloor>\n  B \\<subseteq> fv e\n\ngoal (1 subgoal):\n 1. A \\<union> B \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> B \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>\"\n      and \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> B \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor> &&&\n    \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>", "using Cond Some"], ["proof (prove)\nusing this:\n  A \\<union> B \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (if (e) e1 else e2) \\<subseteq> set Vs\n  \\<D> (if (e) e1 else e2) \\<lfloor>A\\<rfloor>\n  \\<A> e = \\<lfloor>B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor> &&&\n    \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\"\n      and \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> B)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1)\n     \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor> &&&\n    \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>", "by(simp add: image_Un)+"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using IH1 indexB"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` B\\<rfloor>\n  \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e) = \\<lfloor>index Vs ` B\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (if (e) e1 else e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "case (While e1 e2)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e1) e2) \\<subseteq> set Vs\n  \\<D> (while (e1) e2) \\<lfloor>A\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "hence IH1: \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e1) e2) \\<subseteq> set Vs\n  \\<D> (while (e1) e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (14 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 14 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using While"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e1) e2) \\<subseteq> set Vs\n  \\<D> (while (e1) e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "have indexA1: \"\\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "using A_compE1[OF Some] While.prems"], ["proof (prove)\nusing this:\n  fv e1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE1 ?Vs e1) = \\<lfloor>index ?Vs ` A1\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e1) e2) \\<subseteq> set Vs\n  \\<D> (while (e1) e2) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "have \"A \\<union> A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "using While.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fv (while (e1) e2) \\<subseteq> set Vs\n  \\<D> (while (e1) e2) \\<lfloor>A\\<rfloor>\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "using While Some"], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e2 \\<subseteq> set ?Vs;\n   \\<D> e2 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e2) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv (while (e1) e2) \\<subseteq> set Vs\n  \\<D> (while (e1) e2) \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e2)\n     \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "using IH1 indexA1"], ["proof (prove)\nusing this:\n  \\<D> (compE1 Vs e2) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs (while (e1) e2)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "case (Block V T vo e A Vs)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fv {V:T=vo; e} \\<subseteq> set Vs\n  \\<D> {V:T=vo; e} \\<lfloor>A\\<rfloor>\n\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "have IH: \"\\<And>A Vs. \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs; \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv e \\<subseteq> set Vs;\n        \\<D> e \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>index Vs ` A\\<rfloor>", "by fact"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e \\<subseteq> set ?Vs;\n   \\<D> e \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "from \\<open>fv {V:T=vo; e} \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  fv {V:T=vo; e} \\<subseteq> set Vs", "have fv: \"fv e \\<subseteq> set (Vs @ [V])\""], ["proof (prove)\nusing this:\n  fv {V:T=vo; e} \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. fv e \\<subseteq> set (Vs @ [V])", "by auto"], ["proof (state)\nthis:\n  fv e \\<subseteq> set (Vs @ [V])\n\ngoal (13 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x1 x2 x3 x4 A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x4 \\<subseteq> set Vs;\n                     \\<D> x4 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x4)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv {x1:x2=x3; x4} \\<subseteq> set Vs;\n         \\<D> {x1:x2=x3; x4} \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs {x1:x2=x3; x4})\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 13 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "proof(cases vo)"], ["proof (state)\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  vo = None\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "with \\<open>\\<D> {V:T=vo; e} \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<D> {V:T=vo; e} \\<lfloor>A\\<rfloor>\n  vo = None", "have D: \"\\<D> e \\<lfloor>A - {V}\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> {V:T=vo; e} \\<lfloor>A\\<rfloor>\n  vo = None\n\ngoal (1 subgoal):\n 1. \\<D> e \\<lfloor>A - {V}\\<rfloor>", "by(auto)"], ["proof (state)\nthis:\n  \\<D> e \\<lfloor>A - {V}\\<rfloor>\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "from \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A \\<subseteq> set Vs", "have \"A - {V} \\<subseteq> set (Vs @ [V])\""], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. A - {V} \\<subseteq> set (Vs @ [V])", "by auto"], ["proof (state)\nthis:\n  A - {V} \\<subseteq> set (Vs @ [V])\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "from IH[OF this fv D]"], ["proof (chain)\npicking this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>", "have \"\\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [V]) e)\n     \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>", "."], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "from \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A \\<subseteq> set Vs", "have size: \"size Vs \\<notin> index Vs ` A\""], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. length Vs \\<notin> index Vs ` A", "by(auto simp add: image_def)"], ["proof (state)\nthis:\n  length Vs \\<notin> index Vs ` A\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<lfloor>index Vs ` (A - {V})\\<rfloor> \\<sqsubseteq> \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  length Vs \\<notin> index Vs ` A\n\ngoal (1 subgoal):\n 1. \\<lfloor>index Vs ` (A - {V})\\<rfloor> \\<sqsubseteq>\n    \\<lfloor>index Vs ` A\\<rfloor>", "by(auto simp add: hyperset_defs)"], ["proof (state)\nthis:\n  \\<lfloor>index Vs ` (A - {V})\\<rfloor> \\<sqsubseteq>\n  \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>\n  \\<lfloor>index Vs ` (A - {V})\\<rfloor> \\<sqsubseteq>\n  \\<lfloor>index Vs ` A\\<rfloor>", "have \"\\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>\n  \\<lfloor>index Vs ` (A - {V})\\<rfloor> \\<sqsubseteq>\n  \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index Vs ` A\\<rfloor>", "using \\<open>A - {V} \\<subseteq> set (Vs @ [V])\\<close>"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` (A - {V})\\<rfloor>\n  \\<lfloor>index Vs ` (A - {V})\\<rfloor> \\<sqsubseteq>\n  \\<lfloor>index Vs ` A\\<rfloor>\n  A - {V} \\<subseteq> set (Vs @ [V])\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index Vs ` A\\<rfloor>", "by(simp add: image_index)(erule D_mono', auto)"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (2 subgoals):\n 1. vo = None \\<Longrightarrow>\n    \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "using None size"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index Vs ` A\\<rfloor>\n  vo = None\n  length Vs \\<notin> index Vs ` A\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "by(simp)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "case (Some v)"], ["proof (state)\nthis:\n  vo = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "with \\<open>\\<D> {V:T=vo; e} \\<lfloor>A\\<rfloor>\\<close>"], ["proof (chain)\npicking this:\n  \\<D> {V:T=vo; e} \\<lfloor>A\\<rfloor>\n  vo = \\<lfloor>v\\<rfloor>", "have D: \"\\<D> e \\<lfloor>insert V A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> {V:T=vo; e} \\<lfloor>A\\<rfloor>\n  vo = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> e \\<lfloor>insert V A\\<rfloor>", "by(auto)"], ["proof (state)\nthis:\n  \\<D> e \\<lfloor>insert V A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "from \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A \\<subseteq> set Vs", "have \"insert V A \\<subseteq> set (Vs @ [V])\""], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. insert V A \\<subseteq> set (Vs @ [V])", "by auto"], ["proof (state)\nthis:\n  insert V A \\<subseteq> set (Vs @ [V])\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "from IH[OF this fv D]"], ["proof (chain)\npicking this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>", "have \"\\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (Vs @ [V]) e)\n     \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "from \\<open>A \\<subseteq> set Vs\\<close>"], ["proof (chain)\npicking this:\n  A \\<subseteq> set Vs", "have \"index (Vs @ [V]) ` insert V A \\<subseteq> insert (length Vs) (index Vs ` A)\""], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. index (Vs @ [V]) ` insert V A\n    \\<subseteq> insert (length Vs) (index Vs ` A)", "by(auto simp add: image_index)"], ["proof (state)\nthis:\n  index (Vs @ [V]) ` insert V A\n  \\<subseteq> insert (length Vs) (index Vs ` A)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       vo = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>\n  index (Vs @ [V]) ` insert V A\n  \\<subseteq> insert (length Vs) (index Vs ` A)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>\n  index (Vs @ [V]) ` insert V A\n  \\<subseteq> insert (length Vs) (index Vs ` A)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "using Some"], ["proof (prove)\nusing this:\n  \\<D> (compE1 (Vs @ [V]) e) \\<lfloor>index (Vs @ [V]) ` insert V A\\<rfloor>\n  index (Vs @ [V]) ` insert V A\n  \\<subseteq> insert (length Vs) (index Vs ` A)\n  vo = \\<lfloor>v\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>", "by(auto elim!: D_mono' simp add: hyperset_defs)"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs {V:T=vo; e}) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (throw x))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (throw x))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "case (Cons_exp e1 es)"], ["proof (state)\nthis:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e1 # es) \\<subseteq> set Vs\n  \\<D>s (e1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (throw x))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "hence IH1: \"\\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e1 # es) \\<subseteq> set Vs\n  \\<D>s (e1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (12 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (throw x))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 12 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "proof (cases \"\\<A> e1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "case None"], ["proof (state)\nthis:\n  \\<A> e1 = None\n\ngoal (2 subgoals):\n 1. \\<A> e1 = None \\<Longrightarrow>\n    \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "using Cons_exp"], ["proof (prove)\nusing this:\n  \\<A> e1 = None\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e1 # es) \\<subseteq> set Vs\n  \\<D>s (e1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "by simp"], ["proof (state)\nthis:\n  \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "case (Some A1)"], ["proof (state)\nthis:\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "have indexA1: \"\\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "using A_compE1[OF Some] Cons_exp.prems"], ["proof (prove)\nusing this:\n  fv e1 \\<subseteq> set ?Vs \\<Longrightarrow>\n  \\<A> (compE1 ?Vs e1) = \\<lfloor>index ?Vs ` A1\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e1 # es) \\<subseteq> set Vs\n  \\<D>s (e1 # es) \\<lfloor>A\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "have \"A \\<union> A1 \\<subseteq> set Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "using Cons_exp.prems A_fv[OF Some]"], ["proof (prove)\nusing this:\n  A \\<subseteq> set Vs\n  fvs (e1 # es) \\<subseteq> set Vs\n  \\<D>s (e1 # es) \\<lfloor>A\\<rfloor>\n  A1 \\<subseteq> fv e1\n\ngoal (1 subgoal):\n 1. A \\<union> A1 \\<subseteq> set Vs", "by auto"], ["proof (state)\nthis:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\""], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "using Cons_exp Some"], ["proof (prove)\nusing this:\n  A \\<union> A1 \\<subseteq> set Vs\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fv e1 \\<subseteq> set ?Vs;\n   \\<D> e1 \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D> (compE1 ?Vs e1) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  \\<lbrakk>?A \\<subseteq> set ?Vs; fvs es \\<subseteq> set ?Vs;\n   \\<D>s es \\<lfloor>?A\\<rfloor>\\<rbrakk>\n  \\<Longrightarrow> \\<D>s (compEs1 ?Vs es) \\<lfloor>index ?Vs ` ?A\\<rfloor>\n  A \\<subseteq> set Vs\n  fvs (e1 # es) \\<subseteq> set Vs\n  \\<D>s (e1 # es) \\<lfloor>A\\<rfloor>\n  \\<A> e1 = \\<lfloor>A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "hence \"\\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\""], ["proof (prove)\nusing this:\n  \\<D>s (compEs1 Vs es) \\<lfloor>index Vs ` (A \\<union> A1)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs es)\n     \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>", "by(simp add: image_Un)"], ["proof (state)\nthis:\n  \\<D>s (compEs1 Vs es)\n   \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<A> e1 = \\<lfloor>a\\<rfloor> \\<Longrightarrow>\n       \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<D>s (compEs1 Vs es)\n   \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "using IH1 indexA1"], ["proof (prove)\nusing this:\n  \\<D>s (compEs1 Vs es)\n   \\<lfloor>index Vs ` A \\<union> index Vs ` A1\\<rfloor>\n  \\<D> (compE1 Vs e1) \\<lfloor>index Vs ` A\\<rfloor>\n  \\<A> (compE1 Vs e1) = \\<lfloor>index Vs ` A1\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<D>s (compEs1 Vs (e1 # es)) \\<lfloor>index Vs ` A\\<rfloor>\n\ngoal (11 subgoals):\n 1. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (new x) \\<subseteq> set Vs;\n        \\<D> (new x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (new x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 2. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs;\n        fv (newA x1\\<lfloor>x2\\<rceil>) \\<subseteq> set Vs;\n        \\<D> (newA x1\\<lfloor>x2\\<rceil>) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (newA x1\\<lfloor>x2\\<rceil>))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 3. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (Cast x1 x2) \\<subseteq> set Vs;\n        \\<D> (Cast x1 x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Cast x1 x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 4. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1 instanceof x2) \\<subseteq> set Vs;\n        \\<D> (x1 instanceof x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1 instanceof x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 5. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Val x) \\<subseteq> set Vs;\n        \\<D> (Val x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Val x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 6. \\<And>x A Vs.\n       \\<lbrakk>A \\<subseteq> set Vs; fv (Var x) \\<subseteq> set Vs;\n        \\<D> (Var x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (Var x))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 7. \\<And>x1 x2 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x2 \\<subseteq> set Vs;\n                    \\<D> x2 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x2)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1:=x2) \\<subseteq> set Vs;\n        \\<D> (x1:=x2) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1:=x2))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 8. \\<And>x A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                    \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x\\<bullet>length) \\<subseteq> set Vs;\n        \\<D> (x\\<bullet>length) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x\\<bullet>length))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 9. \\<And>x1 x2 x3 A Vs.\n       \\<lbrakk>\\<And>A Vs.\n                   \\<lbrakk>A \\<subseteq> set Vs; fv x1 \\<subseteq> set Vs;\n                    \\<D> x1 \\<lfloor>A\\<rfloor>\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (compE1 Vs x1)\n\\<lfloor>index Vs ` A\\<rfloor>;\n        A \\<subseteq> set Vs; fv (x1\\<bullet>x2{x3}) \\<subseteq> set Vs;\n        \\<D> (x1\\<bullet>x2{x3}) \\<lfloor>A\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (compE1 Vs (x1\\<bullet>x2{x3}))\n                          \\<lfloor>index Vs ` A\\<rfloor>\n 10. \\<And>x A Vs.\n        \\<lbrakk>\\<And>A Vs.\n                    \\<lbrakk>A \\<subseteq> set Vs; fv x \\<subseteq> set Vs;\n                     \\<D> x \\<lfloor>A\\<rfloor>\\<rbrakk>\n                    \\<Longrightarrow> \\<D> (compE1 Vs x)\n \\<lfloor>index Vs ` A\\<rfloor>;\n         A \\<subseteq> set Vs; fv (throw x) \\<subseteq> set Vs;\n         \\<D> (throw x) \\<lfloor>A\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (compE1 Vs (throw x))\n                           \\<lfloor>index Vs ` A\\<rfloor>\nA total of 11 subgoals...", "qed (simp_all add:hyperset_defs)"], ["", "declare Un_ac [simp del]"], ["", "lemma index_image_set: \"distinct xs \\<Longrightarrow> index xs ` set xs = {..<size xs}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct xs \\<Longrightarrow> index xs ` set xs = {..<length xs}", "by(induct xs rule:rev_induct) (auto simp add: image_index)"], ["", "lemma D_compE1:\n  \"\\<lbrakk> \\<D> e \\<lfloor>set Vs\\<rfloor>; fv e \\<subseteq> set Vs; distinct Vs \\<rbrakk> \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>{..<length Vs}\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<D> e \\<lfloor>set Vs\\<rfloor>; fv e \\<subseteq> set Vs;\n     distinct Vs\\<rbrakk>\n    \\<Longrightarrow> \\<D> (compE1 Vs e) \\<lfloor>{..<length Vs}\\<rfloor>", "by(fastforce dest!: D_index_compE1[OF subset_refl] simp add:index_image_set)"], ["", "lemma D_compE1':\n  assumes \"\\<D> e \\<lfloor>set(V#Vs)\\<rfloor>\" and \"fv e \\<subseteq> set(V#Vs)\" and \"distinct(V#Vs)\"\n  shows \"\\<D> (compE1 (V#Vs) e) \\<lfloor>{..length Vs}\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> (compE1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<D> (compE1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "have \"{..size Vs} = {..<size(V#Vs)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {..length Vs} = {..<length (V # Vs)}", "by auto"], ["proof (state)\nthis:\n  {..length Vs} = {..<length (V # Vs)}\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "thus ?thesis"], ["proof (prove)\nusing this:\n  {..length Vs} = {..<length (V # Vs)}\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "using assms"], ["proof (prove)\nusing this:\n  {..length Vs} = {..<length (V # Vs)}\n  \\<D> e \\<lfloor>set (V # Vs)\\<rfloor>\n  fv e \\<subseteq> set (V # Vs)\n  distinct (V # Vs)\n\ngoal (1 subgoal):\n 1. \\<D> (compE1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>", "by (simp only:)(rule D_compE1)"], ["proof (state)\nthis:\n  \\<D> (compE1 (V # Vs) e) \\<lfloor>{..length Vs}\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma compP1_pres_wf: \"wf_J_prog P \\<Longrightarrow> wf_J1_prog (compP1 P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf_J_prog P \\<Longrightarrow> wf_J1_prog (compP1 P)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf_J_prog P \\<Longrightarrow>\n    wf_J1_prog\n     (compP (\\<lambda>C M Ts T (pns, body). compE1 (this # pns) body) P)", "apply(rule wf_prog_compPI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>C M Ts T m.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = \\<lfloor>m\\<rfloor> in C;\n        wf_mdecl ?wf\\<^sub>1 P C (M, Ts, T, \\<lfloor>m\\<rfloor>)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J1_mdecl\n                          (compP\n                            (\\<lambda>C M Ts T (pns, body).\n                                compE1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             \\<lfloor>case m of\n(pns, body) \\<Rightarrow> compE1 (this # pns) body\\<rfloor>)\n 2. wf_J_prog P \\<Longrightarrow> wf_prog ?wf\\<^sub>1 P", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. wf_J_prog P \\<Longrightarrow> wf_prog ?wf\\<^sub>1 P\n 2. \\<And>C M Ts T m.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = \\<lfloor>m\\<rfloor> in C;\n        wf_mdecl ?wf\\<^sub>1 P C (M, Ts, T, \\<lfloor>m\\<rfloor>)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J1_mdecl\n                          (compP\n                            (\\<lambda>C M Ts T (pns, body).\n                                compE1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             \\<lfloor>case m of\n(pns, body) \\<Rightarrow> compE1 (this # pns) body\\<rfloor>)", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T m.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = \\<lfloor>m\\<rfloor> in C;\n        wf_mdecl wf_J_mdecl P C (M, Ts, T, \\<lfloor>m\\<rfloor>)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J1_mdecl\n                          (compP\n                            (\\<lambda>C M Ts T (pns, body).\n                                compE1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             \\<lfloor>case m of\n(pns, body) \\<Rightarrow> compE1 (this # pns) body\\<rfloor>)", "apply(case_tac m)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T m a b.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = \\<lfloor>m\\<rfloor> in C;\n        wf_mdecl wf_J_mdecl P C (M, Ts, T, \\<lfloor>m\\<rfloor>);\n        m = (a, b)\\<rbrakk>\n       \\<Longrightarrow> wf_mdecl wf_J1_mdecl\n                          (compP\n                            (\\<lambda>C M Ts T (pns, body).\n                                compE1 (this # pns) body)\n                            P)\n                          C (M, Ts, T,\n                             \\<lfloor>case m of\n(pns, body) \\<Rightarrow> compE1 (this # pns) body\\<rfloor>)", "apply(simp add:wf_mdecl_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T m a b.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = \\<lfloor>(a,\n                        b)\\<rfloor> in C;\n        (\\<forall>x\\<in>set Ts. is_type P x) \\<and>\n        is_type P T \\<and>\n        length Ts = length a \\<and>\n        distinct a \\<and>\n        this \\<notin> set a \\<and>\n        (\\<exists>T'.\n            P,[this \\<mapsto> Class C, a [\\<mapsto>]\n               Ts] \\<turnstile> b :: T' \\<and>\n            P \\<turnstile> T' \\<le> T) \\<and>\n        \\<D> b \\<lfloor>insert this (set a)\\<rfloor>;\n        m = (a, b)\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>T'.\n                             compP\n                              (\\<lambda>C M Ts T (pns, y).\n                                  compE1 (this # pns) y)\n                              P,Class C #\n                                Ts \\<turnstile>1 compE1 (this # a)\n            b :: T' \\<and>\n                             P \\<turnstile> T' \\<le> T) \\<and>\n                         \\<D> (compE1 (this # a) b)\n                          \\<lfloor>{..length a}\\<rfloor> \\<and>\n                         \\<B> (compE1 (this # a) b) (Suc (length a)) \\<and>\n                         syncvars (compE1 (this # a) b)", "apply(clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T a b aa ba T'.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = \\<lfloor>(aa,\n                        ba)\\<rfloor> in C;\n        Ball (set Ts) (is_type P); is_type P T; length Ts = length aa;\n        distinct aa; this \\<notin> set aa;\n        \\<D> ba \\<lfloor>insert this (set aa)\\<rfloor>;\n        P,[this \\<mapsto> Class C, aa [\\<mapsto>] Ts] \\<turnstile> ba :: T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>T'.\n                             compP\n                              (\\<lambda>C M Ts T (pns, y).\n                                  compE1 (this # pns) y)\n                              P,Class C #\n                                Ts \\<turnstile>1 compE1 (this # aa)\n            ba :: T' \\<and>\n                             P \\<turnstile> T' \\<le> T) \\<and>\n                         \\<D> (compE1 (this # aa) ba)\n                          \\<lfloor>{..length aa}\\<rfloor> \\<and>\n                         \\<B> (compE1 (this # aa) ba)\n                          (Suc (length aa)) \\<and>\n                         syncvars (compE1 (this # aa) ba)", "apply(frule WT_fv)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>C M Ts T a b aa ba T'.\n       \\<lbrakk>wf_J_prog P;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = \\<lfloor>(aa,\n                        ba)\\<rfloor> in C;\n        Ball (set Ts) (is_type P); is_type P T; length Ts = length aa;\n        distinct aa; this \\<notin> set aa;\n        \\<D> ba \\<lfloor>insert this (set aa)\\<rfloor>;\n        P,[this \\<mapsto> Class C, aa [\\<mapsto>] Ts] \\<turnstile> ba :: T';\n        P \\<turnstile> T' \\<le> T;\n        fv ba\n        \\<subseteq> dom [this \\<mapsto> Class C, aa [\\<mapsto>] Ts]\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>T'.\n                             compP\n                              (\\<lambda>C M Ts T (pns, y).\n                                  compE1 (this # pns) y)\n                              P,Class C #\n                                Ts \\<turnstile>1 compE1 (this # aa)\n            ba :: T' \\<and>\n                             P \\<turnstile> T' \\<le> T) \\<and>\n                         \\<D> (compE1 (this # aa) ba)\n                          \\<lfloor>{..length aa}\\<rfloor> \\<and>\n                         \\<B> (compE1 (this # aa) ba)\n                          (Suc (length aa)) \\<and>\n                         syncvars (compE1 (this # aa) ba)", "apply(fastforce intro!: compE1_pres_wt D_compE1' \\<B> syncvars_compE1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"]]}