{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaThreads/DFA/SemilatAlg.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaThreads", "problem_names": ["lemma [iff]: \"{} {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\"", "lemma [iff]: \"(A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} {}) = (A = {})\"", "lemma lesubstep_union:\n  \"\\<lbrakk> A\\<^sub>1 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1; A\\<^sub>2 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>2 \\<rbrakk> \\<Longrightarrow> A\\<^sub>1 \\<union> A\\<^sub>2 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1 \\<union> B\\<^sub>2\"", "lemma pres_typeD:\n  \"\\<lbrakk> pres_type step n A; s\\<in>A; p<n; (q,s')\\<in>set (step p s) \\<rbrakk> \\<Longrightarrow> s' \\<in> A\"", "lemma monoD:\n  \"\\<lbrakk> mono r step n A; p < n; s\\<in>A; s \\<sqsubseteq>\\<^sub>r t \\<rbrakk> \\<Longrightarrow> set (step p s) {\\<sqsubseteq>\\<^bsub>r\\<^esub>} set (step p t)\"", "lemma boundedD: \n  \"\\<lbrakk> bounded step n; p < n; (q,t) \\<in> set (step p xs) \\<rbrakk> \\<Longrightarrow> q < n\"", "lemma lesubstep_type_refl [simp, intro]:\n  \"(\\<And>x. x \\<sqsubseteq>\\<^sub>r x) \\<Longrightarrow> A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} A\"", "lemma lesub_step_typeD:\n  \"A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B \\<Longrightarrow> (x,y) \\<in> A \\<Longrightarrow> \\<exists>y'. (x, y') \\<in> B \\<and> y \\<sqsubseteq>\\<^sub>r y'\"", "lemma list_update_le_listI [rule_format]:\n  \"set xs \\<subseteq> A \\<longrightarrow> set ys \\<subseteq> A \\<longrightarrow> xs [\\<sqsubseteq>\\<^sub>r] ys \\<longrightarrow> p < size xs \\<longrightarrow>  \n   x \\<sqsubseteq>\\<^sub>r ys!p \\<longrightarrow> semilat(A,r,f) \\<longrightarrow> x\\<in>A \\<longrightarrow> \n   xs[p := x \\<squnion>\\<^sub>f xs!p] [\\<sqsubseteq>\\<^sub>r] ys\"", "lemma plusplus_closed: assumes \"Semilat A r f\" shows\n  \"\\<And>y. \\<lbrakk> set x \\<subseteq> A; y \\<in> A\\<rbrakk> \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\"", "lemma (in Semilat) pp_ub2:\n \"\\<And>y. \\<lbrakk> set x \\<subseteq> A; y \\<in> A\\<rbrakk> \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \\<Squnion>\\<^bsub>f\\<^esub> y\"", "lemma (in Semilat) pp_ub1:\nshows \"\\<And>y. \\<lbrakk>set ls \\<subseteq> A; y \\<in> A; x \\<in> set ls\\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> y\"", "lemma (in Semilat) pp_lub:\n  assumes z: \"z \\<in> A\"\n  shows \n  \"\\<And>y. y \\<in> A \\<Longrightarrow> set xs \\<subseteq> A \\<Longrightarrow> \\<forall>x \\<in> set xs. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\"", "lemma ub1': assumes \"Semilat A r f\"\nshows \"\\<lbrakk>\\<forall>(p,s) \\<in> set S. s \\<in> A; y \\<in> A; (a,b) \\<in> set S\\<rbrakk> \n  \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd [(p', t') \\<leftarrow> S. p' = a] \\<Squnion>\\<^bsub>f\\<^esub> y\"", "lemma plusplus_empty:  \n  \"\\<forall>s'. (q, s') \\<in> set S \\<longrightarrow> s' \\<squnion>\\<^bsub>f\\<^esub> ss ! q = ss ! q \\<Longrightarrow>\n   (map snd [(p', t') \\<leftarrow> S. p' = q] \\<Squnion>\\<^bsub>f\\<^esub> ss ! q) = ss ! q\""], "translations": [["", "lemma [iff]: \"{} {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. {} {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B", "by (simp add: lesubstep_type_def)"], ["", "(*>*)"], ["", "lemma [iff]: \"(A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} {}) = (A = {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} {}) = (A = {})", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} {}) = (A = {})", "by (cases \"A={}\") (auto simp add: lesubstep_type_def)"], ["", "(*>*)"], ["", "lemma lesubstep_union:\n  \"\\<lbrakk> A\\<^sub>1 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1; A\\<^sub>2 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>2 \\<rbrakk> \\<Longrightarrow> A\\<^sub>1 \\<union> A\\<^sub>2 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1 \\<union> B\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A\\<^sub>1 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1;\n     A\\<^sub>2 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> A\\<^sub>1 \\<union> A\\<^sub>2 \n                      {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1 \\<union>\n                 B\\<^sub>2", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A\\<^sub>1 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1;\n     A\\<^sub>2 {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>2\\<rbrakk>\n    \\<Longrightarrow> A\\<^sub>1 \\<union> A\\<^sub>2 \n                      {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B\\<^sub>1 \\<union>\n                 B\\<^sub>2", "by (auto simp add: lesubstep_type_def)"], ["", "(*>*)"], ["", "lemma pres_typeD:\n  \"\\<lbrakk> pres_type step n A; s\\<in>A; p<n; (q,s')\\<in>set (step p s) \\<rbrakk> \\<Longrightarrow> s' \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pres_type step n A; s \\<in> A; p < n;\n     (q, s') \\<in> set (step p s)\\<rbrakk>\n    \\<Longrightarrow> s' \\<in> A", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>pres_type step n A; s \\<in> A; p < n;\n     (q, s') \\<in> set (step p s)\\<rbrakk>\n    \\<Longrightarrow> s' \\<in> A", "by (unfold pres_type_def, blast)"], ["", "(*>*)"], ["", "lemma monoD:\n  \"\\<lbrakk> mono r step n A; p < n; s\\<in>A; s \\<sqsubseteq>\\<^sub>r t \\<rbrakk> \\<Longrightarrow> set (step p s) {\\<sqsubseteq>\\<^bsub>r\\<^esub>} set (step p t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>SemilatAlg.mono r step n A; p < n; s \\<in> A;\n     s \\<sqsubseteq>\\<^bsub>r\\<^esub> t\\<rbrakk>\n    \\<Longrightarrow> set (step p s) \n                      {\\<sqsubseteq>\\<^bsub>r\\<^esub>} set (step p t)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>SemilatAlg.mono r step n A; p < n; s \\<in> A;\n     s \\<sqsubseteq>\\<^bsub>r\\<^esub> t\\<rbrakk>\n    \\<Longrightarrow> set (step p s) \n                      {\\<sqsubseteq>\\<^bsub>r\\<^esub>} set (step p t)", "by (unfold mono_def, blast)"], ["", "(*>*)"], ["", "lemma boundedD: \n  \"\\<lbrakk> bounded step n; p < n; (q,t) \\<in> set (step p xs) \\<rbrakk> \\<Longrightarrow> q < n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>bounded step n; p < n; (q, t) \\<in> set (step p xs)\\<rbrakk>\n    \\<Longrightarrow> q < n", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>bounded step n; p < n; (q, t) \\<in> set (step p xs)\\<rbrakk>\n    \\<Longrightarrow> q < n", "by (unfold bounded_def, blast)"], ["", "(*>*)"], ["", "lemma lesubstep_type_refl [simp, intro]:\n  \"(\\<And>x. x \\<sqsubseteq>\\<^sub>r x) \\<Longrightarrow> A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<sqsubseteq>\\<^bsub>r\\<^esub> x) \\<Longrightarrow>\n    A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} A", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<sqsubseteq>\\<^bsub>r\\<^esub> x) \\<Longrightarrow>\n    A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} A", "by (unfold lesubstep_type_def) auto"], ["", "(*>*)"], ["", "lemma lesub_step_typeD:\n  \"A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B \\<Longrightarrow> (x,y) \\<in> A \\<Longrightarrow> \\<exists>y'. (x, y') \\<in> B \\<and> y \\<sqsubseteq>\\<^sub>r y'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B; (x, y) \\<in> A\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y'.\n                         (x, y') \\<in> B \\<and>\n                         y \\<sqsubseteq>\\<^bsub>r\\<^esub> y'", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A {\\<sqsubseteq>\\<^bsub>r\\<^esub>} B; (x, y) \\<in> A\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y'.\n                         (x, y') \\<in> B \\<and>\n                         y \\<sqsubseteq>\\<^bsub>r\\<^esub> y'", "by (unfold lesubstep_type_def) blast"], ["", "(*>*)"], ["", "lemma list_update_le_listI [rule_format]:\n  \"set xs \\<subseteq> A \\<longrightarrow> set ys \\<subseteq> A \\<longrightarrow> xs [\\<sqsubseteq>\\<^sub>r] ys \\<longrightarrow> p < size xs \\<longrightarrow>  \n   x \\<sqsubseteq>\\<^sub>r ys!p \\<longrightarrow> semilat(A,r,f) \\<longrightarrow> x\\<in>A \\<longrightarrow> \n   xs[p := x \\<squnion>\\<^sub>f xs!p] [\\<sqsubseteq>\\<^sub>r] ys\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set xs \\<subseteq> A \\<longrightarrow>\n    set ys \\<subseteq> A \\<longrightarrow>\n    xs [\\<sqsubseteq>\\<^bsub>r\\<^esub>] ys \\<longrightarrow>\n    p < length xs \\<longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> ys ! p \\<longrightarrow>\n    semilat (A, r, f) \\<longrightarrow>\n    x \\<in> A \\<longrightarrow>\n    xs[p := x \\<squnion>\\<^bsub>f\\<^esub> xs ! p] \n    [\\<sqsubseteq>\\<^bsub>r\\<^esub>] ys", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. set xs \\<subseteq> A \\<longrightarrow>\n    set ys \\<subseteq> A \\<longrightarrow>\n    xs [\\<sqsubseteq>\\<^bsub>r\\<^esub>] ys \\<longrightarrow>\n    p < length xs \\<longrightarrow>\n    x \\<sqsubseteq>\\<^bsub>r\\<^esub> ys ! p \\<longrightarrow>\n    semilat (A, r, f) \\<longrightarrow>\n    x \\<in> A \\<longrightarrow>\n    xs[p := x \\<squnion>\\<^bsub>f\\<^esub> xs ! p] \n    [\\<sqsubseteq>\\<^bsub>r\\<^esub>] ys", "apply (simp only: Listn.le_def lesub_def semilat_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. set xs \\<subseteq> A \\<longrightarrow>\n    set ys \\<subseteq> A \\<longrightarrow>\n    list_all2 r xs ys \\<longrightarrow>\n    p < length xs \\<longrightarrow>\n    r x (ys ! p) \\<longrightarrow>\n    (case (A, r, f) of\n     (A, r, f) \\<Rightarrow>\n       order r \\<and>\n       closed A f \\<and>\n       (\\<forall>x\\<in>A.\n           \\<forall>y\\<in>A. r x (x \\<squnion>\\<^bsub>f\\<^esub> y)) \\<and>\n       (\\<forall>x\\<in>A.\n           \\<forall>y\\<in>A. r y (x \\<squnion>\\<^bsub>f\\<^esub> y)) \\<and>\n       (\\<forall>x\\<in>A.\n           \\<forall>y\\<in>A.\n              \\<forall>z\\<in>A.\n                 r x z \\<and> r y z \\<longrightarrow>\n                 r (x \\<squnion>\\<^bsub>f\\<^esub> y) z)) \\<longrightarrow>\n    x \\<in> A \\<longrightarrow>\n    list_all2 r (xs[p := x \\<squnion>\\<^bsub>f\\<^esub> xs ! p]) ys", "apply (simp add: list_all2_conv_all_nth nth_list_update)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "lemma plusplus_closed: assumes \"Semilat A r f\" shows\n  \"\\<And>y. \\<lbrakk> set x \\<subseteq> A; y \\<in> A\\<rbrakk> \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "proof (induct x)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>set [] \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\n 2. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "interpret Semilat A r f"], ["proof (prove)\ngoal (1 subgoal):\n 1. Semilat A r f", "by fact"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>set [] \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\n 2. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "show \"\\<And>y. y \\<in> A \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> A \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "by simp"], ["proof (state)\nthis:\n  ?y \\<in> A \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> ?y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "fix y x xs"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "assume y: \"y \\<in> A\" and xxs: \"set (x#xs) \\<subseteq> A\""], ["proof (state)\nthis:\n  y \\<in> A\n  set (x # xs) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "assume IH: \"\\<And>y. \\<lbrakk> set xs \\<subseteq> A; y \\<in> A\\<rbrakk> \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (state)\nthis:\n  \\<lbrakk>set xs \\<subseteq> A; ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> ?y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "from xxs"], ["proof (chain)\npicking this:\n  set (x # xs) \\<subseteq> A", "obtain x: \"x \\<in> A\" and xs: \"set xs \\<subseteq> A\""], ["proof (prove)\nusing this:\n  set (x # xs) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>x \\<in> A; set xs \\<subseteq> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  x \\<in> A\n  set xs \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "from x y"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A", "have \"x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", ".."], ["proof (state)\nthis:\n  x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "with xs"], ["proof (chain)\npicking this:\n  set xs \\<subseteq> A\n  x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", "have \"xs \\<Squnion>\\<^bsub>f\\<^esub> (x \\<squnion>\\<^bsub>f\\<^esub> y) \\<in> A\""], ["proof (prove)\nusing this:\n  set xs \\<subseteq> A\n  x \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. xs \\<Squnion>\\<^bsub>f\\<^esub> (x \\<squnion>\\<^bsub>f\\<^esub> y) \\<in> A", "by (rule IH)"], ["proof (state)\nthis:\n  xs \\<Squnion>\\<^bsub>f\\<^esub> (x \\<squnion>\\<^bsub>f\\<^esub> y) \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> x \\<Squnion>\\<^bsub>f\\<^esub> y\n                                     \\<in> A;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> a # x \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "thus \"x#xs \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\nusing this:\n  xs \\<Squnion>\\<^bsub>f\\<^esub> (x \\<squnion>\\<^bsub>f\\<^esub> y) \\<in> A\n\ngoal (1 subgoal):\n 1. x # xs \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A", "by simp"], ["proof (state)\nthis:\n  x # xs \\<Squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in Semilat) pp_ub2:\n \"\\<And>y. \\<lbrakk> set x \\<subseteq> A; y \\<in> A\\<rbrakk> \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "proof (induct x)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>set [] \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \n                    \\<Squnion>\\<^bsub>f\\<^esub> y\n 2. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from semilat"], ["proof (chain)\npicking this:\n  semilat (A, r, f)", "show \"\\<And>y. y \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  semilat (A, r, f)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \\<Squnion>\\<^bsub>f\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "fix y a l"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume y:  \"y \\<in> A\" and \"set (a#l) \\<subseteq> A\""], ["proof (state)\nthis:\n  y \\<in> A\n  set (a # l) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "then"], ["proof (chain)\npicking this:\n  y \\<in> A\n  set (a # l) \\<subseteq> A", "obtain a: \"a \\<in> A\" and x: \"set l \\<subseteq> A\""], ["proof (prove)\nusing this:\n  y \\<in> A\n  set (a # l) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>a \\<in> A; set l \\<subseteq> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  a \\<in> A\n  set l \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"\\<And>y. \\<lbrakk>set l \\<subseteq> A; y \\<in> A\\<rbrakk> \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (state)\nthis:\n  \\<lbrakk>set l \\<subseteq> A; ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \n                \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from this and x"], ["proof (chain)\npicking this:\n  \\<lbrakk>set l \\<subseteq> A; ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \n                \\<Squnion>\\<^bsub>f\\<^esub> ?y\n  set l \\<subseteq> A", "have IH: \"\\<And>y. y \\<in> A \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>set l \\<subseteq> A; ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \n                \\<Squnion>\\<^bsub>f\\<^esub> ?y\n  set l \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> A \\<Longrightarrow>\n       y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> y", "."], ["proof (state)\nthis:\n  ?y \\<in> A \\<Longrightarrow>\n  ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from a y"], ["proof (chain)\npicking this:\n  a \\<in> A\n  y \\<in> A", "have \"y \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> y", ".."], ["proof (state)\nthis:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "also"], ["proof (state)\nthis:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> a \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from a y"], ["proof (chain)\npicking this:\n  a \\<in> A\n  y \\<in> A", "have \"a \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", ".."], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "hence \"(a \\<squnion>\\<^bsub>f\\<^esub> y) \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \\<squnion>\\<^bsub>f\\<^esub> y)\""], ["proof (prove)\nusing this:\n  a \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. a \\<squnion>\\<^bsub>f\\<^esub> y \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \n                            \\<squnion>\\<^bsub>f\\<^esub> y)", "by (rule IH)"], ["proof (state)\nthis:\n  a \\<squnion>\\<^bsub>f\\<^esub> y \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \n                          \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "finally"], ["proof (chain)\npicking this:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \n                            \\<squnion>\\<^bsub>f\\<^esub> y)", "have \"y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \\<squnion>\\<^bsub>f\\<^esub> y)\""], ["proof (prove)\nusing this:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \n                            \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \n                              \\<squnion>\\<^bsub>f\\<^esub> y)", "."], ["proof (state)\nthis:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \n                            \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a x y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set x \\<subseteq> A; y \\<in> A\\<rbrakk>\n                   \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> x \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # x) \\<subseteq> A; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # x \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "thus \"y \\<sqsubseteq>\\<^bsub>r\\<^esub> (a#l) \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> l \\<Squnion>\\<^bsub>f\\<^esub> (a \n                            \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # l \\<Squnion>\\<^bsub>f\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> a # l \\<Squnion>\\<^bsub>f\\<^esub> y\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in Semilat) pp_ub1:\nshows \"\\<And>y. \\<lbrakk>set ls \\<subseteq> A; y \\<in> A; x \\<in> set ls\\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>set ls \\<subseteq> A; y \\<in> A; x \\<in> set ls\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>set ls \\<subseteq> A; y \\<in> A; x \\<in> set ls\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "proof (induct ls)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>set [] \\<subseteq> A; y \\<in> A; x \\<in> set []\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \n                    \\<Squnion>\\<^bsub>f\\<^esub> y\n 2. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "show \"\\<And>y. x \\<in> set [] \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       x \\<in> set [] \\<Longrightarrow>\n       x \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \\<Squnion>\\<^bsub>f\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  x \\<in> set [] \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> [] \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "fix y s ls"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"set (s#ls) \\<subseteq> A\""], ["proof (state)\nthis:\n  set (s # ls) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "then"], ["proof (chain)\npicking this:\n  set (s # ls) \\<subseteq> A", "obtain s: \"s \\<in> A\" and ls: \"set ls \\<subseteq> A\""], ["proof (prove)\nusing this:\n  set (s # ls) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>s \\<in> A; set ls \\<subseteq> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  s \\<in> A\n  set ls \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume y: \"y \\<in> A\""], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"\\<And>y. \\<lbrakk>set ls \\<subseteq> A; y \\<in> A; x \\<in> set ls\\<rbrakk> \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (state)\nthis:\n  \\<lbrakk>set ls \\<subseteq> A; ?y \\<in> A; x \\<in> set ls\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n               \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from this and ls"], ["proof (chain)\npicking this:\n  \\<lbrakk>set ls \\<subseteq> A; ?y \\<in> A; x \\<in> set ls\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n               \\<Squnion>\\<^bsub>f\\<^esub> ?y\n  set ls \\<subseteq> A", "have IH: \"\\<And>y. x \\<in> set ls \\<Longrightarrow> y \\<in> A \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>set ls \\<subseteq> A; ?y \\<in> A; x \\<in> set ls\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n               \\<Squnion>\\<^bsub>f\\<^esub> ?y\n  set ls \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>x \\<in> set ls; y \\<in> A\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "."], ["proof (state)\nthis:\n  \\<lbrakk>x \\<in> set ls; ?y \\<in> A\\<rbrakk>\n  \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n               \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"x \\<in> set (s#ls)\""], ["proof (state)\nthis:\n  x \\<in> set (s # ls)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "then"], ["proof (chain)\npicking this:\n  x \\<in> set (s # ls)", "obtain xls: \"x = s \\<or> x \\<in> set ls\""], ["proof (prove)\nusing this:\n  x \\<in> set (s # ls)\n\ngoal (1 subgoal):\n 1. (x = s \\<or> x \\<in> set ls \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  x = s \\<or> x \\<in> set ls\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "moreover"], ["proof (state)\nthis:\n  x = s \\<or> x \\<in> set ls\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "{"], ["proof (state)\nthis:\n  x = s \\<or> x \\<in> set ls\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume xs: \"x = s\""], ["proof (state)\nthis:\n  x = s\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from s y"], ["proof (chain)\npicking this:\n  s \\<in> A\n  y \\<in> A", "have \"s \\<sqsubseteq>\\<^bsub>r\\<^esub> s \\<squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  s \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. s \\<sqsubseteq>\\<^bsub>r\\<^esub> s \\<squnion>\\<^bsub>f\\<^esub> y", ".."], ["proof (state)\nthis:\n  s \\<sqsubseteq>\\<^bsub>r\\<^esub> s \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "also"], ["proof (state)\nthis:\n  s \\<sqsubseteq>\\<^bsub>r\\<^esub> s \\<squnion>\\<^bsub>f\\<^esub> y\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from s y"], ["proof (chain)\npicking this:\n  s \\<in> A\n  y \\<in> A", "have \"s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\nusing this:\n  s \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", ".."], ["proof (state)\nthis:\n  s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "with ls"], ["proof (chain)\npicking this:\n  set ls \\<subseteq> A\n  s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", "have \"(s \\<squnion>\\<^bsub>f\\<^esub> y) \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \\<squnion>\\<^bsub>f\\<^esub> y)\""], ["proof (prove)\nusing this:\n  set ls \\<subseteq> A\n  s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. s \\<squnion>\\<^bsub>f\\<^esub> y \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)", "by (rule pp_ub2)"], ["proof (state)\nthis:\n  s \\<squnion>\\<^bsub>f\\<^esub> y \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                           \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "finally"], ["proof (chain)\npicking this:\n  s \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)", "have \"s \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \\<squnion>\\<^bsub>f\\<^esub> y)\""], ["proof (prove)\nusing this:\n  s \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. s \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                               \\<squnion>\\<^bsub>f\\<^esub> y)", "."], ["proof (state)\nthis:\n  s \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "with xs"], ["proof (chain)\npicking this:\n  x = s\n  s \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)", "have \"x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \\<squnion>\\<^bsub>f\\<^esub> y)\""], ["proof (prove)\nusing this:\n  x = s\n  s \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                               \\<squnion>\\<^bsub>f\\<^esub> y)", "by simp"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "}"], ["proof (state)\nthis:\n  x = s \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "moreover"], ["proof (state)\nthis:\n  x = s \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "{"], ["proof (state)\nthis:\n  x = s \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"x \\<in> set ls\""], ["proof (state)\nthis:\n  x \\<in> set ls\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "hence \"\\<And>y. y \\<in> A \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  x \\<in> set ls\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> A \\<Longrightarrow>\n       x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> y", "by (rule IH)"], ["proof (state)\nthis:\n  ?y \\<in> A \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "moreover"], ["proof (state)\nthis:\n  ?y \\<in> A \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "from s y"], ["proof (chain)\npicking this:\n  s \\<in> A\n  y \\<in> A", "have \"s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\nusing this:\n  s \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", ".."], ["proof (state)\nthis:\n  s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "ultimately"], ["proof (chain)\npicking this:\n  ?y \\<in> A \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y\n  s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", "have \"x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \\<squnion>\\<^bsub>f\\<^esub> y)\""], ["proof (prove)\nusing this:\n  ?y \\<in> A \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y\n  s \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                               \\<squnion>\\<^bsub>f\\<^esub> y)", "."], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "}"], ["proof (state)\nthis:\n  x \\<in> set ls \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "ultimately"], ["proof (chain)\npicking this:\n  x = s \\<or> x \\<in> set ls\n  x = s \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n  x \\<in> set ls \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)", "have \"x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \\<squnion>\\<^bsub>f\\<^esub> y)\""], ["proof (prove)\nusing this:\n  x = s \\<or> x \\<in> set ls\n  x = s \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n  x \\<in> set ls \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                               \\<squnion>\\<^bsub>f\\<^esub> y)", "by blast"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. \\<And>a ls y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>set ls \\<subseteq> A; y \\<in> A;\n                    x \\<in> set ls\\<rbrakk>\n                   \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \n                                \\<Squnion>\\<^bsub>f\\<^esub> y;\n        set (a # ls) \\<subseteq> A; y \\<in> A; x \\<in> set (a # ls)\\<rbrakk>\n       \\<Longrightarrow> x \\<sqsubseteq>\\<^bsub>r\\<^esub> a # ls \n                    \\<Squnion>\\<^bsub>f\\<^esub> y", "thus \"x \\<sqsubseteq>\\<^bsub>r\\<^esub> (s#ls) \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\nusing this:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> ls \\<Squnion>\\<^bsub>f\\<^esub> (s \n                             \\<squnion>\\<^bsub>f\\<^esub> y)\n\ngoal (1 subgoal):\n 1. x \\<sqsubseteq>\\<^bsub>r\\<^esub> s # ls \\<Squnion>\\<^bsub>f\\<^esub> y", "by simp"], ["proof (state)\nthis:\n  x \\<sqsubseteq>\\<^bsub>r\\<^esub> s # ls \\<Squnion>\\<^bsub>f\\<^esub> y\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma (in Semilat) pp_lub:\n  assumes z: \"z \\<in> A\"\n  shows \n  \"\\<And>y. y \\<in> A \\<Longrightarrow> set xs \\<subseteq> A \\<Longrightarrow> \\<forall>x \\<in> set xs. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n        \\<forall>x\\<in>set xs. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n        \\<forall>x\\<in>set xs. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "proof (induct xs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>y \\<in> A; set [] \\<subseteq> A;\n        \\<forall>x\\<in>set []. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n 2. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "fix y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>y \\<in> A; set [] \\<subseteq> A;\n        \\<forall>x\\<in>set []. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n 2. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "assume \"y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (state)\nthis:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (2 subgoals):\n 1. \\<And>y.\n       \\<lbrakk>y \\<in> A; set [] \\<subseteq> A;\n        \\<forall>x\\<in>set []. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> [] \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n 2. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "thus \"[] \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (prove)\nusing this:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. [] \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "by simp"], ["proof (state)\nthis:\n  [] \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "fix y l ls"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "assume y: \"y \\<in> A\" and \"set (l#ls) \\<subseteq> A\""], ["proof (state)\nthis:\n  y \\<in> A\n  set (l # ls) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "then"], ["proof (chain)\npicking this:\n  y \\<in> A\n  set (l # ls) \\<subseteq> A", "obtain l: \"l \\<in> A\" and ls: \"set ls \\<subseteq> A\""], ["proof (prove)\nusing this:\n  y \\<in> A\n  set (l # ls) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>l \\<in> A; set ls \\<subseteq> A\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  l \\<in> A\n  set ls \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "assume \"\\<forall>x \\<in> set (l#ls). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (state)\nthis:\n  \\<forall>x\\<in>set (l # ls). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "then"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>set (l # ls). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "obtain lz: \"l \\<sqsubseteq>\\<^bsub>r\\<^esub> z\" and lsz: \"\\<forall>x \\<in> set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>set (l # ls). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>l \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n      \\<forall>x\\<in>set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n     \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  l \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  \\<forall>x\\<in>set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "assume \"y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (state)\nthis:\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "with lz"], ["proof (chain)\npicking this:\n  l \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "have \"l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (prove)\nusing this:\n  l \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "using l y z"], ["proof (prove)\nusing this:\n  l \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  l \\<in> A\n  y \\<in> A\n  z \\<in> A\n\ngoal (1 subgoal):\n 1. l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z", ".."], ["proof (state)\nthis:\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "moreover"], ["proof (state)\nthis:\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "from l y"], ["proof (chain)\npicking this:\n  l \\<in> A\n  y \\<in> A", "have \"l \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\""], ["proof (prove)\nusing this:\n  l \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. l \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A", ".."], ["proof (state)\nthis:\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "moreover"], ["proof (state)\nthis:\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "assume \"\\<And>y. y \\<in> A \\<Longrightarrow> set ls \\<subseteq> A \\<Longrightarrow> \\<forall>x \\<in> set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z \\<Longrightarrow> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n          \\<Longrightarrow> ls \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (state)\nthis:\n  \\<lbrakk>?y \\<in> A; set ls \\<subseteq> A;\n   \\<forall>x\\<in>set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n   ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n  \\<Longrightarrow> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y \n                    \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "ultimately"], ["proof (chain)\npicking this:\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n  \\<lbrakk>?y \\<in> A; set ls \\<subseteq> A;\n   \\<forall>x\\<in>set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n   ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n  \\<Longrightarrow> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y \n                    \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "have \"ls \\<Squnion>\\<^bsub>f\\<^esub> (l \\<squnion>\\<^bsub>f\\<^esub> y) \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (prove)\nusing this:\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n  \\<lbrakk>?y \\<in> A; set ls \\<subseteq> A;\n   \\<forall>x\\<in>set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n   ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n  \\<Longrightarrow> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y \n                    \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. ls \\<Squnion>\\<^bsub>f\\<^esub> (l \\<squnion>\\<^bsub>f\\<^esub> y) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "using ls lsz"], ["proof (prove)\nusing this:\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  l \\<squnion>\\<^bsub>f\\<^esub> y \\<in> A\n  \\<lbrakk>?y \\<in> A; set ls \\<subseteq> A;\n   \\<forall>x\\<in>set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n   ?y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n  \\<Longrightarrow> ls \\<Squnion>\\<^bsub>f\\<^esub> ?y \n                    \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n  set ls \\<subseteq> A\n  \\<forall>x\\<in>set ls. x \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. ls \\<Squnion>\\<^bsub>f\\<^esub> (l \\<squnion>\\<^bsub>f\\<^esub> y) \n    \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "by -"], ["proof (state)\nthis:\n  ls \\<Squnion>\\<^bsub>f\\<^esub> (l \\<squnion>\\<^bsub>f\\<^esub> y) \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. \\<And>a xs y.\n       \\<lbrakk>\\<And>y.\n                   \\<lbrakk>y \\<in> A; set xs \\<subseteq> A;\n                    \\<forall>x\\<in>set xs.\n                       x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n                    y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n                   \\<Longrightarrow> xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                                     \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<in> A; set (a # xs) \\<subseteq> A;\n        \\<forall>x\\<in>set (a # xs). x \\<sqsubseteq>\\<^bsub>r\\<^esub> z;\n        y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\\<rbrakk>\n       \\<Longrightarrow> a # xs \\<Squnion>\\<^bsub>f\\<^esub> y \n                         \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "thus \"(l#ls) \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\""], ["proof (prove)\nusing this:\n  ls \\<Squnion>\\<^bsub>f\\<^esub> (l \\<squnion>\\<^bsub>f\\<^esub> y) \n  \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal (1 subgoal):\n 1. l # ls \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z", "by simp"], ["proof (state)\nthis:\n  l # ls \\<Squnion>\\<^bsub>f\\<^esub> y \\<sqsubseteq>\\<^bsub>r\\<^esub> z\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma ub1': assumes \"Semilat A r f\"\nshows \"\\<lbrakk>\\<forall>(p,s) \\<in> set S. s \\<in> A; y \\<in> A; (a,b) \\<in> set S\\<rbrakk> \n  \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd [(p', t') \\<leftarrow> S. p' = a] \\<Squnion>\\<^bsub>f\\<^esub> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "interpret Semilat A r f"], ["proof (prove)\ngoal (1 subgoal):\n 1. Semilat A r f", "by fact"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "let \"b \\<sqsubseteq>\\<^bsub>r\\<^esub> ?map \\<Squnion>\\<^bsub>f\\<^esub> y\" = ?thesis"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"y \\<in> A\""], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "moreover"], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"\\<forall>(p,s) \\<in> set S. s \\<in> A\""], ["proof (state)\nthis:\n  \\<forall>(p, s)\\<in>set S. s \\<in> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "hence \"set ?map \\<subseteq> A\""], ["proof (prove)\nusing this:\n  \\<forall>(p, s)\\<in>set S. s \\<in> A\n\ngoal (1 subgoal):\n 1. set (map snd (filter (\\<lambda>(p', t'). p' = a) S)) \\<subseteq> A", "by auto"], ["proof (state)\nthis:\n  set (map snd (filter (\\<lambda>(p', t'). p' = a) S)) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "moreover"], ["proof (state)\nthis:\n  set (map snd (filter (\\<lambda>(p', t'). p' = a) S)) \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "assume \"(a,b) \\<in> set S\""], ["proof (state)\nthis:\n  (a, b) \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "hence \"b \\<in> set ?map\""], ["proof (prove)\nusing this:\n  (a, b) \\<in> set S\n\ngoal (1 subgoal):\n 1. b \\<in> set (map snd (filter (\\<lambda>(p', t'). p' = a) S))", "by (induct S, auto)"], ["proof (state)\nthis:\n  b \\<in> set (map snd (filter (\\<lambda>(p', t'). p' = a) S))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>(p, s)\\<in>set S. s \\<in> A; y \\<in> A;\n     (a, b) \\<in> set S\\<rbrakk>\n    \\<Longrightarrow> b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                  (filter (\\<lambda>(p', t'). p' = a) S) \n                 \\<Squnion>\\<^bsub>f\\<^esub> y", "ultimately"], ["proof (chain)\npicking this:\n  y \\<in> A\n  set (map snd (filter (\\<lambda>(p', t'). p' = a) S)) \\<subseteq> A\n  b \\<in> set (map snd (filter (\\<lambda>(p', t'). p' = a) S))", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<in> A\n  set (map snd (filter (\\<lambda>(p', t'). p' = a) S)) \\<subseteq> A\n  b \\<in> set (map snd (filter (\\<lambda>(p', t'). p' = a) S))\n\ngoal (1 subgoal):\n 1. b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n(filter (\\<lambda>(p', t'). p' = a) S) \n                                     \\<Squnion>\\<^bsub>f\\<^esub> y", "by - (rule pp_ub1)"], ["proof (state)\nthis:\n  b \\<sqsubseteq>\\<^bsub>r\\<^esub> map snd\n                                    (filter (\\<lambda>(p', t'). p' = a) S) \n                                   \\<Squnion>\\<^bsub>f\\<^esub> y\n\ngoal:\nNo subgoals!", "qed"], ["", "(*>*)"], ["", "lemma plusplus_empty:  \n  \"\\<forall>s'. (q, s') \\<in> set S \\<longrightarrow> s' \\<squnion>\\<^bsub>f\\<^esub> ss ! q = ss ! q \\<Longrightarrow>\n   (map snd [(p', t') \\<leftarrow> S. p' = q] \\<Squnion>\\<^bsub>f\\<^esub> ss ! q) = ss ! q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s'.\n       (q, s') \\<in> set S \\<longrightarrow>\n       s' \\<squnion>\\<^bsub>f\\<^esub> ss ! q = ss ! q \\<Longrightarrow>\n    map snd (filter (\\<lambda>(p', t'). p' = q) S) \n    \\<Squnion>\\<^bsub>f\\<^esub> ss ! q =\n    ss ! q", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s'.\n       (q, s') \\<in> set S \\<longrightarrow>\n       s' \\<squnion>\\<^bsub>f\\<^esub> ss ! q = ss ! q \\<Longrightarrow>\n    map snd (filter (\\<lambda>(p', t'). p' = q) S) \n    \\<Squnion>\\<^bsub>f\\<^esub> ss ! q =\n    ss ! q", "apply (induct S)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>s'.\n       (q, s') \\<in> set [] \\<longrightarrow>\n       s' \\<squnion>\\<^bsub>f\\<^esub> ss ! q = ss ! q \\<Longrightarrow>\n    map snd (filter (\\<lambda>(p', t'). p' = q) []) \n    \\<Squnion>\\<^bsub>f\\<^esub> ss ! q =\n    ss ! q\n 2. \\<And>a S.\n       \\<lbrakk>\\<forall>s'.\n                   (q, s') \\<in> set S \\<longrightarrow>\n                   s' \\<squnion>\\<^bsub>f\\<^esub> ss ! q =\n                   ss ! q \\<Longrightarrow>\n                map snd (filter (\\<lambda>(p', t'). p' = q) S) \n                \\<Squnion>\\<^bsub>f\\<^esub> ss ! q =\n                ss ! q;\n        \\<forall>s'.\n           (q, s') \\<in> set (a # S) \\<longrightarrow>\n           s' \\<squnion>\\<^bsub>f\\<^esub> ss ! q = ss ! q\\<rbrakk>\n       \\<Longrightarrow> map snd\n                          (filter (\\<lambda>(p', t'). p' = q) (a # S)) \n                         \\<Squnion>\\<^bsub>f\\<^esub> ss ! q =\n                         ss ! q", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "end"]]}