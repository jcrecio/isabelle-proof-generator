{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaThreads/J/WellTypeRT.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaThreads", "problem_names": ["lemmas [intro!] =\n  WTrtNew WTrtNewArray WTrtCast WTrtInstanceOf WTrtVal WTrtVar WTrtBinOp WTrtLAss\n  WTrtBlock WTrtSynchronized WTrtInSynchronized WTrtSeq WTrtCond WTrtWhile\n  WTrtThrow WTrtTry WTrtNil WTrtCons", "lemmas [intro] =\n  WTrtFAcc WTrtFAccNT WTrtFAss WTrtFAssNT WTrtCall WTrtCallNT\n  WTrtAAcc WTrtAAccNT WTrtAAss WTrtAAssNT WTrtALength WTrtALengthNT", "lemma WTrts_conv_list_all2: \"P,E,h \\<turnstile> es [:] Ts = list_all2 (WTrt P h E) es Ts\"", "lemma [simp]: \"(P,E,h \\<turnstile> es\\<^sub>1 @ es\\<^sub>2 [:] Ts) =\n  (\\<exists>Ts\\<^sub>1 Ts\\<^sub>2. Ts = Ts\\<^sub>1 @ Ts\\<^sub>2 \\<and> P,E,h \\<turnstile> es\\<^sub>1 [:] Ts\\<^sub>1 & P,E,h \\<turnstile> es\\<^sub>2[:]Ts\\<^sub>2)\"", "lemma WTrts_Val[simp]:\n \"P,E,h \\<turnstile> map Val vs [:] Ts \\<longleftrightarrow> map (typeof\\<^bsub>h\\<^esub>) vs = map Some Ts\"", "lemma WTrt_env_mono: \"P,E,h \\<turnstile> e : T \\<Longrightarrow> (\\<And>E'. E \\<subseteq>\\<^sub>m E' \\<Longrightarrow> P,E',h \\<turnstile> e : T)\"\n  and WTrts_env_mono: \"P,E,h \\<turnstile> es [:] Ts \\<Longrightarrow> (\\<And>E'. E \\<subseteq>\\<^sub>m E' \\<Longrightarrow> P,E',h \\<turnstile> es [:] Ts)\"", "lemma WT_implies_WTrt: \"P,E \\<turnstile> e :: T \\<Longrightarrow> P,E,h \\<turnstile> e : T\"\n  and WTs_implies_WTrts: \"P,E \\<turnstile> es [::] Ts \\<Longrightarrow> P,E,h \\<turnstile> es [:] Ts\"", "lemma wt_blocks:\n \"\\<And>E. \\<lbrakk> length Vs = length Ts; length vs = length Ts \\<rbrakk> \\<Longrightarrow>\n       (P,E,h \\<turnstile> blocks Vs Ts vs e : T) =\n       (P,E(Vs[\\<mapsto>]Ts),h \\<turnstile> e:T \\<and> (\\<exists>Ts'. map (typeof\\<^bsub>h\\<^esub>) vs = map Some Ts' \\<and> P \\<turnstile> Ts' [\\<le>] Ts))\"", "lemma WTrt_hext_mono: \"P,E,h \\<turnstile> e : T \\<Longrightarrow> h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T\"\n  and WTrts_hext_mono: \"P,E,h \\<turnstile> es [:] Ts \\<Longrightarrow> h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts\""], "translations": [["", "lemmas [intro!] =\n  WTrtNew WTrtNewArray WTrtCast WTrtInstanceOf WTrtVal WTrtVar WTrtBinOp WTrtLAss\n  WTrtBlock WTrtSynchronized WTrtInSynchronized WTrtSeq WTrtCond WTrtWhile\n  WTrtThrow WTrtTry WTrtNil WTrtCons"], ["", "lemmas [intro] =\n  WTrtFAcc WTrtFAccNT WTrtFAss WTrtFAssNT WTrtCall WTrtCallNT\n  WTrtAAcc WTrtAAccNT WTrtAAss WTrtAAssNT WTrtALength WTrtALengthNT"], ["", "subsection\\<open>Easy consequences\\<close>"], ["", "inductive_simps WTrts_iffs [iff]:\n  \"P,E,h \\<turnstile> [] [:] Ts\"\n  \"P,E,h \\<turnstile> e#es [:] T#Ts\"\n  \"P,E,h \\<turnstile> (e#es) [:] Ts\""], ["", "lemma WTrts_conv_list_all2: \"P,E,h \\<turnstile> es [:] Ts = list_all2 (WTrt P h E) es Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h \\<turnstile> es [:] Ts) = list_all2 (WTrt_syntax P E h) es Ts", "by(induct es arbitrary: Ts)(auto simp add: list_all2_Cons1 elim: WTrts.cases)"], ["", "lemma [simp]: \"(P,E,h \\<turnstile> es\\<^sub>1 @ es\\<^sub>2 [:] Ts) =\n  (\\<exists>Ts\\<^sub>1 Ts\\<^sub>2. Ts = Ts\\<^sub>1 @ Ts\\<^sub>2 \\<and> P,E,h \\<turnstile> es\\<^sub>1 [:] Ts\\<^sub>1 & P,E,h \\<turnstile> es\\<^sub>2[:]Ts\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h \\<turnstile> es\\<^sub>1 @ es\\<^sub>2 [:] Ts) =\n    (\\<exists>Ts\\<^sub>1 Ts\\<^sub>2.\n        Ts = Ts\\<^sub>1 @ Ts\\<^sub>2 \\<and>\n        P,E,h \\<turnstile> es\\<^sub>1 [:] Ts\\<^sub>1 \\<and>\n        P,E,h \\<turnstile> es\\<^sub>2 [:] Ts\\<^sub>2)", "by(auto simp add: WTrts_conv_list_all2 list_all2_append1 dest: list_all2_lengthD[symmetric])"], ["", "inductive_simps WTrt_iffs [iff]:\n  \"P,E,h \\<turnstile> Val v : T\"\n  \"P,E,h \\<turnstile> Var v : T\"\n  \"P,E,h \\<turnstile> e\\<^sub>1;;e\\<^sub>2 : T\\<^sub>2\"\n  \"P,E,h \\<turnstile> {V:T=vo; e} : T'\""], ["", "inductive_cases WTrt_elim_cases[elim!]:\n  \"P,E,h \\<turnstile> newA T\\<lfloor>i\\<rceil> : U\"\n  \"P,E,h \\<turnstile> v :=e : T\"\n  \"P,E,h \\<turnstile> if (e) e\\<^sub>1 else e\\<^sub>2 : T\"\n  \"P,E,h \\<turnstile> while(e) c : T\"\n  \"P,E,h \\<turnstile> throw e : T\"\n  \"P,E,h \\<turnstile> try e\\<^sub>1 catch(C V) e\\<^sub>2 : T\"\n  \"P,E,h \\<turnstile> Cast D e : T\"\n  \"P,E,h \\<turnstile> e instanceof U : T\"\n  \"P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\"\n  \"P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : T\"\n  \"P,E,h \\<turnstile> a\\<bullet>length : T\"\n  \"P,E,h \\<turnstile> e\\<bullet>F{D} : T\"\n  \"P,E,h \\<turnstile> e\\<bullet>F{D} := v : T\"\n  \"P,E,h \\<turnstile> e\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : T\"\n  \"P,E,h \\<turnstile> e\\<^sub>1 \\<guillemotleft>bop\\<guillemotright> e\\<^sub>2 : T\"\n  \"P,E,h \\<turnstile> new C : T\"\n  \"P,E,h \\<turnstile> e\\<bullet>M(es) : T\"\n  \"P,E,h \\<turnstile> sync(o') e : T\"\n  \"P,E,h \\<turnstile> insync(a) e : T\""], ["", "subsection\\<open>Some interesting lemmas\\<close>"], ["", "lemma WTrts_Val[simp]:\n \"P,E,h \\<turnstile> map Val vs [:] Ts \\<longleftrightarrow> map (typeof\\<^bsub>h\\<^esub>) vs = map Some Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h \\<turnstile> map Val vs [:] Ts) =\n    (map typeof\\<^bsub>h\\<^esub> vs = map Some Ts)", "by(induct vs arbitrary: Ts) auto"], ["", "lemma WTrt_env_mono: \"P,E,h \\<turnstile> e : T \\<Longrightarrow> (\\<And>E'. E \\<subseteq>\\<^sub>m E' \\<Longrightarrow> P,E',h \\<turnstile> e : T)\"\n  and WTrts_env_mono: \"P,E,h \\<turnstile> es [:] Ts \\<Longrightarrow> (\\<And>E'. E \\<subseteq>\\<^sub>m E' \\<Longrightarrow> P,E',h \\<turnstile> es [:] Ts)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E,h \\<turnstile> e : T \\<Longrightarrow>\n     (\\<And>E'.\n         E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n         P,E',h \\<turnstile> e : T)) &&&\n    (P,E,h \\<turnstile> es [:] Ts \\<Longrightarrow>\n     (\\<And>E'.\n         E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n         P,E',h \\<turnstile> es [:] Ts))", "apply(induct rule: WTrt_WTrts.inducts)"], ["proof (prove)\ngoal (32 subgoals):\n 1. \\<And>C E E'.\n       \\<lbrakk>is_class P C; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> new C : Class C\n 2. \\<And>E e T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Integer;\n        is_type P (T\\<lfloor>\\<rceil>); E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> newA T\\<lfloor>e\\<rceil> : T\\<lfloor>\\<rceil>\n 3. \\<And>E e T U E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        is_type P U; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Cast U e : U\n 4. \\<And>E e T U E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        is_type P U; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e instanceof U : Boolean\n 5. \\<And>v T E E'.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Val v : T\n 6. \\<And>E V T E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Var V : T\n 7. \\<And>E e1 T1 e2 T2 bop T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 8. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 9. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 10. \\<And>E a i T E'.\n        \\<lbrakk>P,E,h \\<turnstile> a : NT;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> a : NT;\n         P,E,h \\<turnstile> i : Integer;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> i : Integer;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\nA total of 32 subgoals...", "apply(simp add: WTrtNew)"], ["proof (prove)\ngoal (31 subgoals):\n 1. \\<And>E e T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Integer;\n        is_type P (T\\<lfloor>\\<rceil>); E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> newA T\\<lfloor>e\\<rceil> : T\\<lfloor>\\<rceil>\n 2. \\<And>E e T U E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        is_type P U; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Cast U e : U\n 3. \\<And>E e T U E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        is_type P U; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e instanceof U : Boolean\n 4. \\<And>v T E E'.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Val v : T\n 5. \\<And>E V T E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Var V : T\n 6. \\<And>E e1 T1 e2 T2 bop T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 7. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 8. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 9. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 10. \\<And>E a T i e T' E'.\n        \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         P,E,h \\<turnstile> i : Integer;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> i : Integer;\n         P,E,h \\<turnstile> e : T';\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : T';\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\nA total of 31 subgoals...", "apply(fastforce simp: WTrtNewArray)"], ["proof (prove)\ngoal (30 subgoals):\n 1. \\<And>E e T U E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        is_type P U; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Cast U e : U\n 2. \\<And>E e T U E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        is_type P U; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e instanceof U : Boolean\n 3. \\<And>v T E E'.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Val v : T\n 4. \\<And>E V T E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Var V : T\n 5. \\<And>E e1 T1 e2 T2 bop T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 6. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 7. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 8. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 9. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 10. \\<And>E a i e T' E'.\n        \\<lbrakk>P,E,h \\<turnstile> a : NT;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> a : NT;\n         P,E,h \\<turnstile> i : Integer;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> i : Integer;\n         P,E,h \\<turnstile> e : T';\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : T';\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\nA total of 30 subgoals...", "apply(fastforce simp: WTrtCast)"], ["proof (prove)\ngoal (29 subgoals):\n 1. \\<And>E e T U E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        is_type P U; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e instanceof U : Boolean\n 2. \\<And>v T E E'.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Val v : T\n 3. \\<And>E V T E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Var V : T\n 4. \\<And>E e1 T1 e2 T2 bop T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 5. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 6. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 7. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 8. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 9. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 10. \\<And>E a T E'.\n        \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\nA total of 29 subgoals...", "apply(fastforce simp: WTrtInstanceOf)"], ["proof (prove)\ngoal (28 subgoals):\n 1. \\<And>v T E E'.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Val v : T\n 2. \\<And>E V T E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Var V : T\n 3. \\<And>E e1 T1 e2 T2 bop T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 4. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 5. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 6. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 7. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 8. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 9. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 10. \\<And>E a T E'.\n        \\<lbrakk>P,E,h \\<turnstile> a : NT;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> a : NT;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\nA total of 28 subgoals...", "apply(fastforce simp: WTrtVal)"], ["proof (prove)\ngoal (27 subgoals):\n 1. \\<And>E V T E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> Var V : T\n 2. \\<And>E e1 T1 e2 T2 bop T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 3. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 4. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 5. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 6. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 7. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 8. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 9. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 10. \\<And>E e U C F T fm D E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : U;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T (fm) in D;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\nA total of 27 subgoals...", "apply(simp add: WTrtVar map_le_def dom_def)"], ["proof (prove)\ngoal (26 subgoals):\n 1. \\<And>E e1 T1 e2 T2 bop T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 2. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 3. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 4. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 5. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 6. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 7. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 8. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 9. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>E e F D T E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : NT;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : NT;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\nA total of 26 subgoals...", "apply(fastforce simp add: WTrtBinOp)"], ["proof (prove)\ngoal (25 subgoals):\n 1. \\<And>E V T e T' E'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> V:=e : Void\n 2. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 3. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 4. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 5. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 6. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 7. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 8. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 9. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>E e1 U C F T fm D e2 T2 E'.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e1 : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e2 : T2;\n         P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\nA total of 25 subgoals...", "apply(force simp: map_le_def)"], ["proof (prove)\ngoal (24 subgoals):\n 1. \\<And>E a T i E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 2. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 3. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 4. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 5. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 6. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 7. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 8. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 9. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 10. \\<And>E e1 e2 T2 F D E'.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e1 : NT;\n         P,E,h \\<turnstile> e2 : T2;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e2 : T2;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\nA total of 24 subgoals...", "apply(force simp: WTrtAAcc)"], ["proof (prove)\ngoal (23 subgoals):\n 1. \\<And>E a i T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 2. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 3. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 4. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 5. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 6. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 7. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 8. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 9. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 10. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e1 : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T (fm) in D; volatile fm;\n         P,E,h \\<turnstile> e2 : T2;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e2 : T2;\n         P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e3 : T3;\n         P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\nA total of 23 subgoals...", "apply(force simp: WTrtAAccNT)"], ["proof (prove)\ngoal (22 subgoals):\n 1. \\<And>E a T i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 2. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 3. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 4. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 5. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 6. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 7. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 8. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 9. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 10. \\<And>E e1 e2 T2 e3 T3 D F E'.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e1 : NT;\n         P,E,h \\<turnstile> e2 : T2;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e2 : T2;\n         P,E,h \\<turnstile> e3 : T3;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e3 : T3;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\nA total of 22 subgoals...", "apply(rule WTrtAAss, fastforce, blast, blast)"], ["proof (prove)\ngoal (21 subgoals):\n 1. \\<And>E a i e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 2. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 3. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 4. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 5. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 6. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 7. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 8. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 9. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 10. \\<And>E e U C M Ts T meth D es Ts' E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : U;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n         P,E,h \\<turnstile> es [:] Ts';\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> es [:] Ts';\n         P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\nA total of 21 subgoals...", "apply(fastforce)"], ["proof (prove)\ngoal (20 subgoals):\n 1. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : Integer\n 2. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 3. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 4. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 5. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 6. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 7. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 8. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 9. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 10. \\<And>E e es Ts M T E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : NT;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : NT;\n         P,E,h \\<turnstile> es [:] Ts;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> es [:] Ts;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\nA total of 20 subgoals...", "apply(rule WTrtALength, blast)"], ["proof (prove)\ngoal (19 subgoals):\n 1. \\<And>E a T E'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> a : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> a\\<bullet>length : T\n 2. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 3. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 4. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 5. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 6. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 7. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 8. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 9. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 10. \\<And>E V T e T' vo E'.\n        \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n         \\<And>E'.\n            E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : T';\n         case vo of None \\<Rightarrow> True\n         | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n             \\<exists>T'.\n                typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n                P \\<turnstile> T' \\<le> T;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\nA total of 19 subgoals...", "apply(blast)"], ["proof (prove)\ngoal (18 subgoals):\n 1. \\<And>E e U C F T fm D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 2. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 3. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 4. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 5. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 6. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 7. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 8. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 9. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 10. \\<And>E o' T e T' E'.\n        \\<lbrakk>P,E,h \\<turnstile> o' : T;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> o' : T;\n         is_refT T; P,E,h \\<turnstile> e : T';\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : T';\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\nA total of 18 subgoals...", "apply(fastforce simp: WTrtFAcc)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>E e F D T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>F{D} : T\n 2. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 3. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 4. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 5. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 6. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 7. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 8. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 9. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 10. \\<And>E a T e T' E'.\n        \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> addr a : T;\n         P,E,h \\<turnstile> e : T';\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : T';\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\nA total of 17 subgoals...", "apply(simp add: WTrtFAccNT)"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>E e1 U C F T fm D e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 2. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 3. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 4. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 5. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 6. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 7. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 8. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 9. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 10. \\<And>E e1 T1 e2 T2 E'.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e1 : T1;\n         P,E,h \\<turnstile> e2 : T2;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e2 : T2;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\nA total of 16 subgoals...", "apply(fastforce simp: WTrtFAss)"], ["proof (prove)\ngoal (15 subgoals):\n 1. \\<And>E e1 e2 T2 F D E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 2. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 3. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 4. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 5. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 6. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 7. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 8. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 9. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 10. \\<And>E e e1 T1 e2 T2 T E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : Boolean;\n         P,E,h \\<turnstile> e1 : T1;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e1 : T1;\n         P,E,h \\<turnstile> e2 : T2;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e2 : T2;\n         P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\nA total of 15 subgoals...", "apply(fastforce simp: WTrtFAssNT)"], ["proof (prove)\ngoal (14 subgoals):\n 1. \\<And>E e1 U C F T fm D e2 T2 e3 T3 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 2. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 3. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 4. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 5. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 6. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 7. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 8. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 9. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 10. \\<And>E e c T E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : Boolean;\n         P,E,h \\<turnstile> c : T;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> c : T;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\nA total of 14 subgoals...", "apply(fastforce simp: WTrtCAS)"], ["proof (prove)\ngoal (13 subgoals):\n 1. \\<And>E e1 e2 T2 e3 T3 D F E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e3 : T3;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 2. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 3. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 4. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 5. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 6. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 7. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 8. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 9. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 10. \\<And>E e T T' E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : T;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : T;\n         P \\<turnstile> T \\<le> Class Throwable;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\nA total of 13 subgoals...", "apply(fastforce simp: WTrtCASNT)"], ["proof (prove)\ngoal (12 subgoals):\n 1. \\<And>E e U C M Ts T meth D es Ts' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 2. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 3. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 4. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 5. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 6. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 7. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 8. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 9. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 10. \\<And>E e1 T1 V C e2 T2 E'.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e1 : T1;\n         P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n         \\<And>E'.\n            E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e2 : T2;\n         P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\nA total of 12 subgoals...", "apply(fastforce simp: WTrtCall)"], ["proof (prove)\ngoal (11 subgoals):\n 1. \\<And>E e es Ts M T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e\\<bullet>M(es) : T\n 2. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 3. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 4. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 5. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 6. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 7. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 8. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 9. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 10. \\<And>E E'.\n        E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n        P,E',h \\<turnstile> [] [:] []\nA total of 11 subgoals...", "apply(fastforce simp: WTrtCallNT)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>E V T e T' vo E'.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        \\<And>E'.\n           E(V \\<mapsto> T) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> {V:T=vo; e} : T'\n 2. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 3. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 4. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 5. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 6. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 7. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 8. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 9. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 10. \\<And>E e T es Ts E'.\n        \\<lbrakk>P,E,h \\<turnstile> e : T;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> e : T;\n         P,E,h \\<turnstile> es [:] Ts;\n         \\<And>E'.\n            E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n            P,E',h \\<turnstile> es [:] Ts;\n         E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n        \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce simp: map_le_def)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>E o' T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> sync(o') e : T'\n 2. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 3. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 4. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 5. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 6. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 7. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 8. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 9. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>E a T e T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T';\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> insync(a) e : T'\n 2. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 3. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 4. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 5. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 6. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 7. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 8. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>E e1 T1 e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e1;; e2 : T2\n 2. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 3. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 4. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 5. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 6. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 7. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce)"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>E e e1 T1 e2 T2 T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> if (e) e1 else e2 : T\n 2. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 3. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 4. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 5. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 6. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>E e c T E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> c : T;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> while (e) c : Void\n 2. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 3. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 4. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 5. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce simp: WTrtSeq)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>E e T T' E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> throw e : T'\n 2. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 3. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 4. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce simp: WTrtCond)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>E e1 T1 V C e2 T2 E'.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        \\<And>E'.\n           E(V \\<mapsto> Class C) \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> try e1 catch(C V) e2 : T2\n 2. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 3. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce simp: WTrtWhile)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>E E'.\n       E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n       P,E',h \\<turnstile> [] [:] []\n 2. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(fastforce simp: WTrtThrow)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>E e T es Ts E'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        \\<And>E'.\n           E \\<subseteq>\\<^sub>m E' \\<Longrightarrow>\n           P,E',h \\<turnstile> es [:] Ts;\n        E \\<subseteq>\\<^sub>m E'\\<rbrakk>\n       \\<Longrightarrow> P,E',h \\<turnstile> e # es [:] T # Ts", "apply(auto simp: WTrtTry map_le_def dom_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma WT_implies_WTrt: \"P,E \\<turnstile> e :: T \\<Longrightarrow> P,E,h \\<turnstile> e : T\"\n  and WTs_implies_WTrts: \"P,E \\<turnstile> es [::] Ts \\<Longrightarrow> P,E,h \\<turnstile> es [:] Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P,E \\<turnstile> e :: T \\<Longrightarrow> P,E,h \\<turnstile> e : T) &&&\n    (P,E \\<turnstile> es [::] Ts \\<Longrightarrow>\n     P,E,h \\<turnstile> es [:] Ts)", "apply(induct rule: WT_WTs.inducts)"], ["proof (prove)\ngoal (24 subgoals):\n 1. \\<And>C E.\n       is_class P C \\<Longrightarrow> P,E,h \\<turnstile> new C : Class C\n 2. \\<And>E e T.\n       \\<lbrakk>P,E \\<turnstile> e :: Integer;\n        P,E,h \\<turnstile> e : Integer;\n        is_type P (T\\<lfloor>\\<rceil>)\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> newA T\\<lfloor>e\\<rceil> : T\\<lfloor>\\<rceil>\n 3. \\<And>E e T U.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P \\<turnstile> U \\<le> T \\<or> P \\<turnstile> T \\<le> U;\n        is_type P U\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> Cast U e : U\n 4. \\<And>E e T U.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P \\<turnstile> U \\<le> T \\<or> P \\<turnstile> T \\<le> U;\n        is_type P U; is_refT U\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e instanceof U : Boolean\n 5. \\<And>v T E.\n       typeof v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Val v : T\n 6. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Var V : T\n 7. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E \\<turnstile> e1 :: T1; P,E,h \\<turnstile> e1 : T1;\n        P,E \\<turnstile> e2 :: T2; P,E,h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 :: T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 8. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 9. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 10. \\<And>E a T i e T'.\n        \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n         P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n         P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n         P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\nA total of 24 subgoals...", "apply fast"], ["proof (prove)\ngoal (23 subgoals):\n 1. \\<And>E e T.\n       \\<lbrakk>P,E \\<turnstile> e :: Integer;\n        P,E,h \\<turnstile> e : Integer;\n        is_type P (T\\<lfloor>\\<rceil>)\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> newA T\\<lfloor>e\\<rceil> : T\\<lfloor>\\<rceil>\n 2. \\<And>E e T U.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P \\<turnstile> U \\<le> T \\<or> P \\<turnstile> T \\<le> U;\n        is_type P U\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> Cast U e : U\n 3. \\<And>E e T U.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P \\<turnstile> U \\<le> T \\<or> P \\<turnstile> T \\<le> U;\n        is_type P U; is_refT U\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e instanceof U : Boolean\n 4. \\<And>v T E.\n       typeof v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Val v : T\n 5. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Var V : T\n 6. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E \\<turnstile> e1 :: T1; P,E,h \\<turnstile> e1 : T1;\n        P,E \\<turnstile> e2 :: T2; P,E,h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 :: T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 7. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 8. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 9. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 10. \\<And>E a T.\n        \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n         P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\nA total of 23 subgoals...", "apply fast"], ["proof (prove)\ngoal (22 subgoals):\n 1. \\<And>E e T U.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P \\<turnstile> U \\<le> T \\<or> P \\<turnstile> T \\<le> U;\n        is_type P U\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> Cast U e : U\n 2. \\<And>E e T U.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P \\<turnstile> U \\<le> T \\<or> P \\<turnstile> T \\<le> U;\n        is_type P U; is_refT U\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e instanceof U : Boolean\n 3. \\<And>v T E.\n       typeof v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Val v : T\n 4. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Var V : T\n 5. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E \\<turnstile> e1 :: T1; P,E,h \\<turnstile> e1 : T1;\n        P,E \\<turnstile> e2 :: T2; P,E,h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 :: T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 6. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 7. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 8. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 9. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 10. \\<And>E e U C F T fm D.\n        \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\nA total of 22 subgoals...", "apply fast"], ["proof (prove)\ngoal (21 subgoals):\n 1. \\<And>E e T U.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P \\<turnstile> U \\<le> T \\<or> P \\<turnstile> T \\<le> U;\n        is_type P U; is_refT U\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e instanceof U : Boolean\n 2. \\<And>v T E.\n       typeof v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Val v : T\n 3. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Var V : T\n 4. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E \\<turnstile> e1 :: T1; P,E,h \\<turnstile> e1 : T1;\n        P,E \\<turnstile> e2 :: T2; P,E,h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 :: T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 5. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 6. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 7. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 8. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 9. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n        \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n         P,E,h \\<turnstile> e\\<^sub>1 : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C sees F:T (fm) in D;\n         P,E \\<turnstile> e\\<^sub>2 :: T';\n         P,E,h \\<turnstile> e\\<^sub>2 : T';\n         P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\nA total of 21 subgoals...", "apply fast"], ["proof (prove)\ngoal (20 subgoals):\n 1. \\<And>v T E.\n       typeof v = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Val v : T\n 2. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Var V : T\n 3. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E \\<turnstile> e1 :: T1; P,E,h \\<turnstile> e1 : T1;\n        P,E \\<turnstile> e2 :: T2; P,E,h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 :: T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 4. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 5. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 6. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 7. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 8. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 9. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 10. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n        \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n         P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n         P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n         P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\nA total of 20 subgoals...", "apply(fastforce dest:typeof_lit_typeof)"], ["proof (prove)\ngoal (19 subgoals):\n 1. \\<And>E V T.\n       E V = \\<lfloor>T\\<rfloor> \\<Longrightarrow>\n       P,E,h \\<turnstile> Var V : T\n 2. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E \\<turnstile> e1 :: T1; P,E,h \\<turnstile> e1 : T1;\n        P,E \\<turnstile> e2 :: T2; P,E,h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 :: T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 3. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 4. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 5. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 6. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 7. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 8. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 9. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 10. \\<And>E e U C M Ts T meth D es Ts'.\n        \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n         P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n         P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\nA total of 19 subgoals...", "apply(simp)"], ["proof (prove)\ngoal (18 subgoals):\n 1. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E \\<turnstile> e1 :: T1; P,E,h \\<turnstile> e1 : T1;\n        P,E \\<turnstile> e2 :: T2; P,E,h \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 :: T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 2. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 3. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 4. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 5. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 6. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 7. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 8. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 9. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 10. \\<And>T E V e T' vo.\n        \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n         P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n         case vo of None \\<Rightarrow> True\n         | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n             \\<exists>T'.\n                typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n                P \\<turnstile> T' \\<le> T\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\nA total of 18 subgoals...", "apply(fastforce intro: WT_binop_WTrt_binop)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'; P \\<turnstile> T' \\<le> T;\n        V \\<noteq> this\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> V:=e : Void\n 2. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 3. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 4. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 5. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 6. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 7. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 8. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 9. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 10. \\<And>E o' T e T'.\n        \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n         is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n         P,E,h \\<turnstile> e : T'\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\nA total of 17 subgoals...", "apply(fastforce)"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 2. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 3. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 4. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 5. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 6. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 7. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 8. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 9. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n        \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n         P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n         P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                          e\\<^sub>2 : T\\<^sub>2\nA total of 16 subgoals...", "apply(erule WTrtAAcc)"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>E a T i.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer;\n        P,E,h \\<turnstile> i : Integer\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> i : Integer\n 2. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 3. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 4. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 5. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 6. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 7. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 8. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 9. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n        \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n         P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n         P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                          e\\<^sub>2 : T\\<^sub>2\nA total of 16 subgoals...", "apply(assumption)"], ["proof (prove)\ngoal (15 subgoals):\n 1. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 2. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 3. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 4. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 5. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 6. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 7. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 8. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 9. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 10. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n        \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n         P,E,h \\<turnstile> e : Boolean;\n         P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n         P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n         P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n         P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                          else e\\<^sub>2 : T\nA total of 15 subgoals...", "apply(erule WTrtAAss)"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> i : Integer\n 2. \\<And>E a T i e T'.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E \\<turnstile> i :: Integer; P,E,h \\<turnstile> i : Integer;\n        P,E \\<turnstile> e :: T'; P,E,h \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e : ?T'52 E a T i e T'\n 3. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 4. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 5. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 6. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 7. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 8. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 9. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 10. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n        \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n         P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n         P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n         P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                          e\\<^sub>2 : T\\<^sub>2\nA total of 16 subgoals...", "apply(assumption)+"], ["proof (prove)\ngoal (14 subgoals):\n 1. \\<And>E a T.\n       \\<lbrakk>P,E \\<turnstile> a :: T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> a\\<bullet>length : Integer\n 2. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 3. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 4. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 5. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 6. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 7. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 8. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 9. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean;\n        P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                         else e\\<^sub>2 : T\n 10. \\<And>E e c T.\n        \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n         P,E,h \\<turnstile> e : Boolean; P,E \\<turnstile> c :: T;\n         P,E,h \\<turnstile> c : T\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> while (e) c : Void\nA total of 14 subgoals...", "apply(erule WTrtALength)"], ["proof (prove)\ngoal (13 subgoals):\n 1. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>F{D} : T\n 2. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 3. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 4. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 5. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 6. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 7. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 8. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean;\n        P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                         else e\\<^sub>2 : T\n 9. \\<And>E e c T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean; P,E \\<turnstile> c :: T;\n        P,E,h \\<turnstile> c : T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> while (e) c : Void\n 10. \\<And>E e C.\n        \\<lbrakk>P,E \\<turnstile> e :: Class C;\n         P,E,h \\<turnstile> e : Class C;\n         P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> throw e : Void\nA total of 13 subgoals...", "apply(fastforce intro: has_visible_field)"], ["proof (prove)\ngoal (12 subgoals):\n 1. \\<And>E e\\<^sub>1 U C F T fm D e\\<^sub>2 T'.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: U;\n        P,E,h \\<turnstile> e\\<^sub>1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D;\n        P,E \\<turnstile> e\\<^sub>2 :: T'; P,E,h \\<turnstile> e\\<^sub>2 : T';\n        P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1\\<bullet>F{D} := e\\<^sub>2 : Void\n 2. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 3. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 4. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 5. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 6. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 7. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean;\n        P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                         else e\\<^sub>2 : T\n 8. \\<And>E e c T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean; P,E \\<turnstile> c :: T;\n        P,E,h \\<turnstile> c : T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> while (e) c : Void\n 9. \\<And>E e C.\n       \\<lbrakk>P,E \\<turnstile> e :: Class C;\n        P,E,h \\<turnstile> e : Class C;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> throw e : Void\n 10. \\<And>E e\\<^sub>1 T V C e\\<^sub>2.\n        \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T;\n         P,E,h \\<turnstile> e\\<^sub>1 : T;\n         P,E(V \\<mapsto> Class C) \\<turnstile> e\\<^sub>2 :: T;\n         P,E(V \\<mapsto> Class C),h \\<turnstile> e\\<^sub>2 : T;\n         P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> try e\\<^sub>1\n                          catch(C V) e\\<^sub>2 : T\nA total of 12 subgoals...", "apply(fastforce simp: WTrtFAss dest: has_visible_field)"], ["proof (prove)\ngoal (11 subgoals):\n 1. \\<And>E e1 U C F T fm D e2 T' e3 T''.\n       \\<lbrakk>P,E \\<turnstile> e1 :: U; P,E,h \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees F:T (fm) in D; volatile fm;\n        P,E \\<turnstile> e2 :: T'; P,E,h \\<turnstile> e2 : T';\n        P \\<turnstile> T' \\<le> T; P,E \\<turnstile> e3 :: T'';\n        P,E,h \\<turnstile> e3 : T''; P \\<turnstile> T'' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 2. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 3. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 4. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 5. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 6. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean;\n        P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                         else e\\<^sub>2 : T\n 7. \\<And>E e c T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean; P,E \\<turnstile> c :: T;\n        P,E,h \\<turnstile> c : T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> while (e) c : Void\n 8. \\<And>E e C.\n       \\<lbrakk>P,E \\<turnstile> e :: Class C;\n        P,E,h \\<turnstile> e : Class C;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> throw e : Void\n 9. \\<And>E e\\<^sub>1 T V C e\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T;\n        P,E,h \\<turnstile> e\\<^sub>1 : T;\n        P,E(V \\<mapsto> Class C) \\<turnstile> e\\<^sub>2 :: T;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e\\<^sub>2 : T;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> try e\\<^sub>1\n                         catch(C V) e\\<^sub>2 : T\n 10. \\<And>E. P,E,h \\<turnstile> [] [:] []\nA total of 11 subgoals...", "apply(fastforce simp: WTrtCAS dest: has_visible_field)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E \\<turnstile> e :: U; P,E,h \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E \\<turnstile> es [::] Ts'; P,E,h \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<bullet>M(es) : T\n 2. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 3. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 4. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 5. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean;\n        P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                         else e\\<^sub>2 : T\n 6. \\<And>E e c T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean; P,E \\<turnstile> c :: T;\n        P,E,h \\<turnstile> c : T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> while (e) c : Void\n 7. \\<And>E e C.\n       \\<lbrakk>P,E \\<turnstile> e :: Class C;\n        P,E,h \\<turnstile> e : Class C;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> throw e : Void\n 8. \\<And>E e\\<^sub>1 T V C e\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T;\n        P,E,h \\<turnstile> e\\<^sub>1 : T;\n        P,E(V \\<mapsto> Class C) \\<turnstile> e\\<^sub>2 :: T;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e\\<^sub>2 : T;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> try e\\<^sub>1\n                         catch(C V) e\\<^sub>2 : T\n 9. \\<And>E. P,E,h \\<turnstile> [] [:] []\n 10. \\<And>E e T es Ts.\n        \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n         P,E \\<turnstile> es [::] Ts; P,E,h \\<turnstile> es [:] Ts\\<rbrakk>\n        \\<Longrightarrow> P,E,h \\<turnstile> e # es [:] T # Ts", "apply(fastforce simp: WTrtCall)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>T E V e T' vo.\n       \\<lbrakk>is_type P T; P,E(V \\<mapsto> T) \\<turnstile> e :: T';\n        P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> {V:T=vo; e} : T'\n 2. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 3. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 4. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean;\n        P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                         else e\\<^sub>2 : T\n 5. \\<And>E e c T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean; P,E \\<turnstile> c :: T;\n        P,E,h \\<turnstile> c : T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> while (e) c : Void\n 6. \\<And>E e C.\n       \\<lbrakk>P,E \\<turnstile> e :: Class C;\n        P,E,h \\<turnstile> e : Class C;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> throw e : Void\n 7. \\<And>E e\\<^sub>1 T V C e\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T;\n        P,E,h \\<turnstile> e\\<^sub>1 : T;\n        P,E(V \\<mapsto> Class C) \\<turnstile> e\\<^sub>2 :: T;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e\\<^sub>2 : T;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> try e\\<^sub>1\n                         catch(C V) e\\<^sub>2 : T\n 8. \\<And>E. P,E,h \\<turnstile> [] [:] []\n 9. \\<And>E e T es Ts.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P,E \\<turnstile> es [::] Ts; P,E,h \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e # es [:] T # Ts", "apply(clarsimp simp del: fun_upd_apply, blast intro: typeof_lit_typeof)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>E o' T e T'.\n       \\<lbrakk>P,E \\<turnstile> o' :: T; P,E,h \\<turnstile> o' : T;\n        is_refT T; T \\<noteq> NT; P,E \\<turnstile> e :: T';\n        P,E,h \\<turnstile> e : T'\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> sync(o') e : T'\n 2. \\<And>E e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e\\<^sub>1;;\n                         e\\<^sub>2 : T\\<^sub>2\n 3. \\<And>E e e\\<^sub>1 T\\<^sub>1 e\\<^sub>2 T\\<^sub>2 T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean;\n        P,E \\<turnstile> e\\<^sub>1 :: T\\<^sub>1;\n        P,E,h \\<turnstile> e\\<^sub>1 : T\\<^sub>1;\n        P,E \\<turnstile> e\\<^sub>2 :: T\\<^sub>2;\n        P,E,h \\<turnstile> e\\<^sub>2 : T\\<^sub>2;\n        P \\<turnstile> lub(T\\<^sub>1, T\\<^sub>2) = T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> if (e) e\\<^sub>1\n                         else e\\<^sub>2 : T\n 4. \\<And>E e c T.\n       \\<lbrakk>P,E \\<turnstile> e :: Boolean;\n        P,E,h \\<turnstile> e : Boolean; P,E \\<turnstile> c :: T;\n        P,E,h \\<turnstile> c : T\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> while (e) c : Void\n 5. \\<And>E e C.\n       \\<lbrakk>P,E \\<turnstile> e :: Class C;\n        P,E,h \\<turnstile> e : Class C;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> throw e : Void\n 6. \\<And>E e\\<^sub>1 T V C e\\<^sub>2.\n       \\<lbrakk>P,E \\<turnstile> e\\<^sub>1 :: T;\n        P,E,h \\<turnstile> e\\<^sub>1 : T;\n        P,E(V \\<mapsto> Class C) \\<turnstile> e\\<^sub>2 :: T;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e\\<^sub>2 : T;\n        P \\<turnstile> C \\<preceq>\\<^sup>* Throwable\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> try e\\<^sub>1\n                         catch(C V) e\\<^sub>2 : T\n 7. \\<And>E. P,E,h \\<turnstile> [] [:] []\n 8. \\<And>E e T es Ts.\n       \\<lbrakk>P,E \\<turnstile> e :: T; P,E,h \\<turnstile> e : T;\n        P,E \\<turnstile> es [::] Ts; P,E,h \\<turnstile> es [:] Ts\\<rbrakk>\n       \\<Longrightarrow> P,E,h \\<turnstile> e # es [:] T # Ts", "apply(fastforce)+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma wt_blocks:\n \"\\<And>E. \\<lbrakk> length Vs = length Ts; length vs = length Ts \\<rbrakk> \\<Longrightarrow>\n       (P,E,h \\<turnstile> blocks Vs Ts vs e : T) =\n       (P,E(Vs[\\<mapsto>]Ts),h \\<turnstile> e:T \\<and> (\\<exists>Ts'. map (typeof\\<^bsub>h\\<^esub>) vs = map Some Ts' \\<and> P \\<turnstile> Ts' [\\<le>] Ts))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>E.\n       \\<lbrakk>length Vs = length Ts; length vs = length Ts\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks Vs Ts vs e : T) =\n                         (P,E(Vs [\\<mapsto>] Ts),h \\<turnstile> e : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> vs =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] Ts))", "apply(induct Vs Ts vs e rule:blocks.induct)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>V Vs Ta Ts v vs e E.\n       \\<lbrakk>\\<And>E.\n                   \\<lbrakk>length Vs = length Ts;\n                    length vs = length Ts\\<rbrakk>\n                   \\<Longrightarrow> (P,E,h \\<turnstile> blocks Vs Ts vs\n                    e : T) =\n                                     (P,E(Vs [\\<mapsto>]\nTs),h \\<turnstile> e : T \\<and>\n(\\<exists>Ts'.\n    map typeof\\<^bsub>h\\<^esub> vs = map Some Ts' \\<and>\n    P \\<turnstile> Ts' [\\<le>] Ts));\n        length (V # Vs) = length (Ta # Ts);\n        length (v # vs) = length (Ta # Ts)\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks (V # Vs) (Ta # Ts)\n        (v # vs) e : T) =\n                         (P,E(V # Vs [\\<mapsto>]\n                          Ta # Ts),h \\<turnstile> e : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> (v # vs) =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] (Ta # Ts)))\n 2. \\<And>e E.\n       \\<lbrakk>length [] = length []; length [] = length []\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks [] [] [] e : T) =\n                         (P,E([] [\\<mapsto>] []),h \\<turnstile> e : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> [] =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] []))\n 3. \\<And>v va c d E.\n       \\<lbrakk>length [] = length (v # va);\n        length c = length (v # va)\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks [] (v # va) c d : T) =\n                         (P,E([] [\\<mapsto>]\n                          v # va),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> c =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] (v # va)))\n 4. \\<And>b v va d E.\n       \\<lbrakk>length [] = length b; length (v # va) = length b\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks [] b (v # va) d : T) =\n                         (P,E([] [\\<mapsto>] b),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> (v # va) =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] b))\n 5. \\<And>v va c d E.\n       \\<lbrakk>length (v # va) = length []; length c = length []\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks (v # va) [] c d : T) =\n                         (P,E(v # va [\\<mapsto>]\n                          []),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> c =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] []))\n 6. \\<And>a v va d E.\n       \\<lbrakk>length a = length []; length (v # va) = length []\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks a [] (v # va) d : T) =\n                         (P,E(a [\\<mapsto>] []),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> (v # va) =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] []))\n 7. \\<And>v va b d E.\n       \\<lbrakk>length (v # va) = length b; length [] = length b\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks (v # va) b [] d : T) =\n                         (P,E(v # va [\\<mapsto>]\n                          b),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> [] =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] b))\n 8. \\<And>a v va d E.\n       \\<lbrakk>length a = length (v # va);\n        length [] = length (v # va)\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks a (v # va) [] d : T) =\n                         (P,E(a [\\<mapsto>]\n                          v # va),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> [] =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] (v # va)))", "apply (force)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>e E.\n       \\<lbrakk>length [] = length []; length [] = length []\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks [] [] [] e : T) =\n                         (P,E([] [\\<mapsto>] []),h \\<turnstile> e : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> [] =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] []))\n 2. \\<And>v va c d E.\n       \\<lbrakk>length [] = length (v # va);\n        length c = length (v # va)\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks [] (v # va) c d : T) =\n                         (P,E([] [\\<mapsto>]\n                          v # va),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> c =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] (v # va)))\n 3. \\<And>b v va d E.\n       \\<lbrakk>length [] = length b; length (v # va) = length b\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks [] b (v # va) d : T) =\n                         (P,E([] [\\<mapsto>] b),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> (v # va) =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] b))\n 4. \\<And>v va c d E.\n       \\<lbrakk>length (v # va) = length []; length c = length []\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks (v # va) [] c d : T) =\n                         (P,E(v # va [\\<mapsto>]\n                          []),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> c =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] []))\n 5. \\<And>a v va d E.\n       \\<lbrakk>length a = length []; length (v # va) = length []\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks a [] (v # va) d : T) =\n                         (P,E(a [\\<mapsto>] []),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> (v # va) =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] []))\n 6. \\<And>v va b d E.\n       \\<lbrakk>length (v # va) = length b; length [] = length b\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks (v # va) b [] d : T) =\n                         (P,E(v # va [\\<mapsto>]\n                          b),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> [] =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] b))\n 7. \\<And>a v va d E.\n       \\<lbrakk>length a = length (v # va);\n        length [] = length (v # va)\\<rbrakk>\n       \\<Longrightarrow> (P,E,h \\<turnstile> blocks a (v # va) [] d : T) =\n                         (P,E(a [\\<mapsto>]\n                          v # va),h \\<turnstile> d : T \\<and>\n                          (\\<exists>Ts'.\n                              map typeof\\<^bsub>h\\<^esub> [] =\n                              map Some Ts' \\<and>\n                              P \\<turnstile> Ts' [\\<le>] (v # va)))", "apply simp_all"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"], ["", "context J_heap begin"], ["", "lemma WTrt_hext_mono: \"P,E,h \\<turnstile> e : T \\<Longrightarrow> h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T\"\n  and WTrts_hext_mono: \"P,E,h \\<turnstile> es [:] Ts \\<Longrightarrow> h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>P,E,h \\<turnstile> e : T; h \\<unlhd> h'\\<rbrakk>\n     \\<Longrightarrow> P,E,h' \\<turnstile> e : T) &&&\n    (\\<lbrakk>P,E,h \\<turnstile> es [:] Ts; h \\<unlhd> h'\\<rbrakk>\n     \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts)", "apply(induct rule: WTrt_WTrts.inducts)"], ["proof (prove)\ngoal (32 subgoals):\n 1. \\<And>C E.\n       \\<lbrakk>is_class P C; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> new C : Class C\n 2. \\<And>E e T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Integer;\n        is_type P (T\\<lfloor>\\<rceil>); h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> newA T\\<lfloor>e\\<rceil> : T\\<lfloor>\\<rceil>\n 3. \\<And>E e T U.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        is_type P U; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Cast U e : U\n 4. \\<And>E e T U.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        is_type P U; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e instanceof U : Boolean\n 5. \\<And>v T E.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Val v : T\n 6. \\<And>E V T.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Var V : T\n 7. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 8. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 9. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 10. \\<And>E a i T.\n        \\<lbrakk>P,E,h \\<turnstile> a : NT;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n         P,E,h \\<turnstile> i : Integer;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\nA total of 32 subgoals...", "apply(simp add: WTrtNew)"], ["proof (prove)\ngoal (31 subgoals):\n 1. \\<And>E e T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Integer;\n        is_type P (T\\<lfloor>\\<rceil>); h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> newA T\\<lfloor>e\\<rceil> : T\\<lfloor>\\<rceil>\n 2. \\<And>E e T U.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        is_type P U; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Cast U e : U\n 3. \\<And>E e T U.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        is_type P U; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e instanceof U : Boolean\n 4. \\<And>v T E.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Val v : T\n 5. \\<And>E V T.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Var V : T\n 6. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 7. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 8. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 9. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 10. \\<And>E a T i e T'.\n        \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         h \\<unlhd> h' \\<Longrightarrow>\n         P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         P,E,h \\<turnstile> i : Integer;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n         P,E,h \\<turnstile> e : T';\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\nA total of 31 subgoals...", "apply(fastforce simp: WTrtNewArray)"], ["proof (prove)\ngoal (30 subgoals):\n 1. \\<And>E e T U.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        is_type P U; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Cast U e : U\n 2. \\<And>E e T U.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        is_type P U; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e instanceof U : Boolean\n 3. \\<And>v T E.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Val v : T\n 4. \\<And>E V T.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Var V : T\n 5. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 6. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 7. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 8. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 9. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 10. \\<And>E a i e T'.\n        \\<lbrakk>P,E,h \\<turnstile> a : NT;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n         P,E,h \\<turnstile> i : Integer;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n         P,E,h \\<turnstile> e : T';\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\nA total of 30 subgoals...", "apply(fastforce simp: WTrtCast)"], ["proof (prove)\ngoal (29 subgoals):\n 1. \\<And>E e T U.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        is_type P U; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e instanceof U : Boolean\n 2. \\<And>v T E.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Val v : T\n 3. \\<And>E V T.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Var V : T\n 4. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 5. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 6. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 7. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 8. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 9. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 10. \\<And>E a T.\n        \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         h \\<unlhd> h' \\<Longrightarrow>\n         P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\nA total of 29 subgoals...", "apply(fastforce simp: WTrtInstanceOf)"], ["proof (prove)\ngoal (28 subgoals):\n 1. \\<And>v T E.\n       \\<lbrakk>typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T\\<rfloor>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Val v : T\n 2. \\<And>E V T.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Var V : T\n 3. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 4. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 5. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 6. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 7. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 8. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 9. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 10. \\<And>E a T.\n        \\<lbrakk>P,E,h \\<turnstile> a : NT;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\nA total of 28 subgoals...", "apply(fastforce simp: WTrtVal dest:hext_typeof_mono)"], ["proof (prove)\ngoal (27 subgoals):\n 1. \\<And>E V T.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> Var V : T\n 2. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 3. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 4. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 5. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 6. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 7. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 8. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 9. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 10. \\<And>E e U C F T fm D.\n        \\<lbrakk>P,E,h \\<turnstile> e : U;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\nA total of 27 subgoals...", "apply(simp add: WTrtVar)"], ["proof (prove)\ngoal (26 subgoals):\n 1. \\<And>E e1 T1 e2 T2 bop T.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1\\<guillemotleft>bop\\<guillemotright>T2 : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1 \\<guillemotleft>bop\\<guillemotright> e2 : T\n 2. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 3. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 4. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 5. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 6. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 7. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 8. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 9. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>E e F D T.\n        \\<lbrakk>P,E,h \\<turnstile> e : NT;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\nA total of 26 subgoals...", "apply(fastforce simp add: WTrtBinOp)"], ["proof (prove)\ngoal (25 subgoals):\n 1. \\<And>E V T e T'.\n       \\<lbrakk>E V = \\<lfloor>T\\<rfloor>; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        P \\<turnstile> T' \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> V:=e : Void\n 2. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 3. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 4. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 5. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 6. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 7. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 8. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 9. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 10. \\<And>E e1 U C F T fm D e2 T2.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n         P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\nA total of 25 subgoals...", "apply(fastforce simp add: WTrtLAss)"], ["proof (prove)\ngoal (24 subgoals):\n 1. \\<And>E a T i.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 2. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 3. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 4. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 5. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 6. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 7. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 8. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 9. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 10. \\<And>E e1 e2 T2 F D.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n         P,E,h \\<turnstile> e2 : T2;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\nA total of 24 subgoals...", "apply fastforce"], ["proof (prove)\ngoal (23 subgoals):\n 1. \\<And>E a i T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> : T\n 2. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 3. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 4. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 5. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 6. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 7. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 8. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 9. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 10. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C has F:T (fm) in D; volatile fm;\n         P,E,h \\<turnstile> e2 : T2;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n         P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n         P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\nA total of 23 subgoals...", "apply fastforce"], ["proof (prove)\ngoal (22 subgoals):\n 1. \\<And>E a T i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 2. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 3. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 4. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 5. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 6. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 7. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 8. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 9. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 10. \\<And>E e1 e2 T2 e3 T3 D F.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n         P,E,h \\<turnstile> e2 : T2;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n         P,E,h \\<turnstile> e3 : T3;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\nA total of 22 subgoals...", "apply fastforce"], ["proof (prove)\ngoal (21 subgoals):\n 1. \\<And>E a i e T'.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        P,E,h \\<turnstile> i : Integer;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> i : Integer;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<lfloor>i\\<rceil> := e : Void\n 2. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 3. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 4. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 5. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 6. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 7. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 8. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 9. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 10. \\<And>E e U C M Ts T meth D es Ts'.\n        \\<lbrakk>P,E,h \\<turnstile> e : U;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n         class_type_of' U = \\<lfloor>C\\<rfloor>;\n         P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n         P,E,h \\<turnstile> es [:] Ts';\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n         P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\nA total of 21 subgoals...", "apply fastforce"], ["proof (prove)\ngoal (20 subgoals):\n 1. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E,h' \\<turnstile> a : T\\<lfloor>\\<rceil>;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : Integer\n 2. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 3. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 4. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 5. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 6. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 7. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 8. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 9. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 10. \\<And>E e es Ts M T.\n        \\<lbrakk>P,E,h \\<turnstile> e : NT;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n         P,E,h \\<turnstile> es [:] Ts;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\nA total of 20 subgoals...", "apply fastforce"], ["proof (prove)\ngoal (19 subgoals):\n 1. \\<And>E a T.\n       \\<lbrakk>P,E,h \\<turnstile> a : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> a : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> a\\<bullet>length : T\n 2. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 3. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 4. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 5. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 6. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 7. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 8. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 9. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 10. \\<And>E V T e T' vo.\n        \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n         h \\<unlhd> h' \\<Longrightarrow>\n         P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n         case vo of None \\<Rightarrow> True\n         | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n             \\<exists>T'.\n                typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n                P \\<turnstile> T' \\<le> T;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\nA total of 19 subgoals...", "apply fastforce"], ["proof (prove)\ngoal (18 subgoals):\n 1. \\<And>E e U C F T fm D.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 2. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 3. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 4. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 5. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 6. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 7. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 8. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 9. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 10. \\<And>E o' T e T'.\n        \\<lbrakk>P,E,h \\<turnstile> o' : T;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n         is_refT T; P,E,h \\<turnstile> e : T';\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\nA total of 18 subgoals...", "apply(fast)"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>E e F D T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>F{D} : T\n 2. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 3. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 4. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 5. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 6. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 7. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 8. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 9. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 10. \\<And>E a T e T'.\n        \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n         P,E,h \\<turnstile> e : T';\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\nA total of 17 subgoals...", "apply(simp add: WTrtFAccNT)"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>E e1 U C F T fm D e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 2. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 3. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 4. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 5. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 6. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 7. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 8. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 9. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 10. \\<And>E e1 T1 e2 T2.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n         P,E,h \\<turnstile> e2 : T2;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\nA total of 16 subgoals...", "apply(fastforce simp: WTrtFAss del:WTrt_WTrts.intros WTrt_elim_cases)"], ["proof (prove)\ngoal (15 subgoals):\n 1. \\<And>E e1 e2 T2 F D.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>F{D} := e2 : Void\n 2. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 3. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 4. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 5. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 6. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 7. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 8. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 9. \\<And>E e1 T1 e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\n 10. \\<And>E e e1 T1 e2 T2 T.\n        \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n         P,E,h \\<turnstile> e1 : T1;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n         P,E,h \\<turnstile> e2 : T2;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n         P \\<turnstile> lub(T1, T2) = T; h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> if (e) e1 else e2 : T\nA total of 15 subgoals...", "apply(fastforce simp: WTrtFAssNT)"], ["proof (prove)\ngoal (14 subgoals):\n 1. \\<And>E e1 U C F T fm D e2 T2 e3 T3.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C has F:T (fm) in D; volatile fm;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T2 \\<le> T; P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        P \\<turnstile> T3 \\<le> T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 2. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 3. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 4. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 5. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 6. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 7. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 8. \\<And>E e1 T1 e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\n 9. \\<And>E e e1 T1 e2 T2 T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> if (e) e1 else e2 : T\n 10. \\<And>E e c T.\n        \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n         P,E,h \\<turnstile> c : T;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> c : T;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> while (e) c : Void\nA total of 14 subgoals...", "apply(fastforce simp: WTrtCAS)"], ["proof (prove)\ngoal (13 subgoals):\n 1. \\<And>E e1 e2 T2 e3 T3 D F.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : NT;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P,E,h \\<turnstile> e3 : T3;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e3 : T3;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1\\<bullet>compareAndSwap(D\\<bullet>F, e2, e3) : Boolean\n 2. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 3. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 4. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 5. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 6. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 7. \\<And>E e1 T1 e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\n 8. \\<And>E e e1 T1 e2 T2 T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> if (e) e1 else e2 : T\n 9. \\<And>E e c T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> c : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> while (e) c : Void\n 10. \\<And>E e T T'.\n        \\<lbrakk>P,E,h \\<turnstile> e : T;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n         P \\<turnstile> T \\<le> Class Throwable; h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> throw e : T'\nA total of 13 subgoals...", "apply(fastforce simp: WTrtCASNT)"], ["proof (prove)\ngoal (12 subgoals):\n 1. \\<And>E e U C M Ts T meth D es Ts'.\n       \\<lbrakk>P,E,h \\<turnstile> e : U;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : U;\n        class_type_of' U = \\<lfloor>C\\<rfloor>;\n        P \\<turnstile> C sees M: Ts\\<rightarrow>T = meth in D;\n        P,E,h \\<turnstile> es [:] Ts';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts';\n        P \\<turnstile> Ts' [\\<le>] Ts; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 2. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 3. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 4. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 5. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 6. \\<And>E e1 T1 e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\n 7. \\<And>E e e1 T1 e2 T2 T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> if (e) e1 else e2 : T\n 8. \\<And>E e c T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> c : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> while (e) c : Void\n 9. \\<And>E e T T'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> throw e : T'\n 10. \\<And>E e1 T1 V C e2 T2.\n        \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n         P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n         h \\<unlhd> h' \\<Longrightarrow>\n         P,E(V \\<mapsto> Class C),h' \\<turnstile> e2 : T2;\n         P \\<turnstile> T1 \\<le> T2; h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> try e1 catch(C V) e2 : T2\nA total of 12 subgoals...", "apply(fastforce simp: WTrtCall)"], ["proof (prove)\ngoal (11 subgoals):\n 1. \\<And>E e es Ts M T.\n       \\<lbrakk>P,E,h \\<turnstile> e : NT;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : NT;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e\\<bullet>M(es) : T\n 2. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 3. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 4. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 5. \\<And>E e1 T1 e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\n 6. \\<And>E e e1 T1 e2 T2 T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> if (e) e1 else e2 : T\n 7. \\<And>E e c T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> c : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> while (e) c : Void\n 8. \\<And>E e T T'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> throw e : T'\n 9. \\<And>E e1 T1 V C e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> Class C),h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> try e1 catch(C V) e2 : T2\n 10. \\<And>E. h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> [] [:] []\nA total of 11 subgoals...", "apply(fastforce simp: WTrtCallNT)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>E V T e T' vo.\n       \\<lbrakk>P,E(V \\<mapsto> T),h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> T),h' \\<turnstile> e : T';\n        case vo of None \\<Rightarrow> True\n        | \\<lfloor>v\\<rfloor> \\<Rightarrow>\n            \\<exists>T'.\n               typeof\\<^bsub>h\\<^esub> v = \\<lfloor>T'\\<rfloor> \\<and>\n               P \\<turnstile> T' \\<le> T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> {V:T=vo; e} : T'\n 2. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 3. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 4. \\<And>E e1 T1 e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\n 5. \\<And>E e e1 T1 e2 T2 T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> if (e) e1 else e2 : T\n 6. \\<And>E e c T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> c : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> while (e) c : Void\n 7. \\<And>E e T T'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> throw e : T'\n 8. \\<And>E e1 T1 V C e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> Class C),h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> try e1 catch(C V) e2 : T2\n 9. \\<And>E. h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> [] [:] []\n 10. \\<And>E e T es Ts.\n        \\<lbrakk>P,E,h \\<turnstile> e : T;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n         P,E,h \\<turnstile> es [:] Ts;\n         h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n         h \\<unlhd> h'\\<rbrakk>\n        \\<Longrightarrow> P,E,h' \\<turnstile> e # es [:] T # Ts", "apply(fastforce intro: hext_typeof_mono)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>E o' T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> o' : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> o' : T;\n        is_refT T; P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> sync(o') e : T'\n 2. \\<And>E a T e T'.\n       \\<lbrakk>P,E,h \\<turnstile> addr a : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> addr a : T;\n        P,E,h \\<turnstile> e : T';\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T';\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> insync(a) e : T'\n 3. \\<And>E e1 T1 e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e1;; e2 : T2\n 4. \\<And>E e e1 T1 e2 T2 T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E,h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e2 : T2;\n        P \\<turnstile> lub(T1, T2) = T; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> if (e) e1 else e2 : T\n 5. \\<And>E e c T.\n       \\<lbrakk>P,E,h \\<turnstile> e : Boolean;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : Boolean;\n        P,E,h \\<turnstile> c : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> c : T;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> while (e) c : Void\n 6. \\<And>E e T T'.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        P \\<turnstile> T \\<le> Class Throwable; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> throw e : T'\n 7. \\<And>E e1 T1 V C e2 T2.\n       \\<lbrakk>P,E,h \\<turnstile> e1 : T1;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e1 : T1;\n        P,E(V \\<mapsto> Class C),h \\<turnstile> e2 : T2;\n        h \\<unlhd> h' \\<Longrightarrow>\n        P,E(V \\<mapsto> Class C),h' \\<turnstile> e2 : T2;\n        P \\<turnstile> T1 \\<le> T2; h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> try e1 catch(C V) e2 : T2\n 8. \\<And>E. h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> [] [:] []\n 9. \\<And>E e T es Ts.\n       \\<lbrakk>P,E,h \\<turnstile> e : T;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> e : T;\n        P,E,h \\<turnstile> es [:] Ts;\n        h \\<unlhd> h' \\<Longrightarrow> P,E,h' \\<turnstile> es [:] Ts;\n        h \\<unlhd> h'\\<rbrakk>\n       \\<Longrightarrow> P,E,h' \\<turnstile> e # es [:] T # Ts", "apply fastforce+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"], ["", "end"]]}