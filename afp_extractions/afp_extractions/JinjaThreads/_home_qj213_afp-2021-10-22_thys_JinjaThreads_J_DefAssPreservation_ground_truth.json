{"file_name": "/home/qj213/afp-2021-10-22/thys/JinjaThreads/J/DefAssPreservation.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/JinjaThreads", "problem_names": ["lemma D_extRetJ [intro!]: \"\\<D> e A \\<Longrightarrow> \\<D> (extRet2J e va) A\"", "lemma blocks_defass [iff]: \"\\<And>A. \\<lbrakk> length Vs = length Ts; length vs = length Ts\\<rbrakk> \\<Longrightarrow>\n \\<D> (blocks Vs Ts vs e) A = \\<D> e (A \\<squnion> \\<lfloor>set Vs\\<rfloor>)\"", "lemma red_lA_incr: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A> e \\<sqsubseteq>  \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A> e'\"\n  and reds_lA_incr: \"extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle> \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A>s es \\<sqsubseteq>  \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A>s es'\"", "lemma assumes wf: \"wf_J_prog P\"\n  shows red_preserves_defass: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow> \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>\"\n  and reds_preserves_defass: \"extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle> \\<Longrightarrow> \\<D>s es \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow> \\<D>s es' \\<lfloor>dom (lcl s')\\<rfloor>\""], "translations": [["", "lemma D_extRetJ [intro!]: \"\\<D> e A \\<Longrightarrow> \\<D> (extRet2J e va) A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<D> e A \\<Longrightarrow> \\<D> (extRet2J e va) A", "by(cases va) simp_all"], ["", "lemma blocks_defass [iff]: \"\\<And>A. \\<lbrakk> length Vs = length Ts; length vs = length Ts\\<rbrakk> \\<Longrightarrow>\n \\<D> (blocks Vs Ts vs e) A = \\<D> e (A \\<squnion> \\<lfloor>set Vs\\<rfloor>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>length Vs = length Ts; length vs = length Ts\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks Vs Ts vs e) A =\n                         \\<D> e (A \\<squnion> \\<lfloor>set Vs\\<rfloor>)", "(*<*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A.\n       \\<lbrakk>length Vs = length Ts; length vs = length Ts\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks Vs Ts vs e) A =\n                         \\<D> e (A \\<squnion> \\<lfloor>set Vs\\<rfloor>)", "apply(induct Vs Ts vs e rule:blocks.induct)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>V Vs T Ts v vs e A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>length Vs = length Ts;\n                    length vs = length Ts\\<rbrakk>\n                   \\<Longrightarrow> \\<D> (blocks Vs Ts vs e) A =\n                                     \\<D> e\n(A \\<squnion> \\<lfloor>set Vs\\<rfloor>);\n        length (V # Vs) = length (T # Ts);\n        length (v # vs) = length (T # Ts)\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks (V # Vs) (T # Ts) (v # vs) e) A =\n                         \\<D> e\n                          (A \\<squnion> \\<lfloor>set (V # Vs)\\<rfloor>)\n 2. \\<And>e A.\n       \\<lbrakk>length [] = length []; length [] = length []\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks [] [] [] e) A =\n                         \\<D> e (A \\<squnion> \\<lfloor>set []\\<rfloor>)\n 3. \\<And>v va c d A.\n       \\<lbrakk>length [] = length (v # va);\n        length c = length (v # va)\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks [] (v # va) c d) A =\n                         \\<D> d (A \\<squnion> \\<lfloor>set []\\<rfloor>)\n 4. \\<And>b v va d A.\n       \\<lbrakk>length [] = length b; length (v # va) = length b\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks [] b (v # va) d) A =\n                         \\<D> d (A \\<squnion> \\<lfloor>set []\\<rfloor>)\n 5. \\<And>v va c d A.\n       \\<lbrakk>length (v # va) = length []; length c = length []\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks (v # va) [] c d) A =\n                         \\<D> d\n                          (A \\<squnion> \\<lfloor>set (v # va)\\<rfloor>)\n 6. \\<And>a v va d A.\n       \\<lbrakk>length a = length []; length (v # va) = length []\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks a [] (v # va) d) A =\n                         \\<D> d (A \\<squnion> \\<lfloor>set a\\<rfloor>)\n 7. \\<And>v va b d A.\n       \\<lbrakk>length (v # va) = length b; length [] = length b\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks (v # va) b [] d) A =\n                         \\<D> d\n                          (A \\<squnion> \\<lfloor>set (v # va)\\<rfloor>)\n 8. \\<And>a v va d A.\n       \\<lbrakk>length a = length (v # va);\n        length [] = length (v # va)\\<rbrakk>\n       \\<Longrightarrow> \\<D> (blocks a (v # va) [] d) A =\n                         \\<D> d (A \\<squnion> \\<lfloor>set a\\<rfloor>)", "apply(simp_all add:hyperset_defs)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*>*)"], ["", "context J_heap_base begin"], ["", "lemma red_lA_incr: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A> e \\<sqsubseteq>  \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A> e'\"\n  and reds_lA_incr: \"extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle> \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A>s es \\<sqsubseteq>  \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A>s es'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                            \\<langle>e',s'\\<rangle> \\<Longrightarrow>\n     \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A> e \\<sqsubseteq>\n     \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A> e') &&&\n    (extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                            \\<langle>es',s'\\<rangle> \\<Longrightarrow>\n     \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A>s es \\<sqsubseteq>\n     \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A>s es')", "apply(induct rule:red_reds.inducts)"], ["proof (prove)\ngoal (98 subgoals):\n 1. \\<And>h' a h C l.\n       (h', a) \\<in> allocate h (Class_type C) \\<Longrightarrow>\n       \\<lfloor>dom (lcl (h, l))\\<rfloor> \\<squnion>\n       \\<A> (new C) \\<sqsubseteq>\n       \\<lfloor>dom (lcl (h', l))\\<rfloor> \\<squnion> \\<A> (addr a)\n 2. \\<And>h C l.\n       allocate h (Class_type C) = {} \\<Longrightarrow>\n       \\<lfloor>dom (lcl (h, l))\\<rfloor> \\<squnion>\n       \\<A> (new C) \\<sqsubseteq>\n       \\<lfloor>dom (lcl (h, l))\\<rfloor> \\<squnion>\n       \\<A> (Throw (addr_of_sys_xcpt OutOfMemory))\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A> e \\<sqsubseteq>\n        \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A> e'\\<rbrakk>\n       \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n                         \\<A> (newA T\\<lfloor>e\\<rceil>) \\<sqsubseteq>\n                         \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion>\n                         \\<A> (newA T\\<lfloor>e'\\<rceil>)\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)))\\<rbrakk>\n       \\<Longrightarrow> \\<lfloor>dom (lcl (h, l))\\<rfloor> \\<squnion>\n                         \\<A>\n                          (newA T\\<lfloor>Val\n     (Intg i)\\<rceil>) \\<sqsubseteq>\n                         \\<lfloor>dom (lcl (h', l))\\<rfloor> \\<squnion>\n                         \\<A> (addr a)\n 5. \\<And>i T s.\n       i <s 0 \\<Longrightarrow>\n       \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n       \\<A> (newA T\\<lfloor>Val (Intg i)\\<rceil>) \\<sqsubseteq>\n       \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n       \\<A> (Throw (addr_of_sys_xcpt NegativeArraySize))\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i;\n        allocate h (Array_type T (nat (sint i))) = {}\\<rbrakk>\n       \\<Longrightarrow> \\<lfloor>dom (lcl (h, l))\\<rfloor> \\<squnion>\n                         \\<A>\n                          (newA T\\<lfloor>Val\n     (Intg i)\\<rceil>) \\<sqsubseteq>\n                         \\<lfloor>dom (lcl (h, l))\\<rfloor> \\<squnion>\n                         \\<A> (Throw (addr_of_sys_xcpt OutOfMemory))\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A> e \\<sqsubseteq>\n        \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A> e'\\<rbrakk>\n       \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n                         \\<A> (Cast C e) \\<sqsubseteq>\n                         \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion>\n                         \\<A> (Cast C e')\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n                         \\<A> (Cast T (Val v)) \\<sqsubseteq>\n                         \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n                         \\<A> (Val v)\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T\\<rbrakk>\n       \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n                         \\<A> (Cast T (Val v)) \\<sqsubseteq>\n                         \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n                         \\<A> (Throw (addr_of_sys_xcpt ClassCast))\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion> \\<A> e \\<sqsubseteq>\n         \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion> \\<A> e'\\<rbrakk>\n        \\<Longrightarrow> \\<lfloor>dom (lcl s)\\<rfloor> \\<squnion>\n                          \\<A> (e instanceof T) \\<sqsubseteq>\n                          \\<lfloor>dom (lcl s')\\<rfloor> \\<squnion>\n                          \\<A> (e' instanceof T)\nA total of 98 subgoals...", "apply(simp_all del:fun_upd_apply add:hyperset_defs)"], ["proof (prove)\ngoal (25 subgoals):\n 1. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 2. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 3. \\<And>e s ta e' s' V x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> insert V\n(dom (lcl s') \\<union> x2a) \\<and>\n                         x2c\n                         \\<subseteq> insert V (dom (lcl s') \\<union> x2a)\n 4. \\<And>a s ta a' s' i x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 5. \\<And>i s ta i' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 6. \\<And>a s ta a' s' i e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 7. \\<And>i s ta i' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 8. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 9. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 10. \\<And>e s ta e' s' x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a\nA total of 25 subgoals...", "apply blast"], ["proof (prove)\ngoal (24 subgoals):\n 1. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 2. \\<And>e s ta e' s' V x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> insert V\n(dom (lcl s') \\<union> x2a) \\<and>\n                         x2c\n                         \\<subseteq> insert V (dom (lcl s') \\<union> x2a)\n 3. \\<And>a s ta a' s' i x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 4. \\<And>i s ta i' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 5. \\<And>a s ta a' s' i e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 6. \\<And>i s ta i' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 7. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 8. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 9. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 10. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> \\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e3 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                 x2c\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2b \\<union> (x2a \\<union> x2)))\nA total of 24 subgoals...", "apply blast"], ["proof (prove)\ngoal (23 subgoals):\n 1. \\<And>e s ta e' s' V x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> insert V\n(dom (lcl s') \\<union> x2a) \\<and>\n                         x2c\n                         \\<subseteq> insert V (dom (lcl s') \\<union> x2a)\n 2. \\<And>a s ta a' s' i x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 3. \\<And>i s ta i' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 4. \\<And>a s ta a' s' i e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 5. \\<And>i s ta i' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 6. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 7. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 8. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 9. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 10. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> \\<forall>x2.\n                             \\<A> e3 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2 \\<union> x2a) \\<and>\n                             x2 \\<subseteq> dom (lcl s') \\<union>\n      (x2 \\<union> x2a) \\<and>\n                             x2c\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2 \\<union> x2a)\nA total of 23 subgoals...", "apply blast"], ["proof (prove)\ngoal (22 subgoals):\n 1. \\<And>a s ta a' s' i x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 2. \\<And>i s ta i' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 3. \\<And>a s ta a' s' i e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 4. \\<And>i s ta i' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 5. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 6. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 7. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 8. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 9. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 10. \\<And>e s ta e' s' x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a\nA total of 22 subgoals...", "apply blast"], ["proof (prove)\ngoal (21 subgoals):\n 1. \\<And>i s ta i' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 2. \\<And>a s ta a' s' i e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 3. \\<And>i s ta i' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 4. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 5. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 6. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 7. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 8. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 9. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 10. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> \\<forall>x2.\n                             \\<A>s es =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2c\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2 \\<subseteq> dom (lcl s') \\<union>\n      (x2a \\<union> x2)\nA total of 21 subgoals...", "apply blast"], ["proof (prove)\ngoal (20 subgoals):\n 1. \\<And>a s ta a' s' i e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>a,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>a',s'\\<rangle>;\n        \\<A> a' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> a = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> i = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 2. \\<And>i s ta i' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 3. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 4. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 5. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 6. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 7. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 8. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 9. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 10. \\<And>es s ta es' s' x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a\nA total of 20 subgoals...", "apply blast"], ["proof (prove)\ngoal (19 subgoals):\n 1. \\<And>i s ta i' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>i,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>i',s'\\<rangle>;\n        \\<A> i' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> i = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 2. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 3. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 4. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 5. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 6. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 7. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 8. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 9. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 10. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,\n                                 (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',(h', l')\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union>\n         (if vo = None then dom l - {V} else insert V (dom l)) =\n         x2b\\<rbrakk>\n        \\<Longrightarrow> (l V = None \\<longrightarrow>\n                           dom l\n                           \\<subseteq> x2a - {V} \\<union>\n (dom l' - {V}) \\<and>\n                           x2c - {V}\n                           \\<subseteq> x2a - {V} \\<union>\n (dom l' - {V})) \\<and>\n                          ((\\<exists>y.\n                               l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                           dom l\n                           \\<subseteq> insert V\n  (x2a - {V} \\<union> dom l') \\<and>\n                           x2c - {V}\n                           \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\nA total of 19 subgoals...", "apply blast"], ["proof (prove)\ngoal (18 subgoals):\n 1. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 2. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 3. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 4. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 5. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 6. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 7. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 8. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 9. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 10. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>o'',s'\\<rangle>;\n         \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> \\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2c\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2 \\<subseteq> dom (lcl s') \\<union>\n      (x2a \\<union> x2)\nA total of 18 subgoals...", "apply blast"], ["proof (prove)\ngoal (17 subgoals):\n 1. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 2. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 3. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 4. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 5. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 6. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 7. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 8. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 9. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 10. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> \\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2c\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2 \\<subseteq> dom (lcl s') \\<union>\n      (x2a \\<union> x2)\nA total of 17 subgoals...", "apply blast"], ["proof (prove)\ngoal (16 subgoals):\n 1. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 2. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 3. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 4. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 5. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 6. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 7. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 8. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 9. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 10. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>b',s'\\<rangle>;\n         \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> b = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> \\<forall>x2.\n                             (\\<A> e2 = None \\<longrightarrow>\n                              x2c = x2 \\<longrightarrow>\n                              (\\<forall>x2b.\n                                  \\<A> e1 =\n                                  \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                  dom (lcl s)\n                                  \\<subseteq> dom (lcl s') \\<union>\n        (x2a \\<union> x2b) \\<and>\n                                  x2 \\<subseteq> dom (lcl s') \\<union>\n           (x2a \\<union> x2b) \\<and>\n                                  x2b\n                                  \\<subseteq> dom (lcl s') \\<union>\n        (x2a \\<union> x2b))) \\<and>\n                             (\\<forall>x2b.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 x2c = x2 \\<longrightarrow>\n                                 (\\<A> e1 = None \\<longrightarrow>\n                                  dom (lcl s)\n                                  \\<subseteq> dom (lcl s') \\<union>\n        (x2a \\<union> x2b) \\<and>\n                                  x2 \\<subseteq> dom (lcl s') \\<union>\n           (x2a \\<union> x2b) \\<and>\n                                  x2b\n                                  \\<subseteq> dom (lcl s') \\<union>\n        (x2a \\<union> x2b)) \\<and>\n                                 (\\<forall>x2c.\n                                     \\<A> e1 =\n                                     \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                     dom (lcl s)\n                                     \\<subseteq> dom (lcl s') \\<union>\n           (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                     x2 \\<subseteq> dom (lcl s') \\<union>\n              (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                     x2c \\<inter> x2b\n                                     \\<subseteq> dom (lcl s') \\<union>\n           (x2a \\<union> x2c \\<inter> x2b)))\nA total of 16 subgoals...", "apply blast"], ["proof (prove)\ngoal (15 subgoals):\n 1. \\<And>e s ta e' s' e2 e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            (\\<forall>x2b.\n                                \\<A> e3 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                dom (lcl s)\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2b\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2c\n                                \\<subseteq> dom (lcl s') \\<union>\n      (x2b \\<union> (x2a \\<union> x2)) \\<and>\n                                x2 \\<subseteq> dom (lcl s') \\<union>\n         (x2b \\<union> (x2a \\<union> x2)))\n 2. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 3. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 4. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 5. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 6. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 7. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 8. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 9. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 10. \\<And>e1 e2 s.\n        \\<forall>x2 x2a.\n           \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n           \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n           x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\nA total of 15 subgoals...", "apply blast"], ["proof (prove)\ngoal (14 subgoals):\n 1. \\<And>e s ta e' s' e3 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e3 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2 \\<union> x2a) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2 \\<union> x2a)\n 2. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 3. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 4. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 5. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 6. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 7. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 8. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 9. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 10. \\<And>e1 e2 s.\n        \\<forall>x2 x2a.\n           \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n           \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n           x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\nA total of 14 subgoals...", "apply blast"], ["proof (prove)\ngoal (13 subgoals):\n 1. \\<And>e s ta e' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 2. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 3. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 4. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 5. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 6. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 7. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 8. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 9. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 10. \\<And>e s ta e' s' V e2.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<A> e' = None\\<rbrakk>\n        \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                           (\\<forall>x2.\n                               \\<A> e2 =\n                               \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                               dom (lcl s)\n                               \\<subseteq> dom (lcl s') \\<union>\n     (x2 - {V}))) \\<and>\n                          (\\<forall>x2.\n                              \\<A> e =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              (\\<forall>x2a.\n                                  \\<A> e2 =\n                                  \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                  dom (lcl s)\n                                  \\<subseteq> dom (lcl s') \\<union>\n        (x2a - {V}) \\<and>\n                                  x2 \\<inter> (x2a - {V})\n                                  \\<subseteq> dom (lcl s') \\<union>\n        (x2a - {V})))\nA total of 13 subgoals...", "apply blast"], ["proof (prove)\ngoal (12 subgoals):\n 1. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 2. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 3. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 4. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 5. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 6. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 7. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 8. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 9. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 10. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                           dom (lcl s)\n                           \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                           x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    x2a \\<inter> (x2 - {V}) \\<and>\n                              x2c \\<inter> (x2 - {V})\n                              \\<subseteq> dom (lcl s') \\<union>\n    x2a \\<inter> (x2 - {V}))\nA total of 12 subgoals...", "apply blast"], ["proof (prove)\ngoal (11 subgoals):\n 1. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a\n 2. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 3. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 4. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 5. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 6. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 7. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 8. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 9. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 10. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                \\<langle>e',s'\\<rangle>;\n         \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A> e = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> \\<forall>x2.\n                             \\<A>s es =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2c\n                             \\<subseteq> dom (lcl s') \\<union>\n   (x2a \\<union> x2) \\<and>\n                             x2 \\<subseteq> dom (lcl s') \\<union>\n      (x2a \\<union> x2)\nA total of 11 subgoals...", "apply blast"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>e h l V vo ta e' h' l' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,\n                                (h, l(V := vo))\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',(h', l')\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom l' = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> (if vo = None then dom l - {V} else insert V (dom l)) =\n        x2b\\<rbrakk>\n       \\<Longrightarrow> (l V = None \\<longrightarrow>\n                          dom l\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V}) \\<and>\n                          x2c - {V}\n                          \\<subseteq> x2a - {V} \\<union>\n(dom l' - {V})) \\<and>\n                         ((\\<exists>y.\n                              l V = \\<lfloor>y\\<rfloor>) \\<longrightarrow>\n                          dom l\n                          \\<subseteq> insert V\n (x2a - {V} \\<union> dom l') \\<and>\n                          x2c - {V}\n                          \\<subseteq> insert V (x2a - {V} \\<union> dom l'))\n 2. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 3. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 4. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 5. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 6. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 7. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 8. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 9. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 10. \\<And>es s ta es' s' x2 x2a x2b x2c.\n        \\<lbrakk>x2b \\<subseteq> x2;\n         extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                                \\<langle>es',s'\\<rangle>;\n         \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n         \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n         x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n        \\<Longrightarrow> dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply(force split: if_split_asm)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>o' s ta o'' s' e x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>o',s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>o'',s'\\<rangle>;\n        \\<A> o'' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> o' = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 2. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 3. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 4. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 5. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 6. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 7. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 8. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 9. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply blast"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>e s ta e' s' e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A> e2 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 2. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 3. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 4. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 5. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 6. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 7. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 8. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply blast"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>b s ta b' s' e1 e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>b,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>b',s'\\<rangle>;\n        \\<A> b' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> b = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            (\\<A> e2 = None \\<longrightarrow>\n                             x2c = x2 \\<longrightarrow>\n                             (\\<forall>x2b.\n                                 \\<A> e1 =\n                                 \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b))) \\<and>\n                            (\\<forall>x2b.\n                                \\<A> e2 =\n                                \\<lfloor>x2b\\<rfloor> \\<longrightarrow>\n                                x2c = x2 \\<longrightarrow>\n                                (\\<A> e1 = None \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b) \\<and>\n                                 x2 \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2b) \\<and>\n                                 x2b\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a \\<union> x2b)) \\<and>\n                                (\\<forall>x2c.\n                                    \\<A> e1 =\n                                    \\<lfloor>x2c\\<rfloor> \\<longrightarrow>\n                                    dom (lcl s)\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2 \\<subseteq> dom (lcl s') \\<union>\n             (x2a \\<union> x2c \\<inter> x2b) \\<and>\n                                    x2c \\<inter> x2b\n                                    \\<subseteq> dom (lcl s') \\<union>\n          (x2a \\<union> x2c \\<inter> x2b)))\n 2. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 3. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 4. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 5. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 6. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 7. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply blast"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2 \\<union> dom (lcl s)\n 2. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 3. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 4. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 5. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 6. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply blast"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>e1 e2 s.\n       \\<forall>x2 x2a.\n          \\<A> e2 = \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n          \\<A> e1 = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n          x2 \\<inter> x2a \\<subseteq> x2a \\<union> dom (lcl s)\n 2. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 3. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 4. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 5. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply blast"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>e s ta e' s' V e2.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<A> e' = None\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e = None \\<longrightarrow>\n                          (\\<forall>x2.\n                              \\<A> e2 =\n                              \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                              dom (lcl s)\n                              \\<subseteq> dom (lcl s') \\<union>\n    (x2 - {V}))) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e = \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             (\\<forall>x2a.\n                                 \\<A> e2 =\n                                 \\<lfloor>x2a\\<rfloor> \\<longrightarrow>\n                                 dom (lcl s)\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V}) \\<and>\n                                 x2 \\<inter> (x2a - {V})\n                                 \\<subseteq> dom (lcl s') \\<union>\n       (x2a - {V})))\n 2. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 3. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 4. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply(blast dest: red_lcl_incr)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>e s ta e' s' V e2 x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> (\\<A> e2 = None \\<longrightarrow>\n                          dom (lcl s)\n                          \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                          x2c \\<subseteq> dom (lcl s') \\<union> x2a) \\<and>\n                         (\\<forall>x2.\n                             \\<A> e2 =\n                             \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                             dom (lcl s)\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}) \\<and>\n                             x2c \\<inter> (x2 - {V})\n                             \\<subseteq> dom (lcl s') \\<union>\n   x2a \\<inter> (x2 - {V}))\n 2. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 3. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "apply(blast dest: red_lcl_incr)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>e s ta e' s' es x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                               \\<langle>e',s'\\<rangle>;\n        \\<A> e' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A> e = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x2.\n                            \\<A>s es =\n                            \\<lfloor>x2\\<rfloor> \\<longrightarrow>\n                            dom (lcl s)\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2c\n                            \\<subseteq> dom (lcl s') \\<union>\n  (x2a \\<union> x2) \\<and>\n                            x2 \\<subseteq> dom (lcl s') \\<union>\n     (x2a \\<union> x2)\n 2. \\<And>es s ta es' s' x2 x2a x2b x2c.\n       \\<lbrakk>x2b \\<subseteq> x2;\n        extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>]\n                               \\<langle>es',s'\\<rangle>;\n        \\<A>s es' = \\<lfloor>x2a\\<rfloor>; x2a \\<union> dom (lcl s') = x2;\n        \\<A>s es = \\<lfloor>x2c\\<rfloor>;\n        x2c \\<union> dom (lcl s) = x2b\\<rbrakk>\n       \\<Longrightarrow> dom (lcl s)\n                         \\<subseteq> dom (lcl s') \\<union> x2a \\<and>\n                         x2c \\<subseteq> dom (lcl s') \\<union> x2a", "by blast+"], ["", "end"], ["", "text\\<open>Now preservation of definite assignment.\\<close>"], ["", "declare hyperUn_comm [simp del]"], ["", "declare hyperUn_leftComm [simp del]"], ["", "context J_heap_base begin"], ["", "lemma assumes wf: \"wf_J_prog P\"\n  shows red_preserves_defass: \"extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow> \\<langle>e',s'\\<rangle> \\<Longrightarrow> \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow> \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>\"\n  and reds_preserves_defass: \"extTA,P,t \\<turnstile> \\<langle>es,s\\<rangle> [-ta\\<rightarrow>] \\<langle>es',s'\\<rangle> \\<Longrightarrow> \\<D>s es \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow> \\<D>s es' \\<lfloor>dom (lcl s')\\<rfloor>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,s\\<rangle> -ta\\<rightarrow>\n                                     \\<langle>e',s'\\<rangle>;\n      \\<D> e \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n     \\<Longrightarrow> \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>) &&&\n    (\\<lbrakk>extTA,P,t \\<turnstile> \\<langle>es,\ns\\<rangle> [-ta\\<rightarrow>]\n                                     \\<langle>es',s'\\<rangle>;\n      \\<D>s es \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n     \\<Longrightarrow> \\<D>s es' \\<lfloor>dom (lcl s')\\<rfloor>)", "proof (induction rule:red_reds.inducts)"], ["proof (state)\ngoal (98 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 98 subgoals...", "case BinOpRed1"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_ \\<guillemotleft>bop_\\<guillemotright> e2_)\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (98 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 98 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_ \\<guillemotleft>bop_\\<guillemotright> e2_)\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (e'_ \\<guillemotleft>bop_\\<guillemotright> e2_)\n     \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (e'_ \\<guillemotleft>bop_\\<guillemotright> e2_)\n   \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (97 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 97 subgoals...", "next"], ["proof (state)\ngoal (97 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 97 subgoals...", "case AAccRed1"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>a_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>a'_,s'_\\<rangle>\n  \\<D> a_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> a'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (a_\\<lfloor>i_\\<rceil>) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (97 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 97 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>a_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>a'_,s'_\\<rangle>\n  \\<D> a_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> a'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (a_\\<lfloor>i_\\<rceil>) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (a'_\\<lfloor>i_\\<rceil>) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (a'_\\<lfloor>i_\\<rceil>) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (96 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 96 subgoals...", "next"], ["proof (state)\ngoal (96 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 96 subgoals...", "case AAssRed1"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>a_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>a'_,s'_\\<rangle>\n  \\<D> a_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> a'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (a_\\<lfloor>i_\\<rceil> := e_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (96 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 96 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>a_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>a'_,s'_\\<rangle>\n  \\<D> a_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> a'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (a_\\<lfloor>i_\\<rceil> := e_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (a'_\\<lfloor>i_\\<rceil> := e_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by(auto intro: red_lA_incr sqUn_lem D_mono)"], ["proof (state)\nthis:\n  \\<D> (a'_\\<lfloor>i_\\<rceil> := e_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (95 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 95 subgoals...", "next"], ["proof (state)\ngoal (95 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 95 subgoals...", "case AAssRed2"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>i_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>i'_,s'_\\<rangle>\n  \\<D> i_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> i'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (Val a_\\<lfloor>i_\\<rceil> := e_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (95 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 95 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>i_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>i'_,s'_\\<rangle>\n  \\<D> i_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> i'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (Val a_\\<lfloor>i_\\<rceil> := e_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (Val a_\\<lfloor>i'_\\<rceil> := e_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (Val a_\\<lfloor>i'_\\<rceil> := e_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (94 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 94 subgoals...", "next"], ["proof (state)\ngoal (94 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 94 subgoals...", "case FAssRed1"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_\\<bullet>F_{D_} := e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (94 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 94 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_\\<bullet>F_{D_} := e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (e'_\\<bullet>F_{D_} := e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (e'_\\<bullet>F_{D_} := e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (93 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 93 subgoals...", "next"], ["proof (state)\ngoal (93 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 93 subgoals...", "case CASRed1"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_\\<bullet>compareAndSwap(D_\\<bullet>F_, e2_, e3_))\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (93 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 93 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_\\<bullet>compareAndSwap(D_\\<bullet>F_, e2_, e3_))\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (e'_\\<bullet>compareAndSwap(D_\\<bullet>F_, e2_, e3_))\n     \\<lfloor>dom (lcl s'_)\\<rfloor>", "by(auto intro: red_lA_incr sqUn_lem D_mono)"], ["proof (state)\nthis:\n  \\<D> (e'_\\<bullet>compareAndSwap(D_\\<bullet>F_, e2_, e3_))\n   \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (92 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 92 subgoals...", "next"], ["proof (state)\ngoal (92 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 92 subgoals...", "case CASRed2"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (Val v_\\<bullet>compareAndSwap(D_\\<bullet>F_, e_, e3_))\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (92 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 92 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (Val v_\\<bullet>compareAndSwap(D_\\<bullet>F_, e_, e3_))\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (Val v_\\<bullet>compareAndSwap(D_\\<bullet>F_, e'_, e3_))\n     \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (Val v_\\<bullet>compareAndSwap(D_\\<bullet>F_, e'_, e3_))\n   \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (91 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 91 subgoals...", "next"], ["proof (state)\ngoal (91 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 91 subgoals...", "case CallObj"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_\\<bullet>M_(es_)) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (91 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 91 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_\\<bullet>M_(es_)) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (e'_\\<bullet>M_(es_)) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: Ds_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (e'_\\<bullet>M_(es_)) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (90 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 90 subgoals...", "next"], ["proof (state)\ngoal (90 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 90 subgoals...", "case CallParams"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>es_,s_\\<rangle> [-ta_\\<rightarrow>]\n                         \\<langle>es'_,s'_\\<rangle>\n  \\<D>s es_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D>s es'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (Val v_\\<bullet>M_(es_)) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (90 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 90 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>es_,s_\\<rangle> [-ta_\\<rightarrow>]\n                         \\<langle>es'_,s'_\\<rangle>\n  \\<D>s es_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D>s es'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (Val v_\\<bullet>M_(es_)) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (Val v_\\<bullet>M_(es'_)) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by(auto elim!: Ds_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (Val v_\\<bullet>M_(es'_)) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (89 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 89 subgoals...", "next"], ["proof (state)\ngoal (89 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 89 subgoals...", "case RedCall"], ["proof (state)\nthis:\n  typeof_addr (hp s_) a_ = \\<lfloor>hU_\\<rfloor>\n  P \\<turnstile> class_type_of\n                  hU_ sees M_: Ts_\\<rightarrow>T_ = \\<lfloor>(pns_,\n                        body_)\\<rfloor> in D_\n  length vs_ = length pns_\n  length Ts_ = length pns_\n  \\<D> (addr a_\\<bullet>M_(map Val vs_)) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (89 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 89 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  typeof_addr (hp s_) a_ = \\<lfloor>hU_\\<rfloor>\n  P \\<turnstile> class_type_of\n                  hU_ sees M_: Ts_\\<rightarrow>T_ = \\<lfloor>(pns_,\n                        body_)\\<rfloor> in D_\n  length vs_ = length pns_\n  length Ts_ = length pns_\n  \\<D> (addr a_\\<bullet>M_(map Val vs_)) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (blocks (this # pns_) (Class D_ # Ts_) (Addr a_ # vs_) body_)\n     \\<lfloor>dom (lcl s_)\\<rfloor>", "by(auto dest!:sees_wf_mdecl[OF wf] simp:wf_mdecl_def elim!:D_mono')"], ["proof (state)\nthis:\n  \\<D> (blocks (this # pns_) (Class D_ # Ts_) (Addr a_ # vs_) body_)\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (88 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 88 subgoals...", "next"], ["proof (state)\ngoal (88 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 88 subgoals...", "case BlockRed"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,\n                          (h_, l_(V_ := vo_))\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,(h'_, l'_)\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl (h_, l_(V_ := vo_)))\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl (h'_, l'_))\\<rfloor>\n  \\<D> {V_:T_=vo_; e_} \\<lfloor>dom (lcl (h_, l_))\\<rfloor>\n\ngoal (88 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 88 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,\n                          (h_, l_(V_ := vo_))\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,(h'_, l'_)\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl (h_, l_(V_ := vo_)))\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl (h'_, l'_))\\<rfloor>\n  \\<D> {V_:T_=vo_; e_} \\<lfloor>dom (lcl (h_, l_))\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> {V_:T_=l'_ V_; e'_}\n     \\<lfloor>dom (lcl (h'_, l'_(V_ := l_ V_)))\\<rfloor>", "by(auto simp:hyperset_defs elim!:D_mono' simp del:fun_upd_apply split: if_split_asm)"], ["proof (state)\nthis:\n  \\<D> {V_:T_=l'_ V_; e'_}\n   \\<lfloor>dom (lcl (h'_, l'_(V_ := l_ V_)))\\<rfloor>\n\ngoal (87 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 87 subgoals...", "next"], ["proof (state)\ngoal (87 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 87 subgoals...", "case SynchronizedRed1"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>o'_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>o''_,s'_\\<rangle>\n  \\<D> o'_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> o''_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (sync(o'_) e_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (87 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 87 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>o'_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>o''_,s'_\\<rangle>\n  \\<D> o'_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> o''_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (sync(o'_) e_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (sync(o''_) e_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by(auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (sync(o''_) e_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (86 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 86 subgoals...", "next"], ["proof (state)\ngoal (86 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 86 subgoals...", "case SeqRed"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_;; e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (86 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 86 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (e_;; e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (e'_;; e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (e'_;; e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (85 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 85 subgoals...", "next"], ["proof (state)\ngoal (85 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 85 subgoals...", "case CondRed"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>b_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>b'_,s'_\\<rangle>\n  \\<D> b_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> b'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (if (b_) e1_ else e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (85 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 85 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>b_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>b'_,s'_\\<rangle>\n  \\<D> b_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> b'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (if (b_) e1_ else e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (if (b'_) e1_ else e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: D_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D> (if (b'_) e1_ else e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (84 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 84 subgoals...", "next"], ["proof (state)\ngoal (84 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 84 subgoals...", "case TryRed"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (try e_ catch(C_ V_) e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (84 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 84 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D> (try e_ catch(C_ V_) e2_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (try e'_ catch(C_ V_) e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (fastforce dest:red_lcl_incr intro:D_mono' simp:hyperset_defs)"], ["proof (state)\nthis:\n  \\<D> (try e'_ catch(C_ V_) e2_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (83 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 83 subgoals...", "next"], ["proof (state)\ngoal (83 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 83 subgoals...", "case RedWhile"], ["proof (state)\nthis:\n  \\<D> (while (b_) c_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (83 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 83 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<D> (while (b_) c_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D> (if (b_) (c_;; while (b_) c_) else unit)\n     \\<lfloor>dom (lcl s_)\\<rfloor>", "by(auto simp:hyperset_defs elim!:D_mono')"], ["proof (state)\nthis:\n  \\<D> (if (b_) (c_;; while (b_) c_) else unit)\n   \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (82 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 82 subgoals...", "next"], ["proof (state)\ngoal (82 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 82 subgoals...", "case ListRed1"], ["proof (state)\nthis:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D>s (e_ # es_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (82 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 82 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  extTA,P,t \\<turnstile> \\<langle>e_,s_\\<rangle> -ta_\\<rightarrow>\n                         \\<langle>e'_,s'_\\<rangle>\n  \\<D> e_ \\<lfloor>dom (lcl s_)\\<rfloor> \\<Longrightarrow>\n  \\<D> e'_ \\<lfloor>dom (lcl s'_)\\<rfloor>\n  \\<D>s (e_ # es_) \\<lfloor>dom (lcl s_)\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<D>s (e'_ # es_) \\<lfloor>dom (lcl s'_)\\<rfloor>", "by (auto elim!: Ds_mono[OF red_lA_incr])"], ["proof (state)\nthis:\n  \\<D>s (e'_ # es_) \\<lfloor>dom (lcl s'_)\\<rfloor>\n\ngoal (81 subgoals):\n 1. \\<And>h' a h C l.\n       \\<lbrakk>(h', a) \\<in> allocate h (Class_type C);\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 2. \\<And>h C l.\n       \\<lbrakk>allocate h (Class_type C) = {};\n        \\<D> (new C) \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 3. \\<And>e s ta e' s' T.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (newA T\\<lfloor>e\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (newA T\\<lfloor>e'\\<rceil>)\n                          \\<lfloor>dom (lcl s')\\<rfloor>\n 4. \\<And>i h' a h T l.\n       \\<lbrakk>0 \\<le>s i;\n        (h', a) \\<in> allocate h (Array_type T (nat (sint i)));\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (addr a) \\<lfloor>dom (lcl (h', l))\\<rfloor>\n 5. \\<And>i T s.\n       \\<lbrakk>i <s 0;\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt NegativeArraySize))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 6. \\<And>i h T l.\n       \\<lbrakk>0 \\<le>s i; allocate h (Array_type T (nat (sint i))) = {};\n        \\<D> (newA T\\<lfloor>Val (Intg i)\\<rceil>)\n         \\<lfloor>dom (lcl (h, l))\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt OutOfMemory))\n                          \\<lfloor>dom (lcl (h, l))\\<rfloor>\n 7. \\<And>e s ta e' s' C.\n       \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n  s\\<rangle> -ta\\<rightarrow>\n \\<langle>e',s'\\<rangle>;\n        \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n        \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n        \\<D> (Cast C e) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Cast C e') \\<lfloor>dom (lcl s')\\<rfloor>\n 8. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Val v) \\<lfloor>dom (lcl s)\\<rfloor>\n 9. \\<And>s v U T.\n       \\<lbrakk>typeof\\<^bsub>hp s\\<^esub> v = \\<lfloor>U\\<rfloor>;\n        \\<not> P \\<turnstile> U \\<le> T;\n        \\<D> (Cast T (Val v)) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n       \\<Longrightarrow> \\<D> (Throw (addr_of_sys_xcpt ClassCast))\n                          \\<lfloor>dom (lcl s)\\<rfloor>\n 10. \\<And>e s ta e' s' T.\n        \\<lbrakk>extTA,P,t \\<turnstile> \\<langle>e,\n   s\\<rangle> -ta\\<rightarrow>\n  \\<langle>e',s'\\<rangle>;\n         \\<D> e \\<lfloor>dom (lcl s)\\<rfloor> \\<Longrightarrow>\n         \\<D> e' \\<lfloor>dom (lcl s')\\<rfloor>;\n         \\<D> (e instanceof T) \\<lfloor>dom (lcl s)\\<rfloor>\\<rbrakk>\n        \\<Longrightarrow> \\<D> (e' instanceof T)\n                           \\<lfloor>dom (lcl s')\\<rfloor>\nA total of 81 subgoals...", "qed (auto simp:hyperset_defs)"], ["", "end"], ["", "end"]]}