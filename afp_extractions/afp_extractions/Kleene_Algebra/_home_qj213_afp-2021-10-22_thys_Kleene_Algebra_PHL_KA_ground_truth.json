{"file_name": "/home/qj213/afp-2021-10-22/thys/Kleene_Algebra/PHL_KA.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Kleene_Algebra", "problem_names": ["lemma phl_while:  \n  assumes \"p \\<cdot> s \\<le> s \\<cdot> p \\<cdot> s\" and \"p \\<cdot> w \\<le> w \\<cdot> p \\<cdot> w\"\n  and  \"(p \\<cdot> s) \\<cdot> x \\<le> x \\<cdot> p\"\n  shows \"p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)  \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)\"", "lemma ht_phl_skip: \"\\<lbrace>x\\<rbrace> 1 \\<lbrace>x\\<rbrace>\"", "lemma ht_phl_cons1: \"x \\<le> w \\<Longrightarrow> \\<lbrace>w\\<rbrace> y \\<lbrace>z\\<rbrace> \\<Longrightarrow> \\<lbrace>x\\<rbrace> y \\<lbrace>z\\<rbrace>\"", "lemma ht_phl_cons2: \"w \\<le> x \\<Longrightarrow> \\<lbrace>z\\<rbrace> y \\<lbrace>w\\<rbrace> \\<Longrightarrow> \\<lbrace>z\\<rbrace> y \\<lbrace>x\\<rbrace>\"", "lemma ht_phl_seq: \"\\<lbrace>p\\<rbrace> x \\<lbrace>r\\<rbrace> \\<Longrightarrow> \\<lbrace>r\\<rbrace> y \\<lbrace>q\\<rbrace> \\<Longrightarrow> \\<lbrace>p\\<rbrace> x \\<cdot> y \\<lbrace>q\\<rbrace>\"", "lemma ht_phl_cond: \nassumes \"u \\<cdot> v \\<le> v \\<cdot> u \\<cdot> v\" and \"u \\<cdot> w \\<le> w \\<cdot> u \\<cdot> w\" \nand \"\\<And>x y. u \\<cdot> (x + y) \\<le> u \\<cdot> x + u \\<cdot> y\"\nand \"\\<lbrace>u \\<cdot> v\\<rbrace> x \\<lbrace>z\\<rbrace>\" and \"\\<lbrace>u \\<cdot> w\\<rbrace> y \\<lbrace>z\\<rbrace>\" \nshows \"\\<lbrace>u\\<rbrace> (v \\<cdot> x + w \\<cdot> y) \\<lbrace>z\\<rbrace>\"", "lemma  ht_phl_export1: \nassumes \"x \\<cdot> y \\<le> y \\<cdot> x \\<cdot> y\"\nand \"\\<lbrace>x \\<cdot> y\\<rbrace> z \\<lbrace>w\\<rbrace>\"\nshows \"\\<lbrace>x\\<rbrace> y \\<cdot> z \\<lbrace>w\\<rbrace>\"", "lemma ht_phl_export2: \nassumes \"z \\<cdot> w \\<le> w \\<cdot> z \\<cdot> w\"\nand \"\\<lbrace>x\\<rbrace> y \\<lbrace>z\\<rbrace>\"\nshows \"\\<lbrace>x\\<rbrace> y \\<cdot> w \\<lbrace>z \\<cdot> w\\<rbrace>\"", "lemma ht_phl_while:  \nassumes \"p \\<cdot> s \\<le> s \\<cdot> p \\<cdot> s\" and \"p \\<cdot> w \\<le> w \\<cdot> p \\<cdot> w\"\nand  \"\\<lbrace>p \\<cdot> s\\<rbrace> x \\<lbrace>p\\<rbrace>\"\nshows \"\\<lbrace>p\\<rbrace> it (s \\<cdot> x) \\<cdot> w \\<lbrace>p \\<cdot> w\\<rbrace>\""], "translations": [["", "lemma phl_while:  \n  assumes \"p \\<cdot> s \\<le> s \\<cdot> p \\<cdot> s\" and \"p \\<cdot> w \\<le> w \\<cdot> p \\<cdot> w\"\n  and  \"(p \\<cdot> s) \\<cdot> x \\<le> x \\<cdot> p\"\n  shows \"p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)  \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)\n    \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)\n    \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)", "have \"p \\<cdot> s \\<cdot> x \\<le> s \\<cdot> x \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<cdot> s \\<cdot> x \\<le> s \\<cdot> x \\<cdot> p", "by (metis assms(1) assms(3) mult.assoc phl_export1)"], ["proof (state)\nthis:\n  p \\<cdot> s \\<cdot> x \\<le> s \\<cdot> x \\<cdot> p\n\ngoal (1 subgoal):\n 1. p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)\n    \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)", "hence \"p \\<cdot> it (s \\<cdot> x) \\<le> it (s \\<cdot> x) \\<cdot> p\""], ["proof (prove)\nusing this:\n  p \\<cdot> s \\<cdot> x \\<le> s \\<cdot> x \\<cdot> p\n\ngoal (1 subgoal):\n 1. p \\<cdot> it (s \\<cdot> x) \\<le> it (s \\<cdot> x) \\<cdot> p", "by (simp add: it_simr mult.assoc)"], ["proof (state)\nthis:\n  p \\<cdot> it (s \\<cdot> x) \\<le> it (s \\<cdot> x) \\<cdot> p\n\ngoal (1 subgoal):\n 1. p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)\n    \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)", "thus ?thesis"], ["proof (prove)\nusing this:\n  p \\<cdot> it (s \\<cdot> x) \\<le> it (s \\<cdot> x) \\<cdot> p\n\ngoal (1 subgoal):\n 1. p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)\n    \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)", "using assms(2) phl_export2"], ["proof (prove)\nusing this:\n  p \\<cdot> it (s \\<cdot> x) \\<le> it (s \\<cdot> x) \\<cdot> p\n  p \\<cdot> w \\<le> w \\<cdot> p \\<cdot> w\n  \\<lbrakk>?z \\<cdot> ?w \\<le> ?w \\<cdot> ?z \\<cdot> ?w;\n   ?x \\<cdot> ?y \\<le> ?y \\<cdot> ?z\\<rbrakk>\n  \\<Longrightarrow> ?x \\<cdot> (?y \\<cdot> ?w)\n                    \\<le> ?y \\<cdot> ?w \\<cdot> (?z \\<cdot> ?w)\n\ngoal (1 subgoal):\n 1. p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)\n    \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)", "by blast"], ["proof (state)\nthis:\n  p \\<cdot> (it (s \\<cdot> x) \\<cdot> w)\n  \\<le> it (s \\<cdot> x) \\<cdot> w \\<cdot> (p \\<cdot> w)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "text \\<open>Next we define a Hoare triple to make the format of the rules more explicit.\\<close>"], ["", "context pre_dioid_one\nbegin"], ["", "abbreviation (in near_dioid) ht :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a \\<Rightarrow> bool\" (\"\\<lbrace>_\\<rbrace>_\\<lbrace>_\\<rbrace>\") where\n  \"\\<lbrace>x\\<rbrace> y \\<lbrace>z\\<rbrace> \\<equiv> x \\<cdot> y \\<le> y \\<cdot> z\""], ["", "lemma ht_phl_skip: \"\\<lbrace>x\\<rbrace> 1 \\<lbrace>x\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace>x\\<rbrace>1::'a\\<lbrace>x\\<rbrace>", "by simp"], ["", "lemma ht_phl_cons1: \"x \\<le> w \\<Longrightarrow> \\<lbrace>w\\<rbrace> y \\<lbrace>z\\<rbrace> \\<Longrightarrow> \\<lbrace>x\\<rbrace> y \\<lbrace>z\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> w; \\<lbrace>w\\<rbrace>y\\<lbrace>z\\<rbrace>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrace>x\\<rbrace>y\\<lbrace>z\\<rbrace>", "by (fact phl_cons1)"], ["", "lemma ht_phl_cons2: \"w \\<le> x \\<Longrightarrow> \\<lbrace>z\\<rbrace> y \\<lbrace>w\\<rbrace> \\<Longrightarrow> \\<lbrace>z\\<rbrace> y \\<lbrace>x\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>w \\<le> x; \\<lbrace>z\\<rbrace>y\\<lbrace>w\\<rbrace>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrace>z\\<rbrace>y\\<lbrace>x\\<rbrace>", "by (fact phl_cons2)"], ["", "lemma ht_phl_seq: \"\\<lbrace>p\\<rbrace> x \\<lbrace>r\\<rbrace> \\<Longrightarrow> \\<lbrace>r\\<rbrace> y \\<lbrace>q\\<rbrace> \\<Longrightarrow> \\<lbrace>p\\<rbrace> x \\<cdot> y \\<lbrace>q\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrace>p\\<rbrace>x\\<lbrace>r\\<rbrace>;\n     \\<lbrace>r\\<rbrace>y\\<lbrace>q\\<rbrace>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrace>p\\<rbrace>x \\<cdot> y\\<lbrace>q\\<rbrace>", "by (fact phl_seq)"], ["", "lemma ht_phl_cond: \nassumes \"u \\<cdot> v \\<le> v \\<cdot> u \\<cdot> v\" and \"u \\<cdot> w \\<le> w \\<cdot> u \\<cdot> w\" \nand \"\\<And>x y. u \\<cdot> (x + y) \\<le> u \\<cdot> x + u \\<cdot> y\"\nand \"\\<lbrace>u \\<cdot> v\\<rbrace> x \\<lbrace>z\\<rbrace>\" and \"\\<lbrace>u \\<cdot> w\\<rbrace> y \\<lbrace>z\\<rbrace>\" \nshows \"\\<lbrace>u\\<rbrace> (v \\<cdot> x + w \\<cdot> y) \\<lbrace>z\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace>u\\<rbrace>v \\<cdot> x + w \\<cdot> y\\<lbrace>z\\<rbrace>", "using assms"], ["proof (prove)\nusing this:\n  u \\<cdot> v \\<le> v \\<cdot> u \\<cdot> v\n  u \\<cdot> w \\<le> w \\<cdot> u \\<cdot> w\n  u \\<cdot> (?x + ?y) \\<le> u \\<cdot> ?x + u \\<cdot> ?y\n  \\<lbrace>u \\<cdot> v\\<rbrace>x\\<lbrace>z\\<rbrace>\n  \\<lbrace>u \\<cdot> w\\<rbrace>y\\<lbrace>z\\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrace>u\\<rbrace>v \\<cdot> x + w \\<cdot> y\\<lbrace>z\\<rbrace>", "by (fact phl_cond)"], ["", "lemma  ht_phl_export1: \nassumes \"x \\<cdot> y \\<le> y \\<cdot> x \\<cdot> y\"\nand \"\\<lbrace>x \\<cdot> y\\<rbrace> z \\<lbrace>w\\<rbrace>\"\nshows \"\\<lbrace>x\\<rbrace> y \\<cdot> z \\<lbrace>w\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace>x\\<rbrace>y \\<cdot> z\\<lbrace>w\\<rbrace>", "using assms"], ["proof (prove)\nusing this:\n  x \\<cdot> y \\<le> y \\<cdot> x \\<cdot> y\n  \\<lbrace>x \\<cdot> y\\<rbrace>z\\<lbrace>w\\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrace>x\\<rbrace>y \\<cdot> z\\<lbrace>w\\<rbrace>", "by (fact phl_export1)"], ["", "lemma ht_phl_export2: \nassumes \"z \\<cdot> w \\<le> w \\<cdot> z \\<cdot> w\"\nand \"\\<lbrace>x\\<rbrace> y \\<lbrace>z\\<rbrace>\"\nshows \"\\<lbrace>x\\<rbrace> y \\<cdot> w \\<lbrace>z \\<cdot> w\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace>x\\<rbrace>y \\<cdot> w\\<lbrace>z \\<cdot> w\\<rbrace>", "using assms"], ["proof (prove)\nusing this:\n  z \\<cdot> w \\<le> w \\<cdot> z \\<cdot> w\n  \\<lbrace>x\\<rbrace>y\\<lbrace>z\\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrace>x\\<rbrace>y \\<cdot> w\\<lbrace>z \\<cdot> w\\<rbrace>", "by (fact phl_export2)"], ["", "end"], ["", "context it_pre_dioid begin"], ["", "lemma ht_phl_while:  \nassumes \"p \\<cdot> s \\<le> s \\<cdot> p \\<cdot> s\" and \"p \\<cdot> w \\<le> w \\<cdot> p \\<cdot> w\"\nand  \"\\<lbrace>p \\<cdot> s\\<rbrace> x \\<lbrace>p\\<rbrace>\"\nshows \"\\<lbrace>p\\<rbrace> it (s \\<cdot> x) \\<cdot> w \\<lbrace>p \\<cdot> w\\<rbrace>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrace>p\\<rbrace>it (s \\<cdot> x) \\<cdot>\n                       w\\<lbrace>p \\<cdot> w\\<rbrace>", "using assms"], ["proof (prove)\nusing this:\n  p \\<cdot> s \\<le> s \\<cdot> p \\<cdot> s\n  p \\<cdot> w \\<le> w \\<cdot> p \\<cdot> w\n  \\<lbrace>p \\<cdot> s\\<rbrace>x\\<lbrace>p\\<rbrace>\n\ngoal (1 subgoal):\n 1. \\<lbrace>p\\<rbrace>it (s \\<cdot> x) \\<cdot>\n                       w\\<lbrace>p \\<cdot> w\\<rbrace>", "by (fact phl_while)"], ["", "end"], ["", "sublocale pre_conway < phl: it_pre_dioid where it = dagger"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.it_pre_dioid (+) (\\<cdot>) (1::'a) (\\<le>) (<) dagger", "by standard (simp add: local.dagger_simr)"], ["", "sublocale kleene_algebra < phl: it_pre_dioid where it = star"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.it_pre_dioid (+) (\\<cdot>) (1::'a) (\\<le>) (<) star", ".."], ["", "end"]]}