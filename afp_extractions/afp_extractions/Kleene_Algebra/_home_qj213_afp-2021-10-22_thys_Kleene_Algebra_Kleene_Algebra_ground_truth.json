{"file_name": "/home/qj213/afp-2021-10-22/thys/Kleene_Algebra/Kleene_Algebra.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Kleene_Algebra", "problem_names": ["lemma star_ref [simp]: \"1 \\<le> x\\<^sup>\\<star>\"", "lemma star_plus_one [simp]: \"1 + x\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma star_1l [simp]: \"x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\"", "lemma \"x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\"", "lemma \"x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma star_trans_eq [simp]: \"x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma star_trans: \"x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\"", "lemma star_inductl_var: \"x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y\"", "lemma star_inductl_var_equiv [simp]: \"x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<longleftrightarrow> x \\<cdot> y \\<le> y\"", "lemma star_inductl_var_eq:  \"x \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y\"", "lemma star_inductl_var_eq2: \"y = x \\<cdot> y \\<Longrightarrow> y = x\\<^sup>\\<star> \\<cdot> y\"", "lemma \"y = x \\<cdot> y \\<longleftrightarrow> y = x\\<^sup>\\<star> \\<cdot> y\"", "lemma \"x\\<^sup>\\<star> \\<cdot> z \\<le> y \\<Longrightarrow> z + x \\<cdot> y \\<le> y\"", "lemma star_inductl_one: \"1 + x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\"", "lemma star_inductl_star: \"x \\<cdot> y\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star>\"", "lemma star_inductl_eq:  \"z + x \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> z \\<le> y\"", "lemma star_subid: \"x \\<le> 1 \\<Longrightarrow> x\\<^sup>\\<star> = 1\"", "lemma star_one [simp]: \"1\\<^sup>\\<star> = 1\"", "lemma star_subdist:  \"x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\"", "lemma star_subdist_var:  \"x\\<^sup>\\<star> + y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\"", "lemma star_iso [intro]: \"x \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star>\"", "lemma star_invol [simp]: \"(x\\<^sup>\\<star>)\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma star2 [simp]: \"(1 + x)\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\"", "lemma \"x \\<le> x\\<^sup>\\<star>\"", "lemma \"x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\"", "lemma \"1 + x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma \"x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>\"", "lemma prod_star_closure: \"x \\<le> z\\<^sup>\\<star> \\<Longrightarrow> y \\<le> z\\<^sup>\\<star> \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>\"", "lemma star_star_closure: \"x\\<^sup>\\<star> \\<le> z\\<^sup>\\<star> \\<Longrightarrow> (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> z\\<^sup>\\<star>\"", "lemma star_closed_unfold: \"x\\<^sup>\\<star> = x \\<Longrightarrow> x = 1 + x \\<cdot> x\"", "lemma \"x\\<^sup>\\<star> = x \\<longleftrightarrow> x = 1 + x \\<cdot> x\"", "lemma star_ext [simp]: \"x \\<le> x\\<^sup>\\<star>\"", "lemma star_1r [simp]: \"x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\"", "lemma star_unfoldr: \"1 + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\"", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\"", "lemma star_sim1: \"x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>\"", "lemma quasicomm_var: \"y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<longleftrightarrow> y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\"", "lemma star_slide1: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\"", "lemma \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x = x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\"", "lemma star_slide_var1: \"x\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> x\\<^sup>\\<star>\"", "lemma star_unfoldl_eq [simp]: \"1 + x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\"", "lemma star_rtc1_eq [simp]: \"1 + x + x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma star_rtc1: \"1 + x + x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\"", "lemma star_rtc2: \"1 + x \\<cdot> x \\<le> x \\<longleftrightarrow> x = x\\<^sup>\\<star>\"", "lemma star_rtc3: \"1 + x \\<cdot> x = x \\<longleftrightarrow> x = x\\<^sup>\\<star>\"", "lemma star_rtc_least: \"1 + x + y \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\"", "lemma star_rtc_least_eq: \"1 + x + y \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\"", "lemma \"1 + x + y \\<cdot> y \\<le> y \\<longleftrightarrow> x\\<^sup>\\<star> \\<le> y\"", "lemma star_subdist_var_1: \"x \\<le> (x + y)\\<^sup>\\<star>\"", "lemma star_subdist_var_2: \"x \\<cdot> y \\<le> (x + y)\\<^sup>\\<star>\"", "lemma star_subdist_var_3: \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\"", "lemma star_denest [simp]: \"(x + y)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\"", "lemma star_sum_var [simp]: \"(x\\<^sup>\\<star> + y\\<^sup>\\<star>)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\"", "lemma star_denest_var [simp]: \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\"", "lemma star_denest_var_2 [simp]: \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\"", "lemma star_denest_var_3 [simp]: \"x\\<^sup>\\<star> \\<cdot> (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\"", "lemma star_denest_var_4 [ac_simps]: \"(y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\"", "lemma star_denest_var_5 [ac_simps]: \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = y\\<^sup>\\<star> \\<cdot> (x \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\"", "lemma \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\"", "lemma star_denest_var_6 [simp]: \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x + y)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\"", "lemma star_denest_var_7 [simp]: \"(x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\"", "lemma star_denest_var_8 [simp]: \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\"", "lemma star_denest_var_9 [simp]: \"(x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\"", "lemma confluence_var [iff]: \"y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<longleftrightarrow> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma church_rosser [intro]: \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma church_rosser_var: \"y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma church_rosser_to_confluence: \"(x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma church_rosser_equiv: \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<longleftrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma confluence_to_local_confluence: \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> y \\<cdot> x \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma \"y \\<cdot> x \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma \"y \\<cdot> x \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma sup_id_star1: \"1 \\<le> x \\<Longrightarrow> x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma sup_id_star2: \"1 \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\"", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\"", "lemma \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x = x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\"", "lemma \"x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> = 1 + x\"", "lemma star_unfoldr_eq [simp]: \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\"", "lemma star_prod_unfold [simp]: \"1 + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y = (x \\<cdot> y)\\<^sup>\\<star>\"", "lemma star_slide [ac_simps]: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x = x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\"", "lemma star_slide_var [ac_simps]: \"x\\<^sup>\\<star> \\<cdot> x = x \\<cdot> x\\<^sup>\\<star>\"", "lemma star_sum_unfold_var [simp]: \"1 + x\\<^sup>\\<star> \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\"", "lemma star_sum_unfold [simp]: \"x\\<^sup>\\<star> + x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\"", "lemma troeger: \"(x + y)\\<^sup>\\<star> \\<cdot> z = x\\<^sup>\\<star> \\<cdot> (y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z + z)\"", "lemma star_square: \"(x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\"", "lemma meyer_1 [simp]: \"(1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> = x\\<^sup>\\<star>\"", "lemma tc: \"x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x\"", "lemma tc_eq: \"x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x\"", "lemma boffa_var: \"x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> = 1 + x\"", "lemma boffa: \"x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> = 1 + x\"", "lemma star_zero [simp]: \"0\\<^sup>\\<star> = 1\"", "lemma star_sim2: \"z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z\"", "lemma star_inductr_var: \"y \\<cdot> x \\<le> y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y\"", "lemma star_inductr_var_equiv: \"y \\<cdot> x \\<le> y \\<longleftrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y\"", "lemma star_sim3: \"z \\<cdot> x = y \\<cdot> z \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> = y\\<^sup>\\<star> \\<cdot> z\"", "lemma star_sim4: \"x \\<cdot> y \\<le>  y \\<cdot> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\"", "lemma star_inductr_eq: \"z + y \\<cdot> x = y \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\"", "lemma star_inductr_var_eq: \"y \\<cdot> x = y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y\"", "lemma star_inductr_var_eq2: \"y \\<cdot> x = y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> = y\"", "lemma bubble_sort: \"y \\<cdot> x \\<le> x \\<cdot> y \\<Longrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma independence1: \"x \\<cdot> y = 0 \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y = y\"", "lemma independence2: \"x \\<cdot> y = 0 \\<Longrightarrow> x \\<cdot> y\\<^sup>\\<star> = x\"", "lemma lazycomm_var: \"y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<longleftrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\"", "lemma arden_var: \"(\\<forall>y v. y \\<le> x \\<cdot> y + v \\<longrightarrow> y \\<le> x\\<^sup>\\<star> \\<cdot> v) \\<Longrightarrow> z = x \\<cdot> z + w \\<Longrightarrow> z = x\\<^sup>\\<star> \\<cdot> w\"", "lemma \"(\\<forall>x y. y \\<le> x \\<cdot> y \\<longrightarrow> y = 0) \\<Longrightarrow> y \\<le> x \\<cdot> y + z \\<Longrightarrow> y \\<le> x\\<^sup>\\<star> \\<cdot> z\"", "lemma dual_kleene_algebra:\n  \"class.kleene_algebra (+) (\\<odot>) 1 0 (\\<le>) (<) star\"", "lemma conway_c3 [simp]: \"(x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma conway_c4: \"(x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> = 1 + x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> y\"", "lemma cka_1: \"(x \\<cdot> y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma cka_2 [simp]: \"x\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma conway_c4_var [simp]: \"(x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma conway_c2_var: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star> \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\"", "lemma conway_c2 [simp]: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>) = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], "translations": [["", "lemma star_ref [simp]: \"1 \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x\\<^sup>\\<star>", "using star_unfoldl"], ["proof (prove)\nusing this:\n  (1::'a) + ?x \\<cdot> ?x\\<^sup>\\<star> \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x\\<^sup>\\<star>", "by auto"], ["", "text \\<open>Reflexivity of starred elements implies, by definition of the\norder, that~$1$ is an additive unit for starred elements.\\<close>"], ["", "lemma star_plus_one [simp]: \"1 + x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> = x\\<^sup>\\<star>", "using less_eq_def star_ref"], ["proof (prove)\nusing this:\n  (?x \\<le> ?y) = (?x + ?y = ?y)\n  (1::'a) \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> = x\\<^sup>\\<star>", "by blast"], ["", "lemma star_1l [simp]: \"x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "using star_unfoldl"], ["proof (prove)\nusing this:\n  (1::'a) + ?x \\<cdot> ?x\\<^sup>\\<star> \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by auto"], ["", "lemma \"x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "oops"], ["", "lemma \"x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "oops"], ["", "text \\<open>Next we show that starred elements are transitive.\\<close>"], ["", "lemma star_trans_eq [simp]: \"x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "proof (rule antisym) \\<comment> \\<open>this splits an equation into two inequalities\\<close>"], ["proof (state)\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "have \"x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by auto"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "thus \"x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (simp add: star_inductl)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "show \"x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "using mult_isor star_ref"], ["proof (prove)\nusing this:\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<cdot> ?z \\<le> ?y \\<cdot> ?z\n  (1::'a) \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "by fastforce"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_trans: \"x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by simp"], ["", "text \\<open>We now derive variants of the star induction axiom.\\<close>"], ["", "lemma star_inductl_var: \"x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y", "assume \"x \\<cdot> y \\<le> y\""], ["proof (state)\nthis:\n  x \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y", "hence \"y + x \\<cdot> y \\<le> y\""], ["proof (prove)\nusing this:\n  x \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. y + x \\<cdot> y \\<le> y", "by simp"], ["proof (state)\nthis:\n  y + x \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y", "thus \"x\\<^sup>\\<star> \\<cdot> y \\<le> y\""], ["proof (prove)\nusing this:\n  y + x \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y", "by (simp add: star_inductl)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y \\<le> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_inductl_var_equiv [simp]: \"x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<longleftrightarrow> x \\<cdot> y \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y \\<le> y) = (x \\<cdot> y \\<le> y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y\n 2. x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y", "assume \"x \\<cdot> y \\<le> y\""], ["proof (state)\nthis:\n  x \\<cdot> y \\<le> y\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y\n 2. x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y", "thus \"x\\<^sup>\\<star> \\<cdot> y \\<le> y\""], ["proof (prove)\nusing this:\n  x \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y", "by (simp add: star_inductl_var)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "assume \"x\\<^sup>\\<star> \\<cdot> y \\<le> y\""], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "hence  \"x\\<^sup>\\<star> \\<cdot> y = y\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y = y", "by (metis eq_iff mult_1_left mult_isor star_ref)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y = y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "moreover"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y = y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "hence \"x \\<cdot> y = x \\<cdot> x\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> y = y\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = x \\<cdot> x\\<^sup>\\<star> \\<cdot> y", "by (simp add: mult.assoc)"], ["proof (state)\nthis:\n  x \\<cdot> y = x \\<cdot> x\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "moreover"], ["proof (state)\nthis:\n  x \\<cdot> y = x \\<cdot> x\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "have \"... \\<le> x\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x\\<^sup>\\<star> \\<cdot> y \\<le> x\\<^sup>\\<star> \\<cdot> y", "by (metis mult_isor star_1l)"], ["proof (state)\nthis:\n  x \\<cdot> x\\<^sup>\\<star> \\<cdot> y \\<le> x\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y \\<le> y \\<Longrightarrow> x \\<cdot> y \\<le> y", "ultimately"], ["proof (chain)\npicking this:\n  x\\<^sup>\\<star> \\<cdot> y = y\n  x \\<cdot> y = x \\<cdot> x\\<^sup>\\<star> \\<cdot> y\n  x \\<cdot> x\\<^sup>\\<star> \\<cdot> y \\<le> x\\<^sup>\\<star> \\<cdot> y", "show \"x \\<cdot> y \\<le> y\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> y = y\n  x \\<cdot> y = x \\<cdot> x\\<^sup>\\<star> \\<cdot> y\n  x \\<cdot> x\\<^sup>\\<star> \\<cdot> y \\<le> x\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> y", "by auto"], ["proof (state)\nthis:\n  x \\<cdot> y \\<le> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_inductl_var_eq:  \"x \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y \\<le> y", "by (metis eq_iff star_inductl_var)"], ["", "lemma star_inductl_var_eq2: \"y = x \\<cdot> y \\<Longrightarrow> y = x\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = x \\<cdot> y \\<Longrightarrow> y = x\\<^sup>\\<star> \\<cdot> y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. y = x \\<cdot> y \\<Longrightarrow> y = x\\<^sup>\\<star> \\<cdot> y", "assume hyp: \"y = x \\<cdot> y\""], ["proof (state)\nthis:\n  y = x \\<cdot> y\n\ngoal (1 subgoal):\n 1. y = x \\<cdot> y \\<Longrightarrow> y = x\\<^sup>\\<star> \\<cdot> y", "hence \"y \\<le> x\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\nusing this:\n  y = x \\<cdot> y\n\ngoal (1 subgoal):\n 1. y \\<le> x\\<^sup>\\<star> \\<cdot> y", "using mult_isor star_ref"], ["proof (prove)\nusing this:\n  y = x \\<cdot> y\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<cdot> ?z \\<le> ?y \\<cdot> ?z\n  (1::'a) \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y \\<le> x\\<^sup>\\<star> \\<cdot> y", "by fastforce"], ["proof (state)\nthis:\n  y \\<le> x\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. y = x \\<cdot> y \\<Longrightarrow> y = x\\<^sup>\\<star> \\<cdot> y", "thus \"y = x\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\nusing this:\n  y \\<le> x\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. y = x\\<^sup>\\<star> \\<cdot> y", "using hyp eq_iff"], ["proof (prove)\nusing this:\n  y \\<le> x\\<^sup>\\<star> \\<cdot> y\n  y = x \\<cdot> y\n  (?x = ?y) = (?x \\<le> ?y \\<and> ?y \\<le> ?x)\n\ngoal (1 subgoal):\n 1. y = x\\<^sup>\\<star> \\<cdot> y", "by auto"], ["proof (state)\nthis:\n  y = x\\<^sup>\\<star> \\<cdot> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \"y = x \\<cdot> y \\<longleftrightarrow> y = x\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y = x \\<cdot> y) = (y = x\\<^sup>\\<star> \\<cdot> y)", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (y = x \\<cdot> y) = (y = x\\<^sup>\\<star> \\<cdot> y)", "oops"], ["", "lemma \"x\\<^sup>\\<star> \\<cdot> z \\<le> y \\<Longrightarrow> z + x \\<cdot> y \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> z \\<le> y \\<Longrightarrow>\n    z + x \\<cdot> y \\<le> y", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> z \\<le> y \\<Longrightarrow>\n    z + x \\<cdot> y \\<le> y", "oops"], ["", "lemma star_inductl_one: \"1 + x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y", "using star_inductl"], ["proof (prove)\nusing this:\n  ?z + ?x \\<cdot> ?y \\<le> ?y \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<cdot> ?z \\<le> ?y\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y", "by force"], ["", "lemma star_inductl_star: \"x \\<cdot> y\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star>", "by (simp add: star_inductl_one)"], ["", "lemma star_inductl_eq:  \"z + x \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> z \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z + x \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> z \\<le> y", "by (simp add: star_inductl)"], ["", "text \\<open>We now prove two facts related to~$1$.\\<close>"], ["", "lemma star_subid: \"x \\<le> 1 \\<Longrightarrow> x\\<^sup>\\<star> = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> (1::'a) \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<le> (1::'a) \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a)", "assume \"x \\<le> 1\""], ["proof (state)\nthis:\n  x \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. x \\<le> (1::'a) \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a)", "hence \"1 + x \\<cdot> 1 \\<le> 1\""], ["proof (prove)\nusing this:\n  x \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> (1::'a) \\<le> (1::'a)", "by simp"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> (1::'a) \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. x \\<le> (1::'a) \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a)", "hence \"x\\<^sup>\\<star> \\<le> 1\""], ["proof (prove)\nusing this:\n  (1::'a) + x \\<cdot> (1::'a) \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a)", "by (metis mult_oner star_inductl)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. x \\<le> (1::'a) \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a)", "thus \"x\\<^sup>\\<star> = 1\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> = (1::'a)", "by (simp add: order.antisym)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> = (1::'a)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_one [simp]: \"1\\<^sup>\\<star> = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a)\\<^sup>\\<star> = (1::'a)", "by (simp add: star_subid)"], ["", "text \\<open>We now prove a subdistributivity property for the star (which\nis equivalent to isotonicity of star).\\<close>"], ["", "lemma star_subdist:  \"x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "have \"x \\<cdot> (x + y)\\<^sup>\\<star> \\<le> (x + y) \\<cdot> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x + y)\\<^sup>\\<star>\n    \\<le> (x + y) \\<cdot> (x + y)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  x \\<cdot> (x + y)\\<^sup>\\<star>\n  \\<le> (x + y) \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  x \\<cdot> (x + y)\\<^sup>\\<star>\n  \\<le> (x + y) \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "have \"...  \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by (metis star_1l)"], ["proof (state)\nthis:\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "thus ?thesis"], ["proof (prove)\nusing this:\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "using calculation order_trans star_inductl_star"], ["proof (prove)\nusing this:\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n  x \\<cdot> (x + y)\\<^sup>\\<star>\n  \\<le> (x + y) \\<cdot> (x + y)\\<^sup>\\<star>\n  \\<lbrakk>?x \\<le> ?y; ?y \\<le> ?z\\<rbrakk> \\<Longrightarrow> ?x \\<le> ?z\n  ?x \\<cdot> ?y\\<^sup>\\<star> \\<le> ?y\\<^sup>\\<star> \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<le> ?y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by blast"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_subdist_var:  \"x\\<^sup>\\<star> + y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> + y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "using join.sup_commute star_subdist"], ["proof (prove)\nusing this:\n  ?x + ?y = ?y + ?x\n  ?x\\<^sup>\\<star> \\<le> (?x + ?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> + y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by force"], ["", "lemma star_iso [intro]: \"x \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star>", "by (metis less_eq_def star_subdist)"], ["", "text \\<open>We now prove some more simple properties.\\<close>"], ["", "lemma star_invol [simp]: \"(x\\<^sup>\\<star>)\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star>)\\<^sup>\\<star> = x\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "have \"x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "by (fact star_trans_eq)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "thus \"(x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (simp add: star_inductl_star)"], ["proof (state)\nthis:\n  (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "have\"(x\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (fact star_trans)"], ["proof (state)\nthis:\n  (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "hence \"x \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (meson star_inductl_var_equiv)"], ["proof (state)\nthis:\n  x \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "thus \"x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (simp add: star_inductl_star)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star2 [simp]: \"(1 + x)\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + x)\\<^sup>\\<star> = x\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. ((1::'a) + x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x)\\<^sup>\\<star>", "show \"x\\<^sup>\\<star> \\<le> (1 + x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> ((1::'a) + x)\\<^sup>\\<star>", "by auto"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> ((1::'a) + x)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. ((1::'a) + x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "have \"x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. ((1::'a) + x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "thus \"(1 + x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. ((1::'a) + x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (simp add: star_inductl_star)"], ["proof (state)\nthis:\n  ((1::'a) + x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "oops"], ["", "lemma \"x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> x\\<^sup>\\<star>", "oops"], ["", "lemma \"x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "oops"], ["", "lemma \"1 + x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "oops"], ["", "lemma \"x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "oops"], ["", "text \\<open>The following facts express inductive conditions that are used\nto show that @{term \"(x + y)\\<^sup>\\<star>\"} is the greatest term that can be built\nfrom~@{term x} and~@{term y}.\\<close>"], ["", "lemma prod_star_closure: \"x \\<le> z\\<^sup>\\<star> \\<Longrightarrow> y \\<le> z\\<^sup>\\<star> \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> z\\<^sup>\\<star>; y \\<le> z\\<^sup>\\<star>\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> z\\<^sup>\\<star>; y \\<le> z\\<^sup>\\<star>\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>", "assume assm: \"x \\<le> z\\<^sup>\\<star>\" \"y \\<le> z\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  x \\<le> z\\<^sup>\\<star>\n  y \\<le> z\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> z\\<^sup>\\<star>; y \\<le> z\\<^sup>\\<star>\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>", "hence \"y + z\\<^sup>\\<star> \\<cdot> z\\<^sup>\\<star> \\<le> z\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<le> z\\<^sup>\\<star>\n  y \\<le> z\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y + z\\<^sup>\\<star> \\<cdot> z\\<^sup>\\<star> \\<le> z\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  y + z\\<^sup>\\<star> \\<cdot> z\\<^sup>\\<star> \\<le> z\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> z\\<^sup>\\<star>; y \\<le> z\\<^sup>\\<star>\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>", "hence \"z\\<^sup>\\<star> \\<cdot> y \\<le> z\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  y + z\\<^sup>\\<star> \\<cdot> z\\<^sup>\\<star> \\<le> z\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. z\\<^sup>\\<star> \\<cdot> y \\<le> z\\<^sup>\\<star>", "by (simp add: star_inductl)"], ["proof (state)\nthis:\n  z\\<^sup>\\<star> \\<cdot> y \\<le> z\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> z\\<^sup>\\<star>; y \\<le> z\\<^sup>\\<star>\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  z\\<^sup>\\<star> \\<cdot> y \\<le> z\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> z\\<^sup>\\<star>; y \\<le> z\\<^sup>\\<star>\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>", "have \"x \\<cdot> y \\<le> z\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> z\\<^sup>\\<star> \\<cdot> y", "by (simp add: assm mult_isor)"], ["proof (state)\nthis:\n  x \\<cdot> y \\<le> z\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<le> z\\<^sup>\\<star>; y \\<le> z\\<^sup>\\<star>\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> y \\<le> z\\<^sup>\\<star>", "thus \"x \\<cdot> y \\<le> z\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> y \\<le> z\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> z\\<^sup>\\<star>", "using calculation order.trans"], ["proof (prove)\nusing this:\n  x \\<cdot> y \\<le> z\\<^sup>\\<star> \\<cdot> y\n  z\\<^sup>\\<star> \\<cdot> y \\<le> z\\<^sup>\\<star>\n  \\<lbrakk>?a \\<le> ?b; ?b \\<le> ?c\\<rbrakk> \\<Longrightarrow> ?a \\<le> ?c\n\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> z\\<^sup>\\<star>", "by blast"], ["proof (state)\nthis:\n  x \\<cdot> y \\<le> z\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_star_closure: \"x\\<^sup>\\<star> \\<le> z\\<^sup>\\<star> \\<Longrightarrow> (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> z\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> z\\<^sup>\\<star> \\<Longrightarrow>\n    (x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> z\\<^sup>\\<star>", "by (metis star_invol)"], ["", "lemma star_closed_unfold: \"x\\<^sup>\\<star> = x \\<Longrightarrow> x = 1 + x \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> = x \\<Longrightarrow> x = (1::'a) + x \\<cdot> x", "by (metis star_plus_one star_trans_eq)"], ["", "lemma \"x\\<^sup>\\<star> = x \\<longleftrightarrow> x = 1 + x \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> = x) = (x = (1::'a) + x \\<cdot> x)", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> = x) = (x = (1::'a) + x \\<cdot> x)", "oops"], ["", "end"], ["", "(* left_near_kleene_algebra *)"], ["", "subsection \\<open>Left Pre-Kleene Algebras\\<close>"], ["", "class left_pre_kleene_algebra = left_near_kleene_algebra + pre_dioid_one\n\nbegin"], ["", "text \\<open>We first prove that the star operation is extensive.\\<close>"], ["", "lemma star_ext [simp]: \"x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> x\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<le> x\\<^sup>\\<star>", "have \"x \\<le> x \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> x \\<cdot> x\\<^sup>\\<star>", "by (metis mult_oner mult_isol star_ref)"], ["proof (state)\nthis:\n  x \\<le> x \\<cdot> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<le> x\\<^sup>\\<star>", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<le> x \\<cdot> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<le> x\\<^sup>\\<star>", "by (metis order_trans star_1l)"], ["proof (state)\nthis:\n  x \\<le> x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>We now prove a right star unfold law.\\<close>"], ["", "lemma star_1r [simp]: \"x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "have \"x + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  x + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "thus ?thesis"], ["proof (prove)\nusing this:\n  x + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "by (fact star_inductl)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_unfoldr: \"1 + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "by simp"], ["", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "oops"], ["", "text \\<open>Next we prove a simulation law for the star.  It is\ninstrumental in proving further properties.\\<close>"], ["", "lemma star_sim1: \"x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "assume \"x \\<cdot> z \\<le> z \\<cdot> y\""], ["proof (state)\nthis:\n  x \\<cdot> z \\<le> z \\<cdot> y\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "hence \"x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> z \\<le> z \\<cdot> y\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<cdot> y\\<^sup>\\<star>\n    \\<le> z \\<cdot> y \\<cdot> y\\<^sup>\\<star>", "by (simp add: mult_isor)"], ["proof (state)\nthis:\n  x \\<cdot> z \\<cdot> y\\<^sup>\\<star>\n  \\<le> z \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  x \\<cdot> z \\<cdot> y\\<^sup>\\<star>\n  \\<le> z \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "have \"...  \\<le> z \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<cdot> y \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>", "by (simp add: mult_isol mult_assoc)"], ["proof (state)\nthis:\n  z \\<cdot> y \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "finally"], ["proof (chain)\npicking this:\n  x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>", "have \"x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "hence \"z + x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. z + x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>", "by (metis join.sup_least mult_isol mult_oner star_ref)"], ["proof (state)\nthis:\n  z + x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> z \\<le> z \\<cdot> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "thus \"x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  z + x \\<cdot> z \\<cdot> y\\<^sup>\\<star> \\<le> z \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>", "by (simp add: star_inductl mult_assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> z \\<le> z \\<cdot> y\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The next lemma is used in omega algebras to prove, for\ninstance, Bachmair and Dershowitz's separation of termination\ntheorem~\\cite{bachmair86commutation}. The property at the left-hand\nside of the equivalence is known as \\emph{quasicommutation}.\\<close>"], ["", "lemma quasicomm_var: \"y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<longleftrightarrow> y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>) =\n    (y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<Longrightarrow>\n    y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "assume \"y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<Longrightarrow>\n    y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "thus \"y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "using star_sim1"], ["proof (prove)\nusing this:\n  y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n  ?x \\<cdot> ?z \\<le> ?z \\<cdot> ?y \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<cdot> ?z \\<le> ?z \\<cdot> ?y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "by force"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "assume \"y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "thus \"y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>", "by (meson mult_isor order_trans star_ext)"], ["proof (state)\nthis:\n  y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_slide1: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\n    \\<le> x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "by (simp add: mult_assoc star_sim1)"], ["", "lemma \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x = x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "oops"], ["", "lemma star_slide_var1: \"x\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x \\<cdot> x\\<^sup>\\<star>", "by (simp add: star_sim1)"], ["", "text \\<open>We now show that the (left) star unfold axiom can be strengthened to an equality.\\<close>"], ["", "lemma star_unfoldl_eq [simp]: \"1 + x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. (1::'a) + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>", "show \"1 + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (fact star_unfoldl)"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>", "have \"1 + x \\<cdot> (1 + x \\<cdot> x\\<^sup>\\<star>) \\<le> 1 + x \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> ((1::'a) + x \\<cdot> x\\<^sup>\\<star>)\n    \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>", "by (meson join.sup_mono eq_refl mult_isol star_unfoldl)"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> ((1::'a) + x \\<cdot> x\\<^sup>\\<star>)\n  \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>", "thus \"x\\<^sup>\\<star> \\<le> 1 + x \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) + x \\<cdot> ((1::'a) + x \\<cdot> x\\<^sup>\\<star>)\n  \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>", "by (simp add: star_inductl_one)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> (1::'a) + x \\<cdot> x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "oops"], ["", "text \\<open>Next we relate the star and the reflexive transitive closure\noperation.\\<close>"], ["", "lemma star_rtc1_eq [simp]: \"1 + x + x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x + x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "by (simp add: join.sup.absorb2)"], ["", "lemma star_rtc1: \"1 + x + x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x + x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star>", "by simp"], ["", "lemma star_rtc2: \"1 + x \\<cdot> x \\<le> x \\<longleftrightarrow> x = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + x \\<cdot> x \\<le> x) = (x = x\\<^sup>\\<star>)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (1::'a) + x \\<cdot> x \\<le> x \\<Longrightarrow> x = x\\<^sup>\\<star>\n 2. x = x\\<^sup>\\<star> \\<Longrightarrow> (1::'a) + x \\<cdot> x \\<le> x", "assume \"1 + x \\<cdot> x \\<le> x\""], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> x \\<le> x\n\ngoal (2 subgoals):\n 1. (1::'a) + x \\<cdot> x \\<le> x \\<Longrightarrow> x = x\\<^sup>\\<star>\n 2. x = x\\<^sup>\\<star> \\<Longrightarrow> (1::'a) + x \\<cdot> x \\<le> x", "thus \"x = x\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) + x \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x = x\\<^sup>\\<star>", "by (simp add: local.eq_iff local.star_inductl_one)"], ["proof (state)\nthis:\n  x = x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x = x\\<^sup>\\<star> \\<Longrightarrow> (1::'a) + x \\<cdot> x \\<le> x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x = x\\<^sup>\\<star> \\<Longrightarrow> (1::'a) + x \\<cdot> x \\<le> x", "assume \"x = x\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  x = x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x = x\\<^sup>\\<star> \\<Longrightarrow> (1::'a) + x \\<cdot> x \\<le> x", "thus \"1 + x \\<cdot> x \\<le> x\""], ["proof (prove)\nusing this:\n  x = x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> x \\<le> x", "using local.star_closed_unfold"], ["proof (prove)\nusing this:\n  x = x\\<^sup>\\<star>\n  ?x\\<^sup>\\<star> = ?x \\<Longrightarrow> ?x = (1::'a) + ?x \\<cdot> ?x\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> x \\<le> x", "by auto"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> x \\<le> x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_rtc3: \"1 + x \\<cdot> x = x \\<longleftrightarrow> x = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + x \\<cdot> x = x) = (x = x\\<^sup>\\<star>)", "by (metis order_refl star_plus_one star_rtc2 star_trans_eq)"], ["", "lemma star_rtc_least: \"1 + x + y \\<cdot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x + y \\<cdot> y \\<le> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<le> y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) + x + y \\<cdot> y \\<le> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<le> y", "assume \"1 + x + y \\<cdot> y \\<le> y\""], ["proof (state)\nthis:\n  (1::'a) + x + y \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. (1::'a) + x + y \\<cdot> y \\<le> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<le> y", "hence \"1 + x \\<cdot> y \\<le> y\""], ["proof (prove)\nusing this:\n  (1::'a) + x + y \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> y \\<le> y", "by (metis join.le_sup_iff mult_isol_var star_trans_eq star_rtc2)"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. (1::'a) + x + y \\<cdot> y \\<le> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<le> y", "thus \"x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\nusing this:\n  (1::'a) + x \\<cdot> y \\<le> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> y", "by (simp add: star_inductl_one)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_rtc_least_eq: \"1 + x + y \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x + y \\<cdot> y = y \\<Longrightarrow> x\\<^sup>\\<star> \\<le> y", "by (simp add: star_rtc_least)"], ["", "lemma \"1 + x + y \\<cdot> y \\<le> y \\<longleftrightarrow> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + x + y \\<cdot> y \\<le> y) = (x\\<^sup>\\<star> \\<le> y)", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + x + y \\<cdot> y \\<le> y) = (x\\<^sup>\\<star> \\<le> y)", "oops"], ["", "text \\<open>The next lemmas are again related to closure conditions\\<close>"], ["", "lemma star_subdist_var_1: \"x \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> (x + y)\\<^sup>\\<star>", "by (meson join.sup.boundedE star_ext)"], ["", "lemma star_subdist_var_2: \"x \\<cdot> y \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> (x + y)\\<^sup>\\<star>", "by (meson join.sup.boundedE prod_star_closure star_ext)"], ["", "lemma star_subdist_var_3: \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by (simp add: prod_star_closure star_iso)"], ["", "text \\<open>We now prove variants of sum-elimination laws under a star.\nThese are also known a denesting laws or as sum-star laws.\\<close>"], ["", "lemma star_denest [simp]: \"(x + y)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n 2. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "have \"x + y \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + y \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis join.sup.bounded_iff mult_1_right mult_isol_var mult_onel star_ref star_ext)"], ["proof (state)\nthis:\n  x + y \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n 2. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "thus \"(x + y)\\<^sup>\\<star> \\<le> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x + y \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by (fact star_iso)"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star>\n  \\<le> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "have \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by (fact star_subdist_var_3)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "thus \"(x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "by (simp add: prod_star_closure star_inductl_star)"], ["proof (state)\nthis:\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_sum_var [simp]: \"(x\\<^sup>\\<star> + y\\<^sup>\\<star>)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "by simp"], ["", "lemma star_denest_var [simp]: \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "have \"1 \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a)\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (metis mult_isol_var mult_oner star_ref)"], ["proof (state)\nthis:\n  (1::'a)\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "moreover"], ["proof (state)\nthis:\n  (1::'a)\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "have \"x \\<cdot> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x\\<^sup>\\<star> \\<cdot>\n    (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (simp add: mult_isor)"], ["proof (state)\nthis:\n  x \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "moreover"], ["proof (state)\nthis:\n  x \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "have \"y \\<cdot> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n    (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (metis mult_isol_var mult_onel star_1l star_ref)"], ["proof (state)\nthis:\n  y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "ultimately"], ["proof (chain)\npicking this:\n  (1::'a)\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  x \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "have \"1 + (x + y) \\<cdot> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a)\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  x \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) +\n    (x + y) \\<cdot> x\\<^sup>\\<star> \\<cdot>\n    (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "by auto"], ["proof (state)\nthis:\n  (1::'a) +\n  (x + y) \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "thus \"(x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) +\n  (x + y) \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (metis mult.assoc mult_oner star_inductl)"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "have \"(y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "by (simp add: mult_isol_var star_iso)"], ["proof (state)\nthis:\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "hence \"(y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by (metis add.commute star_denest)"], ["proof (state)\nthis:\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "moreover"], ["proof (state)\nthis:\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "have \"x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by (fact star_subdist)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "ultimately"], ["proof (chain)\npicking this:\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n  x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "show \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n  x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "using prod_star_closure"], ["proof (prove)\nusing this:\n  (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n  x\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n  \\<lbrakk>?x \\<le> ?z\\<^sup>\\<star>; ?y \\<le> ?z\\<^sup>\\<star>\\<rbrakk>\n  \\<Longrightarrow> ?x \\<cdot> ?y \\<le> ?z\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "by blast"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_denest_var_2 [simp]: \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by simp"], ["", "lemma star_denest_var_3 [simp]: \"x\\<^sup>\\<star> \\<cdot> (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot>\n    (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by simp"], ["", "lemma star_denest_var_4 [ac_simps]: \"(y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by (metis add_comm star_denest)"], ["", "lemma star_denest_var_5 [ac_simps]: \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = y\\<^sup>\\<star> \\<cdot> (x \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    y\\<^sup>\\<star> \\<cdot> (x \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by (simp add: star_denest_var_4)"], ["", "lemma \"x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "oops"], ["", "lemma star_denest_var_6 [simp]: \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x + y)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "using mult_assoc"], ["proof (prove)\nusing this:\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "by simp"], ["", "lemma star_denest_var_7 [simp]: \"(x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "have \"(x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by (simp add: mult_assoc)"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>\n 2. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "thus \"(x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "have \"1 \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a)\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "by (metis dual_order.trans mult_1_left mult_isor star_ref)"], ["proof (state)\nthis:\n  (1::'a)\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "moreover"], ["proof (state)\nthis:\n  (1::'a)\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "have \"(x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n    y\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "using mult_isor star_1l"], ["proof (prove)\nusing this:\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<cdot> ?z \\<le> ?y \\<cdot> ?z\n  ?x \\<cdot> ?x\\<^sup>\\<star> \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n    y\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "by presburger"], ["proof (state)\nthis:\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "ultimately"], ["proof (chain)\npicking this:\n  (1::'a)\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>", "have \"1 + (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a)\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) +\n    (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n    y\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (1::'a) +\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "thus \"(x + y)\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) +\n  (x + y) \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n  y\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "by (metis mult.assoc star_inductl_one)"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star>\n  \\<le> (x + y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_denest_var_8 [simp]: \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by (simp add: mult_assoc)"], ["", "lemma star_denest_var_9 [simp]: \"(x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> = (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot>\n    x\\<^sup>\\<star> \\<cdot>\n    y\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "using star_denest_var_7"], ["proof (prove)\nusing this:\n  (?x + ?y)\\<^sup>\\<star> \\<cdot> ?x\\<^sup>\\<star> \\<cdot>\n  ?y\\<^sup>\\<star> =\n  (?x + ?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> \\<cdot>\n    x\\<^sup>\\<star> \\<cdot>\n    y\\<^sup>\\<star> =\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>", "by simp"], ["", "text \\<open>The following statements are well known from term\nrewriting. They are all variants of the Church-Rosser theorem in\nKleene algebra~\\cite{struth06churchrosser}. But first we prove a law\nrelating two confluence properties.\\<close>"], ["", "lemma confluence_var [iff]: \"y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<longleftrightarrow> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<cdot> x\\<^sup>\\<star>\n     \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>) =\n    (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n     \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "assume \"y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "thus \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "using star_sim1"], ["proof (prove)\nusing this:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n  ?x \\<cdot> ?z \\<le> ?z \\<cdot> ?y \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<cdot> ?z \\<le> ?z \\<cdot> ?y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by fastforce"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "assume \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "thus \"y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (meson mult_isor order_trans star_ext)"], ["proof (state)\nthis:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma church_rosser [intro]: \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "assume \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "hence \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>) \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n    \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star> \\<cdot>\n          y\\<^sup>\\<star>", "by (metis mult_isol mult_isor mult.assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "hence \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>) \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star> \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (simp add: mult_assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "moreover"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "have \"1 \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis dual_order.trans mult_1_right mult_isol star_ref)"], ["proof (state)\nthis:\n  (1::'a) \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "ultimately"], ["proof (chain)\npicking this:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n  (1::'a) \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "have \"1 + x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>) \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n  (1::'a) \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) +\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (1::'a) +\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "hence \"(x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) +\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (simp add: star_inductl_one)"], ["proof (state)\nthis:\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "thus \"(x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star>\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "thus \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x + y)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma church_rosser_var: \"y \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by fastforce"], ["", "lemma church_rosser_to_confluence: \"(x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis add_comm eq_iff star_subdist_var_3)"], ["", "lemma church_rosser_equiv: \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<longleftrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n     \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>) =\n    ((x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)", "using church_rosser_to_confluence eq_iff"], ["proof (prove)\nusing this:\n  (?x + ?y)\\<^sup>\\<star>\n  \\<le> ?x\\<^sup>\\<star> \\<cdot> ?y\\<^sup>\\<star> \\<Longrightarrow>\n  ?y\\<^sup>\\<star> \\<cdot> ?x\\<^sup>\\<star>\n  \\<le> ?x\\<^sup>\\<star> \\<cdot> ?y\\<^sup>\\<star>\n  (?x = ?y) = (?x \\<le> ?y \\<and> ?y \\<le> ?x)\n\ngoal (1 subgoal):\n 1. (y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n     \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>) =\n    ((x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)", "by blast"], ["", "lemma confluence_to_local_confluence: \"y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> y \\<cdot> x \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y \\<cdot> x \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (meson mult_isol_var order_trans star_ext)"], ["", "lemma \"y \\<cdot> x \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "oops"], ["", "lemma \"y \\<cdot> x \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow> (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "(* nitpick [expect=genuine] *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "oops"], ["", "text \\<open>\nMore variations could easily be proved. The last counterexample shows\nthat Newman's lemma needs a wellfoundedness assumption. This is well\nknown.\n\\<close>"], ["", "text \\<open>The next lemmas relate the reflexive transitive closure and\nthe transitive closure.\\<close>"], ["", "lemma sup_id_star1: \"1 \\<le> x \\<Longrightarrow> x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x \\<Longrightarrow>\n    x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x \\<Longrightarrow>\n    x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "assume \"1 \\<le> x\""], ["proof (state)\nthis:\n  (1::'a) \\<le> x\n\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x \\<Longrightarrow>\n    x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "hence \" x\\<^sup>\\<star> \\<le> x \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) \\<le> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> x \\<cdot> x\\<^sup>\\<star>", "using mult_isor"], ["proof (prove)\nusing this:\n  (1::'a) \\<le> x\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<cdot> ?z \\<le> ?y \\<cdot> ?z\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> x \\<cdot> x\\<^sup>\\<star>", "by fastforce"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> x \\<cdot> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x \\<Longrightarrow>\n    x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "thus \"x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<le> x \\<cdot> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>", "by (simp add: eq_iff)"], ["proof (state)\nthis:\n  x \\<cdot> x\\<^sup>\\<star> = x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sup_id_star2: \"1 \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "by (metis order.antisym mult_isol mult_oner star_1r)"], ["", "lemma \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "oops"], ["", "lemma \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x = x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "(*nitpick [expect=genuine]*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "oops"], ["", "lemma \"x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> = 1 + x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "(* nitpick [expect=genuine] *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "oops"], ["", "end"], ["", "(* left_pre_kleene_algebra *)"], ["", "subsection \\<open>Left Kleene Algebras\\<close>"], ["", "class left_kleene_algebra = left_pre_kleene_algebra + dioid_one\n\nbegin"], ["", "text \\<open>In left Kleene algebras the non-fact @{prop \"z + y \\<cdot> x \\<le> y \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\"}\nis a good challenge for counterexample generators. A model of left\nKleene algebras in which the right star induction law does not hold\nhas been given by Kozen~\\cite{kozen90kleene}.\\<close>"], ["", "text \\<open>We now show that the right unfold law becomes an equality.\\<close>"], ["", "lemma star_unfoldr_eq [simp]: \"1 + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x = x\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "show \"1 + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>", "by (fact star_unfoldr)"], ["proof (state)\nthis:\n  (1::'a) + x\\<^sup>\\<star> \\<cdot> x \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "have \"1 + x \\<cdot> (1 + x\\<^sup>\\<star> \\<cdot> x) = 1 + (1 + x \\<cdot> x\\<^sup>\\<star>) \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> ((1::'a) + x\\<^sup>\\<star> \\<cdot> x) =\n    (1::'a) + ((1::'a) + x \\<cdot> x\\<^sup>\\<star>) \\<cdot> x", "using distrib_left distrib_right mult_1_left mult_1_right mult_assoc"], ["proof (prove)\nusing this:\n  ?a \\<cdot> (?b + ?c) = ?a \\<cdot> ?b + ?a \\<cdot> ?c\n  (?a + ?b) \\<cdot> ?c = ?a \\<cdot> ?c + ?b \\<cdot> ?c\n  (1::'a) \\<cdot> ?a = ?a\n  ?a \\<cdot> (1::'a) = ?a\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> ((1::'a) + x\\<^sup>\\<star> \\<cdot> x) =\n    (1::'a) + ((1::'a) + x \\<cdot> x\\<^sup>\\<star>) \\<cdot> x", "by presburger"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> ((1::'a) + x\\<^sup>\\<star> \\<cdot> x) =\n  (1::'a) + ((1::'a) + x \\<cdot> x\\<^sup>\\<star>) \\<cdot> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "also"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> ((1::'a) + x\\<^sup>\\<star> \\<cdot> x) =\n  (1::'a) + ((1::'a) + x \\<cdot> x\\<^sup>\\<star>) \\<cdot> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "have \"... = 1 + x\\<^sup>\\<star> \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + ((1::'a) + x \\<cdot> x\\<^sup>\\<star>) \\<cdot> x =\n    (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "by simp"], ["proof (state)\nthis:\n  (1::'a) + ((1::'a) + x \\<cdot> x\\<^sup>\\<star>) \\<cdot> x =\n  (1::'a) + x\\<^sup>\\<star> \\<cdot> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "finally"], ["proof (chain)\npicking this:\n  (1::'a) + x \\<cdot> ((1::'a) + x\\<^sup>\\<star> \\<cdot> x) =\n  (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "show \"x\\<^sup>\\<star> \\<le> 1 + x\\<^sup>\\<star> \\<cdot> x\""], ["proof (prove)\nusing this:\n  (1::'a) + x \\<cdot> ((1::'a) + x\\<^sup>\\<star> \\<cdot> x) =\n  (1::'a) + x\\<^sup>\\<star> \\<cdot> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "by (simp add: star_inductl_one)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> (1::'a) + x\\<^sup>\\<star> \\<cdot> x\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The following more complex unfold law has been used as an\naxiom, called prodstar, by Conway~\\cite{conway71regular}.\\<close>"], ["", "lemma star_prod_unfold [simp]: \"1 + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y = (x \\<cdot> y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y =\n    (x \\<cdot> y)\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star>\n 2. (x \\<cdot> y)\\<^sup>\\<star>\n    \\<le> (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y", "have \"(x \\<cdot> y)\\<^sup>\\<star> = 1 + (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> =\n    (1::'a) + (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y", "by (simp add: mult_assoc)"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> =\n  (1::'a) + (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y\n\ngoal (2 subgoals):\n 1. (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star>\n 2. (x \\<cdot> y)\\<^sup>\\<star>\n    \\<le> (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y", "thus \"(x \\<cdot> y)\\<^sup>\\<star> \\<le> 1 + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\nusing this:\n  (x \\<cdot> y)\\<^sup>\\<star> =\n  (1::'a) + (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star>\n    \\<le> (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y", "by (metis join.sup_mono mult_isor order_refl star_slide1)"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star>\n  \\<le> (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star>", "have \"1 + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y \\<le> 1 + x \\<cdot> y \\<cdot>  (x \\<cdot> y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n    \\<le> (1::'a) + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>", "by (metis join.sup_mono eq_refl mult.assoc mult_isol star_slide1)"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n  \\<le> (1::'a) + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star>", "thus \"1 + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y \\<le> (x \\<cdot> y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n  \\<le> (1::'a) + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> \\<cdot> y\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The slide laws, which have previously been inequalities, now\nbecome equations.\\<close>"], ["", "lemma star_slide [ac_simps]: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x = x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "have \"x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> = x \\<cdot> (1 + y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> =\n    x \\<cdot> ((1::'a) + y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x)", "by simp"], ["proof (state)\nthis:\n  x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> =\n  x \\<cdot> ((1::'a) + y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x)\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> =\n  x \\<cdot> ((1::'a) + y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x)\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "have \"... = (1 + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>) \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> ((1::'a) + y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x) =\n    ((1::'a) + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>) \\<cdot> x", "by (simp add: distrib_left mult_assoc)"], ["proof (state)\nthis:\n  x \\<cdot> ((1::'a) + y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x) =\n  ((1::'a) + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>) \\<cdot> x\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "finally"], ["proof (chain)\npicking this:\n  x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> =\n  ((1::'a) + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>) \\<cdot> x", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star> =\n  ((1::'a) + x \\<cdot> y \\<cdot> (x \\<cdot> y)\\<^sup>\\<star>) \\<cdot> x\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n    x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x =\n  x \\<cdot> (y \\<cdot> x)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_slide_var [ac_simps]: \"x\\<^sup>\\<star> \\<cdot> x = x \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x = x \\<cdot> x\\<^sup>\\<star>", "by (metis mult_onel mult_oner star_slide)"], ["", "lemma star_sum_unfold_var [simp]: \"1 + x\\<^sup>\\<star> \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) +\n    x\\<^sup>\\<star> \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "by (metis star_denest star_denest_var_3 star_denest_var_4 star_plus_one star_slide)"], ["", "text \\<open>The following law shows how starred sums can be unfolded.\\<close>"], ["", "lemma star_sum_unfold [simp]: \"x\\<^sup>\\<star> + x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> = (x + y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "have \"(x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star> )\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> =\n    x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star> =\n  x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star> =\n  x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "have \"... = x\\<^sup>\\<star> \\<cdot> (1 + y \\<cdot> x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star> )\\<^sup>\\<star>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n    x\\<^sup>\\<star> \\<cdot>\n    ((1::'a) +\n     y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n     (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>)", "by simp"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n  x\\<^sup>\\<star> \\<cdot>\n  ((1::'a) +\n   y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n   (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star> =\n  x\\<^sup>\\<star> \\<cdot>\n  ((1::'a) +\n   y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n   (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "have \"... = x\\<^sup>\\<star> \\<cdot> (1 + y \\<cdot> (x + y)\\<^sup>\\<star>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot>\n    ((1::'a) +\n     y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n     (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>) =\n    x\\<^sup>\\<star> \\<cdot> ((1::'a) + y \\<cdot> (x + y)\\<^sup>\\<star>)", "by (simp add: mult.assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot>\n  ((1::'a) +\n   y \\<cdot> x\\<^sup>\\<star> \\<cdot>\n   (y \\<cdot> x\\<^sup>\\<star>)\\<^sup>\\<star>) =\n  x\\<^sup>\\<star> \\<cdot> ((1::'a) + y \\<cdot> (x + y)\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "finally"], ["proof (chain)\npicking this:\n  (x + y)\\<^sup>\\<star> =\n  x\\<^sup>\\<star> \\<cdot> ((1::'a) + y \\<cdot> (x + y)\\<^sup>\\<star>)", "show ?thesis"], ["proof (prove)\nusing this:\n  (x + y)\\<^sup>\\<star> =\n  x\\<^sup>\\<star> \\<cdot> ((1::'a) + y \\<cdot> (x + y)\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n    (x + y)\\<^sup>\\<star>", "by (simp add: distrib_left mult_assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> +\n  x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> =\n  (x + y)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The following property appears in process algebra.\\<close>"], ["", "lemma troeger: \"(x + y)\\<^sup>\\<star> \\<cdot> z = x\\<^sup>\\<star> \\<cdot> (y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z + z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> z =\n    x\\<^sup>\\<star> \\<cdot> (y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z + z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> z =\n    x\\<^sup>\\<star> \\<cdot> (y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z + z)", "have \"(x + y)\\<^sup>\\<star> \\<cdot> z = x\\<^sup>\\<star> \\<cdot> z + x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> z =\n    x\\<^sup>\\<star> \\<cdot> z +\n    x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z", "by (metis (full_types) distrib_right star_sum_unfold)"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star> \\<cdot> z =\n  x\\<^sup>\\<star> \\<cdot> z +\n  x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> z =\n    x\\<^sup>\\<star> \\<cdot> (y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z + z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (x + y)\\<^sup>\\<star> \\<cdot> z =\n  x\\<^sup>\\<star> \\<cdot> z +\n  x\\<^sup>\\<star> \\<cdot> y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> \\<cdot> z =\n    x\\<^sup>\\<star> \\<cdot> (y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z + z)", "by (simp add: add_commute distrib_left mult_assoc)"], ["proof (state)\nthis:\n  (x + y)\\<^sup>\\<star> \\<cdot> z =\n  x\\<^sup>\\<star> \\<cdot> (y \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> z + z)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The following properties are related to a property from\npropositional dynamic logic which has been attributed to Albert\nMeyer~\\cite{harelkozentiuryn00dynamic}. Here we prove it as a theorem\nof Kleene algebra.\\<close>"], ["", "lemma star_square: \"(x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "have \"x \\<cdot> x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (simp add: prod_star_closure)"], ["proof (state)\nthis:\n  x \\<cdot> x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<cdot> x \\<cdot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (simp add: star_inductl_star)"], ["proof (state)\nthis:\n  (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma meyer_1 [simp]: \"(1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> = x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> = x\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "have \"x \\<cdot>  (1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> = x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> + x \\<cdot> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> =\n    x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n    x \\<cdot> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "by (simp add: distrib_left)"], ["proof (state)\nthis:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> =\n  x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n  x \\<cdot> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> =\n  x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n  x \\<cdot> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "have \"... \\<le> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> + (x \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n    x \\<cdot> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n          (x \\<cdot> x)\\<^sup>\\<star>", "using join.sup_mono star_1l"], ["proof (prove)\nusing this:\n  \\<lbrakk>?a \\<le> ?c; ?b \\<le> ?d\\<rbrakk>\n  \\<Longrightarrow> ?a + ?b \\<le> ?c + ?d\n  ?x \\<cdot> ?x\\<^sup>\\<star> \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n    x \\<cdot> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n          (x \\<cdot> x)\\<^sup>\\<star>", "by blast"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> +\n  x \\<cdot> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> + (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "finally"], ["proof (chain)\npicking this:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> + (x \\<cdot> x)\\<^sup>\\<star>", "have \"x \\<cdot>  (1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> (1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> x \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> + (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n    \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "by (simp add: join.sup_commute)"], ["proof (state)\nthis:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "moreover"], ["proof (state)\nthis:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "have \"1 \\<le> (1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "using join.sup.coboundedI1"], ["proof (prove)\nusing this:\n  ?c \\<le> ?a \\<Longrightarrow> ?c \\<le> ?a + ?b\n\ngoal (1 subgoal):\n 1. (1::'a) \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "by auto"], ["proof (state)\nthis:\n  (1::'a) \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "ultimately"], ["proof (chain)\npicking this:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  (1::'a) \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "have \"1 + x \\<cdot> (1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> (1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  (1::'a) \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (1::'a) + x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n    \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "by auto"], ["proof (state)\nthis:\n  (1::'a) + x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "thus \"x\\<^sup>\\<star> \\<le> (1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (1::'a) + x \\<cdot> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n  \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>", "by (simp add: star_inductl_one mult_assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<le> ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "show \"(1 + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (simp add: prod_star_closure star_square)"], ["proof (state)\nthis:\n  ((1::'a) + x) \\<cdot> (x \\<cdot> x)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The following lemma says that transitive elements are equal to\ntheir transitive closure.\\<close>"], ["", "lemma tc: \"x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x", "assume \"x \\<cdot> x \\<le> x\""], ["proof (state)\nthis:\n  x \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x", "hence \"x + x \\<cdot> x \\<le> x\""], ["proof (prove)\nusing this:\n  x \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x + x \\<cdot> x \\<le> x", "by simp"], ["proof (state)\nthis:\n  x + x \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x", "hence \"x\\<^sup>\\<star> \\<cdot> x \\<le> x\""], ["proof (prove)\nusing this:\n  x + x \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x \\<le> x", "by (fact star_inductl)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x", "thus  \"x\\<^sup>\\<star> \\<cdot> x = x\""], ["proof (prove)\nusing this:\n  x\\<^sup>\\<star> \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> x = x", "by (metis mult_isol mult_oner star_ref star_slide_var eq_iff)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> x = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tc_eq: \"x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> x = x", "by (auto intro: tc)"], ["", "text \\<open>The next fact has been used by Boffa~\\cite{boffa90remarque} to\naxiomatise the equational theory of regular expressions.\\<close>"], ["", "lemma boffa_var: \"x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> = 1 + x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "assume \"x \\<cdot> x \\<le> x\""], ["proof (state)\nthis:\n  x \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "moreover"], ["proof (state)\nthis:\n  x \\<cdot> x \\<le> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "have \"x\\<^sup>\\<star> = 1 + x\\<^sup>\\<star> \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> = (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "by simp"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> = (1::'a) + x\\<^sup>\\<star> \\<cdot> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> x \\<le> x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "ultimately"], ["proof (chain)\npicking this:\n  x \\<cdot> x \\<le> x\n  x\\<^sup>\\<star> = (1::'a) + x\\<^sup>\\<star> \\<cdot> x", "show \"x\\<^sup>\\<star> = 1 + x\""], ["proof (prove)\nusing this:\n  x \\<cdot> x \\<le> x\n  x\\<^sup>\\<star> = (1::'a) + x\\<^sup>\\<star> \\<cdot> x\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> = (1::'a) + x", "by (simp add: tc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> = (1::'a) + x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma boffa: \"x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> = 1 + x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> x = x \\<Longrightarrow> x\\<^sup>\\<star> = (1::'a) + x", "by (auto intro: boffa_var)"], ["", "(*\ntext {*\nFor the following two lemmas, Isabelle could neither find a\ncounterexample nor a proof automatically.\n*}\n\nlemma \"z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z\"\n  -- \"unfortunately, no counterexample found\"\noops\n\nlemma star_sim3: \"z \\<cdot> x = y \\<cdot> z \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> = y\\<^sup>\\<star> \\<cdot> z\"\n  -- \"we conjecture that this is not provable\"\noops\n*)"], ["", "end"], ["", "(* left_kleene_algebra *)"], ["", "subsection \\<open>Left Kleene Algebras with Zero\\<close>"], ["", "text \\<open>\nThere are applications where only a left zero is assumed, for instance\nin the context of total correctness and for demonic refinement\nalgebras~\\cite{vonwright04refinement}.\n\\<close>"], ["", "class left_kleene_algebra_zerol = left_kleene_algebra + dioid_one_zerol\nbegin"], ["", "sublocale conway: near_conway_base_zerol star"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.near_conway_base_zerol star (+) (\\<cdot>) (1::'a) (\\<le>) (<)\n     (0::'a)", "by standard (simp_all add: local.star_slide)"], ["", "lemma star_zero [simp]: \"0\\<^sup>\\<star> = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a)\\<^sup>\\<star> = (1::'a)", "by (rule local.conway.zero_dagger)"], ["", "text \\<open>\nIn principle,~$1$ could therefore be defined from~$0$ in this setting.\n\\<close>"], ["", "end"], ["", "(* left_kleene_algebra_zerol *)"], ["", "class left_kleene_algebra_zero = left_kleene_algebra_zerol + dioid_one_zero"], ["", "subsection \\<open>Pre-Kleene Algebras\\<close>"], ["", "text \\<open>Pre-Kleene algebras are essentially probabilistic Kleene\nalgebras~\\cite{mciverweber05pka}.  They have a weaker right star\nunfold axiom. We are still looking for theorems that could be proved\nin this setting.\\<close>"], ["", "class pre_kleene_algebra = left_pre_kleene_algebra +\n  assumes weak_star_unfoldr: \"z + y \\<cdot> (x + 1) \\<le> y \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\""], ["", "subsection \\<open>Kleene Algebras\\<close>"], ["", "class kleene_algebra_zerol = left_kleene_algebra_zerol + \n  assumes star_inductr: \"z + y \\<cdot> x \\<le> y \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\"\n\nbegin"], ["", "lemma star_sim2: \"z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "assume \"z \\<cdot> x \\<le> y \\<cdot> z\""], ["proof (state)\nthis:\n  z \\<cdot> x \\<le> y \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "hence \"y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> y \\<cdot> z\""], ["proof (prove)\nusing this:\n  z \\<cdot> x \\<le> y \\<cdot> z\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> z \\<cdot> x\n    \\<le> y\\<^sup>\\<star> \\<cdot> y \\<cdot> z", "using mult_isol mult_assoc"], ["proof (prove)\nusing this:\n  z \\<cdot> x \\<le> y \\<cdot> z\n  ?x \\<le> ?y \\<Longrightarrow> ?z \\<cdot> ?x \\<le> ?z \\<cdot> ?y\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> z \\<cdot> x\n    \\<le> y\\<^sup>\\<star> \\<cdot> y \\<cdot> z", "by auto"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x\n  \\<le> y\\<^sup>\\<star> \\<cdot> y \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "also"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x\n  \\<le> y\\<^sup>\\<star> \\<cdot> y \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "have \"... \\<le> y\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> y \\<cdot> z \\<le> y\\<^sup>\\<star> \\<cdot> z", "by (simp add: mult_isor)"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> y \\<cdot> z \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "finally"], ["proof (chain)\npicking this:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z", "have \"y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z", "by simp"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "moreover"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "have \"z \\<le> y\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<le> y\\<^sup>\\<star> \\<cdot> z", "using mult_isor star_ref"], ["proof (prove)\nusing this:\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<cdot> ?z \\<le> ?y \\<cdot> ?z\n  (1::'a) \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. z \\<le> y\\<^sup>\\<star> \\<cdot> z", "by fastforce"], ["proof (state)\nthis:\n  z \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "ultimately"], ["proof (chain)\npicking this:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\n  z \\<le> y\\<^sup>\\<star> \\<cdot> z", "have \"z + y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\n  z \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. z + y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z", "by simp"], ["proof (state)\nthis:\n  z + y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x \\<le> y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "thus \"z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\nusing this:\n  z + y\\<^sup>\\<star> \\<cdot> z \\<cdot> x \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal (1 subgoal):\n 1. z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z", "by (simp add: star_inductr)"], ["proof (state)\nthis:\n  z \\<cdot> x\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> z\n\ngoal:\nNo subgoals!", "qed"], ["", "sublocale conway: pre_conway star"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.pre_conway star (+) (\\<cdot>) (1::'a) (\\<le>) (<)", "by standard (simp add: star_sim2)"], ["", "lemma star_inductr_var: \"y \\<cdot> x \\<le> y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x \\<le> y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y", "by (simp add: star_inductr)"], ["", "lemma star_inductr_var_equiv: \"y \\<cdot> x \\<le> y \\<longleftrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<cdot> x \\<le> y) = (y \\<cdot> x\\<^sup>\\<star> \\<le> y)", "by (meson order_trans mult_isol star_ext star_inductr_var)"], ["", "lemma star_sim3: \"z \\<cdot> x = y \\<cdot> z \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> = y\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<cdot> x = y \\<cdot> z \\<Longrightarrow>\n    z \\<cdot> x\\<^sup>\\<star> = y\\<^sup>\\<star> \\<cdot> z", "by (simp add: eq_iff star_sim1 star_sim2)"], ["", "lemma star_sim4: \"x \\<cdot> y \\<le>  y \\<cdot> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> y \\<cdot> x \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> y\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star>", "by (auto intro: star_sim1 star_sim2)"], ["", "lemma star_inductr_eq: \"z + y \\<cdot> x = y \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z + y \\<cdot> x = y \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y", "by (auto intro: star_inductr)"], ["", "lemma star_inductr_var_eq: \"y \\<cdot> x = y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x = y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> y", "by (auto intro: star_inductr_var)"], ["", "lemma star_inductr_var_eq2: \"y \\<cdot> x = y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x = y \\<Longrightarrow> y \\<cdot> x\\<^sup>\\<star> = y", "by (metis mult_onel star_one star_sim3)"], ["", "lemma bubble_sort: \"y \\<cdot> x \\<le> x \\<cdot> y \\<Longrightarrow> (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> x \\<le> x \\<cdot> y \\<Longrightarrow>\n    (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (fastforce intro: star_sim4)"], ["", "lemma independence1: \"x \\<cdot> y = 0 \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y = (0::'a) \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y = y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> y = (0::'a) \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y = y", "assume \"x \\<cdot> y = 0\""], ["proof (state)\nthis:\n  x \\<cdot> y = (0::'a)\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = (0::'a) \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y = y", "moreover"], ["proof (state)\nthis:\n  x \\<cdot> y = (0::'a)\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = (0::'a) \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y = y", "have \"x\\<^sup>\\<star> \\<cdot> y = y + x\\<^sup>\\<star> \\<cdot> x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y = y + x\\<^sup>\\<star> \\<cdot> x \\<cdot> y", "by (metis distrib_right mult_onel star_unfoldr_eq)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y = y + x\\<^sup>\\<star> \\<cdot> x \\<cdot> y\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = (0::'a) \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> y = y", "ultimately"], ["proof (chain)\npicking this:\n  x \\<cdot> y = (0::'a)\n  x\\<^sup>\\<star> \\<cdot> y = y + x\\<^sup>\\<star> \\<cdot> x \\<cdot> y", "show \"x\\<^sup>\\<star> \\<cdot> y = y\""], ["proof (prove)\nusing this:\n  x \\<cdot> y = (0::'a)\n  x\\<^sup>\\<star> \\<cdot> y = y + x\\<^sup>\\<star> \\<cdot> x \\<cdot> y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y = y", "by (metis add_0_left add.commute join.sup_ge1 eq_iff star_inductl_eq)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y = y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma independence2: \"x \\<cdot> y = 0 \\<Longrightarrow> x \\<cdot> y\\<^sup>\\<star> = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y = (0::'a) \\<Longrightarrow> x \\<cdot> y\\<^sup>\\<star> = x", "by (metis annil mult_onel star_sim3 star_zero)"], ["", "lemma lazycomm_var: \"y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<longleftrightarrow> y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y) =\n    (y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "let ?t = \"x \\<cdot> (x + y)\\<^sup>\\<star>\""], ["proof (state)\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "assume hyp: \"y \\<cdot> x \\<le> ?t + y\""], ["proof (state)\nthis:\n  y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "have \"(?t + y) \\<cdot> x = ?t \\<cdot> x + y \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x =\n    x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x + y \\<cdot> x", "by (fact distrib_right)"], ["proof (state)\nthis:\n  (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x =\n  x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x + y \\<cdot> x\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "also"], ["proof (state)\nthis:\n  (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x =\n  x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x + y \\<cdot> x\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "have \"... \\<le> ?t \\<cdot> x + ?t + y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x + y \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x +\n          x \\<cdot> (x + y)\\<^sup>\\<star> +\n          y", "using hyp join.sup.coboundedI2 join.sup_assoc"], ["proof (prove)\nusing this:\n  y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n  ?c \\<le> ?b \\<Longrightarrow> ?c \\<le> ?a + ?b\n  ?x + ?y + ?z = ?x + (?y + ?z)\n\ngoal (1 subgoal):\n 1. x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x + y \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x +\n          x \\<cdot> (x + y)\\<^sup>\\<star> +\n          y", "by auto"], ["proof (state)\nthis:\n  x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x + y \\<cdot> x\n  \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x +\n        x \\<cdot> (x + y)\\<^sup>\\<star> +\n        y\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "also"], ["proof (state)\nthis:\n  x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x + y \\<cdot> x\n  \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x +\n        x \\<cdot> (x + y)\\<^sup>\\<star> +\n        y\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "have \"... \\<le> ?t + y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x +\n    x \\<cdot> (x + y)\\<^sup>\\<star> +\n    y\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "using eq_refl join.sup_least join.sup_mono mult_isol prod_star_closure star_subdist_var_1 mult_assoc"], ["proof (prove)\nusing this:\n  ?x = ?y \\<Longrightarrow> ?x \\<le> ?y\n  \\<lbrakk>?y \\<le> ?x; ?z \\<le> ?x\\<rbrakk>\n  \\<Longrightarrow> ?y + ?z \\<le> ?x\n  \\<lbrakk>?a \\<le> ?c; ?b \\<le> ?d\\<rbrakk>\n  \\<Longrightarrow> ?a + ?b \\<le> ?c + ?d\n  ?x \\<le> ?y \\<Longrightarrow> ?z \\<cdot> ?x \\<le> ?z \\<cdot> ?y\n  \\<lbrakk>?x \\<le> ?z\\<^sup>\\<star>; ?y \\<le> ?z\\<^sup>\\<star>\\<rbrakk>\n  \\<Longrightarrow> ?x \\<cdot> ?y \\<le> ?z\\<^sup>\\<star>\n  ?x \\<le> (?x + ?y)\\<^sup>\\<star>\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n\ngoal (1 subgoal):\n 1. x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x +\n    x \\<cdot> (x + y)\\<^sup>\\<star> +\n    y\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "by presburger"], ["proof (state)\nthis:\n  x \\<cdot> (x + y)\\<^sup>\\<star> \\<cdot> x +\n  x \\<cdot> (x + y)\\<^sup>\\<star> +\n  y\n  \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "finally"], ["proof (chain)\npicking this:\n  (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x\n  \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "have \"y + (?t + y) \\<cdot> x \\<le> ?t + y\""], ["proof (prove)\nusing this:\n  (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x\n  \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (1 subgoal):\n 1. y + (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "by simp"], ["proof (state)\nthis:\n  y + (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x\n  \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (2 subgoals):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n 2. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "thus \"y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\""], ["proof (prove)\nusing this:\n  y + (x \\<cdot> (x + y)\\<^sup>\\<star> + y) \\<cdot> x\n  \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (1 subgoal):\n 1. y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "by (fact star_inductr)"], ["proof (state)\nthis:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (1 subgoal):\n 1. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "assume \"y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\""], ["proof (state)\nthis:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (1 subgoal):\n 1. y \\<cdot> x\\<^sup>\\<star>\n    \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y \\<Longrightarrow>\n    y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "thus \"y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\""], ["proof (prove)\nusing this:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal (1 subgoal):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "using dual_order.trans mult_isol star_ext"], ["proof (prove)\nusing this:\n  y \\<cdot> x\\<^sup>\\<star> \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n  \\<lbrakk>?b \\<le> ?a; ?c \\<le> ?b\\<rbrakk> \\<Longrightarrow> ?c \\<le> ?a\n  ?x \\<le> ?y \\<Longrightarrow> ?z \\<cdot> ?x \\<le> ?z \\<cdot> ?y\n  ?x \\<le> ?x\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y", "by blast"], ["proof (state)\nthis:\n  y \\<cdot> x \\<le> x \\<cdot> (x + y)\\<^sup>\\<star> + y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma arden_var: \"(\\<forall>y v. y \\<le> x \\<cdot> y + v \\<longrightarrow> y \\<le> x\\<^sup>\\<star> \\<cdot> v) \\<Longrightarrow> z = x \\<cdot> z + w \\<Longrightarrow> z = x\\<^sup>\\<star> \\<cdot> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>y v.\n                y \\<le> x \\<cdot> y + v \\<longrightarrow>\n                y \\<le> x\\<^sup>\\<star> \\<cdot> v;\n     z = x \\<cdot> z + w\\<rbrakk>\n    \\<Longrightarrow> z = x\\<^sup>\\<star> \\<cdot> w", "by (auto simp: add_comm eq_iff star_inductl_eq)"], ["", "lemma \"(\\<forall>x y. y \\<le> x \\<cdot> y \\<longrightarrow> y = 0) \\<Longrightarrow> y \\<le> x \\<cdot> y + z \\<Longrightarrow> y \\<le> x\\<^sup>\\<star> \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x y.\n                y \\<le> x \\<cdot> y \\<longrightarrow> y = (0::'a);\n     y \\<le> x \\<cdot> y + z\\<rbrakk>\n    \\<Longrightarrow> y \\<le> x\\<^sup>\\<star> \\<cdot> z", "by (metis eq_refl mult_onel)"], ["", "end"], ["", "text \\<open>Finally, here come the Kleene algebras \\`a~la\nKozen~\\cite{kozen94complete}. We only prove quasi-identities in this\nsection. Since left Kleene algebras are complete with respect to the\nequational theory of regular expressions and regular languages, all\nidentities hold already without the right star induction axiom.\\<close>"], ["", "class kleene_algebra = left_kleene_algebra_zero +\n  assumes star_inductr': \"z + y \\<cdot> x \\<le> y \\<Longrightarrow> z \\<cdot> x\\<^sup>\\<star> \\<le> y\"\nbegin"], ["", "subclass kleene_algebra_zerol"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.kleene_algebra_zerol (+) (\\<cdot>) (1::'a) (0::'a) (\\<le>) (<)\n     star", "by standard (simp add: star_inductr')"], ["", "sublocale conway_zerol: conway star"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.conway star (+) (\\<cdot>) (1::'a) (\\<le>) (<)", ".."], ["", "text \\<open>\nThe next lemma shows that opposites of Kleene algebras (i.e., Kleene\nalgebras with the order of multiplication swapped) are again Kleene\nalgebras.\n\\<close>"], ["", "lemma dual_kleene_algebra:\n  \"class.kleene_algebra (+) (\\<odot>) 1 0 (\\<le>) (<) star\""], ["proof (prove)\ngoal (1 subgoal):\n 1. class.kleene_algebra (+) (\\<odot>) (1::'a) (0::'a) (\\<le>) (<) star", "proof"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>a b c. a \\<odot> b \\<odot> c = a \\<odot> (b \\<odot> c)\n 2. \\<And>x y z. (x + y) \\<odot> z = x \\<odot> z + y \\<odot> z\n 3. \\<And>x. (1::'a) \\<odot> x = x\n 4. \\<And>x. x \\<odot> (1::'a) = x\n 5. \\<And>x. (0::'a) + x = x\n 6. \\<And>x. (0::'a) \\<odot> x = (0::'a)\n 7. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 8. \\<And>x. x + x = x\n 9. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 10. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\nA total of 13 subgoals...", "fix x y z :: 'a"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>a b c. a \\<odot> b \\<odot> c = a \\<odot> (b \\<odot> c)\n 2. \\<And>x y z. (x + y) \\<odot> z = x \\<odot> z + y \\<odot> z\n 3. \\<And>x. (1::'a) \\<odot> x = x\n 4. \\<And>x. x \\<odot> (1::'a) = x\n 5. \\<And>x. (0::'a) + x = x\n 6. \\<And>x. (0::'a) \\<odot> x = (0::'a)\n 7. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 8. \\<And>x. x + x = x\n 9. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 10. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\nA total of 13 subgoals...", "show \"(x \\<odot> y) \\<odot> z = x \\<odot> (y \\<odot> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<odot> y \\<odot> z = x \\<odot> (y \\<odot> z)", "by (metis mult.assoc opp_mult_def)"], ["proof (state)\nthis:\n  x \\<odot> y \\<odot> z = x \\<odot> (y \\<odot> z)\n\ngoal (12 subgoals):\n 1. \\<And>x y z. (x + y) \\<odot> z = x \\<odot> z + y \\<odot> z\n 2. \\<And>x. (1::'a) \\<odot> x = x\n 3. \\<And>x. x \\<odot> (1::'a) = x\n 4. \\<And>x. (0::'a) + x = x\n 5. \\<And>x. (0::'a) \\<odot> x = (0::'a)\n 6. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 7. \\<And>x. x + x = x\n 8. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 9. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 10. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\nA total of 12 subgoals...", "show \"(x + y) \\<odot> z = x \\<odot> z + y \\<odot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y) \\<odot> z = x \\<odot> z + y \\<odot> z", "by (metis opp_mult_def distrib_left)"], ["proof (state)\nthis:\n  (x + y) \\<odot> z = x \\<odot> z + y \\<odot> z\n\ngoal (11 subgoals):\n 1. \\<And>x. (1::'a) \\<odot> x = x\n 2. \\<And>x. x \\<odot> (1::'a) = x\n 3. \\<And>x. (0::'a) + x = x\n 4. \\<And>x. (0::'a) \\<odot> x = (0::'a)\n 5. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 6. \\<And>x. x + x = x\n 7. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 8. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 9. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 10. \\<And>z x y.\n        z + x \\<odot> y \\<le> y \\<Longrightarrow>\n        x\\<^sup>\\<star> \\<odot> z \\<le> y\nA total of 11 subgoals...", "show \"1 \\<odot> x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<odot> x = x", "by (metis mult_oner opp_mult_def)"], ["proof (state)\nthis:\n  (1::'a) \\<odot> x = x\n\ngoal (10 subgoals):\n 1. \\<And>x. x \\<odot> (1::'a) = x\n 2. \\<And>x. (0::'a) + x = x\n 3. \\<And>x. (0::'a) \\<odot> x = (0::'a)\n 4. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 5. \\<And>x. x + x = x\n 6. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 7. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 8. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 9. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 10. \\<And>z y x.\n        z + y \\<odot> x \\<le> y \\<Longrightarrow>\n        z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"x \\<odot> 1 = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<odot> (1::'a) = x", "by (metis mult_onel opp_mult_def)"], ["proof (state)\nthis:\n  x \\<odot> (1::'a) = x\n\ngoal (9 subgoals):\n 1. \\<And>x. (0::'a) + x = x\n 2. \\<And>x. (0::'a) \\<odot> x = (0::'a)\n 3. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 4. \\<And>x. x + x = x\n 5. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 6. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 7. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 8. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 9. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"0 + x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) + x = x", "by (fact add_zerol)"], ["proof (state)\nthis:\n  (0::'a) + x = x\n\ngoal (8 subgoals):\n 1. \\<And>x. (0::'a) \\<odot> x = (0::'a)\n 2. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 3. \\<And>x. x + x = x\n 4. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 5. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 6. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 7. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 8. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"0 \\<odot> x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) \\<odot> x = (0::'a)", "by (metis annir opp_mult_def)"], ["proof (state)\nthis:\n  (0::'a) \\<odot> x = (0::'a)\n\ngoal (7 subgoals):\n 1. \\<And>x. x \\<odot> (0::'a) = (0::'a)\n 2. \\<And>x. x + x = x\n 3. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 4. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 5. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 6. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 7. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"x \\<odot> 0 = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<odot> (0::'a) = (0::'a)", "by (metis annil opp_mult_def)"], ["proof (state)\nthis:\n  x \\<odot> (0::'a) = (0::'a)\n\ngoal (6 subgoals):\n 1. \\<And>x. x + x = x\n 2. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 3. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 4. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 5. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 6. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"x + x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + x = x", "by (fact add_idem)"], ["proof (state)\nthis:\n  x + x = x\n\ngoal (5 subgoals):\n 1. \\<And>a b c. a \\<odot> (b + c) = a \\<odot> b + a \\<odot> c\n 2. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 3. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 4. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 5. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"x \\<odot> (y + z) = x \\<odot> y + x \\<odot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<odot> (y + z) = x \\<odot> y + x \\<odot> z", "by (metis distrib_right opp_mult_def)"], ["proof (state)\nthis:\n  x \\<odot> (y + z) = x \\<odot> y + x \\<odot> z\n\ngoal (4 subgoals):\n 1. \\<And>z x y. z \\<odot> x \\<le> z \\<odot> (x + y)\n 2. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 3. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 4. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"z \\<odot> x \\<le> z \\<odot> (x + y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<odot> x \\<le> z \\<odot> (x + y)", "by (metis mult_isor opp_mult_def order_prop)"], ["proof (state)\nthis:\n  z \\<odot> x \\<le> z \\<odot> (x + y)\n\ngoal (3 subgoals):\n 1. \\<And>x. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n 2. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 3. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"1 + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>", "by (metis opp_mult_def order_refl star_slide_var star_unfoldl_eq)"], ["proof (state)\nthis:\n  (1::'a) + x \\<odot> x\\<^sup>\\<star> \\<le> x\\<^sup>\\<star>\n\ngoal (2 subgoals):\n 1. \\<And>z x y.\n       z + x \\<odot> y \\<le> y \\<Longrightarrow>\n       x\\<^sup>\\<star> \\<odot> z \\<le> y\n 2. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"z + x \\<odot> y \\<le> y \\<Longrightarrow> x\\<^sup>\\<star> \\<odot> z \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z + x \\<odot> y \\<le> y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<odot> z \\<le> y", "by (metis opp_mult_def star_inductr)"], ["proof (state)\nthis:\n  z + x \\<odot> y \\<le> y \\<Longrightarrow>\n  x\\<^sup>\\<star> \\<odot> z \\<le> y\n\ngoal (1 subgoal):\n 1. \\<And>z y x.\n       z + y \\<odot> x \\<le> y \\<Longrightarrow>\n       z \\<odot> x\\<^sup>\\<star> \\<le> y", "show \"z + y \\<odot> x \\<le> y \\<Longrightarrow> z \\<odot> x\\<^sup>\\<star> \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z + y \\<odot> x \\<le> y \\<Longrightarrow>\n    z \\<odot> x\\<^sup>\\<star> \\<le> y", "by (metis opp_mult_def star_inductl)"], ["proof (state)\nthis:\n  z + y \\<odot> x \\<le> y \\<Longrightarrow>\n  z \\<odot> x\\<^sup>\\<star> \\<le> y\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(* kleene_algebra *)"], ["", "text \\<open>We finish with some properties on (multiplicatively)\ncommutative Kleene algebras. A chapter in Conway's\nbook~\\cite{conway71regular} is devoted to this topic.\\<close>"], ["", "class commutative_kleene_algebra = kleene_algebra +\n  assumes mult_comm [ac_simps]: \"x \\<cdot> y = y \\<cdot> x\"\n\nbegin"], ["", "lemma conway_c3 [simp]: \"(x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "using church_rosser mult_comm"], ["proof (prove)\nusing this:\n  ?y\\<^sup>\\<star> \\<cdot> ?x\\<^sup>\\<star>\n  \\<le> ?x\\<^sup>\\<star> \\<cdot> ?y\\<^sup>\\<star> \\<Longrightarrow>\n  (?x + ?y)\\<^sup>\\<star> = ?x\\<^sup>\\<star> \\<cdot> ?y\\<^sup>\\<star>\n  ?x \\<cdot> ?y = ?y \\<cdot> ?x\n\ngoal (1 subgoal):\n 1. (x + y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by auto"], ["", "lemma conway_c4: \"(x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> = 1 + x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> =\n    (1::'a) + x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<cdot> y", "by (metis conway_c3 star_denest_var star_prod_unfold)"], ["", "lemma cka_1: \"(x \\<cdot> y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star>\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis conway_c3 star_invol star_iso star_subdist_var_2)"], ["", "lemma cka_2 [simp]: \"x\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> \\<cdot> y)\\<^sup>\\<star> =\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis conway_c3 mult_comm star_denest_var)"], ["", "lemma conway_c4_var [simp]: \"(x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>)\\<^sup>\\<star> =\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis conway_c3 star_invol)"], ["", "lemma conway_c2_var: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star> \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis mult_isor star_1r mult_assoc)"], ["", "lemma conway_c2 [simp]: \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>) = x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + y\\<^sup>\\<star>) =\n    x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n 2. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "show \"(x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>) \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n    \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by (metis cka_1 conway_c3 prod_star_closure star_ext star_sum_var)"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>) = x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + 1 + y \\<cdot> y\\<^sup>\\<star>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + y\\<^sup>\\<star>) =\n    x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + (1::'a) + y \\<cdot> y\\<^sup>\\<star>)", "by (simp add: add_assoc)"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>) =\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + (1::'a) + y \\<cdot> y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "also"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>) =\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + (1::'a) + y \\<cdot> y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"... = x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + (1::'a) + y \\<cdot> y\\<^sup>\\<star>) =\n    x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>)", "by (simp add: add_commute)"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + (1::'a) + y \\<cdot> y\\<^sup>\\<star>) =\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "also"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + (1::'a) + y \\<cdot> y\\<^sup>\\<star>) =\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"... = (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) + (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>) =\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>", "using distrib_left mult_comm mult_assoc"], ["proof (prove)\nusing this:\n  ?a \\<cdot> (?b + ?c) = ?a \\<cdot> ?b + ?a \\<cdot> ?c\n  ?x \\<cdot> ?y = ?y \\<cdot> ?x\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>) =\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>", "by force"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>) =\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "also"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y \\<cdot> y\\<^sup>\\<star>) =\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"... \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> + (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n          (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot>\n          y\\<^sup>\\<star>", "using add_iso mult_isol"], ["proof (prove)\nusing this:\n  ?x \\<le> ?y \\<Longrightarrow> ?x + ?z \\<le> ?y + ?z\n  ?x \\<le> ?y \\<Longrightarrow> ?z \\<cdot> ?x \\<le> ?z \\<cdot> ?y\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n          (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot>\n          y\\<^sup>\\<star>", "by force"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n        (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "also"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x \\<cdot> x\\<^sup>\\<star>) +\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n        (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot>\n        y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"... \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> + (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n          (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "using conway_c2_var join.sup_mono"], ["proof (prove)\nusing this:\n  (?x \\<cdot> ?y)\\<^sup>\\<star> \\<cdot> ?x \\<cdot> ?y \\<cdot>\n  ?y\\<^sup>\\<star>\n  \\<le> (?x \\<cdot> ?y)\\<^sup>\\<star> \\<cdot> ?y\\<^sup>\\<star>\n  \\<lbrakk>?a \\<le> ?c; ?b \\<le> ?d\\<rbrakk>\n  \\<Longrightarrow> ?a + ?b \\<le> ?c + ?d\n\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n          (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>", "by blast"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n        (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "also"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x \\<cdot> y \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n        (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"... = (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> =\n    (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "by (simp add: distrib_left)"], ["proof (state)\nthis:\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> x\\<^sup>\\<star> +\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> =\n  (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "finally"], ["proof (chain)\npicking this:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>) \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\""], ["proof (prove)\nusing this:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "."], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "moreover"], ["proof (state)\nthis:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"y\\<^sup>\\<star> \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "by (metis dual_order.trans join.sup_ge2 mult_1_left mult_isor star_ref)"], ["proof (state)\nthis:\n  y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "ultimately"], ["proof (chain)\npicking this:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "have \"y\\<^sup>\\<star> + x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>) \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\""], ["proof (prove)\nusing this:\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. y\\<^sup>\\<star> +\n    x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n    (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "by simp"], ["proof (state)\nthis:\n  y\\<^sup>\\<star> +\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "thus \"x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star> \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot> (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\""], ["proof (prove)\nusing this:\n  y\\<^sup>\\<star> +\n  x \\<cdot> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n  (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n    \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n          (x\\<^sup>\\<star> + y\\<^sup>\\<star>)", "by (simp add: mult.assoc star_inductl)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> y\\<^sup>\\<star>\n  \\<le> (x \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n        (x\\<^sup>\\<star> + y\\<^sup>\\<star>)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(* commutative_kleene_algebra *)"], ["", "end"]]}