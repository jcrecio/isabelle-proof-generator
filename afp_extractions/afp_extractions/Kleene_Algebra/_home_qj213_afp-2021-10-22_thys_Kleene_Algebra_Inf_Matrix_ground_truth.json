{"file_name": "/home/qj213/afp-2021-10-22/thys/Kleene_Algebra/Inf_Matrix.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Kleene_Algebra", "problem_names": ["lemma mat_add_assoc: \"(f \\<oplus> g) \\<oplus> h =  f \\<oplus> (g \\<oplus> h)\"", "lemma mat_add_comm: \"f \\<oplus> g = g \\<oplus> f\"", "lemma mat_add_idem[simp]: \"f \\<oplus> f = f\"", "lemma mat_zerol[simp]: \"f \\<oplus> \\<delta> = f\"", "lemma mat_zeror[simp]: \"\\<delta> \\<oplus> f = f\"", "lemma mat_annil[simp]: \"\\<delta> \\<otimes> f = \\<delta>\"", "lemma mat_annir[simp]: \"f \\<otimes> \\<delta>  = \\<delta>\"", "lemma mat_distl: \"f \\<otimes> (g \\<oplus> h) = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)\"", "lemma mat_distr: \"(f \\<oplus> g) \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)\"", "lemma logic_aux1: \"(\\<exists>k. (i = k \\<longrightarrow> x = f i j) \\<and> (i \\<noteq> k \\<longrightarrow> x = 0)) \\<longleftrightarrow> (\\<exists>k. i = k \\<and> x = f i j) \\<or> (\\<exists>k. i \\<noteq> k \\<and> x = 0)\"", "lemma logic_aux2: \"(\\<exists>k. (k = j \\<longrightarrow> x = f i j) \\<and> (k \\<noteq> j \\<longrightarrow> x = 0)) \\<longleftrightarrow> (\\<exists>k. k = j \\<and> x = f i j) \\<or> (\\<exists>k. k \\<noteq> j \\<and> x = 0)\"", "lemma mat_onel[simp]: \"\\<epsilon> \\<otimes> f = f\"", "lemma mat_oner[simp]: \"f \\<otimes> \\<epsilon> = f\"", "lemma mat_rearrange:\n  fixes F :: \"'a \\<Rightarrow> 'k1 \\<Rightarrow> 'k2 \\<Rightarrow> 'b \\<Rightarrow> 'c::dioid_one_zero\"\n  assumes fUNk1: \"finite (UNIV::'k1 set)\"\n  assumes fUNk2: \"finite (UNIV::'k2 set)\"\n  shows \"\\<Sum>{\\<Sum>{F i k1 k2 j |k2. k2 \\<in> (UNIV::'k2 set)} |k1. k1 \\<in> (UNIV::'k1 set)} = \\<Sum>{\\<Sum>{F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\"", "lemma mat_mult_assoc: \"f \\<otimes> (g \\<otimes> h) = (f \\<otimes> g) \\<otimes> h\""], "translations": [["", "lemma mat_add_assoc: \"(f \\<oplus> g) \\<oplus> h =  f \\<oplus> (g \\<oplus> h)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<oplus> h = f \\<oplus> (g \\<oplus> h)", "by (auto simp add: mat_add_def join.sup_assoc)"], ["", "lemma mat_add_comm: \"f \\<oplus> g = g \\<oplus> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<oplus> g = g \\<oplus> f", "by (auto simp add: mat_add_def join.sup_commute)"], ["", "lemma mat_add_idem[simp]: \"f \\<oplus> f = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<oplus> f = f", "by (auto simp add: mat_add_def)"], ["", "lemma mat_zerol[simp]: \"f \\<oplus> \\<delta> = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<oplus> \\<delta> = f", "by (auto simp add: mat_add_def mat_zero_def)"], ["", "lemma mat_zeror[simp]: \"\\<delta> \\<oplus> f = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<delta> \\<oplus> f = f", "by (auto simp add: mat_add_def mat_zero_def)"], ["", "definition mat_mult :: \"('a, 'k::finite, 'c::dioid_one_zero) matrix \\<Rightarrow> ('k, 'b, 'c) matrix \\<Rightarrow> ('a, 'b, 'c) matrix\" (infixl \"\\<otimes>\" 60) where\n  \"(f \\<otimes> g) i j  \\<equiv> \\<Sum> {(f i k) \\<cdot> (g k j) | k. k \\<in> UNIV}\""], ["", "lemma mat_annil[simp]: \"\\<delta> \\<otimes> f = \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<delta> \\<otimes> f = \\<delta>", "by (rule ext, auto simp add: mat_mult_def mat_zero_def)"], ["", "lemma mat_annir[simp]: \"f \\<otimes> \\<delta>  = \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<otimes> \\<delta> = \\<delta>", "by (rule ext, auto simp add: mat_mult_def mat_zero_def)"], ["", "lemma mat_distl: \"f \\<otimes> (g \\<oplus> h) = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "have \"(f \\<otimes> (g \\<oplus> h)) i j  = \\<Sum>{f i k \\<cdot> (g k j + h k j) |k. k \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<otimes> g \\<oplus> h) i j =\n    \\<Sum> {f i k \\<cdot> (g k j + h k j) |k. k \\<in> UNIV}", "by (simp only: mat_mult_def mat_add_def)"], ["proof (state)\nthis:\n  (f \\<otimes> g \\<oplus> h) i j =\n  \\<Sum> {f i k \\<cdot> (g k j + h k j) |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "also"], ["proof (state)\nthis:\n  (f \\<otimes> g \\<oplus> h) i j =\n  \\<Sum> {f i k \\<cdot> (g k j + h k j) |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "have \"... = \\<Sum>{f i k \\<cdot> g k j + f i k \\<cdot> h k j |k. k \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum> {f i k \\<cdot> (g k j + h k j) |k. k \\<in> UNIV} =\n    \\<Sum> {f i k \\<cdot> g k j + f i k \\<cdot> h k j |k. k \\<in> UNIV}", "by (simp only: distrib_left)"], ["proof (state)\nthis:\n  \\<Sum> {f i k \\<cdot> (g k j + h k j) |k. k \\<in> UNIV} =\n  \\<Sum> {f i k \\<cdot> g k j + f i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "also"], ["proof (state)\nthis:\n  \\<Sum> {f i k \\<cdot> (g k j + h k j) |k. k \\<in> UNIV} =\n  \\<Sum> {f i k \\<cdot> g k j + f i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "have \"... = \\<Sum>{f i k \\<cdot> g k j |k. k \\<in> UNIV} + \\<Sum>{f i k \\<cdot> h k j |k. k \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum> {f i k \\<cdot> g k j + f i k \\<cdot> h k j |k. k \\<in> UNIV} =\n    \\<Sum> {f i k \\<cdot> g k j |k. k \\<in> UNIV} +\n    \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV}", "by (simp only: fset_to_im sum_fun_sum finite_UNIV)"], ["proof (state)\nthis:\n  \\<Sum> {f i k \\<cdot> g k j + f i k \\<cdot> h k j |k. k \\<in> UNIV} =\n  \\<Sum> {f i k \\<cdot> g k j |k. k \\<in> UNIV} +\n  \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "finally"], ["proof (chain)\npicking this:\n  (f \\<otimes> g \\<oplus> h) i j =\n  \\<Sum> {f i k \\<cdot> g k j |k. k \\<in> UNIV} +\n  \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV}", "have \"(f \\<otimes> (g \\<oplus> h)) i j  = ((f \\<otimes> g) \\<oplus> (f \\<otimes> h)) i j\""], ["proof (prove)\nusing this:\n  (f \\<otimes> g \\<oplus> h) i j =\n  \\<Sum> {f i k \\<cdot> g k j |k. k \\<in> UNIV} +\n  \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. (f \\<otimes> g \\<oplus> h) i j =\n    ((f \\<otimes> g) \\<oplus> (f \\<otimes> h)) i j", "by (simp only: mat_mult_def mat_add_def)"], ["proof (state)\nthis:\n  (f \\<otimes> g \\<oplus> h) i j =\n  ((f \\<otimes> g) \\<oplus> (f \\<otimes> h)) i j\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "}"], ["proof (state)\nthis:\n  (f \\<otimes> g \\<oplus> h) ?i2 ?j2 =\n  ((f \\<otimes> g) \\<oplus> (f \\<otimes> h)) ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (f \\<otimes> g \\<oplus> h) ?i2 ?j2 =\n  ((f \\<otimes> g) \\<oplus> (f \\<otimes> h)) ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)", "by auto"], ["proof (state)\nthis:\n  f \\<otimes> g \\<oplus> h = (f \\<otimes> g) \\<oplus> (f \\<otimes> h)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_distr: \"(f \\<oplus> g) \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "have \"((f \\<oplus> g) \\<otimes> h) i j  = \\<Sum>{(f i k + g i k) \\<cdot> h k j |k. k \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<oplus> g \\<otimes> h) i j =\n    \\<Sum> {(f i k + g i k) \\<cdot> h k j |k. k \\<in> UNIV}", "by (simp only: mat_mult_def mat_add_def)"], ["proof (state)\nthis:\n  (f \\<oplus> g \\<otimes> h) i j =\n  \\<Sum> {(f i k + g i k) \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "also"], ["proof (state)\nthis:\n  (f \\<oplus> g \\<otimes> h) i j =\n  \\<Sum> {(f i k + g i k) \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "have \"... = \\<Sum>{f i k \\<cdot> h k j + g i k \\<cdot> h k j |k. k \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum> {(f i k + g i k) \\<cdot> h k j |k. k \\<in> UNIV} =\n    \\<Sum> {f i k \\<cdot> h k j + g i k \\<cdot> h k j |k. k \\<in> UNIV}", "by (simp only: distrib_right)"], ["proof (state)\nthis:\n  \\<Sum> {(f i k + g i k) \\<cdot> h k j |k. k \\<in> UNIV} =\n  \\<Sum> {f i k \\<cdot> h k j + g i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "also"], ["proof (state)\nthis:\n  \\<Sum> {(f i k + g i k) \\<cdot> h k j |k. k \\<in> UNIV} =\n  \\<Sum> {f i k \\<cdot> h k j + g i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "have \"... = \\<Sum>{f i k \\<cdot> h k j |k. k \\<in> UNIV} + \\<Sum>{g i k \\<cdot> h k j |k. k \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum> {f i k \\<cdot> h k j + g i k \\<cdot> h k j |k. k \\<in> UNIV} =\n    \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV} +\n    \\<Sum> {g i k \\<cdot> h k j |k. k \\<in> UNIV}", "by (simp only: fset_to_im sum_fun_sum finite_UNIV)"], ["proof (state)\nthis:\n  \\<Sum> {f i k \\<cdot> h k j + g i k \\<cdot> h k j |k. k \\<in> UNIV} =\n  \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV} +\n  \\<Sum> {g i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "finally"], ["proof (chain)\npicking this:\n  (f \\<oplus> g \\<otimes> h) i j =\n  \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV} +\n  \\<Sum> {g i k \\<cdot> h k j |k. k \\<in> UNIV}", "have \"((f \\<oplus> g) \\<otimes> h) i j  = ((f \\<otimes> h) \\<oplus> (g \\<otimes> h)) i j\""], ["proof (prove)\nusing this:\n  (f \\<oplus> g \\<otimes> h) i j =\n  \\<Sum> {f i k \\<cdot> h k j |k. k \\<in> UNIV} +\n  \\<Sum> {g i k \\<cdot> h k j |k. k \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. (f \\<oplus> g \\<otimes> h) i j =\n    ((f \\<otimes> h) \\<oplus> (g \\<otimes> h)) i j", "by (simp only: mat_mult_def mat_add_def)"], ["proof (state)\nthis:\n  (f \\<oplus> g \\<otimes> h) i j =\n  ((f \\<otimes> h) \\<oplus> (g \\<otimes> h)) i j\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "}"], ["proof (state)\nthis:\n  (f \\<oplus> g \\<otimes> h) ?i2 ?j2 =\n  ((f \\<otimes> h) \\<oplus> (g \\<otimes> h)) ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (f \\<oplus> g \\<otimes> h) ?i2 ?j2 =\n  ((f \\<otimes> h) \\<oplus> (g \\<otimes> h)) ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)", "by auto"], ["proof (state)\nthis:\n  f \\<oplus> g \\<otimes> h = (f \\<otimes> h) \\<oplus> (g \\<otimes> h)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma logic_aux1: \"(\\<exists>k. (i = k \\<longrightarrow> x = f i j) \\<and> (i \\<noteq> k \\<longrightarrow> x = 0)) \\<longleftrightarrow> (\\<exists>k. i = k \\<and> x = f i j) \\<or> (\\<exists>k. i \\<noteq> k \\<and> x = 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>k.\n        (i = k \\<longrightarrow> x = f i j) \\<and>\n        (i \\<noteq> k \\<longrightarrow> x = (0::'b))) =\n    ((\\<exists>k. i = k \\<and> x = f i j) \\<or>\n     (\\<exists>k. i \\<noteq> k \\<and> x = (0::'b)))", "by blast"], ["", "lemma logic_aux2: \"(\\<exists>k. (k = j \\<longrightarrow> x = f i j) \\<and> (k \\<noteq> j \\<longrightarrow> x = 0)) \\<longleftrightarrow> (\\<exists>k. k = j \\<and> x = f i j) \\<or> (\\<exists>k. k \\<noteq> j \\<and> x = 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>k.\n        (k = j \\<longrightarrow> x = f i j) \\<and>\n        (k \\<noteq> j \\<longrightarrow> x = (0::'b))) =\n    ((\\<exists>k. k = j \\<and> x = f i j) \\<or>\n     (\\<exists>k. k \\<noteq> j \\<and> x = (0::'b)))", "by blast"], ["", "lemma mat_onel[simp]: \"\\<epsilon> \\<otimes> f = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "have \"(\\<epsilon> \\<otimes> f) i j = \\<Sum>{x. (\\<exists>k. (i = k \\<longrightarrow> x = f i j) \\<and> (i \\<noteq> k \\<longrightarrow> x = 0))}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<epsilon> \\<otimes> f) i j =\n    \\<Sum>\n     {x. \\<exists>k.\n            (i = k \\<longrightarrow> x = f i j) \\<and>\n            (i \\<noteq> k \\<longrightarrow> x = (0::'c))}", "by (auto simp add: mat_mult_def mat_one_def)"], ["proof (state)\nthis:\n  (\\<epsilon> \\<otimes> f) i j =\n  \\<Sum>\n   {x. \\<exists>k.\n          (i = k \\<longrightarrow> x = f i j) \\<and>\n          (i \\<noteq> k \\<longrightarrow> x = (0::'c))}\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "also"], ["proof (state)\nthis:\n  (\\<epsilon> \\<otimes> f) i j =\n  \\<Sum>\n   {x. \\<exists>k.\n          (i = k \\<longrightarrow> x = f i j) \\<and>\n          (i \\<noteq> k \\<longrightarrow> x = (0::'c))}\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "have \"... = \\<Sum>({x. \\<exists>k. (i = k \\<and> x = f i j)} \\<union> {x. \\<exists>k. (i \\<noteq> k \\<and> x = 0)})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum>\n     {x. \\<exists>k.\n            (i = k \\<longrightarrow> x = f i j) \\<and>\n            (i \\<noteq> k \\<longrightarrow> x = (0::'c))} =\n    \\<Sum>\n     ({x. \\<exists>k. i = k \\<and> x = f i j} \\<union>\n      {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)})", "by (simp only: Collect_disj_eq logic_aux1)"], ["proof (state)\nthis:\n  \\<Sum>\n   {x. \\<exists>k.\n          (i = k \\<longrightarrow> x = f i j) \\<and>\n          (i \\<noteq> k \\<longrightarrow> x = (0::'c))} =\n  \\<Sum>\n   ({x. \\<exists>k. i = k \\<and> x = f i j} \\<union>\n    {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)})\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "also"], ["proof (state)\nthis:\n  \\<Sum>\n   {x. \\<exists>k.\n          (i = k \\<longrightarrow> x = f i j) \\<and>\n          (i \\<noteq> k \\<longrightarrow> x = (0::'c))} =\n  \\<Sum>\n   ({x. \\<exists>k. i = k \\<and> x = f i j} \\<union>\n    {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)})\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "have \"... = \\<Sum>{x. \\<exists>k. (i = k \\<and> x = f i j)} + \\<Sum>{x. \\<exists>k. (i \\<noteq> k \\<and> x = 0)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum>\n     ({x. \\<exists>k. i = k \\<and> x = f i j} \\<union>\n      {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)}) =\n    \\<Sum> {x. \\<exists>k. i = k \\<and> x = f i j} +\n    \\<Sum> {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)}", "by (rule sum_union, auto)"], ["proof (state)\nthis:\n  \\<Sum>\n   ({x. \\<exists>k. i = k \\<and> x = f i j} \\<union>\n    {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)}) =\n  \\<Sum> {x. \\<exists>k. i = k \\<and> x = f i j} +\n  \\<Sum> {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)}\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "finally"], ["proof (chain)\npicking this:\n  (\\<epsilon> \\<otimes> f) i j =\n  \\<Sum> {x. \\<exists>k. i = k \\<and> x = f i j} +\n  \\<Sum> {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)}", "have \"(\\<epsilon> \\<otimes> f) i j = f i j\""], ["proof (prove)\nusing this:\n  (\\<epsilon> \\<otimes> f) i j =\n  \\<Sum> {x. \\<exists>k. i = k \\<and> x = f i j} +\n  \\<Sum> {x. \\<exists>k. i \\<noteq> k \\<and> x = (0::'c)}\n\ngoal (1 subgoal):\n 1. (\\<epsilon> \\<otimes> f) i j = f i j", "by (auto simp add: sum.neutral)"], ["proof (state)\nthis:\n  (\\<epsilon> \\<otimes> f) i j = f i j\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "}"], ["proof (state)\nthis:\n  (\\<epsilon> \\<otimes> f) ?i2 ?j2 = f ?i2 ?j2\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<epsilon> \\<otimes> f) ?i2 ?j2 = f ?i2 ?j2\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<otimes> f = f", "by auto"], ["proof (state)\nthis:\n  \\<epsilon> \\<otimes> f = f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_oner[simp]: \"f \\<otimes> \\<epsilon> = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "have \"(f \\<otimes> \\<epsilon>) i j = \\<Sum>{x. (\\<exists>k. (k = j \\<longrightarrow> x = f i j) \\<and> (k \\<noteq> j \\<longrightarrow> x = 0))}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<otimes> \\<epsilon>) i j =\n    \\<Sum>\n     {x. \\<exists>k.\n            (k = j \\<longrightarrow> x = f i j) \\<and>\n            (k \\<noteq> j \\<longrightarrow> x = (0::'c))}", "by (auto simp add: mat_mult_def mat_one_def)"], ["proof (state)\nthis:\n  (f \\<otimes> \\<epsilon>) i j =\n  \\<Sum>\n   {x. \\<exists>k.\n          (k = j \\<longrightarrow> x = f i j) \\<and>\n          (k \\<noteq> j \\<longrightarrow> x = (0::'c))}\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "also"], ["proof (state)\nthis:\n  (f \\<otimes> \\<epsilon>) i j =\n  \\<Sum>\n   {x. \\<exists>k.\n          (k = j \\<longrightarrow> x = f i j) \\<and>\n          (k \\<noteq> j \\<longrightarrow> x = (0::'c))}\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "have \"... = \\<Sum>({x. \\<exists>k. (k = j \\<and> x = f i j)} \\<union> {x. \\<exists>k. (k \\<noteq> j \\<and> x = 0)})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum>\n     {x. \\<exists>k.\n            (k = j \\<longrightarrow> x = f i j) \\<and>\n            (k \\<noteq> j \\<longrightarrow> x = (0::'c))} =\n    \\<Sum>\n     ({x. \\<exists>k. k = j \\<and> x = f i j} \\<union>\n      {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)})", "by (simp only: Collect_disj_eq logic_aux2)"], ["proof (state)\nthis:\n  \\<Sum>\n   {x. \\<exists>k.\n          (k = j \\<longrightarrow> x = f i j) \\<and>\n          (k \\<noteq> j \\<longrightarrow> x = (0::'c))} =\n  \\<Sum>\n   ({x. \\<exists>k. k = j \\<and> x = f i j} \\<union>\n    {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)})\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "also"], ["proof (state)\nthis:\n  \\<Sum>\n   {x. \\<exists>k.\n          (k = j \\<longrightarrow> x = f i j) \\<and>\n          (k \\<noteq> j \\<longrightarrow> x = (0::'c))} =\n  \\<Sum>\n   ({x. \\<exists>k. k = j \\<and> x = f i j} \\<union>\n    {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)})\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "have \"... = \\<Sum>{x. \\<exists>k. (k = j \\<and> x = f i j)} + \\<Sum>{x. \\<exists>k. (k \\<noteq> j \\<and> x = 0)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum>\n     ({x. \\<exists>k. k = j \\<and> x = f i j} \\<union>\n      {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)}) =\n    \\<Sum> {x. \\<exists>k. k = j \\<and> x = f i j} +\n    \\<Sum> {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)}", "by (rule sum_union, auto)"], ["proof (state)\nthis:\n  \\<Sum>\n   ({x. \\<exists>k. k = j \\<and> x = f i j} \\<union>\n    {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)}) =\n  \\<Sum> {x. \\<exists>k. k = j \\<and> x = f i j} +\n  \\<Sum> {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)}\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "finally"], ["proof (chain)\npicking this:\n  (f \\<otimes> \\<epsilon>) i j =\n  \\<Sum> {x. \\<exists>k. k = j \\<and> x = f i j} +\n  \\<Sum> {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)}", "have \"(f \\<otimes> \\<epsilon>) i j = f i j\""], ["proof (prove)\nusing this:\n  (f \\<otimes> \\<epsilon>) i j =\n  \\<Sum> {x. \\<exists>k. k = j \\<and> x = f i j} +\n  \\<Sum> {x. \\<exists>k. k \\<noteq> j \\<and> x = (0::'c)}\n\ngoal (1 subgoal):\n 1. (f \\<otimes> \\<epsilon>) i j = f i j", "by (auto simp add: sum.neutral)"], ["proof (state)\nthis:\n  (f \\<otimes> \\<epsilon>) i j = f i j\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "}"], ["proof (state)\nthis:\n  (f \\<otimes> \\<epsilon>) ?i2 ?j2 = f ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "thus ?thesis"], ["proof (prove)\nusing this:\n  (f \\<otimes> \\<epsilon>) ?i2 ?j2 = f ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<otimes> \\<epsilon> = f", "by auto"], ["proof (state)\nthis:\n  f \\<otimes> \\<epsilon> = f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_rearrange:\n  fixes F :: \"'a \\<Rightarrow> 'k1 \\<Rightarrow> 'k2 \\<Rightarrow> 'b \\<Rightarrow> 'c::dioid_one_zero\"\n  assumes fUNk1: \"finite (UNIV::'k1 set)\"\n  assumes fUNk2: \"finite (UNIV::'k2 set)\"\n  shows \"\\<Sum>{\\<Sum>{F i k1 k2 j |k2. k2 \\<in> (UNIV::'k2 set)} |k1. k1 \\<in> (UNIV::'k1 set)} = \\<Sum>{\\<Sum>{F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "fix z :: 'c"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "let ?lhs = \"\\<Sum>{\\<Sum>{F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "let ?rhs = \"\\<Sum>{\\<Sum>{F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "have \"?lhs \\<le> z \\<longleftrightarrow> (\\<forall>k1 k2. F i k1 k2 j \\<le> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\n     \\<le> z) =\n    (\\<forall>k1 k2. F i k1 k2 j \\<le> z)", "by (simp only: fset_to_im sum_fun_image_sup fUNk1 fUNk2, auto)"], ["proof (state)\nthis:\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\n   \\<le> z) =\n  (\\<forall>k1 k2. F i k1 k2 j \\<le> z)\n\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "hence \"?lhs \\<le> z \\<longleftrightarrow> ?rhs \\<le> z\""], ["proof (prove)\nusing this:\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\n   \\<le> z) =\n  (\\<forall>k1 k2. F i k1 k2 j \\<le> z)\n\ngoal (1 subgoal):\n 1. (\\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\n     \\<le> z) =\n    (\\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\n     \\<le> z)", "by (simp only: fset_to_im sum_fun_image_sup fUNk1 fUNk2, auto)"], ["proof (state)\nthis:\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\n   \\<le> z) =\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\n   \\<le> z)\n\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "}"], ["proof (state)\nthis:\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\n   \\<le> ?z2) =\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\n   \\<le> ?z2)\n\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\n   \\<le> ?z2) =\n  (\\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\n   \\<le> ?z2)\n\ngoal (1 subgoal):\n 1. \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n    \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}", "by (simp add: eq_iff)"], ["proof (state)\nthis:\n  \\<Sum> {\\<Sum> {F i k1 k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV} =\n  \\<Sum> {\\<Sum> {F i k1 k2 j |k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mat_mult_assoc: \"f \\<otimes> (g \\<otimes> h) = (f \\<otimes> g) \\<otimes> h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "have \"(f \\<otimes> (g \\<otimes> h)) i j = \\<Sum>{f i k1 \\<cdot> \\<Sum>{g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<otimes> (g \\<otimes> h)) i j =\n    \\<Sum>\n     {f i k1 \\<cdot> \\<Sum> {g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n      k1 \\<in> UNIV}", "by (simp only: mat_mult_def)"], ["proof (state)\nthis:\n  (f \\<otimes> (g \\<otimes> h)) i j =\n  \\<Sum>\n   {f i k1 \\<cdot> \\<Sum> {g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "also"], ["proof (state)\nthis:\n  (f \\<otimes> (g \\<otimes> h)) i j =\n  \\<Sum>\n   {f i k1 \\<cdot> \\<Sum> {g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "have \"... = \\<Sum>{\\<Sum>{f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1. k1 \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum>\n     {f i k1 \\<cdot> \\<Sum> {g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n      k1 \\<in> UNIV} =\n    \\<Sum>\n     {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n      k1 \\<in> UNIV}", "by (simp only: fset_to_im sum_fun_distl finite_UNIV mult.assoc)"], ["proof (state)\nthis:\n  \\<Sum>\n   {f i k1 \\<cdot> \\<Sum> {g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV} =\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "also"], ["proof (state)\nthis:\n  \\<Sum>\n   {f i k1 \\<cdot> \\<Sum> {g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV} =\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "have \"... = \\<Sum>{\\<Sum>{(f i k1 \\<cdot> g k1 k2) \\<cdot> h k2 j|k1. k1 \\<in> UNIV} |k2. k2 \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum>\n     {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n      k1 \\<in> UNIV} =\n    \\<Sum>\n     {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k1. k1 \\<in> UNIV} |k2.\n      k2 \\<in> UNIV}", "by (rule mat_rearrange, auto simp add: finite_UNIV)"], ["proof (state)\nthis:\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV} =\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k1. k1 \\<in> UNIV} |k2.\n    k2 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "also"], ["proof (state)\nthis:\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k2. k2 \\<in> UNIV} |k1.\n    k1 \\<in> UNIV} =\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k1. k1 \\<in> UNIV} |k2.\n    k2 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "have \"... = \\<Sum>{\\<Sum>{f i k1 \\<cdot> g k1 k2 |k1. k1 \\<in> UNIV} \\<cdot> h k2 j |k2. k2 \\<in> UNIV}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sum>\n     {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k1. k1 \\<in> UNIV} |k2.\n      k2 \\<in> UNIV} =\n    \\<Sum>\n     {\\<Sum> {f i k1 \\<cdot> g k1 k2 |k1. k1 \\<in> UNIV} \\<cdot> h k2 j |k2.\n      k2 \\<in> UNIV}", "by (simp only: fset_to_im sum_fun_distr finite_UNIV)"], ["proof (state)\nthis:\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 \\<cdot> h k2 j |k1. k1 \\<in> UNIV} |k2.\n    k2 \\<in> UNIV} =\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 |k1. k1 \\<in> UNIV} \\<cdot> h k2 j |k2.\n    k2 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "finally"], ["proof (chain)\npicking this:\n  (f \\<otimes> (g \\<otimes> h)) i j =\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 |k1. k1 \\<in> UNIV} \\<cdot> h k2 j |k2.\n    k2 \\<in> UNIV}", "have \"(f \\<otimes> (g \\<otimes> h)) i j  = ((f \\<otimes> g) \\<otimes> h) i j \""], ["proof (prove)\nusing this:\n  (f \\<otimes> (g \\<otimes> h)) i j =\n  \\<Sum>\n   {\\<Sum> {f i k1 \\<cdot> g k1 k2 |k1. k1 \\<in> UNIV} \\<cdot> h k2 j |k2.\n    k2 \\<in> UNIV}\n\ngoal (1 subgoal):\n 1. (f \\<otimes> (g \\<otimes> h)) i j = (f \\<otimes> g \\<otimes> h) i j", "by (simp only: mat_mult_def)"], ["proof (state)\nthis:\n  (f \\<otimes> (g \\<otimes> h)) i j = (f \\<otimes> g \\<otimes> h) i j\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "}"], ["proof (state)\nthis:\n  (f \\<otimes> (g \\<otimes> h)) ?i2 ?j2 =\n  (f \\<otimes> g \\<otimes> h) ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "thus ?thesis"], ["proof (prove)\nusing this:\n  (f \\<otimes> (g \\<otimes> h)) ?i2 ?j2 =\n  (f \\<otimes> g \\<otimes> h) ?i2 ?j2\n\ngoal (1 subgoal):\n 1. f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h", "by auto"], ["proof (state)\nthis:\n  f \\<otimes> (g \\<otimes> h) = f \\<otimes> g \\<otimes> h\n\ngoal:\nNo subgoals!", "qed"], ["", "definition mat_less_eq :: \"('a, 'b, 'c::dioid_one_zero) matrix \\<Rightarrow> ('a, 'b, 'c) matrix \\<Rightarrow> bool\" where\n  \"mat_less_eq f g   = (f \\<oplus> g  = g)\""], ["", "definition mat_less :: \"('a, 'b, 'c::dioid_one_zero) matrix \\<Rightarrow> ('a, 'b, 'c) matrix \\<Rightarrow> bool\" where\n  \"mat_less f g  = (mat_less_eq f g \\<and> f \\<noteq> g)\""], ["", "interpretation matrix_dioid: dioid_one_zero  mat_add mat_mult mat_one mat_zero mat_less_eq mat_less"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.dioid_one_zero (\\<oplus>) (\\<otimes>) \\<epsilon> \\<delta>\n     mat_less_eq mat_less", "by (unfold_locales) (metis mat_add_assoc mat_add_comm mat_mult_assoc[symmetric] mat_distr mat_onel mat_oner mat_zeror mat_annil mat_annir mat_less_eq_def mat_less_def mat_add_idem mat_distl)+"], ["", "text \\<open>As in the case of formal power series we currently do not\nimplement the Kleene star of matrices, since this is complicated.\\<close>"], ["", "end"]]}