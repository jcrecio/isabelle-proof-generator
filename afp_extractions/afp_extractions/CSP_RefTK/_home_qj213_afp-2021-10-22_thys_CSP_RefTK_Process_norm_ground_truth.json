{"file_name": "/home/qj213/afp-2021-10-22/thys/CSP_RefTK/Process_norm.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/CSP_RefTK", "problem_names": ["lemma dnorm_cont[simp]:\n  fixes Tr::\"'state::type \\<Rightarrow> 'event::type set\" and Up::\"'state \\<Rightarrow> 'event \\<Rightarrow> 'state\"\n  shows \"cont (\\<lambda>X. (\\<lambda>s. \\<box> e \\<in> (Tr s) \\<rightarrow> X (Ur s e)))\" (is \"cont ?f\")", "lemma dnorm_inter:  \n  fixes Tr\\<^sub>1 ::\"'state\\<^sub>1::type \\<Rightarrow> 'event::type set\" and Tr\\<^sub>2::\"'state\\<^sub>2::type \\<Rightarrow> 'event set\" \n    and Up\\<^sub>1 ::\"'state\\<^sub>1 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>1\" and Up\\<^sub>2::\"'state\\<^sub>2 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>2\"\n  defines P: \"P \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>\" (is \"P \\<equiv> fix\\<cdot>(\\<Lambda> X. ?P X)\")\n  defines Q: \"Q \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>\" (is \"Q \\<equiv> fix\\<cdot>(\\<Lambda> X. ?Q X)\")\n\n  assumes indep: \\<open>\\<forall>s\\<^sub>1 s\\<^sub>2. Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2 = {}\\<close>\n\n  defines Tr: \"Tr \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2). Tr\\<^sub>1 s\\<^sub>1 \\<union> Tr\\<^sub>2 s\\<^sub>2)\"\n  defines Up: \"Up \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2) e. if e \\<in> Tr\\<^sub>1 s\\<^sub>1 then (Up\\<^sub>1 s\\<^sub>1 e,s\\<^sub>2)\n                                else if e \\<in> Tr\\<^sub>2 s\\<^sub>2 then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                                else (s\\<^sub>1,s\\<^sub>2))\"  \n  defines S: \"S \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\" (is \"S \\<equiv> fix\\<cdot>(\\<Lambda> X. ?S X)\")\n  \n  shows \"(P s\\<^sub>1 ||| Q s\\<^sub>2) = S (s\\<^sub>1,s\\<^sub>2)\"", "lemma dnorm_par:  \n  fixes Tr\\<^sub>1 ::\"'state\\<^sub>1::type \\<Rightarrow> 'event::type set\" and Tr\\<^sub>2::\"'state\\<^sub>2::type \\<Rightarrow> 'event set\" \n    and Up\\<^sub>1 ::\"'state\\<^sub>1 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>1\" and Up\\<^sub>2::\"'state\\<^sub>2 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>2\"\n  defines P: \"P \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>\" (is \"P \\<equiv> fix\\<cdot>(\\<Lambda> X. ?P X)\")\n  defines Q: \"Q \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>\" (is \"Q \\<equiv> fix\\<cdot>(\\<Lambda> X. ?Q X)\")\n\n  defines Tr: \"Tr \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2). Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\"\n  defines Up: \"Up \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2) e. (Up\\<^sub>1 s\\<^sub>1 e, Up\\<^sub>2 s\\<^sub>2 e))\"  \n  defines S: \"S \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\" (is \"S \\<equiv> fix\\<cdot>(\\<Lambda> X. ?S X)\")\n  \n  shows \"(P s\\<^sub>1 || Q s\\<^sub>2) = S (s\\<^sub>1,s\\<^sub>2)\"", "lemma deadlock_free_dnorm_ :\n  fixes Tr ::\"'state::type \\<Rightarrow> 'event::type set\" \n    and Up ::\"'state \\<Rightarrow> 'event \\<Rightarrow> 'state\" \n    and s\\<^sub>0::'state \n  assumes non_reachable_sink: \"\\<forall>s \\<in> \\<RR> Tr Up s\\<^sub>0. Tr s \\<noteq> {}\"\n  defines P: \"P \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\" (is \"P \\<equiv> fix\\<cdot>(\\<Lambda> X. ?P X)\")\n  shows  \"s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> deadlock_free_v2 (P s)\"", "lemmas deadlock_free_dnorm = deadlock_free_dnorm_[rotated, OF rbase, rule_format]"], "translations": [["", "lemma dnorm_cont[simp]:\n  fixes Tr::\"'state::type \\<Rightarrow> 'event::type set\" and Up::\"'state \\<Rightarrow> 'event \\<Rightarrow> 'state\"\n  shows \"cont (\\<lambda>X. (\\<lambda>s. \\<box> e \\<in> (Tr s) \\<rightarrow> X (Ur s e)))\" (is \"cont ?f\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. cont (\\<lambda>X s. Mprefix (Tr s) (\\<lambda>e. X (Ur s e)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cont (\\<lambda>X s. Mprefix (Tr s) (\\<lambda>e. X (Ur s e)))", "have  \"cont (\\<lambda>X. ?f X s)\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. cont (\\<lambda>X. Mprefix (Tr s) (\\<lambda>e. X (Ur s e)))", "by (simp add:cont_fun)"], ["proof (state)\nthis:\n  cont (\\<lambda>X. Mprefix (Tr ?s) (\\<lambda>e. X (Ur ?s e)))\n\ngoal (1 subgoal):\n 1. cont (\\<lambda>X s. Mprefix (Tr s) (\\<lambda>e. X (Ur s e)))", "then"], ["proof (chain)\npicking this:\n  cont (\\<lambda>X. Mprefix (Tr ?s) (\\<lambda>e. X (Ur ?s e)))", "show ?thesis"], ["proof (prove)\nusing this:\n  cont (\\<lambda>X. Mprefix (Tr ?s) (\\<lambda>e. X (Ur ?s e)))\n\ngoal (1 subgoal):\n 1. cont (\\<lambda>X s. Mprefix (Tr s) (\\<lambda>e. X (Ur s e)))", "by simp"], ["proof (state)\nthis:\n  cont (\\<lambda>X s. Mprefix (Tr s) (\\<lambda>e. X (Ur s e)))\n\ngoal:\nNo subgoals!", "qed"], ["", "section\\<open>Interleaving product lemma\\<close>"], ["", "lemma dnorm_inter:  \n  fixes Tr\\<^sub>1 ::\"'state\\<^sub>1::type \\<Rightarrow> 'event::type set\" and Tr\\<^sub>2::\"'state\\<^sub>2::type \\<Rightarrow> 'event set\" \n    and Up\\<^sub>1 ::\"'state\\<^sub>1 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>1\" and Up\\<^sub>2::\"'state\\<^sub>2 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>2\"\n  defines P: \"P \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>\" (is \"P \\<equiv> fix\\<cdot>(\\<Lambda> X. ?P X)\")\n  defines Q: \"Q \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>\" (is \"Q \\<equiv> fix\\<cdot>(\\<Lambda> X. ?Q X)\")\n\n  assumes indep: \\<open>\\<forall>s\\<^sub>1 s\\<^sub>2. Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2 = {}\\<close>\n\n  defines Tr: \"Tr \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2). Tr\\<^sub>1 s\\<^sub>1 \\<union> Tr\\<^sub>2 s\\<^sub>2)\"\n  defines Up: \"Up \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2) e. if e \\<in> Tr\\<^sub>1 s\\<^sub>1 then (Up\\<^sub>1 s\\<^sub>1 e,s\\<^sub>2)\n                                else if e \\<in> Tr\\<^sub>2 s\\<^sub>2 then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                                else (s\\<^sub>1,s\\<^sub>2))\"  \n  defines S: \"S \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\" (is \"S \\<equiv> fix\\<cdot>(\\<Lambda> X. ?S X)\")\n  \n  shows \"(P s\\<^sub>1 ||| Q s\\<^sub>2) = S (s\\<^sub>1,s\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have P_rec: \"P = ?P P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))", "using fix_eq[of \"(\\<Lambda> X. ?P X)\"] P"], ["proof (prove)\nusing this:\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk> =\n  (\\<Lambda> X.\n      (\\<lambda>s.\n          Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. X (Up\\<^sub>1 s e))))\\<cdot>\n  (P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>)\n  P \\<equiv>\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>\n\ngoal (1 subgoal):\n 1. P =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))", "by simp"], ["proof (state)\nthis:\n  P = (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have Q_rec: \"Q = ?Q Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))", "using fix_eq[of \"(\\<Lambda> X. ?Q X)\"] Q"], ["proof (prove)\nusing this:\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk> =\n  (\\<Lambda> X.\n      (\\<lambda>s.\n          Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. X (Up\\<^sub>2 s e))))\\<cdot>\n  (P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>)\n  Q \\<equiv>\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>\n\ngoal (1 subgoal):\n 1. Q =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))", "by simp"], ["proof (state)\nthis:\n  Q = (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have S_rec: \"S = ?S S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. S (Up s e)))", "using fix_eq[of \"(\\<Lambda> X. ?S X)\"] S"], ["proof (prove)\nusing this:\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk> =\n  (\\<Lambda> X.\n      (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. X (Up s e))))\\<cdot>\n  (P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>)\n  S \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\n\ngoal (1 subgoal):\n 1. S = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. S (Up s e)))", "by simp"], ["proof (state)\nthis:\n  S = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. S (Up s e)))\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have dir1: \"\\<forall> s\\<^sub>1 s\\<^sub>2. (P s\\<^sub>1 ||| Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (P s\\<^sub>1|||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)", "proof(subst P, subst Q, \n        induct rule:parallel_fix_ind_inc[of \"\\<lambda>x y. \\<forall> s\\<^sub>1 s\\<^sub>2. (x s\\<^sub>1 ||| y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1,s\\<^sub>2)\"])"], ["proof (state)\ngoal (4 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               (fst x s\\<^sub>1|||snd x s\\<^sub>2) \\<sqsubseteq>\n               S (s\\<^sub>1, s\\<^sub>2))\n 2. \\<And>y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (\\<bottom> s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 3. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 4. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "case adm:1"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               (fst x s\\<^sub>1|||snd x s\\<^sub>2) \\<sqsubseteq>\n               S (s\\<^sub>1, s\\<^sub>2))\n 2. \\<And>y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (\\<bottom> s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 3. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 4. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               (fst x s\\<^sub>1|||snd x s\\<^sub>2) \\<sqsubseteq>\n               S (s\\<^sub>1, s\\<^sub>2))", "by (intro adm_all adm_below) (simp_all add: cont2cont_fun)"], ["proof (state)\nthis:\n  adm (\\<lambda>x.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (fst x s\\<^sub>1|||snd x s\\<^sub>2) \\<sqsubseteq>\n             S (s\\<^sub>1, s\\<^sub>2))\n\ngoal (3 subgoals):\n 1. \\<And>y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (\\<bottom> s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 3. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (\\<bottom> s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 3. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "case base_fst:(2 y)"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. \\<And>y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (\\<bottom> s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 3. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (\\<bottom> s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)", "by (metis Inter_commute app_strict minimal par_Int_bot)"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (\\<bottom> s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "case base_snd:(3 x)"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)", "by (simp add: par_Int_bot)"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "case step:(4 x y)"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (((\\<Lambda> x.\n           (\\<lambda>s.\n               Mprefix (Tr\\<^sub>1 s)\n                (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n       x)\n       s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||((\\<Lambda> x.\n                         (\\<lambda>s.\n                             Mprefix (Tr\\<^sub>2 s)\n                              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                     y)\n                     s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s\\<^sub>1 s\\<^sub>2.\n                            (((\\<Lambda> x.\n                                  (\\<lambda>s.\nMprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n                              x)\n                              s\\<^sub>1|||((\\<Lambda> x.\n         (\\<lambda>s.\n             Mprefix (Tr\\<^sub>2 s)\n              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n     y)\n     s\\<^sub>2) \\<sqsubseteq>\n                            S (s\\<^sub>1, s\\<^sub>2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (((\\<Lambda> x.\n           (\\<lambda>s.\n               Mprefix (Tr\\<^sub>1 s)\n                (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n       x)\n       s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||((\\<Lambda> x.\n                         (\\<lambda>s.\n                             Mprefix (Tr\\<^sub>2 s)\n                              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                     y)\n                     s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)", "show ?case (is \"\\<forall> s\\<^sub>1 s\\<^sub>2. ?C s\\<^sub>1 s\\<^sub>2\")"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (((\\<Lambda> x.\n           (\\<lambda>s.\n               Mprefix (Tr\\<^sub>1 s)\n                (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n       x)\n       s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||((\\<Lambda> x.\n                         (\\<lambda>s.\n                             Mprefix (Tr\\<^sub>2 s)\n                              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                     y)\n                     s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (((\\<Lambda> x.\n             (\\<lambda>s.\n                 Mprefix (Tr\\<^sub>1 s)\n                  (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n         x)\n         s\\<^sub>1|||((\\<Lambda> x.\n                          (\\<lambda>s.\n                              Mprefix (Tr\\<^sub>2 s)\n                               (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                      y)\n                      s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)", "proof(intro allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> (((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>1 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>1 s e))))\\<cdot>\n                           x)\n                           s\\<^sub>1|||((\\<Lambda> x.\n      (\\<lambda>s.\n          Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n  y)\n  s\\<^sub>2) \\<sqsubseteq>\n                         S (s\\<^sub>1, s\\<^sub>2)", "fix s\\<^sub>1 s\\<^sub>2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<lbrakk>\\<forall>s\\<^sub>1 s\\<^sub>2.\n                   (x s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n                   S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (((\\<Lambda> x.\n                 (\\<lambda>s.\n                     Mprefix (Tr\\<^sub>1 s)\n                      (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n             x)\n             s\\<^sub>1|||y s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2);\n        \\<forall>s\\<^sub>1 s\\<^sub>2.\n           (x s\\<^sub>1|||((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>2 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>2 s e))))\\<cdot>\n                           y)\n                           s\\<^sub>2) \\<sqsubseteq>\n           S (s\\<^sub>1, s\\<^sub>2)\\<rbrakk>\n       \\<Longrightarrow> (((\\<Lambda> x.\n                               (\\<lambda>s.\n                                   Mprefix (Tr\\<^sub>1 s)\n                                    (\\<lambda>e.\n  x (Up\\<^sub>1 s e))))\\<cdot>\n                           x)\n                           s\\<^sub>1|||((\\<Lambda> x.\n      (\\<lambda>s.\n          Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n  y)\n  s\\<^sub>2) \\<sqsubseteq>\n                         S (s\\<^sub>1, s\\<^sub>2)", "show \"?C s\\<^sub>1 s\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<Lambda> x.\n          (\\<lambda>s.\n              Mprefix (Tr\\<^sub>1 s)\n               (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n      x)\n      s\\<^sub>1|||((\\<Lambda> x.\n                       (\\<lambda>s.\n                           Mprefix (Tr\\<^sub>2 s)\n                            (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                   y)\n                   s\\<^sub>2) \\<sqsubseteq>\n    S (s\\<^sub>1, s\\<^sub>2)", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>e.\n          x (Up\\<^sub>1 s\\<^sub>1\n              e))|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                     (\\<lambda>e. y (Up\\<^sub>2 s\\<^sub>2 e))) \\<sqsubseteq>\n    S (s\\<^sub>1, s\\<^sub>2)", "apply(subst mprefix_Par_Int[where C=\"{}\", simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>xa.\n          x (Up\\<^sub>1 s\\<^sub>1\n              xa)|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                     (\\<lambda>e. y (Up\\<^sub>2 s\\<^sub>2 e))) [+]\n     Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n      (\\<lambda>ya.\n          Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n           (\\<lambda>e.\n               x (Up\\<^sub>1 s\\<^sub>1\n                   e))|||y (Up\\<^sub>2 s\\<^sub>2 ya))) \\<sqsubseteq>\n    S (s\\<^sub>1, s\\<^sub>2)", "apply(subst S_rec, simp add: Tr Up mprefix_Un_distr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>xa.\n          x (Up\\<^sub>1 s\\<^sub>1\n              xa)|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                     (\\<lambda>e. y (Up\\<^sub>2 s\\<^sub>2 e))) [+]\n     Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n      (\\<lambda>ya.\n          Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n           (\\<lambda>e.\n               x (Up\\<^sub>1 s\\<^sub>1\n                   e))|||y (Up\\<^sub>2 s\\<^sub>2 ya))) \\<sqsubseteq>\n    (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>e.\n          S (if e \\<in> Tr\\<^sub>1 s\\<^sub>1\n             then (Up\\<^sub>1 s\\<^sub>1 e, s\\<^sub>2)\n             else if e \\<in> Tr\\<^sub>2 s\\<^sub>2\n                  then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                  else (s\\<^sub>1, s\\<^sub>2))) [+]\n     Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n      (\\<lambda>e.\n          S (if e \\<in> Tr\\<^sub>1 s\\<^sub>1\n             then (Up\\<^sub>1 s\\<^sub>1 e, s\\<^sub>2)\n             else if e \\<in> Tr\\<^sub>2 s\\<^sub>2\n                  then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                  else (s\\<^sub>1, s\\<^sub>2))))", "apply(intro mono_det_ref mono_mprefix_ref)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>xa\\<in>Tr\\<^sub>1 s\\<^sub>1.\n       (x (Up\\<^sub>1 s\\<^sub>1\n            xa)|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                   (\\<lambda>e. y (Up\\<^sub>2 s\\<^sub>2 e))) \\<sqsubseteq>\n       S (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2))\n 2. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n         (\\<lambda>e.\n             x (Up\\<^sub>1 s\\<^sub>1\n                 e))|||y (Up\\<^sub>2 s\\<^sub>2 xa)) \\<sqsubseteq>\n       S (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2))", "using step(3)[simplified] indep"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                     (\\<lambda>e. y (Up\\<^sub>2 s\\<^sub>2 e))) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2 = {}\n\ngoal (2 subgoals):\n 1. \\<forall>xa\\<in>Tr\\<^sub>1 s\\<^sub>1.\n       (x (Up\\<^sub>1 s\\<^sub>1\n            xa)|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                   (\\<lambda>e. y (Up\\<^sub>2 s\\<^sub>2 e))) \\<sqsubseteq>\n       S (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2))\n 2. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n         (\\<lambda>e.\n             x (Up\\<^sub>1 s\\<^sub>1\n                 e))|||y (Up\\<^sub>2 s\\<^sub>2 xa)) \\<sqsubseteq>\n       S (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n         (\\<lambda>e.\n             x (Up\\<^sub>1 s\\<^sub>1\n                 e))|||y (Up\\<^sub>2 s\\<^sub>2 xa)) \\<sqsubseteq>\n       S (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2))", "using step(2)[simplified] indep"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n       (\\<lambda>e. x (Up\\<^sub>1 s\\<^sub>1 e))|||y s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2 = {}\n\ngoal (1 subgoal):\n 1. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n         (\\<lambda>e.\n             x (Up\\<^sub>1 s\\<^sub>1\n                 e))|||y (Up\\<^sub>2 s\\<^sub>2 xa)) \\<sqsubseteq>\n       S (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2))", "by fastforce"], ["proof (state)\nthis:\n  (((\\<Lambda> x.\n        (\\<lambda>s.\n            Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n    x)\n    s\\<^sub>1|||((\\<Lambda> x.\n                     (\\<lambda>s.\n                         Mprefix (Tr\\<^sub>2 s)\n                          (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                 y)\n                 s\\<^sub>2) \\<sqsubseteq>\n  S (s\\<^sub>1, s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (((\\<Lambda> x.\n           (\\<lambda>s.\n               Mprefix (Tr\\<^sub>1 s)\n                (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n       x)\n       s\\<^sub>1|||((\\<Lambda> x.\n                        (\\<lambda>s.\n                            Mprefix (Tr\\<^sub>2 s)\n                             (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                    y)\n                    s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1|||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have dir2: \"\\<forall> s\\<^sub>1 s\\<^sub>2.  S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1 ||| Q s\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1|||Q s\\<^sub>2)", "proof(subst S, induct rule:fix_ind_k[of \"\\<lambda>x. \\<forall> s\\<^sub>1 s\\<^sub>2. x (s\\<^sub>1,s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1 ||| Q s\\<^sub>2)\" 1])"], ["proof (state)\ngoal (3 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n               (P s\\<^sub>1|||Q s\\<^sub>2))\n 2. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)\n 3. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "case adm:1"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n               (P s\\<^sub>1|||Q s\\<^sub>2))\n 2. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)\n 3. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n               (P s\\<^sub>1|||Q s\\<^sub>2))", "by (intro adm_all adm_below) (simp_all add: cont_fun)"], ["proof (state)\nthis:\n  adm (\\<lambda>x.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2))\n\ngoal (2 subgoals):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "case base_k_steps:2"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "by simp"], ["proof (state)\nthis:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         \\<bottom>)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1|||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "case step:(3 x)"], ["proof (state)\nthis:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         x)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1|||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1|||Q s\\<^sub>2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         x)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1|||Q s\\<^sub>2)", "show ?case (is \"\\<forall> s\\<^sub>1 s\\<^sub>2. ?C s\\<^sub>1 s\\<^sub>2\")"], ["proof (prove)\nusing this:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         x)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1|||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1|||Q s\\<^sub>2)", "proof(intro allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1|||Q s\\<^sub>2)", "fix s\\<^sub>1 s\\<^sub>2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1|||Q s\\<^sub>2)", "have P_rec_sym:\"Mprefix (Tr\\<^sub>1 s\\<^sub>1) (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) = P s\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n     (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) =\n    P s\\<^sub>1", "using P_rec"], ["proof (prove)\nusing this:\n  P = (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))\n\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n     (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) =\n    P s\\<^sub>1", "by metis"], ["proof (state)\nthis:\n  Mprefix (Tr\\<^sub>1 s\\<^sub>1) (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) =\n  P s\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1|||Q s\\<^sub>2)", "have Q_rec_sym:\"Mprefix (Tr\\<^sub>2 s\\<^sub>2) (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) = Q s\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) =\n    Q s\\<^sub>2", "using Q_rec"], ["proof (prove)\nusing this:\n  Q = (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))\n\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) =\n    Q s\\<^sub>2", "by metis"], ["proof (state)\nthis:\n  Mprefix (Tr\\<^sub>2 s\\<^sub>2) (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) =\n  Q s\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1|||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1|||Q s\\<^sub>2)", "show \"?C s\\<^sub>1 s\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (iterate 1\\<cdot>\n     (\\<Lambda> x.\n         (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n     x)\n     (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n    (P s\\<^sub>1|||Q s\\<^sub>2)", "apply(simp add: Tr Up mprefix_Un_distr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>e.\n          x (if e \\<in> Tr\\<^sub>1 s\\<^sub>1\n             then (Up\\<^sub>1 s\\<^sub>1 e, s\\<^sub>2)\n             else if e \\<in> Tr\\<^sub>2 s\\<^sub>2\n                  then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                  else (s\\<^sub>1, s\\<^sub>2))) [+]\n     Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n      (\\<lambda>e.\n          x (if e \\<in> Tr\\<^sub>1 s\\<^sub>1\n             then (Up\\<^sub>1 s\\<^sub>1 e, s\\<^sub>2)\n             else if e \\<in> Tr\\<^sub>2 s\\<^sub>2\n                  then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                  else (s\\<^sub>1, s\\<^sub>2)))) \\<sqsubseteq>\n    (P s\\<^sub>1|||Q s\\<^sub>2)", "apply(subst P_rec, subst Q_rec, subst mprefix_Par_Int[where C=\"{}\", simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>e.\n          x (if e \\<in> Tr\\<^sub>1 s\\<^sub>1\n             then (Up\\<^sub>1 s\\<^sub>1 e, s\\<^sub>2)\n             else if e \\<in> Tr\\<^sub>2 s\\<^sub>2\n                  then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                  else (s\\<^sub>1, s\\<^sub>2))) [+]\n     Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n      (\\<lambda>e.\n          x (if e \\<in> Tr\\<^sub>1 s\\<^sub>1\n             then (Up\\<^sub>1 s\\<^sub>1 e, s\\<^sub>2)\n             else if e \\<in> Tr\\<^sub>2 s\\<^sub>2\n                  then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 e)\n                  else (s\\<^sub>1, s\\<^sub>2)))) \\<sqsubseteq>\n    (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>x.\n          P (Up\\<^sub>1 s\\<^sub>1\n              x)|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                    (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e))) [+]\n     Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n      (\\<lambda>y.\n          Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n           (\\<lambda>e.\n               P (Up\\<^sub>1 s\\<^sub>1 e))|||Q (Up\\<^sub>2 s\\<^sub>2 y)))", "apply(intro mono_det_ref mono_mprefix_ref)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<forall>xa\\<in>Tr\\<^sub>1 s\\<^sub>1.\n       x (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2)) \\<sqsubseteq>\n       (P (Up\\<^sub>1 s\\<^sub>1\n            xa)|||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                   (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)))\n 2. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       x (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2)) \\<sqsubseteq>\n       (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n         (\\<lambda>e.\n             P (Up\\<^sub>1 s\\<^sub>1 e))|||Q (Up\\<^sub>2 s\\<^sub>2 xa))", "apply(subst Q_rec_sym, simp add:step[simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       x (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2)) \\<sqsubseteq>\n       (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n         (\\<lambda>e.\n             P (Up\\<^sub>1 s\\<^sub>1 e))|||Q (Up\\<^sub>2 s\\<^sub>2 xa))", "apply(subst P_rec_sym)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       x (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2)) \\<sqsubseteq>\n       (P s\\<^sub>1|||Q (Up\\<^sub>2 s\\<^sub>2 xa))", "using step[simplified] indep"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1|||Q s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2 = {}\n\ngoal (1 subgoal):\n 1. \\<forall>xa\\<in>Tr\\<^sub>2 s\\<^sub>2.\n       x (if xa \\<in> Tr\\<^sub>1 s\\<^sub>1\n          then (Up\\<^sub>1 s\\<^sub>1 xa, s\\<^sub>2)\n          else if xa \\<in> Tr\\<^sub>2 s\\<^sub>2\n               then (s\\<^sub>1, Up\\<^sub>2 s\\<^sub>2 xa)\n               else (s\\<^sub>1, s\\<^sub>2)) \\<sqsubseteq>\n       (P s\\<^sub>1|||Q (Up\\<^sub>2 s\\<^sub>2 xa))", "by fastforce"], ["proof (state)\nthis:\n  (iterate 1\\<cdot>\n   (\\<Lambda> x.\n       (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n   x)\n   (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n  (P s\\<^sub>1|||Q s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (iterate 1\\<cdot>\n      (\\<Lambda> x.\n          (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n      x)\n      (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n     (P s\\<^sub>1|||Q s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1|||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "from dir1 dir2"], ["proof (chain)\npicking this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1|||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1|||Q s\\<^sub>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1|||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1|||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "using below_antisym"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1|||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1|||Q s\\<^sub>2)\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "by blast"], ["proof (state)\nthis:\n  (P s\\<^sub>1|||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Synchronous product lemma\\<close>"], ["", "lemma dnorm_par:  \n  fixes Tr\\<^sub>1 ::\"'state\\<^sub>1::type \\<Rightarrow> 'event::type set\" and Tr\\<^sub>2::\"'state\\<^sub>2::type \\<Rightarrow> 'event set\" \n    and Up\\<^sub>1 ::\"'state\\<^sub>1 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>1\" and Up\\<^sub>2::\"'state\\<^sub>2 \\<Rightarrow> 'event \\<Rightarrow> 'state\\<^sub>2\"\n  defines P: \"P \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>\" (is \"P \\<equiv> fix\\<cdot>(\\<Lambda> X. ?P X)\")\n  defines Q: \"Q \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>\" (is \"Q \\<equiv> fix\\<cdot>(\\<Lambda> X. ?Q X)\")\n\n  defines Tr: \"Tr \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2). Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\"\n  defines Up: \"Up \\<equiv> (\\<lambda>(s\\<^sub>1,s\\<^sub>2) e. (Up\\<^sub>1 s\\<^sub>1 e, Up\\<^sub>2 s\\<^sub>2 e))\"  \n  defines S: \"S \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\" (is \"S \\<equiv> fix\\<cdot>(\\<Lambda> X. ?S X)\")\n  \n  shows \"(P s\\<^sub>1 || Q s\\<^sub>2) = S (s\\<^sub>1,s\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have P_rec: \"P = ?P P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))", "using fix_eq[of \"(\\<Lambda> X. ?P X)\"] P"], ["proof (prove)\nusing this:\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk> =\n  (\\<Lambda> X.\n      (\\<lambda>s.\n          Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. X (Up\\<^sub>1 s e))))\\<cdot>\n  (P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>)\n  P \\<equiv>\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>1,Up\\<^sub>1\\<rbrakk>\n\ngoal (1 subgoal):\n 1. P =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))", "by simp"], ["proof (state)\nthis:\n  P = (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have Q_rec: \"Q = ?Q Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))", "using fix_eq[of \"(\\<Lambda> X. ?Q X)\"] Q"], ["proof (prove)\nusing this:\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk> =\n  (\\<Lambda> X.\n      (\\<lambda>s.\n          Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. X (Up\\<^sub>2 s e))))\\<cdot>\n  (P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>)\n  Q \\<equiv>\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr\\<^sub>2,Up\\<^sub>2\\<rbrakk>\n\ngoal (1 subgoal):\n 1. Q =\n    (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))", "by simp"], ["proof (state)\nthis:\n  Q = (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have S_rec: \"S = ?S S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. S (Up s e)))", "using fix_eq[of \"(\\<Lambda> X. ?S X)\"] S"], ["proof (prove)\nusing this:\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk> =\n  (\\<Lambda> X.\n      (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. X (Up s e))))\\<cdot>\n  (P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>)\n  S \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\n\ngoal (1 subgoal):\n 1. S = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. S (Up s e)))", "by simp"], ["proof (state)\nthis:\n  S = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. S (Up s e)))\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have dir1: \"\\<forall> s\\<^sub>1 s\\<^sub>2. (P s\\<^sub>1 || Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (P s\\<^sub>1||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)", "proof(subst P, subst Q, \n        induct rule:parallel_fix_ind[of \"\\<lambda>x y. \\<forall> s\\<^sub>1 s\\<^sub>2. (x s\\<^sub>1 || y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1,s\\<^sub>2)\"])"], ["proof (state)\ngoal (3 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               (fst x s\\<^sub>1||snd x s\\<^sub>2) \\<sqsubseteq>\n               S (s\\<^sub>1, s\\<^sub>2))\n 2. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (\\<bottom> s\\<^sub>1||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)\n 3. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "case adm:1"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               (fst x s\\<^sub>1||snd x s\\<^sub>2) \\<sqsubseteq>\n               S (s\\<^sub>1, s\\<^sub>2))\n 2. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (\\<bottom> s\\<^sub>1||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)\n 3. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               (fst x s\\<^sub>1||snd x s\\<^sub>2) \\<sqsubseteq>\n               S (s\\<^sub>1, s\\<^sub>2))", "by (intro adm_all adm_below) (simp_all add: cont2cont_fun)"], ["proof (state)\nthis:\n  adm (\\<lambda>x.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (fst x s\\<^sub>1||snd x s\\<^sub>2) \\<sqsubseteq>\n             S (s\\<^sub>1, s\\<^sub>2))\n\ngoal (2 subgoals):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (\\<bottom> s\\<^sub>1||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (\\<bottom> s\\<^sub>1||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "case base:2"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (\\<bottom> s\\<^sub>1||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)\n 2. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (\\<bottom> s\\<^sub>1||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)", "by (simp add: par_Int_bot)"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (\\<bottom> s\\<^sub>1||\\<bottom> s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "case step:(3 x y)"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (((\\<Lambda> x.\n                (\\<lambda>s.\n                    Mprefix (Tr\\<^sub>1 s)\n                     (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n            x)\n            s\\<^sub>1||((\\<Lambda> x.\n                            (\\<lambda>s.\n                                Mprefix (Tr\\<^sub>2 s)\n                                 (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                        y)\n                        s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)", "show ?case (is \"\\<forall> s\\<^sub>1 s\\<^sub>2. ?C s\\<^sub>1 s\\<^sub>2\")"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (((\\<Lambda> x.\n             (\\<lambda>s.\n                 Mprefix (Tr\\<^sub>1 s)\n                  (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n         x)\n         s\\<^sub>1||((\\<Lambda> x.\n                         (\\<lambda>s.\n                             Mprefix (Tr\\<^sub>2 s)\n                              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                     y)\n                     s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)", "proof(intro allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       (((\\<Lambda> x.\n             (\\<lambda>s.\n                 Mprefix (Tr\\<^sub>1 s)\n                  (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n         x)\n         s\\<^sub>1||((\\<Lambda> x.\n                         (\\<lambda>s.\n                             Mprefix (Tr\\<^sub>2 s)\n                              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                     y)\n                     s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)", "fix s\\<^sub>1 s\\<^sub>2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (x s\\<^sub>1||y s\\<^sub>2) \\<sqsubseteq>\n          S (s\\<^sub>1, s\\<^sub>2) \\<Longrightarrow>\n       (((\\<Lambda> x.\n             (\\<lambda>s.\n                 Mprefix (Tr\\<^sub>1 s)\n                  (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n         x)\n         s\\<^sub>1||((\\<Lambda> x.\n                         (\\<lambda>s.\n                             Mprefix (Tr\\<^sub>2 s)\n                              (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                     y)\n                     s\\<^sub>2) \\<sqsubseteq>\n       S (s\\<^sub>1, s\\<^sub>2)", "show \"?C s\\<^sub>1 s\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((\\<Lambda> x.\n          (\\<lambda>s.\n              Mprefix (Tr\\<^sub>1 s)\n               (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n      x)\n      s\\<^sub>1||((\\<Lambda> x.\n                      (\\<lambda>s.\n                          Mprefix (Tr\\<^sub>2 s)\n                           (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                  y)\n                  s\\<^sub>2) \\<sqsubseteq>\n    S (s\\<^sub>1, s\\<^sub>2)", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n      (\\<lambda>e.\n          x (Up\\<^sub>1 s\\<^sub>1\n              e))||Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n                    (\\<lambda>e. y (Up\\<^sub>2 s\\<^sub>2 e))) \\<sqsubseteq>\n    S (s\\<^sub>1, s\\<^sub>2)", "apply(subst mprefix_Par_distr[where C=\"UNIV\", simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>xa.\n         x (Up\\<^sub>1 s\\<^sub>1\n             xa)||y (Up\\<^sub>2 s\\<^sub>2 xa)) \\<sqsubseteq>\n    S (s\\<^sub>1, s\\<^sub>2)", "apply(subst S_rec, simp add: Tr Up mprefix_Un_distr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>xa.\n         x (Up\\<^sub>1 s\\<^sub>1\n             xa)||y (Up\\<^sub>2 s\\<^sub>2 xa)) \\<sqsubseteq>\n    Mprefix (Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>e. S (Up\\<^sub>1 s\\<^sub>1 e, Up\\<^sub>2 s\\<^sub>2 e))", "by (simp add:step mono_mprefix_ref)"], ["proof (state)\nthis:\n  (((\\<Lambda> x.\n        (\\<lambda>s.\n            Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n    x)\n    s\\<^sub>1||((\\<Lambda> x.\n                    (\\<lambda>s.\n                        Mprefix (Tr\\<^sub>2 s)\n                         (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                y)\n                s\\<^sub>2) \\<sqsubseteq>\n  S (s\\<^sub>1, s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (((\\<Lambda> x.\n           (\\<lambda>s.\n               Mprefix (Tr\\<^sub>1 s)\n                (\\<lambda>e. x (Up\\<^sub>1 s e))))\\<cdot>\n       x)\n       s\\<^sub>1||((\\<Lambda> x.\n                       (\\<lambda>s.\n                           Mprefix (Tr\\<^sub>2 s)\n                            (\\<lambda>e. x (Up\\<^sub>2 s e))))\\<cdot>\n                   y)\n                   s\\<^sub>2) \\<sqsubseteq>\n     S (s\\<^sub>1, s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "have dir2: \"\\<forall> s\\<^sub>1 s\\<^sub>2.  S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1 || Q s\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1||Q s\\<^sub>2)", "proof(subst S, induct rule:fix_ind_k[of \"\\<lambda>x. \\<forall> s\\<^sub>1 s\\<^sub>2. x (s\\<^sub>1,s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1 || Q s\\<^sub>2)\" 1])"], ["proof (state)\ngoal (3 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n               (P s\\<^sub>1||Q s\\<^sub>2))\n 2. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)\n 3. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "case adm:1"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n               (P s\\<^sub>1||Q s\\<^sub>2))\n 2. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)\n 3. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. adm (\\<lambda>x.\n            \\<forall>s\\<^sub>1 s\\<^sub>2.\n               x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n               (P s\\<^sub>1||Q s\\<^sub>2))", "by (intro adm_all adm_below) (simp_all add: cont_fun)"], ["proof (state)\nthis:\n  adm (\\<lambda>x.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             x (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2))\n\ngoal (2 subgoals):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "case base_k_steps:2"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)\n 2. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<1.\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate i\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           \\<bottom>)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "by simp"], ["proof (state)\nthis:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         \\<bottom>)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "case step:(3 x)"], ["proof (state)\nthis:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         x)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       \\<forall>s\\<^sub>1 s\\<^sub>2.\n          (iterate 1\\<cdot>\n           (\\<Lambda> x.\n               (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n           x)\n           (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n          (P s\\<^sub>1||Q s\\<^sub>2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         x)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1||Q s\\<^sub>2)", "show ?case (is \"\\<forall> s\\<^sub>1 s\\<^sub>2. ?C s\\<^sub>1 s\\<^sub>2\")"], ["proof (prove)\nusing this:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         x)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<^sub>1 s\\<^sub>2.\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1||Q s\\<^sub>2)", "proof(intro allI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1||Q s\\<^sub>2)", "fix s\\<^sub>1 s\\<^sub>2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1||Q s\\<^sub>2)", "have P_rec_sym:\"Mprefix (Tr\\<^sub>1 s\\<^sub>1) (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) = P s\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n     (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) =\n    P s\\<^sub>1", "using P_rec"], ["proof (prove)\nusing this:\n  P = (\\<lambda>s. Mprefix (Tr\\<^sub>1 s) (\\<lambda>e. P (Up\\<^sub>1 s e)))\n\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1)\n     (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) =\n    P s\\<^sub>1", "by metis"], ["proof (state)\nthis:\n  Mprefix (Tr\\<^sub>1 s\\<^sub>1) (\\<lambda>e. P (Up\\<^sub>1 s\\<^sub>1 e)) =\n  P s\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1||Q s\\<^sub>2)", "have Q_rec_sym:\"Mprefix (Tr\\<^sub>2 s\\<^sub>2) (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) = Q s\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) =\n    Q s\\<^sub>2", "using Q_rec"], ["proof (prove)\nusing this:\n  Q = (\\<lambda>s. Mprefix (Tr\\<^sub>2 s) (\\<lambda>e. Q (Up\\<^sub>2 s e)))\n\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) =\n    Q s\\<^sub>2", "by metis"], ["proof (state)\nthis:\n  Mprefix (Tr\\<^sub>2 s\\<^sub>2) (\\<lambda>e. Q (Up\\<^sub>2 s\\<^sub>2 e)) =\n  Q s\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>s\\<^sub>1 s\\<^sub>2.\n       \\<forall>i<1.\n          \\<forall>s\\<^sub>1 s\\<^sub>2.\n             (iterate i\\<cdot>\n              (\\<Lambda> x.\n                  (\\<lambda>s.\n                      Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n              x)\n              (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n             (P s\\<^sub>1||Q s\\<^sub>2) \\<Longrightarrow>\n       (iterate 1\\<cdot>\n        (\\<Lambda> x.\n            (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n        x)\n        (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n       (P s\\<^sub>1||Q s\\<^sub>2)", "show \"?C s\\<^sub>1 s\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (iterate 1\\<cdot>\n     (\\<Lambda> x.\n         (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n     x)\n     (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n    (P s\\<^sub>1||Q s\\<^sub>2)", "apply(simp add: Tr Up)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>e.\n         x (Up\\<^sub>1 s\\<^sub>1 e, Up\\<^sub>2 s\\<^sub>2 e)) \\<sqsubseteq>\n    (P s\\<^sub>1||Q s\\<^sub>2)", "apply(subst P_rec, subst Q_rec, subst mprefix_Par_distr[where C=\"UNIV\", simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. Mprefix (Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>e.\n         x (Up\\<^sub>1 s\\<^sub>1 e, Up\\<^sub>2 s\\<^sub>2 e)) \\<sqsubseteq>\n    Mprefix (Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2)\n     (\\<lambda>x. P (Up\\<^sub>1 s\\<^sub>1 x)||Q (Up\\<^sub>2 s\\<^sub>2 x))", "apply(rule mono_mprefix_ref)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>xa\\<in>Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2.\n       x (Up\\<^sub>1 s\\<^sub>1 xa, Up\\<^sub>2 s\\<^sub>2 xa) \\<sqsubseteq>\n       (P (Up\\<^sub>1 s\\<^sub>1 xa)||Q (Up\\<^sub>2 s\\<^sub>2 xa))", "using step"], ["proof (prove)\nusing this:\n  \\<forall>i<1.\n     \\<forall>s\\<^sub>1 s\\<^sub>2.\n        (iterate i\\<cdot>\n         (\\<Lambda> x.\n             (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n         x)\n         (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n        (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. \\<forall>xa\\<in>Tr\\<^sub>1 s\\<^sub>1 \\<inter> Tr\\<^sub>2 s\\<^sub>2.\n       x (Up\\<^sub>1 s\\<^sub>1 xa, Up\\<^sub>2 s\\<^sub>2 xa) \\<sqsubseteq>\n       (P (Up\\<^sub>1 s\\<^sub>1 xa)||Q (Up\\<^sub>2 s\\<^sub>2 xa))", "by auto"], ["proof (state)\nthis:\n  (iterate 1\\<cdot>\n   (\\<Lambda> x.\n       (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n   x)\n   (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n  (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (iterate 1\\<cdot>\n      (\\<Lambda> x.\n          (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. x (Up s e))))\\<cdot>\n      x)\n      (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq>\n     (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "from dir1 dir2"], ["proof (chain)\npicking this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1||Q s\\<^sub>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1||Q s\\<^sub>2)\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "using below_antisym"], ["proof (prove)\nusing this:\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     (P s\\<^sub>1||Q s\\<^sub>2) \\<sqsubseteq> S (s\\<^sub>1, s\\<^sub>2)\n  \\<forall>s\\<^sub>1 s\\<^sub>2.\n     S (s\\<^sub>1, s\\<^sub>2) \\<sqsubseteq> (P s\\<^sub>1||Q s\\<^sub>2)\n  \\<lbrakk>?x \\<sqsubseteq> ?y; ?y \\<sqsubseteq> ?x\\<rbrakk>\n  \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)", "by blast"], ["proof (state)\nthis:\n  (P s\\<^sub>1||Q s\\<^sub>2) = S (s\\<^sub>1, s\\<^sub>2)\n\ngoal:\nNo subgoals!", "qed"], ["", "section\\<open>Consequences\\<close>\n\\<comment>\\<open>reachable states from one starting state\\<close>"], ["", "inductive_set \\<RR> for Tr ::\"'state::type \\<Rightarrow> 'event::type set\" \n                and Up::\"'state \\<Rightarrow> 'event \\<Rightarrow> 'state\" \n                and s\\<^sub>0::'state \n  where rbase: \"s\\<^sub>0 \\<in> \\<RR> Tr Up s\\<^sub>0\"\n      | rstep: \"s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> e \\<in> Tr s  \\<Longrightarrow> Up s e \\<in> \\<RR> Tr Up s\\<^sub>0\"\n\n\n\n\\<comment>\\<open>Deadlock freeness\\<close>"], ["", "lemma deadlock_free_dnorm_ :\n  fixes Tr ::\"'state::type \\<Rightarrow> 'event::type set\" \n    and Up ::\"'state \\<Rightarrow> 'event \\<Rightarrow> 'state\" \n    and s\\<^sub>0::'state \n  assumes non_reachable_sink: \"\\<forall>s \\<in> \\<RR> Tr Up s\\<^sub>0. Tr s \\<noteq> {}\"\n  defines P: \"P \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\" (is \"P \\<equiv> fix\\<cdot>(\\<Lambda> X. ?P X)\")\n  shows  \"s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> deadlock_free_v2 (P s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> deadlock_free_v2 (P s)", "proof(unfold deadlock_free_v2_FD DF\\<^sub>S\\<^sub>K\\<^sub>I\\<^sub>P_def, induct arbitrary:s rule:fix_ind)"], ["proof (state)\ngoal (3 subgoals):\n 1. adm (\\<lambda>a.\n            \\<forall>x.\n               x \\<in> \\<RR> Tr Up s\\<^sub>0 \\<longrightarrow>\n               a \\<sqsubseteq>\\<^sub>F\\<^sub>D P x)\n 2. \\<And>s.\n       s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n       \\<bottom> \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\n 3. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "show \"adm (\\<lambda>a. \\<forall>x. x \\<in> \\<RR> Tr Up s\\<^sub>0 \\<longrightarrow> a \\<sqsubseteq>\\<^sub>F\\<^sub>D P x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. adm (\\<lambda>a.\n            \\<forall>x.\n               x \\<in> \\<RR> Tr Up s\\<^sub>0 \\<longrightarrow>\n               a \\<sqsubseteq>\\<^sub>F\\<^sub>D P x)", "by (simp add: le_FD_adm monofun_def)"], ["proof (state)\nthis:\n  adm (\\<lambda>a.\n          \\<forall>x.\n             x \\<in> \\<RR> Tr Up s\\<^sub>0 \\<longrightarrow>\n             a \\<sqsubseteq>\\<^sub>F\\<^sub>D P x)\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n       \\<bottom> \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\n 2. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n       \\<bottom> \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\n 2. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "fix s :: \"'state\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n       \\<bottom> \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\n 2. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "show \"s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> \\<bottom> \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n    \\<bottom> \\<sqsubseteq>\\<^sub>F\\<^sub>D P s", "by simp"], ["proof (state)\nthis:\n  s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n  \\<bottom> \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\n\ngoal (1 subgoal):\n 1. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "fix s :: \"'state\"  and x :: \"'event process\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "have P_rec: \"P = ?P P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. P (Up s e)))", "using fix_eq[of \"(\\<Lambda> X. ?P X)\"] P"], ["proof (prove)\nusing this:\n  P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk> =\n  (\\<Lambda> X.\n      (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. X (Up s e))))\\<cdot>\n  (P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>)\n  P \\<equiv> P\\<^sub>n\\<^sub>o\\<^sub>r\\<^sub>m\\<lbrakk>Tr,Up\\<rbrakk>\n\ngoal (1 subgoal):\n 1. P = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. P (Up s e)))", "by simp"], ["proof (state)\nthis:\n  P = (\\<lambda>s. Mprefix (Tr s) (\\<lambda>e. P (Up s e)))\n\ngoal (1 subgoal):\n 1. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "assume 1 : \"\\<And>s. s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\" \n   and   2 : \"s \\<in> \\<RR> Tr Up s\\<^sub>0 \""], ["proof (state)\nthis:\n  ?s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^sub>F\\<^sub>D P ?s\n  s \\<in> \\<RR> Tr Up s\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>x s.\n       \\<lbrakk>\\<And>s.\n                   s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n                   x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s;\n        s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n       \\<Longrightarrow> (\\<Lambda> x.\n                             (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-|\n                             SKIP)\\<cdot>\n                         x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n                         P s", "from   1 2"], ["proof (chain)\npicking this:\n  ?s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^sub>F\\<^sub>D P ?s\n  s \\<in> \\<RR> Tr Up s\\<^sub>0", "show \"(\\<Lambda> x. (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) \\<sqinter> SKIP)\\<cdot>x \\<sqsubseteq>\\<^sub>F\\<^sub>D P s\""], ["proof (prove)\nusing this:\n  ?s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow>\n  x \\<sqsubseteq>\\<^sub>F\\<^sub>D P ?s\n  s \\<in> \\<RR> Tr Up s\\<^sub>0\n\ngoal (1 subgoal):\n 1. (\\<Lambda> x. (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-| SKIP)\\<cdot>\n    x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n    P s", "apply(simp add:failure_divergence_refine_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> x \\<le> P s;\n     s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n    \\<Longrightarrow> ((\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-| SKIP)\n                      \\<le> P s", "apply(subst P_rec, rule_tac trans_FD[simplified failure_divergence_refine_def, \n                       rotated, OF Mprefix_refines_Mndet])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> x \\<le> P s;\n     s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n    \\<Longrightarrow> ((\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-| SKIP)\n                      \\<le> (\\<sqinter>e\\<in>Tr s \\<rightarrow>  P (Up s e))", "apply(rule_tac CSP.mono_ndet_FD_left)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s.\n                s \\<in> \\<RR> Tr Up s\\<^sub>0 \\<Longrightarrow> x \\<le> P s;\n     s \\<in> \\<RR> Tr Up s\\<^sub>0\\<rbrakk>\n    \\<Longrightarrow> (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x)\n                      \\<le> (\\<sqinter>e\\<in>Tr s \\<rightarrow>  P (Up s e))", "by (metis CSP.mono_ndet_FD_right rstep empty_not_UNIV mndet_distrib mono_mndet_FD \n              non_reachable_sink sup_top_left)"], ["proof (state)\nthis:\n  (\\<Lambda> x. (\\<sqinter>xa\\<in>UNIV \\<rightarrow>  x) |-| SKIP)\\<cdot>\n  x \\<sqsubseteq>\\<^sub>F\\<^sub>D\n  P s\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas deadlock_free_dnorm = deadlock_free_dnorm_[rotated, OF rbase, rule_format]"], ["", "end"]]}