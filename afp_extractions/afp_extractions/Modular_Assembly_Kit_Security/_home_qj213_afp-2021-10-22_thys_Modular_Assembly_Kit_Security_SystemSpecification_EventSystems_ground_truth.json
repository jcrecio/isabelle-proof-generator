{"file_name": "/home/qj213/afp-2021-10-22/thys/Modular_Assembly_Kit_Security/SystemSpecification/EventSystems.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Modular_Assembly_Kit_Security", "problem_names": ["lemma totality: \"\\<lbrakk> total ES E; t \\<in> Tr\\<^bsub>ES\\<^esub>; set t' \\<subseteq> E \\<rbrakk> \\<Longrightarrow> t @ t' \\<in> Tr\\<^bsub>ES\\<^esub>\"", "lemma composeES_yields_ES: \n  \"\\<lbrakk> ES_valid ES1; ES_valid ES2 \\<rbrakk> \\<Longrightarrow> ES_valid (ES1 \\<parallel> ES2)\""], "translations": [["", "lemma totality: \"\\<lbrakk> total ES E; t \\<in> Tr\\<^bsub>ES\\<^esub>; set t' \\<subseteq> E \\<rbrakk> \\<Longrightarrow> t @ t' \\<in> Tr\\<^bsub>ES\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>EventSystems.total ES E; t \\<in> Tr\\<^bsub>ES\\<^esub>;\n     set t' \\<subseteq> E\\<rbrakk>\n    \\<Longrightarrow> t @ t' \\<in> Tr\\<^bsub>ES\\<^esub>", "by (induct t' rule: rev_induct, force, simp only: total_def, auto)"], ["", "(* structural representation of composed event systems (composition operator) *)"], ["", "definition composeES :: \"'e ES_rec \\<Rightarrow> 'e ES_rec \\<Rightarrow> 'e ES_rec\" \nwhere\n\"composeES ES1 ES2 \\<equiv>  \n  \\<lparr>  \n    E_ES  = E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>, \n    I_ES  = (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>) \\<union> (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>),\n    O_ES  = (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>) \\<union> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>),\n    Tr_ES = {\\<tau> . (\\<tau> \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and> (\\<tau> \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<in> Tr\\<^bsub>ES2\\<^esub> \n                  \\<and> (set \\<tau> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>)} \n  \\<rparr>\""], ["", "abbreviation composeESAbbrv :: \"'e ES_rec \\<Rightarrow> 'e ES_rec \\<Rightarrow> 'e ES_rec\"\n(\"_ \\<parallel> _\"[1000] 1000)\nwhere\n\"ES1 \\<parallel> ES2 \\<equiv> (composeES ES1 ES2)\""], ["", "definition composable :: \"'e ES_rec \\<Rightarrow> 'e ES_rec \\<Rightarrow> bool\"\nwhere\n\"composable ES1 ES2 \\<equiv> (E\\<^bsub>ES1\\<^esub> \\<inter> E\\<^bsub>ES2\\<^esub>) \\<subseteq> ((O\\<^bsub>ES1\\<^esub> \\<inter> I\\<^bsub>ES2\\<^esub>) \\<union> (O\\<^bsub>ES2\\<^esub> \\<inter> I\\<^bsub>ES1\\<^esub>))\""], ["", "(* composing two event systems yields an event system *)"], ["", "lemma composeES_yields_ES: \n  \"\\<lbrakk> ES_valid ES1; ES_valid ES2 \\<rbrakk> \\<Longrightarrow> ES_valid (ES1 \\<parallel> ES2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>ES_valid ES1; ES_valid ES2\\<rbrakk>\n    \\<Longrightarrow> ES_valid ES1 \\<parallel> ES2", "unfolding ES_valid_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>es_inputs_are_events ES1 \\<and>\n             es_outputs_are_events ES1 \\<and>\n             es_inputs_outputs_disjoint ES1 \\<and>\n             traces_contain_events ES1 \\<and> traces_prefixclosed ES1;\n     es_inputs_are_events ES2 \\<and>\n     es_outputs_are_events ES2 \\<and>\n     es_inputs_outputs_disjoint ES2 \\<and>\n     traces_contain_events ES2 \\<and> traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_are_events ES1 \\<parallel> ES2 \\<and>\n                      es_outputs_are_events ES1 \\<parallel> ES2 \\<and>\n                      es_inputs_outputs_disjoint ES1 \\<parallel> ES2 \\<and>\n                      traces_contain_events ES1 \\<parallel> ES2 \\<and>\n                      traces_prefixclosed ES1 \\<parallel> ES2", "proof (auto)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_are_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_outputs_are_events ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 4. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 5. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES1_inputs_are_events: \"es_inputs_are_events ES1\""], ["proof (state)\nthis:\n  es_inputs_are_events ES1\n\ngoal (5 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_are_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_outputs_are_events ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 4. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 5. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES2_inputs_are_events: \"es_inputs_are_events ES2\""], ["proof (state)\nthis:\n  es_inputs_are_events ES2\n\ngoal (5 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_are_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_outputs_are_events ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 4. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 5. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "show \"es_inputs_are_events (ES1 \\<parallel> ES2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. es_inputs_are_events ES1 \\<parallel> ES2", "unfolding composeES_def es_inputs_are_events_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. I\\<^bsub>\\<lparr>E_ES =\n                       E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>,\n                I_ES =\n                  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                  (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>),\n                O_ES =\n                  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                  (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>),\n                Tr_ES =\n                  {\\<tau>.\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                   \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                   \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                   set \\<tau>\n                   \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                               E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>\n    \\<subseteq> E\\<^bsub>\\<lparr>E_ES =\n                                   E\\<^bsub>ES1\\<^esub> \\<union>\n                                   E\\<^bsub>ES2\\<^esub>,\n                            I_ES =\n                              I\\<^bsub>ES1\\<^esub> -\n                              O\\<^bsub>ES2\\<^esub> \\<union>\n                              (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>),\n                            O_ES =\n                              O\\<^bsub>ES1\\<^esub> -\n                              I\\<^bsub>ES2\\<^esub> \\<union>\n                              (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>),\n                            Tr_ES =\n                              {\\<tau>.\n                               \\<tau> \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                               \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                               \\<tau> \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                               \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                               set \\<tau>\n                               \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n     E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>", "proof (simp)"], ["proof (state)\ngoal (1 subgoal):\n 1. I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "have subgoal11: \"I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "proof (auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub>;\n        x \\<notin> O\\<^bsub>ES2\\<^esub>;\n        x \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES1\\<^esub>", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub>;\n        x \\<notin> O\\<^bsub>ES2\\<^esub>;\n        x \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES1\\<^esub>", "assume \"x \\<in> I\\<^bsub>ES1\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub>;\n        x \\<notin> O\\<^bsub>ES2\\<^esub>;\n        x \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES1\\<^esub>", "with ES1_inputs_are_events"], ["proof (chain)\npicking this:\n  es_inputs_are_events ES1\n  x \\<in> I\\<^bsub>ES1\\<^esub>", "show \"x \\<in> E\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  es_inputs_are_events ES1\n  x \\<in> I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> E\\<^bsub>ES1\\<^esub>", "by (auto simp add: es_inputs_are_events_def)"], ["proof (state)\nthis:\n  x \\<in> E\\<^bsub>ES1\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "have subgoal12: \"I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "proof (rule subsetI, rule UnI2, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES2\\<^esub>;\n        x \\<notin> O\\<^bsub>ES1\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES2\\<^esub>", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES2\\<^esub>;\n        x \\<notin> O\\<^bsub>ES1\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES2\\<^esub>", "assume \"x \\<in> I\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES2\\<^esub>;\n        x \\<notin> O\\<^bsub>ES1\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES2\\<^esub>", "with ES2_inputs_are_events"], ["proof (chain)\npicking this:\n  es_inputs_are_events ES2\n  x \\<in> I\\<^bsub>ES2\\<^esub>", "show \"x \\<in> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  es_inputs_are_events ES2\n  x \\<in> I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> E\\<^bsub>ES2\\<^esub>", "by (auto simp add: es_inputs_are_events_def)"], ["proof (state)\nthis:\n  x \\<in> E\\<^bsub>ES2\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "from subgoal11 subgoal12"], ["proof (chain)\npicking this:\n  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n  I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "show \"I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n  I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", ".."], ["proof (state)\nthis:\n  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n  I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  es_inputs_are_events ES1 \\<parallel> ES2\n\ngoal (4 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_outputs_are_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 4. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_outputs_are_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 4. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES1_outputs_are_events: \"es_outputs_are_events ES1\""], ["proof (state)\nthis:\n  es_outputs_are_events ES1\n\ngoal (4 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_outputs_are_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 4. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES2_outputs_are_events: \"es_outputs_are_events ES2\""], ["proof (state)\nthis:\n  es_outputs_are_events ES2\n\ngoal (4 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_outputs_are_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 4. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "show \"es_outputs_are_events (ES1 \\<parallel> ES2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. es_outputs_are_events ES1 \\<parallel> ES2", "unfolding composeES_def es_outputs_are_events_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. O\\<^bsub>\\<lparr>E_ES =\n                       E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>,\n                I_ES =\n                  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                  (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>),\n                O_ES =\n                  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                  (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>),\n                Tr_ES =\n                  {\\<tau>.\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                   \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                   \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                   set \\<tau>\n                   \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                               E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>\n    \\<subseteq> E\\<^bsub>\\<lparr>E_ES =\n                                   E\\<^bsub>ES1\\<^esub> \\<union>\n                                   E\\<^bsub>ES2\\<^esub>,\n                            I_ES =\n                              I\\<^bsub>ES1\\<^esub> -\n                              O\\<^bsub>ES2\\<^esub> \\<union>\n                              (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>),\n                            O_ES =\n                              O\\<^bsub>ES1\\<^esub> -\n                              I\\<^bsub>ES2\\<^esub> \\<union>\n                              (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>),\n                            Tr_ES =\n                              {\\<tau>.\n                               \\<tau> \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                               \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                               \\<tau> \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                               \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                               set \\<tau>\n                               \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n     E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>", "proof (simp)"], ["proof (state)\ngoal (1 subgoal):\n 1. O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "have subgoal21: \"O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "proof (auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> O\\<^bsub>ES1\\<^esub>;\n        x \\<notin> I\\<^bsub>ES2\\<^esub>;\n        x \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES1\\<^esub>", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> O\\<^bsub>ES1\\<^esub>;\n        x \\<notin> I\\<^bsub>ES2\\<^esub>;\n        x \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES1\\<^esub>", "assume \"x \\<in> O\\<^bsub>ES1\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> O\\<^bsub>ES1\\<^esub>;\n        x \\<notin> I\\<^bsub>ES2\\<^esub>;\n        x \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES1\\<^esub>", "with ES1_outputs_are_events"], ["proof (chain)\npicking this:\n  es_outputs_are_events ES1\n  x \\<in> O\\<^bsub>ES1\\<^esub>", "show \"x \\<in> E\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  es_outputs_are_events ES1\n  x \\<in> O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> E\\<^bsub>ES1\\<^esub>", "by (auto simp add: es_outputs_are_events_def)"], ["proof (state)\nthis:\n  x \\<in> E\\<^bsub>ES1\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "have subgoal22: \"O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "proof (rule subsetI, rule UnI2, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> O\\<^bsub>ES2\\<^esub>;\n        x \\<notin> I\\<^bsub>ES1\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES2\\<^esub>", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> O\\<^bsub>ES2\\<^esub>;\n        x \\<notin> I\\<^bsub>ES1\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES2\\<^esub>", "assume \"x \\<in> O\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> O\\<^bsub>ES2\\<^esub>;\n        x \\<notin> I\\<^bsub>ES1\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> E\\<^bsub>ES2\\<^esub>", "with ES2_outputs_are_events"], ["proof (chain)\npicking this:\n  es_outputs_are_events ES2\n  x \\<in> O\\<^bsub>ES2\\<^esub>", "show \"x \\<in> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  es_outputs_are_events ES2\n  x \\<in> O\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> E\\<^bsub>ES2\\<^esub>", "by (auto simp add: es_outputs_are_events_def)"], ["proof (state)\nthis:\n  x \\<in> E\\<^bsub>ES2\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "from subgoal21 subgoal22"], ["proof (chain)\npicking this:\n  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n  O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "show \"O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n  O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n    O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", ".."], ["proof (state)\nthis:\n  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub> \\<and>\n  O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  es_outputs_are_events ES1 \\<parallel> ES2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES1_inputs_outputs_disjoint: \"es_inputs_outputs_disjoint ES1\""], ["proof (state)\nthis:\n  es_inputs_outputs_disjoint ES1\n\ngoal (3 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES2_inputs_outputs_disjoint: \"es_inputs_outputs_disjoint ES2\""], ["proof (state)\nthis:\n  es_inputs_outputs_disjoint ES2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 3. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "show \"es_inputs_outputs_disjoint (ES1 \\<parallel> ES2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. es_inputs_outputs_disjoint ES1 \\<parallel> ES2", "unfolding composeES_def es_inputs_outputs_disjoint_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. I\\<^bsub>\\<lparr>E_ES =\n                       E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>,\n                I_ES =\n                  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                  (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>),\n                O_ES =\n                  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                  (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>),\n                Tr_ES =\n                  {\\<tau>.\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                   \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                   \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                   set \\<tau>\n                   \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                               E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub> \\<inter>\n    O\\<^bsub>\\<lparr>E_ES =\n                       E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>,\n                I_ES =\n                  I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                  (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>),\n                O_ES =\n                  O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                  (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>),\n                Tr_ES =\n                  {\\<tau>.\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                   \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                   \\<tau> \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                   \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                   set \\<tau>\n                   \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                               E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub> =\n    {}", "proof (simp)"], ["proof (state)\ngoal (1 subgoal):\n 1. (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n     (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n    (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n     (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)) =\n    {}", "have subgoal31:\n        \"{} \\<subseteq> (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union> (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter> (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<subseteq> (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                    (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n                   (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                    (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))", "by auto"], ["proof (state)\nthis:\n  {} \\<subseteq> (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                  (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n                 (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                  (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\n\ngoal (1 subgoal):\n 1. (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n     (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n    (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n     (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)) =\n    {}", "have subgoal32:\n        \"(I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union> (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter> (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)) \\<subseteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n     (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n    (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n     (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\n    \\<subseteq> {}", "proof (rule subsetI, erule IntE)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume ass1: \"x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union> (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)\""], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n          (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "then"], ["proof (chain)\npicking this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n          (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)", "have ass1': \"x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or> x \\<in> (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n          (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)\n\ngoal (1 subgoal):\n 1. x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or>\n    x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>", "by auto"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume ass2: \"x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\""], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n          (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "then"], ["proof (chain)\npicking this:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n          (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)", "have ass2':\"x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or> x \\<in> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\""], ["proof (prove)\nusing this:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n          (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\n\ngoal (1 subgoal):\n 1. x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n    x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>", "by auto"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "note ass1'"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "moreover"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "{"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume left1: \"x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "note ass2'"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "moreover"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "{"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume left2: \"x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "with left1"], ["proof (chain)\npicking this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>", "have \"x\\<in> (I\\<^bsub>ES1\\<^esub>) \\<inter> (O\\<^bsub>ES1\\<^esub>)\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> I\\<^bsub>ES1\\<^esub> \\<inter> O\\<^bsub>ES1\\<^esub>", "by (auto)"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> \\<inter> O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "with ES1_inputs_outputs_disjoint"], ["proof (chain)\npicking this:\n  es_inputs_outputs_disjoint ES1\n  x \\<in> I\\<^bsub>ES1\\<^esub> \\<inter> O\\<^bsub>ES1\\<^esub>", "have \"x\\<in>{}\""], ["proof (prove)\nusing this:\n  es_inputs_outputs_disjoint ES1\n  x \\<in> I\\<^bsub>ES1\\<^esub> \\<inter> O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> {}", "by (auto simp add: es_inputs_outputs_disjoint_def)"], ["proof (state)\nthis:\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "}"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "moreover"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "{"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume right2: \"x \\<in> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\""], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "with left1"], ["proof (chain)\npicking this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>", "have \"x\\<in> (I\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES1\\<^esub>)\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> I\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES1\\<^esub>", "by auto"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "hence \"x\\<in>{}\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> {}", "by auto"], ["proof (state)\nthis:\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "}"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "ultimately"], ["proof (chain)\npicking this:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}", "have \"x\\<in>{}\""], ["proof (prove)\nusing this:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. x \\<in> {}", ".."], ["proof (state)\nthis:\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "}"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "moreover"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "{"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume right1: \"x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "note ass2'"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "moreover"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "{"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume left2: \"x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "with right1"], ["proof (chain)\npicking this:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>", "have \"x\\<in> (I\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES2\\<^esub>)\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> I\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES2\\<^esub>", "by auto"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "hence \"x\\<in>{}\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> {}", "by auto"], ["proof (state)\nthis:\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "}"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "moreover"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "{"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "assume right2: \"x \\<in> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\""], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "with right1"], ["proof (chain)\npicking this:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>", "have \"x \\<in> (I\\<^bsub>ES2\\<^esub> \\<inter> O\\<^bsub>ES2\\<^esub>)\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> I\\<^bsub>ES2\\<^esub> \\<inter> O\\<^bsub>ES2\\<^esub>", "by auto"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES2\\<^esub> \\<inter> O\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "with ES2_inputs_outputs_disjoint"], ["proof (chain)\npicking this:\n  es_inputs_outputs_disjoint ES2\n  x \\<in> I\\<^bsub>ES2\\<^esub> \\<inter> O\\<^bsub>ES2\\<^esub>", "have \"x\\<in>{}\""], ["proof (prove)\nusing this:\n  es_inputs_outputs_disjoint ES2\n  x \\<in> I\\<^bsub>ES2\\<^esub> \\<inter> O\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. x \\<in> {}", "by (auto simp add: es_inputs_outputs_disjoint_def)"], ["proof (state)\nthis:\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "}"], ["proof (state)\nthis:\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "ultimately"], ["proof (chain)\npicking this:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}", "have \"x\\<in>{}\""], ["proof (prove)\nusing this:\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>\n  x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n  x \\<in> O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. x \\<in> {}", ".."], ["proof (state)\nthis:\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "}"], ["proof (state)\nthis:\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                        (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>);\n        x \\<in> O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> {}", "ultimately"], ["proof (chain)\npicking this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}", "show \"x\\<in>{}\""], ["proof (prove)\nusing this:\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<or>\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>\n  x \\<in> I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n  x \\<in> I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  x \\<in> {}\n\ngoal (1 subgoal):\n 1. x \\<in> {}", ".."], ["proof (state)\nthis:\n  x \\<in> {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n   (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n  (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n   (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\n  \\<subseteq> {}\n\ngoal (1 subgoal):\n 1. (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n     (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n    (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n     (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)) =\n    {}", "from subgoal31 subgoal32"], ["proof (chain)\npicking this:\n  {} \\<subseteq> (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                  (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n                 (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                  (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\n  (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n   (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n  (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n   (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\n  \\<subseteq> {}", "show \"(I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union> (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter> (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union> (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)) = {}\""], ["proof (prove)\nusing this:\n  {} \\<subseteq> (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n                  (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n                 (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n                  (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\n  (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n   (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n  (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n   (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>))\n  \\<subseteq> {}\n\ngoal (1 subgoal):\n 1. (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n     (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n    (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n     (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)) =\n    {}", "by auto"], ["proof (state)\nthis:\n  (I\\<^bsub>ES1\\<^esub> - O\\<^bsub>ES2\\<^esub> \\<union>\n   (I\\<^bsub>ES2\\<^esub> - O\\<^bsub>ES1\\<^esub>)) \\<inter>\n  (O\\<^bsub>ES1\\<^esub> - I\\<^bsub>ES2\\<^esub> \\<union>\n   (O\\<^bsub>ES2\\<^esub> - I\\<^bsub>ES1\\<^esub>)) =\n  {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  es_inputs_outputs_disjoint ES1 \\<parallel> ES2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_contain_events ES1 \\<parallel> ES2\n 2. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "show \"traces_contain_events (ES1 \\<parallel> ES2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. traces_contain_events ES1 \\<parallel> ES2", "unfolding composeES_def traces_contain_events_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>l\\<in>Tr\\<^bsub>\\<lparr>E_ES =\n E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>,\n                                I_ES =\n                                  I\\<^bsub>ES1\\<^esub> -\n                                  O\\<^bsub>ES2\\<^esub> \\<union>\n                                  (I\\<^bsub>ES2\\<^esub> -\n                                   O\\<^bsub>ES1\\<^esub>),\n                                O_ES =\n                                  O\\<^bsub>ES1\\<^esub> -\n                                  I\\<^bsub>ES2\\<^esub> \\<union>\n                                  (O\\<^bsub>ES2\\<^esub> -\n                                   I\\<^bsub>ES1\\<^esub>),\n                                Tr_ES =\n                                  {\\<tau>.\n                                   \\<tau> \\<upharpoonleft>\n                                   E\\<^bsub>ES1\\<^esub>\n                                   \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                                   \\<tau> \\<upharpoonleft>\n                                   E\\<^bsub>ES2\\<^esub>\n                                   \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                                   set \\<tau>\n                                   \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n         E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>.\n       \\<forall>e\\<in>set l.\n          e \\<in> E\\<^bsub>\\<lparr>E_ES =\n                                     E\\<^bsub>ES1\\<^esub> \\<union>\n                                     E\\<^bsub>ES2\\<^esub>,\n                              I_ES =\n                                I\\<^bsub>ES1\\<^esub> -\n                                O\\<^bsub>ES2\\<^esub> \\<union>\n                                (I\\<^bsub>ES2\\<^esub> -\n                                 O\\<^bsub>ES1\\<^esub>),\n                              O_ES =\n                                O\\<^bsub>ES1\\<^esub> -\n                                I\\<^bsub>ES2\\<^esub> \\<union>\n                                (O\\<^bsub>ES2\\<^esub> -\n                                 I\\<^bsub>ES1\\<^esub>),\n                              Tr_ES =\n                                {\\<tau>.\n                                 \\<tau> \\<upharpoonleft>\n                                 E\\<^bsub>ES1\\<^esub>\n                                 \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                                 \\<tau> \\<upharpoonleft>\n                                 E\\<^bsub>ES2\\<^esub>\n                                 \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                                 set \\<tau>\n                                 \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n       E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>", "proof (clarsimp)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>l e.\n       \\<lbrakk>e \\<in> set l;\n        l \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        l \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        e \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> e \\<in> E\\<^bsub>ES1\\<^esub>", "fix l e"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>l e.\n       \\<lbrakk>e \\<in> set l;\n        l \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        l \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        e \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> e \\<in> E\\<^bsub>ES1\\<^esub>", "assume \"e \\<in> set l\"\n        and \"set l \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  e \\<in> set l\n  set l \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l e.\n       \\<lbrakk>e \\<in> set l;\n        l \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        l \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        e \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> e \\<in> E\\<^bsub>ES1\\<^esub>", "then"], ["proof (chain)\npicking this:\n  e \\<in> set l\n  set l \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "have e_in_union: \"e \\<in> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  e \\<in> set l\n  set l \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. e \\<in> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>", "by auto"], ["proof (state)\nthis:\n  e \\<in> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l e.\n       \\<lbrakk>e \\<in> set l;\n        l \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        l \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        e \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> e \\<in> E\\<^bsub>ES1\\<^esub>", "assume \"e \\<notin> E\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  e \\<notin> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l e.\n       \\<lbrakk>e \\<in> set l;\n        l \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        l \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        e \\<notin> E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> e \\<in> E\\<^bsub>ES1\\<^esub>", "with e_in_union"], ["proof (chain)\npicking this:\n  e \\<in> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n  e \\<notin> E\\<^bsub>ES2\\<^esub>", "show \"e \\<in> E\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  e \\<in> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>\n  e \\<notin> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. e \\<in> E\\<^bsub>ES1\\<^esub>", "by auto"], ["proof (state)\nthis:\n  e \\<in> E\\<^bsub>ES1\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  traces_contain_events ES1 \\<parallel> ES2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES1_traces_prefixclosed: \"traces_prefixclosed ES1\""], ["proof (state)\nthis:\n  traces_prefixclosed ES1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "assume ES2_traces_prefixclosed: \"traces_prefixclosed ES2\""], ["proof (state)\nthis:\n  traces_prefixclosed ES2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>es_inputs_are_events ES1; es_inputs_are_events ES2;\n     es_outputs_are_events ES1; es_outputs_are_events ES2;\n     es_inputs_outputs_disjoint ES1; es_inputs_outputs_disjoint ES2;\n     traces_contain_events ES1; traces_prefixclosed ES1;\n     traces_contain_events ES2; traces_prefixclosed ES2\\<rbrakk>\n    \\<Longrightarrow> traces_prefixclosed ES1 \\<parallel> ES2", "show \"traces_prefixclosed (ES1 \\<parallel> ES2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. traces_prefixclosed ES1 \\<parallel> ES2", "unfolding composeES_def traces_prefixclosed_def prefixclosed_def prefix_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>l1\\<in>Tr\\<^bsub>\\<lparr>E_ES =\n  E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>,\n                                 I_ES =\n                                   I\\<^bsub>ES1\\<^esub> -\n                                   O\\<^bsub>ES2\\<^esub> \\<union>\n                                   (I\\<^bsub>ES2\\<^esub> -\n                                    O\\<^bsub>ES1\\<^esub>),\n                                 O_ES =\n                                   O\\<^bsub>ES1\\<^esub> -\n                                   I\\<^bsub>ES2\\<^esub> \\<union>\n                                   (O\\<^bsub>ES2\\<^esub> -\n                                    I\\<^bsub>ES1\\<^esub>),\n                                 Tr_ES =\n                                   {\\<tau>.\n                                    \\<tau> \\<upharpoonleft>\n                                    E\\<^bsub>ES1\\<^esub>\n                                    \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                                    \\<tau> \\<upharpoonleft>\n                                    E\\<^bsub>ES2\\<^esub>\n                                    \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                                    set \\<tau>\n                                    \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n          E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>.\n       \\<forall>l2.\n          (\\<exists>l3. l2 @ l3 = l1) \\<longrightarrow>\n          l2 \\<in> Tr\\<^bsub>\\<lparr>E_ES =\n E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>,\n                                I_ES =\n                                  I\\<^bsub>ES1\\<^esub> -\n                                  O\\<^bsub>ES2\\<^esub> \\<union>\n                                  (I\\<^bsub>ES2\\<^esub> -\n                                   O\\<^bsub>ES1\\<^esub>),\n                                O_ES =\n                                  O\\<^bsub>ES1\\<^esub> -\n                                  I\\<^bsub>ES2\\<^esub> \\<union>\n                                  (O\\<^bsub>ES2\\<^esub> -\n                                   I\\<^bsub>ES1\\<^esub>),\n                                Tr_ES =\n                                  {\\<tau>.\n                                   \\<tau> \\<upharpoonleft>\n                                   E\\<^bsub>ES1\\<^esub>\n                                   \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                                   \\<tau> \\<upharpoonleft>\n                                   E\\<^bsub>ES2\\<^esub>\n                                   \\<in> Tr\\<^bsub>ES2\\<^esub> \\<and>\n                                   set \\<tau>\n                                   \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n         E\\<^bsub>ES2\\<^esub>}\\<rparr>\\<^esub>", "proof (clarsimp)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "fix l2 l3"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "have l2l3split: \"(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> = (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> =\n    l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n    l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>", "by (rule projection_concatenation_commute)"], ["proof (state)\nthis:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> =\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "assume \"(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>\""], ["proof (state)\nthis:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "with l2l3split"], ["proof (chain)\npicking this:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> =\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub>", "have l2l3cattrace: \"(l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<in> Tr\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> =\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n    l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n    \\<in> Tr\\<^bsub>ES1\\<^esub>", "by auto"], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "have theprefix: \"(l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n    (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n     l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)", "by (simp add: prefix_def)"], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "have prefixclosure: \"\\<forall> es1 \\<in> (Tr\\<^bsub>ES1\\<^esub>). \\<forall> es2. es2 \\<preceq> es1 \\<longrightarrow> es2 \\<in> (Tr\\<^bsub>ES1\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>es1\\<in>Tr\\<^bsub>ES1\\<^esub>.\n       \\<forall>es2.\n          es2 \\<preceq> es1 \\<longrightarrow>\n          es2 \\<in> Tr\\<^bsub>ES1\\<^esub>", "by (clarsimp, insert ES1_traces_prefixclosed, unfold traces_prefixclosed_def prefixclosed_def, \n        erule_tac x=\"es1\" in ballE, erule_tac x=\"es2\" in allE, erule impE, auto)"], ["proof (state)\nthis:\n  \\<forall>es1\\<in>Tr\\<^bsub>ES1\\<^esub>.\n     \\<forall>es2.\n        es2 \\<preceq> es1 \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "hence \n      \" ((l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)) \\<in> Tr\\<^bsub>ES1\\<^esub> \\<Longrightarrow> \\<forall> es2. es2 \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>))\n         \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  \\<forall>es1\\<in>Tr\\<^bsub>ES1\\<^esub>.\n     \\<forall>es2.\n        es2 \\<preceq> es1 \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n    l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n    \\<in> Tr\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n    \\<forall>es2.\n       es2 \\<preceq>\n       (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n        l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n       es2 \\<in> Tr\\<^bsub>ES1\\<^esub>", ".."], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "with l2l3cattrace"], ["proof (chain)\npicking this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub>\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES1\\<^esub>", "have \"\\<forall> es2. es2 \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)) \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub>\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub> \\<Longrightarrow>\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<forall>es2.\n       es2 \\<preceq>\n       (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n        l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n       es2 \\<in> Tr\\<^bsub>ES1\\<^esub>", "by auto"], ["proof (state)\nthis:\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "hence \"(l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)) \\<longrightarrow> (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<in> Tr\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n    (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n     l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n    l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>", ".."], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "with theprefix"], ["proof (chain)\npicking this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>", "have goal51: \"(l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<in> Tr\\<^bsub>ES1\\<^esub>\""], ["proof (prove)\nusing this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>)\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>) \\<longrightarrow>\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>", "by simp"], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "have l2l3split: \"(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> = (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> =\n    l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n    l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>", "by (rule projection_concatenation_commute)"], ["proof (state)\nthis:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> =\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "assume \"(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (state)\nthis:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "with l2l3split"], ["proof (chain)\npicking this:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> =\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub>", "have l2l3cattrace: \"(l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> =\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n    l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n    \\<in> Tr\\<^bsub>ES2\\<^esub>", "by auto"], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "have theprefix: \"(l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n    (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n     l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)", "by (simp add: prefix_def)"], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "have prefixclosure: \"\\<forall> es1 \\<in> Tr\\<^bsub>ES2\\<^esub>. \\<forall>es2. es2 \\<preceq> es1 \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>es1\\<in>Tr\\<^bsub>ES2\\<^esub>.\n       \\<forall>es2.\n          es2 \\<preceq> es1 \\<longrightarrow>\n          es2 \\<in> Tr\\<^bsub>ES2\\<^esub>", "by (clarsimp, insert ES2_traces_prefixclosed, \n        unfold traces_prefixclosed_def prefixclosed_def, \n        erule_tac x=\"es1\" in ballE, erule_tac x=\"es2\" in allE, erule impE, auto)"], ["proof (state)\nthis:\n  \\<forall>es1\\<in>Tr\\<^bsub>ES2\\<^esub>.\n     \\<forall>es2.\n        es2 \\<preceq> es1 \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "hence \" ((l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)) \\<in> Tr\\<^bsub>ES2\\<^esub> \n      \\<Longrightarrow> \\<forall> es2. es2 \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)) \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  \\<forall>es1\\<in>Tr\\<^bsub>ES2\\<^esub>.\n     \\<forall>es2.\n        es2 \\<preceq> es1 \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n    l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n    \\<in> Tr\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n    \\<forall>es2.\n       es2 \\<preceq>\n       (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n        l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n       es2 \\<in> Tr\\<^bsub>ES2\\<^esub>", ".."], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "with l2l3cattrace"], ["proof (chain)\npicking this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES2\\<^esub>", "have \"\\<forall> es2. es2 \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)) \\<longrightarrow> es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n  l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n  \\<in> Tr\\<^bsub>ES2\\<^esub> \\<Longrightarrow>\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<forall>es2.\n       es2 \\<preceq>\n       (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n        l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n       es2 \\<in> Tr\\<^bsub>ES2\\<^esub>", "by auto"], ["proof (state)\nthis:\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "hence \"(l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<preceq> ((l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) @ (l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)) \\<longrightarrow> (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  \\<forall>es2.\n     es2 \\<preceq>\n     (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n      l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n     es2 \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n    (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n     l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n    l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>", ".."], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "with theprefix"], ["proof (chain)\npicking this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>", "have goal52: \"(l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>)\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<preceq>\n  (l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> @\n   l3 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>) \\<longrightarrow>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>", "by simp"], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. \\<And>l2 l3.\n       \\<lbrakk>(l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                \\<in> Tr\\<^bsub>ES1\\<^esub>;\n        (l2 @ l3) \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n        \\<in> Tr\\<^bsub>ES2\\<^esub>;\n        set l2\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union> E\\<^bsub>ES2\\<^esub>;\n        set l3\n        \\<subseteq> E\\<^bsub>ES1\\<^esub> \\<union>\n                    E\\<^bsub>ES2\\<^esub>\\<rbrakk>\n       \\<Longrightarrow> l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n                         \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n                         l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub>\n                         \\<in> Tr\\<^bsub>ES2\\<^esub>", "from goal51 goal52"], ["proof (chain)\npicking this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>", "show goal5: \"l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and> l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>\""], ["proof (prove)\nusing this:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub> \\<in> Tr\\<^bsub>ES1\\<^esub>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal (1 subgoal):\n 1. l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n    \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n    l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>", ".."], ["proof (state)\nthis:\n  l2 \\<upharpoonleft> E\\<^bsub>ES1\\<^esub>\n  \\<in> Tr\\<^bsub>ES1\\<^esub> \\<and>\n  l2 \\<upharpoonleft> E\\<^bsub>ES2\\<^esub> \\<in> Tr\\<^bsub>ES2\\<^esub>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  traces_prefixclosed ES1 \\<parallel> ES2\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}