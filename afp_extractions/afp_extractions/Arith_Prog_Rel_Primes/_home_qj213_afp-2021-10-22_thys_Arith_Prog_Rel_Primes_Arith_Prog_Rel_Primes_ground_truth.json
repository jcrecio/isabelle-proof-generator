{"file_name": "/home/qj213/afp-2021-10-22/thys/Arith_Prog_Rel_Primes/Arith_Prog_Rel_Primes.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Arith_Prog_Rel_Primes", "problem_names": ["lemma even_and_odd_parts:\n  fixes n::nat\n  assumes \\<open>n \\<noteq> 0\\<close>\n  shows \\<open>\\<exists> k q::nat. n = (2::nat)^k*q \\<and> odd q\\<close>", "lemma only_one_odd_div_power2:\n  fixes n::nat\n  assumes \\<open>n \\<noteq> 0\\<close> and  \\<open>\\<And> x. x dvd n \\<Longrightarrow> odd x \\<Longrightarrow> x = 1\\<close>\n  shows \\<open>\\<exists> k. n = (2::nat)^k\\<close>", "lemma coprime_power2:\n  fixes n::nat\n  assumes \\<open>n \\<noteq> 0\\<close> and \\<open>\\<And> x. x < n \\<Longrightarrow> (coprime x n \\<longleftrightarrow> odd x)\\<close>\n  shows \\<open>\\<exists> k. n = (2::nat)^k\\<close>", "theorem arith_prog_rel_primes_solution:\n  fixes n :: nat\n  assumes \\<open>n > 1\\<close>\n  shows \\<open>(prime n \\<or> (\\<exists> k. n = 2^k) \\<or> n = 6) \\<longleftrightarrow>  \n(\\<exists> a b m. m \\<noteq> 0 \\<and> {x | x. x < n \\<and> coprime x n} = {a+j*b| j::nat. j < m})\\<close>"], "translations": [["", "lemma even_and_odd_parts:\n  fixes n::nat\n  assumes \\<open>n \\<noteq> 0\\<close>\n  shows \\<open>\\<exists> k q::nat. n = (2::nat)^k*q \\<and> odd q\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k q. n = 2 ^ k * q \\<and> odd q", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>k q. n = 2 ^ k * q \\<and> odd q", "have \\<open>prime (2::nat)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. prime 2", "by simp"], ["proof (state)\nthis:\n  prime 2\n\ngoal (1 subgoal):\n 1. \\<exists>k q. n = 2 ^ k * q \\<and> odd q", "thus ?thesis"], ["proof (prove)\nusing this:\n  prime 2\n\ngoal (1 subgoal):\n 1. \\<exists>k q. n = 2 ^ k * q \\<and> odd q", "using prime_power_canonical[where p = \"2\" and m = \"n\"]\n      assms semiring_normalization_rules(7)"], ["proof (prove)\nusing this:\n  prime 2\n  \\<lbrakk>prime 2; 0 < n\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k na. odd na \\<and> n = na * 2 ^ k\n  n \\<noteq> 0\n  ?a * ?b = ?b * ?a\n\ngoal (1 subgoal):\n 1. \\<exists>k q. n = 2 ^ k * q \\<and> odd q", "by auto"], ["proof (state)\nthis:\n  \\<exists>k q. n = 2 ^ k * q \\<and> odd q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma only_one_odd_div_power2:\n  fixes n::nat\n  assumes \\<open>n \\<noteq> 0\\<close> and  \\<open>\\<And> x. x dvd n \\<Longrightarrow> odd x \\<Longrightarrow> x = 1\\<close>\n  shows \\<open>\\<exists> k. n = (2::nat)^k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "by (metis even_and_odd_parts assms(1) assms(2) dvd_triv_left semiring_normalization_rules(11)\n      semiring_normalization_rules(7))"], ["", "lemma coprime_power2:\n  fixes n::nat\n  assumes \\<open>n \\<noteq> 0\\<close> and \\<open>\\<And> x. x < n \\<Longrightarrow> (coprime x n \\<longleftrightarrow> odd x)\\<close>\n  shows \\<open>\\<exists> k. n = (2::nat)^k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "have \\<open>x dvd n \\<Longrightarrow> odd x \\<Longrightarrow> x = 1\\<close>\n    for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x dvd n; odd x\\<rbrakk> \\<Longrightarrow> x = 1", "by (metis neq0_conv One_nat_def Suc_1 Suc_lessI assms(1) assms(2) coprime_left_2_iff_odd\n        dvd_refl linorder_neqE_nat nat_dvd_1_iff_1 nat_dvd_not_less not_coprimeI)"], ["proof (state)\nthis:\n  \\<lbrakk>?x dvd n; odd ?x\\<rbrakk> \\<Longrightarrow> ?x = 1\n\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x dvd n; odd ?x\\<rbrakk> \\<Longrightarrow> ?x = 1\n\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "using assms(1) only_one_odd_div_power2"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x dvd n; odd ?x\\<rbrakk> \\<Longrightarrow> ?x = 1\n  n \\<noteq> 0\n  \\<lbrakk>?n \\<noteq> 0;\n   \\<And>x.\n      \\<lbrakk>x dvd ?n; odd x\\<rbrakk> \\<Longrightarrow> x = 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. ?n = 2 ^ k\n\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "by auto"], ["proof (state)\nthis:\n  \\<exists>k. n = 2 ^ k\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Main result\\<close>"], ["", "text \\<open>\n  The solution to the problem  ARITHMETIC PROGRESSIONS (Putnam exam problems 2002)\n\\<close>"], ["", "theorem arith_prog_rel_primes_solution:\n  fixes n :: nat\n  assumes \\<open>n > 1\\<close>\n  shows \\<open>(prime n \\<or> (\\<exists> k. n = 2^k) \\<or> n = 6) \\<longleftrightarrow>  \n(\\<exists> a b m. m \\<noteq> 0 \\<and> {x | x. x < n \\<and> coprime x n} = {a+j*b| j::nat. j < m})\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n    (\\<exists>a b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n    (\\<exists>a b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "have \\<open> (prime n \\<or> (\\<exists> k. n = 2^k) \\<or>  n = 6) \\<longleftrightarrow>\n (\\<exists> b m. m \\<noteq> 0 \\<and> {x | x :: nat. x < n \\<and> coprime x n} = {1+j*b| j::nat. j < m})\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n    (\\<exists>b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m})", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6 \\<Longrightarrow>\n    \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n 2. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} =\n       {1 + j * b |j. j < m} \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "show \"\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\"\n      if \"prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \"\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\"\n        if \"prime n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>\\<exists>m.   m \\<noteq> 0 \\<and> {x | x :: nat. x < n \\<and> coprime x n} = {1+j| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "have \\<open>{x | x :: nat. x < n \\<and> coprime x n} =  {x | x :: nat. x \\<noteq> 0 \\<and> x < n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {x |x. x \\<noteq> 0 \\<and> x < n}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {x |x. x < n \\<and> coprime x n}\n    \\<subseteq> {x |x. x \\<noteq> 0 \\<and> x < n}\n 2. {x |x. x \\<noteq> 0 \\<and> x < n}\n    \\<subseteq> {x |x. x < n \\<and> coprime x n}", "show \"{x |x. x < n \\<and> coprime x n} \\<subseteq> {x |x. x \\<noteq> 0 \\<and> x < n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n}\n    \\<subseteq> {x |x. x \\<noteq> 0 \\<and> x < n}", "by (smt Collect_mono not_le ord_0_nat ord_eq_0 order_refl prime_gt_1_nat that zero_neq_one)"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n}\n  \\<subseteq> {x |x. x \\<noteq> 0 \\<and> x < n}\n\ngoal (1 subgoal):\n 1. {x |x. x \\<noteq> 0 \\<and> x < n}\n    \\<subseteq> {x |x. x < n \\<and> coprime x n}", "show \"{x |x. x \\<noteq> 0 \\<and> x < n} \\<subseteq> {x |x. x < n \\<and> coprime x n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x \\<noteq> 0 \\<and> x < n}\n    \\<subseteq> {x |x. x < n \\<and> coprime x n}", "using coprime_commute prime_nat_iff'' that"], ["proof (prove)\nusing this:\n  coprime ?b ?a = coprime ?a ?b\n  prime ?p =\n  (?p \\<noteq> 0 \\<and>\n   ?p \\<noteq> 1 \\<and>\n   (\\<forall>m. 0 < m \\<and> m < ?p \\<longrightarrow> coprime ?p m))\n  prime n\n\ngoal (1 subgoal):\n 1. {x |x. x \\<noteq> 0 \\<and> x < n}\n    \\<subseteq> {x |x. x < n \\<and> coprime x n}", "by fastforce"], ["proof (state)\nthis:\n  {x |x. x \\<noteq> 0 \\<and> x < n}\n  \\<subseteq> {x |x. x < n \\<and> coprime x n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {x |x. x \\<noteq> 0 \\<and> x < n}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "obtain m where \\<open>m+1 = n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m. m + 1 = n \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using add.commute assms less_imp_add_positive"], ["proof (prove)\nusing this:\n  ?a + ?b = ?b + ?a\n  1 < n\n  ?i < ?j \\<Longrightarrow> \\<exists>k>0. ?i + k = ?j\n\ngoal (1 subgoal):\n 1. (\\<And>m. m + 1 = n \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  m + 1 = n\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "have \\<open>{1+j| j::nat. j < (m::nat)} =  {x | x :: nat. x \\<noteq> 0 \\<and> x < m+1}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {1 + j |j. j < m} = {x |x. x \\<noteq> 0 \\<and> x < m + 1}", "by (metis Suc_eq_plus1   \\<open>m + 1 = n\\<close> gr0_implies_Suc le_simps(3)   less_nat_zero_code   linorder_not_less nat.simps(3) nat_neq_iff  plus_1_eq_Suc )"], ["proof (state)\nthis:\n  {1 + j |j. j < m} = {x |x. x \\<noteq> 0 \\<and> x < m + 1}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "hence  \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {1+j| j::nat. j < (m::nat)}\\<close>"], ["proof (prove)\nusing this:\n  {1 + j |j. j < m} = {x |x. x \\<noteq> 0 \\<and> x < m + 1}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "using \\<open>{x | x :: nat. x < n \\<and> coprime x n} =  {x | x :: nat. x \\<noteq> 0 \\<and> x < n}\\<close>  \\<open>m+1 = n\\<close>"], ["proof (prove)\nusing this:\n  {1 + j |j. j < m} = {x |x. x \\<noteq> 0 \\<and> x < m + 1}\n  {x |x. x < n \\<and> coprime x n} = {x |x. x \\<noteq> 0 \\<and> x < n}\n  m + 1 = n\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "by auto"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "from \\<open>n > 1\\<close>"], ["proof (chain)\npicking this:\n  1 < n", "have \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0", "using \\<open>m + 1 = n\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n  m + 1 = n\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0", "by linarith"], ["proof (state)\nthis:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "have \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {1+j| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "using Suc_eq_plus1 \\<open>1 < n\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  Suc ?n = ?n + 1\n  1 < n\n  {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "by auto"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "hence \\<open>(\\<exists> m.  m \\<noteq> 0 \\<and> {x | x :: nat. x < n \\<and> coprime x n} = {1+j| j::nat. j < m})\\<close>"], ["proof (prove)\nusing this:\n  {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "by blast"], ["proof (state)\nthis:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}", "by blast"], ["proof (state)\nthis:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "hence \\<open>\\<exists>m.  m \\<noteq> 0 \\<and> {x | x :: nat. x < n \\<and> coprime x n} = {1+j*1| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * 1 |j. j < m}", "by auto"], ["proof (state)\nthis:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * 1 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * 1 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prime n \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "moreover"], ["proof (state)\nthis:\n  prime n \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \"\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\"\n        if \"\\<exists>k. n = 2 ^ k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "obtain k where \\<open>n = 2 ^ k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k. n = 2 ^ k \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using \\<open>\\<exists>k. n = 2 ^ k\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>k. n = 2 ^ k\n\ngoal (1 subgoal):\n 1. (\\<And>k. n = 2 ^ k \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  n = 2 ^ k\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>k \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. k \\<noteq> 0", "by (metis \\<open>1 < n\\<close> \\<open>n = 2 ^ k\\<close> nat_less_le power.simps(1))"], ["proof (state)\nthis:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "obtain t where \\<open>Suc t = k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t. Suc t = k \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by (metis \\<open>k \\<noteq> 0\\<close> fib.cases)"], ["proof (state)\nthis:\n  Suc t = k\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>n = 2^(Suc t)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 ^ Suc t", "by (simp add: \\<open>Suc t = k\\<close> \\<open>n = 2 ^ k\\<close>)"], ["proof (state)\nthis:\n  n = 2 ^ Suc t\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {1+j*2| j::nat. j < 2^t}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < 2 ^ t}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {x |x. x < n \\<and> coprime x n} \\<subseteq> {1 + j * 2 |j. j < 2 ^ t}\n 2. {1 + j * 2 |j. j < 2 ^ t} \\<subseteq> {x |x. x < n \\<and> coprime x n}", "show \"{x |x. x < n \\<and> coprime x n} \\<subseteq> {1 + j * 2 |j. j < 2^t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} \\<subseteq> {1 + j * 2 |j. j < 2 ^ t}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "assume \\<open>x \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (state)\nthis:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "hence \\<open>x < n\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. x < n", "by blast"], ["proof (state)\nthis:\n  x < n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "have \\<open>coprime x n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime x n", "using \\<open>x \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime x n", "by blast"], ["proof (state)\nthis:\n  coprime x n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "hence \\<open>coprime x (2^(Suc k))\\<close>"], ["proof (prove)\nusing this:\n  coprime x n\n\ngoal (1 subgoal):\n 1. coprime x (2 ^ Suc k)", "by (simp add: \\<open>k \\<noteq> 0\\<close> \\<open>n = 2 ^ k\\<close>)"], ["proof (state)\nthis:\n  coprime x (2 ^ Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "have \\<open>odd x\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. odd x", "using \\<open>coprime x n\\<close> \\<open>k \\<noteq> 0\\<close> \\<open>n = 2 ^ k\\<close>"], ["proof (prove)\nusing this:\n  coprime x n\n  k \\<noteq> 0\n  n = 2 ^ k\n\ngoal (1 subgoal):\n 1. odd x", "by auto"], ["proof (state)\nthis:\n  odd x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "then"], ["proof (chain)\npicking this:\n  odd x", "obtain j where \\<open>x = 1+j*2\\<close>"], ["proof (prove)\nusing this:\n  odd x\n\ngoal (1 subgoal):\n 1. (\\<And>j. x = 1 + j * 2 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis add.commute add.left_commute left_add_twice mult_2_right oddE)"], ["proof (state)\nthis:\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "have \\<open>x < 2^k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. x < 2 ^ k", "using \\<open>n = 2 ^ k\\<close> \\<open>x < n\\<close> \\<open>x = 1+j*2\\<close>"], ["proof (prove)\nusing this:\n  n = 2 ^ k\n  x < n\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. x < 2 ^ k", "by linarith"], ["proof (state)\nthis:\n  x < 2 ^ k\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "hence \\<open>1+j*2 < 2^k\\<close>"], ["proof (prove)\nusing this:\n  x < 2 ^ k\n\ngoal (1 subgoal):\n 1. 1 + j * 2 < 2 ^ k", "using \\<open>x = 1+j*2\\<close>"], ["proof (prove)\nusing this:\n  x < 2 ^ k\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. 1 + j * 2 < 2 ^ k", "by blast"], ["proof (state)\nthis:\n  1 + j * 2 < 2 ^ k\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "hence \\<open>j < 2^t\\<close>"], ["proof (prove)\nusing this:\n  1 + j * 2 < 2 ^ k\n\ngoal (1 subgoal):\n 1. j < 2 ^ t", "using \\<open>Suc t = k\\<close>"], ["proof (prove)\nusing this:\n  1 + j * 2 < 2 ^ k\n  Suc t = k\n\ngoal (1 subgoal):\n 1. j < 2 ^ t", "by auto"], ["proof (state)\nthis:\n  j < 2 ^ t\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < n \\<and> coprime x n} \\<Longrightarrow>\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "thus \\<open>x \\<in> {1 + j * 2 |j. j < 2^t}\\<close>"], ["proof (prove)\nusing this:\n  j < 2 ^ t\n\ngoal (1 subgoal):\n 1. x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "using \\<open>x = 1+j*2\\<close>"], ["proof (prove)\nusing this:\n  j < 2 ^ t\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {1 + j * 2 |j. j < 2 ^ t}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} \\<subseteq> {1 + j * 2 |j. j < 2 ^ t}\n\ngoal (1 subgoal):\n 1. {1 + j * 2 |j. j < 2 ^ t} \\<subseteq> {x |x. x < n \\<and> coprime x n}", "show \"{1 + j * 2 |j. j < 2 ^ t} \\<subseteq> {x |x. x < n \\<and> coprime x n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {1 + j * 2 |j. j < 2 ^ t} \\<subseteq> {x |x. x < n \\<and> coprime x n}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "fix x::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "assume \\<open>x \\<in> {1 + j * 2 |j. j < 2 ^ t}\\<close>"], ["proof (state)\nthis:\n  x \\<in> {1 + j * 2 |j. j < 2 ^ t}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "then"], ["proof (chain)\npicking this:\n  x \\<in> {1 + j * 2 |j. j < 2 ^ t}", "obtain j where \\<open>x = 1 + j * 2\\<close> and \\<open>j < 2 ^ t\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {1 + j * 2 |j. j < 2 ^ t}\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>x = 1 + j * 2; j < 2 ^ t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x = 1 + j * 2\n  j < 2 ^ t\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "have \\<open>x < 2*(2^t)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. x < 2 * 2 ^ t", "using  \\<open>x = 1 + j * 2\\<close>  \\<open>j < 2 ^ t\\<close>"], ["proof (prove)\nusing this:\n  x = 1 + j * 2\n  j < 2 ^ t\n\ngoal (1 subgoal):\n 1. x < 2 * 2 ^ t", "by linarith"], ["proof (state)\nthis:\n  x < 2 * 2 ^ t\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "hence \\<open>x < n\\<close>"], ["proof (prove)\nusing this:\n  x < 2 * 2 ^ t\n\ngoal (1 subgoal):\n 1. x < n", "by (simp add: \\<open>n = 2 ^ Suc t\\<close>)"], ["proof (state)\nthis:\n  x < n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "moreover"], ["proof (state)\nthis:\n  x < n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "have \\<open>coprime x n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime x n", "by (metis (no_types) \\<open>\\<And>thesis. (\\<And>j. \\<lbrakk>x = 1 + j * 2; j < 2 ^ t\\<rbrakk> \\<Longrightarrow> thesis) \\<Longrightarrow> thesis\\<close> \\<open>n = 2 ^ k\\<close> coprime_Suc_left_nat coprime_mult_right_iff coprime_power_right_iff plus_1_eq_Suc)"], ["proof (state)\nthis:\n  coprime x n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {1 + j * 2 |j. j < 2 ^ t} \\<Longrightarrow>\n       x \\<in> {x |x. x < n \\<and> coprime x n}", "ultimately"], ["proof (chain)\npicking this:\n  x < n\n  coprime x n", "show \\<open>x \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  x < n\n  coprime x n\n\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {1 + j * 2 |j. j < 2 ^ t} \\<subseteq> {x |x. x < n \\<and> coprime x n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < 2 ^ t}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>(2::nat)^(t::nat) \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ t \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  2 ^ t \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "obtain m where \\<open>m = (2::nat)^t\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m. m = 2 ^ t \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  m = 2 ^ t\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. m \\<noteq> 0", "using \\<open>m = 2 ^ t\\<close>"], ["proof (prove)\nusing this:\n  m = 2 ^ t\n\ngoal (1 subgoal):\n 1. m \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {1+j*2| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}", "using \\<open>m = 2 ^ t\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < 2 ^ t}\\<close>"], ["proof (prove)\nusing this:\n  m = 2 ^ t\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < 2 ^ t}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}", "by auto"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "from  \\<open>m \\<noteq> 0\\<close>  \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {1+j*2| j::nat. j < m}\\<close>"], ["proof (chain)\npicking this:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}", "show ?thesis"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>k. n = 2 ^ k \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "moreover"], ["proof (state)\nthis:\n  \\<exists>k. n = 2 ^ k \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \"\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\"\n        if \"n = 6\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have  \\<open>{x | x. x < 6 \\<and> coprime x 6} = {1+j*4| j::nat. j < 2}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}", "have \\<open>{x | x::nat. x < 6 \\<and> coprime x 6} = {1, 5}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} = {1, 5}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {x |x. x < 6 \\<and> coprime x 6} \\<subseteq> {1, 5}\n 2. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "show \"{u. \\<exists>x. u = (x::nat) \\<and> x < 6 \\<and> coprime x 6} \\<subseteq> {1, 5}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} \\<subseteq> {1, 5}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "fix u::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "assume \\<open>u \\<in> {u. \\<exists>x. u = x \\<and> x < 6 \\<and> coprime x 6}\\<close>"], ["proof (state)\nthis:\n  u \\<in> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "hence \\<open>coprime u 6\\<close>"], ["proof (prove)\nusing this:\n  u \\<in> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal (1 subgoal):\n 1. coprime u 6", "by blast"], ["proof (state)\nthis:\n  coprime u 6\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "have \\<open>u < 6\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. u < 6", "using \\<open>u \\<in> {u. \\<exists>x. u = x \\<and> x < 6 \\<and> coprime x 6}\\<close>"], ["proof (prove)\nusing this:\n  u \\<in> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal (1 subgoal):\n 1. u < 6", "by blast"], ["proof (state)\nthis:\n  u < 6\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "moreover"], ["proof (state)\nthis:\n  u < 6\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "have \\<open>u \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<noteq> 0", "using \\<open>coprime u 6\\<close> ord_eq_0"], ["proof (prove)\nusing this:\n  coprime u 6\n  (ord ?n ?a = 0) = (\\<not> coprime ?n ?a)\n\ngoal (1 subgoal):\n 1. u \\<noteq> 0", "by fastforce"], ["proof (state)\nthis:\n  u \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "moreover"], ["proof (state)\nthis:\n  u \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "have \\<open>u \\<noteq> 2\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<noteq> 2", "using \\<open>coprime u 6\\<close>"], ["proof (prove)\nusing this:\n  coprime u 6\n\ngoal (1 subgoal):\n 1. u \\<noteq> 2", "by auto"], ["proof (state)\nthis:\n  u \\<noteq> 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "moreover"], ["proof (state)\nthis:\n  u \\<noteq> 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "have \\<open>u \\<noteq> 3\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<noteq> 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. u \\<noteq> 3", "have \\<open>gcd (3::nat) 6 = 3\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. gcd 3 6 = 3", "by auto"], ["proof (state)\nthis:\n  gcd 3 6 = 3\n\ngoal (1 subgoal):\n 1. u \\<noteq> 3", "thus ?thesis"], ["proof (prove)\nusing this:\n  gcd 3 6 = 3\n\ngoal (1 subgoal):\n 1. u \\<noteq> 3", "by (metis (no_types) \\<open>coprime u 6\\<close> \\<open>gcd 3 6 = 3\\<close> coprime_iff_gcd_eq_1 \n                      numeral_eq_one_iff semiring_norm(86))"], ["proof (state)\nthis:\n  u \\<noteq> 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u \\<noteq> 3\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "moreover"], ["proof (state)\nthis:\n  u \\<noteq> 3\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "have \\<open>u \\<noteq> 4\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<noteq> 4", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. u \\<noteq> 4", "have \\<open>gcd (4::nat) 6 = 2\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. gcd 4 6 = 2", "by (metis (no_types, lifting) add_numeral_left gcd_add1 gcd_add2 gcd_nat.idem\n                      numeral_Bit0 numeral_One one_plus_numeral semiring_norm(4) semiring_norm(5))"], ["proof (state)\nthis:\n  gcd 4 6 = 2\n\ngoal (1 subgoal):\n 1. u \\<noteq> 4", "thus ?thesis"], ["proof (prove)\nusing this:\n  gcd 4 6 = 2\n\ngoal (1 subgoal):\n 1. u \\<noteq> 4", "using \\<open>coprime u 6\\<close> coprime_iff_gcd_eq_1"], ["proof (prove)\nusing this:\n  gcd 4 6 = 2\n  coprime u 6\n  coprime ?a ?b = (gcd ?a ?b = (1::?'a))\n\ngoal (1 subgoal):\n 1. u \\<noteq> 4", "by auto"], ["proof (state)\nthis:\n  u \\<noteq> 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u \\<noteq> 4\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "ultimately"], ["proof (chain)\npicking this:\n  u < 6\n  u \\<noteq> 0\n  u \\<noteq> 2\n  u \\<noteq> 3\n  u \\<noteq> 4", "have \\<open>u = 1 \\<or> u = 5\\<close>"], ["proof (prove)\nusing this:\n  u < 6\n  u \\<noteq> 0\n  u \\<noteq> 2\n  u \\<noteq> 3\n  u \\<noteq> 4\n\ngoal (1 subgoal):\n 1. u = 1 \\<or> u = 5", "by auto"], ["proof (state)\nthis:\n  u = 1 \\<or> u = 5\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {x |x. x < 6 \\<and> coprime x 6} \\<Longrightarrow>\n       x \\<in> {1, 5}", "thus \\<open>u \\<in> {1, 5}\\<close>"], ["proof (prove)\nusing this:\n  u = 1 \\<or> u = 5\n\ngoal (1 subgoal):\n 1. u \\<in> {1, 5}", "by blast"], ["proof (state)\nthis:\n  u \\<in> {1, 5}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x |x. x < 6 \\<and> coprime x 6} \\<subseteq> {1, 5}\n\ngoal (1 subgoal):\n 1. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "show \"{1::nat, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "have \\<open>(1::nat) \\<in> {x |x. x < 6 \\<and> coprime x 6}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<in> {x |x. x < 6 \\<and> coprime x 6}", "by simp"], ["proof (state)\nthis:\n  1 \\<in> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal (1 subgoal):\n 1. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "moreover"], ["proof (state)\nthis:\n  1 \\<in> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal (1 subgoal):\n 1. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "have \\<open>(5::nat) \\<in> {x |x. x < 6 \\<and> coprime x 6}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 5 \\<in> {x |x. x < 6 \\<and> coprime x 6}", "by (metis Suc_numeral coprime_Suc_right_nat less_add_one mem_Collect_eq\n                    numeral_plus_one semiring_norm(5) semiring_norm(8))"], ["proof (state)\nthis:\n  5 \\<in> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal (1 subgoal):\n 1. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "ultimately"], ["proof (chain)\npicking this:\n  1 \\<in> {x |x. x < 6 \\<and> coprime x 6}\n  5 \\<in> {x |x. x < 6 \\<and> coprime x 6}", "show ?thesis"], ["proof (prove)\nusing this:\n  1 \\<in> {x |x. x < 6 \\<and> coprime x 6}\n  5 \\<in> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal (1 subgoal):\n 1. {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}", "by blast"], ["proof (state)\nthis:\n  {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {1, 5} \\<subseteq> {x |x. x < 6 \\<and> coprime x 6}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x |x. x < 6 \\<and> coprime x 6} = {1, 5}\n\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}", "moreover"], ["proof (state)\nthis:\n  {x |x. x < 6 \\<and> coprime x 6} = {1, 5}\n\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}", "have \\<open>{1+j*4| j::nat. j < 2} = {1, 5}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {1 + j * 4 |j. j < 2} = {1, 5}", "by auto"], ["proof (state)\nthis:\n  {1 + j * 4 |j. j < 2} = {1, 5}\n\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}", "ultimately"], ["proof (chain)\npicking this:\n  {x |x. x < 6 \\<and> coprime x 6} = {1, 5}\n  {1 + j * 4 |j. j < 2} = {1, 5}", "show ?thesis"], ["proof (prove)\nusing this:\n  {x |x. x < 6 \\<and> coprime x 6} = {1, 5}\n  {1 + j * 4 |j. j < 2} = {1, 5}\n\ngoal (1 subgoal):\n 1. {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}", "by auto"], ["proof (state)\nthis:\n  {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "moreover"], ["proof (state)\nthis:\n  {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>(2::nat) \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  2 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "ultimately"], ["proof (chain)\npicking this:\n  {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}\n  2 \\<noteq> 0", "have \\<open>\\<exists> m.  m \\<noteq> 0 \\<and> {x | x :: nat. x < 6 \\<and> coprime x 6} = {1+j*4| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < 2}\n  2 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < m}", "by blast"], ["proof (state)\nthis:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "using that"], ["proof (prove)\nusing this:\n  \\<exists>m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < 6 \\<and> coprime x 6} = {1 + j * 4 |j. j < m}\n  n = 6\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 6 \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "ultimately"], ["proof (chain)\npicking this:\n  prime n \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n  \\<exists>k. n = 2 ^ k \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n  n = 6 \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "show ?thesis"], ["proof (prove)\nusing this:\n  prime n \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n  \\<exists>k. n = 2 ^ k \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n  n = 6 \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "using that"], ["proof (prove)\nusing this:\n  prime n \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n  \\<exists>k. n = 2 ^ k \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n  n = 6 \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n  prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6 \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} =\n       {1 + j * b |j. j < m} \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "show \"prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\"\n      if \"\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "obtain b m where \\<open>m \\<noteq> 0\\<close> and \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m b.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>m b.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "proof(cases \\<open>n = 2\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\n 2. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "case True"], ["proof (state)\nthis:\n  n = 2\n\ngoal (2 subgoals):\n 1. n = 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\n 2. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "thus ?thesis"], ["proof (prove)\nusing this:\n  n = 2\n\ngoal (1 subgoal):\n 1. prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "by auto"], ["proof (state)\nthis:\n  prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "case False"], ["proof (state)\nthis:\n  n \\<noteq> 2\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "have \\<open>b \\<le> 4\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> 4", "proof(cases \\<open>odd b\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. odd b \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd b \\<Longrightarrow> b \\<le> 4", "case True"], ["proof (state)\nthis:\n  odd b\n\ngoal (2 subgoals):\n 1. odd b \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd b \\<Longrightarrow> b \\<le> 4", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> 4", "proof(rule classical)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "assume \\<open>\\<not>(b \\<le> 4)\\<close>"], ["proof (state)\nthis:\n  \\<not> b \\<le> 4\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "hence \\<open>b > 4\\<close>"], ["proof (prove)\nusing this:\n  \\<not> b \\<le> 4\n\ngoal (1 subgoal):\n 1. 4 < b", "using le_less_linear"], ["proof (prove)\nusing this:\n  \\<not> b \\<le> 4\n  ?x \\<le> ?y \\<or> ?y < ?x\n\ngoal (1 subgoal):\n 1. 4 < b", "by blast"], ["proof (state)\nthis:\n  4 < b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "obtain m where \\<open>m \\<noteq> 0\\<close> \n              and \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>m \\<noteq> 0\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "using \\<open>4 < b\\<close>"], ["proof (prove)\nusing this:\n  4 < b\n\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "by linarith"], ["proof (state)\nthis:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>n = 2 + (m-1)*b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>n-1 \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>1 < n\\<close> coprime_diff_one_left_nat"], ["proof (prove)\nusing this:\n  1 < n\n  0 < ?n \\<Longrightarrow> coprime (?n - 1) ?n\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>n-1 \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "using \\<open>n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \n                  \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "then"], ["proof (chain)\npicking this:\n  n - 1 \\<in> {1 + j * b |j. j < m}", "obtain i::nat where \\<open>n-1 = 1+i*b\\<close> and \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>n - 1 = 1 + i * b; i < m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  n - 1 = 1 + i * b\n  i < m\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>i \\<le> m-1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "using \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  i < m\n\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "by linarith"], ["proof (state)\nthis:\n  i \\<le> m - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>1 + (m-1)*b \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<in> {x | x::nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b < n\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b < n", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<le> n-1\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> n - 1", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<le> 1+i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "using \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>(m-1)*b \\<le> i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b", "by linarith"], ["proof (state)\nthis:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>m-1 \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "using \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "by auto"], ["proof (state)\nthis:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>m-1 = i\\<close>"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. m - 1 = i", "using \\<open>i \\<le> m - 1\\<close> le_antisym"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n  i \\<le> m - 1\n  \\<lbrakk>?m \\<le> ?n; ?n \\<le> ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. m - 1 = i", "by blast"], ["proof (state)\nthis:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "thus ?thesis"], ["proof (prove)\nusing this:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "using \\<open>m \\<noteq> 0\\<close> \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  m - 1 = i\n  m \\<noteq> 0\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "by auto"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>m \\<ge> 2\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 \\<le> m", "using \\<open>n = 2 + (m - 1)*b\\<close> \\<open>n \\<noteq> 2\\<close>"], ["proof (prove)\nusing this:\n  n = 2 + (m - 1) * b\n  n \\<noteq> 2\n\ngoal (1 subgoal):\n 1. 2 \\<le> m", "by auto"], ["proof (state)\nthis:\n  2 \\<le> m\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "hence \\<open>1+b \\<in> {1+j*b| j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  2 \\<le> m\n\ngoal (1 subgoal):\n 1. 1 + b \\<in> {1 + j * b |j. j < m}", "by fastforce"], ["proof (state)\nthis:\n  1 + b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "hence  \\<open>1+b \\<in> {x | x::nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  1 + b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + b \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  1 + b \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + b \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  1 + b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "hence \\<open>coprime (1+b) n\\<close>"], ["proof (prove)\nusing this:\n  1 + b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime (1 + b) n", "by blast"], ["proof (state)\nthis:\n  coprime (1 + b) n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>(2::nat) dvd (1+b)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. even (1 + b)", "using \\<open>odd b\\<close>"], ["proof (prove)\nusing this:\n  odd b\n\ngoal (1 subgoal):\n 1. even (1 + b)", "by simp"], ["proof (state)\nthis:\n  even (1 + b)\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "hence \\<open>coprime (2::nat) n\\<close>"], ["proof (prove)\nusing this:\n  even (1 + b)\n\ngoal (1 subgoal):\n 1. coprime 2 n", "using \\<open>coprime (1 + b) n\\<close> coprime_common_divisor coprime_left_2_iff_odd odd_one"], ["proof (prove)\nusing this:\n  even (1 + b)\n  coprime (1 + b) n\n  \\<lbrakk>coprime ?a ?b; ?c dvd ?a; ?c dvd ?b\\<rbrakk>\n  \\<Longrightarrow> is_unit ?c\n  coprime (2::?'a) ?a = odd ?a\n  odd (1::?'a)\n\ngoal (1 subgoal):\n 1. coprime 2 n", "by blast"], ["proof (state)\nthis:\n  coprime 2 n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>(2::nat) < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 < n", "using \\<open>1 < n\\<close> \\<open>n \\<noteq> 2\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n  n \\<noteq> 2\n\ngoal (1 subgoal):\n 1. 2 < n", "by linarith"], ["proof (state)\nthis:\n  2 < n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>2 \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>2 < n\\<close> \\<open>coprime 2 n\\<close>"], ["proof (prove)\nusing this:\n  2 < n\n  coprime 2 n\n\ngoal (1 subgoal):\n 1. 2 \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  2 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "hence  \\<open>2 \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  2 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 2 \\<in> {1 + j * b |j. j < m}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  2 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 2 \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  2 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "then"], ["proof (chain)\npicking this:\n  2 \\<in> {1 + j * b |j. j < m}", "obtain j::nat where \\<open>2 = 1+j*b\\<close>"], ["proof (prove)\nusing this:\n  2 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>j. 2 = 1 + j * b \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  2 = 1 + j * b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have  \\<open>1 = j*b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 = j * b", "using \\<open>2 = 1+j*b\\<close>"], ["proof (prove)\nusing this:\n  2 = 1 + j * b\n\ngoal (1 subgoal):\n 1. 1 = j * b", "by linarith"], ["proof (state)\nthis:\n  1 = j * b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "thus ?thesis"], ["proof (prove)\nusing this:\n  1 = j * b\n\ngoal (1 subgoal):\n 1. b \\<le> 4", "by simp"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal (1 subgoal):\n 1. \\<not> odd b \\<Longrightarrow> b \\<le> 4", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> odd b \\<Longrightarrow> b \\<le> 4", "case False"], ["proof (state)\nthis:\n  \\<not> odd b\n\ngoal (1 subgoal):\n 1. \\<not> odd b \\<Longrightarrow> b \\<le> 4", "hence \\<open>even b\\<close>"], ["proof (prove)\nusing this:\n  \\<not> odd b\n\ngoal (1 subgoal):\n 1. even b", "by simp"], ["proof (state)\nthis:\n  even b\n\ngoal (1 subgoal):\n 1. \\<not> odd b \\<Longrightarrow> b \\<le> 4", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> 4", "proof(rule classical)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "assume \\<open>\\<not>(b \\<le> 4)\\<close>"], ["proof (state)\nthis:\n  \\<not> b \\<le> 4\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "hence \\<open>b > 4\\<close>"], ["proof (prove)\nusing this:\n  \\<not> b \\<le> 4\n\ngoal (1 subgoal):\n 1. 4 < b", "using le_less_linear"], ["proof (prove)\nusing this:\n  \\<not> b \\<le> 4\n  ?x \\<le> ?y \\<or> ?y < ?x\n\ngoal (1 subgoal):\n 1. 4 < b", "by blast"], ["proof (state)\nthis:\n  4 < b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "obtain m where  \\<open> m \\<noteq> 0\\<close>\n              and \\<open>{x | x::nat. x < n \\<and> coprime x n} = {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>m \\<noteq> 0\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "using \\<open>4 < b\\<close>"], ["proof (prove)\nusing this:\n  4 < b\n\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "by linarith"], ["proof (state)\nthis:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>n = 2 + (m-1)*b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>n-1 \\<in> {x | x::nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>1 < n\\<close> coprime_diff_one_left_nat"], ["proof (prove)\nusing this:\n  1 < n\n  0 < ?n \\<Longrightarrow> coprime (?n - 1) ?n\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>n-1 \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "using \\<open>n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \n                  \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "then"], ["proof (chain)\npicking this:\n  n - 1 \\<in> {1 + j * b |j. j < m}", "obtain i::nat where \\<open>n-1 = 1+i*b\\<close> and \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>n - 1 = 1 + i * b; i < m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  n - 1 = 1 + i * b\n  i < m\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>i \\<le> m-1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "using \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  i < m\n\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "by linarith"], ["proof (state)\nthis:\n  i \\<le> m - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>1 + (m-1)*b \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b < n\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b < n", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<le> n-1\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> n - 1", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<le> 1+i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "using \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>(m-1)*b \\<le> i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b", "by linarith"], ["proof (state)\nthis:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>m-1 \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "using \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "by auto"], ["proof (state)\nthis:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>m-1 = i\\<close>"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. m - 1 = i", "using \\<open>i \\<le> m - 1\\<close> le_antisym"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n  i \\<le> m - 1\n  \\<lbrakk>?m \\<le> ?n; ?n \\<le> ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. m - 1 = i", "by blast"], ["proof (state)\nthis:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "thus ?thesis"], ["proof (prove)\nusing this:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "using \\<open>m \\<noteq> 0\\<close> \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  m - 1 = i\n  m \\<noteq> 0\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "by auto"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "obtain k :: nat where \\<open>b = 2*k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k. b = 2 * k \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using \\<open>even b\\<close>"], ["proof (prove)\nusing this:\n  even b\n\ngoal (1 subgoal):\n 1. (\\<And>k. b = 2 * k \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  b = 2 * k\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "have \\<open>n = 2*(1 + (m-1)*k)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 * (1 + (m - 1) * k)", "using  \\<open>n = 2 + (m-1)*b\\<close>  \\<open>b = 2*k\\<close>"], ["proof (prove)\nusing this:\n  n = 2 + (m - 1) * b\n  b = 2 * k\n\ngoal (1 subgoal):\n 1. n = 2 * (1 + (m - 1) * k)", "by simp"], ["proof (state)\nthis:\n  n = 2 * (1 + (m - 1) * k)\n\ngoal (1 subgoal):\n 1. \\<not> b \\<le> 4 \\<Longrightarrow> b \\<le> 4", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> 4", "proof (cases \\<open>odd m\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "case True"], ["proof (state)\nthis:\n  odd m\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "hence \\<open>odd m\\<close>"], ["proof (prove)\nusing this:\n  odd m\n\ngoal (1 subgoal):\n 1. odd m", "by blast"], ["proof (state)\nthis:\n  odd m\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "then"], ["proof (chain)\npicking this:\n  odd m", "obtain t::nat where \\<open>m-1 = 2*t\\<close>"], ["proof (prove)\nusing this:\n  odd m\n\ngoal (1 subgoal):\n 1. (\\<And>t. m - 1 = 2 * t \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis odd_two_times_div_two_nat)"], ["proof (state)\nthis:\n  m - 1 = 2 * t\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "have  \\<open>n = 2*(1 + b*t)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 * (1 + b * t)", "using \\<open>m - 1 = 2 * t\\<close> \\<open>n = 2 + (m - 1) * b\\<close>"], ["proof (prove)\nusing this:\n  m - 1 = 2 * t\n  n = 2 + (m - 1) * b\n\ngoal (1 subgoal):\n 1. n = 2 * (1 + b * t)", "by auto"], ["proof (state)\nthis:\n  n = 2 * (1 + b * t)\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "have \\<open>t < m\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. t < m", "using \\<open>m - 1 = 2 * t\\<close> \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m - 1 = 2 * t\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. t < m", "by linarith"], ["proof (state)\nthis:\n  t < m\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "have \\<open>1 + b*t \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + b * t \\<in> {1 + j * b |j. j < m}", "using \\<open>t < m\\<close>"], ["proof (prove)\nusing this:\n  t < m\n\ngoal (1 subgoal):\n 1. 1 + b * t \\<in> {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  1 + b * t \\<in> {1 + j * b |j. j < m}\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "hence \\<open>1 + b*t \\<in> {x | x::nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  1 + b * t \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + b * t \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  1 + b * t \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + b * t \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  1 + b * t \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "hence \\<open>coprime (1 + b*t) n\\<close>"], ["proof (prove)\nusing this:\n  1 + b * t \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime (1 + b * t) n", "by auto"], ["proof (state)\nthis:\n  coprime (1 + b * t) n\n\ngoal (2 subgoals):\n 1. odd m \\<Longrightarrow> b \\<le> 4\n 2. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "thus ?thesis"], ["proof (prove)\nusing this:\n  coprime (1 + b * t) n\n\ngoal (1 subgoal):\n 1. b \\<le> 4", "by (metis (no_types, lifting) \\<open>b = 2 * k\\<close> \\<open>n = 2 * (1 + (m - 1) * k)\\<close> \\<open>n = 2 * (1 + b * t)\\<close> \\<open>n = 2 + (m - 1) * b\\<close> \\<open>n \\<noteq> 2\\<close> add_cancel_right_right coprime_mult_right_iff coprime_self mult_cancel_left mult_is_0 nat_dvd_1_iff_1)"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal (1 subgoal):\n 1. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "case False"], ["proof (state)\nthis:\n  \\<not> odd m\n\ngoal (1 subgoal):\n 1. \\<not> odd m \\<Longrightarrow> b \\<le> 4", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> odd m\n\ngoal (1 subgoal):\n 1. b \\<le> 4", "proof(cases \\<open>odd k\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "case True"], ["proof (state)\nthis:\n  odd k\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence \\<open>odd k\\<close>"], ["proof (prove)\nusing this:\n  odd k\n\ngoal (1 subgoal):\n 1. odd k", "by blast"], ["proof (state)\nthis:\n  odd k\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>even (1 + (m - 1) * k)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. even (1 + (m - 1) * k)", "by (simp add: False True \\<open>m \\<noteq> 0\\<close>)"], ["proof (state)\nthis:\n  even (1 + (m - 1) * k)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>coprime (2 + (m - 1) * k) (1 + (m - 1) * k)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (2 + (m - 1) * k) (1 + (m - 1) * k)", "by simp"], ["proof (state)\nthis:\n  coprime (2 + (m - 1) * k) (1 + (m - 1) * k)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>coprime (2 + (m - 1) * k) n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (2 + (m - 1) * k) n", "using \\<open>coprime (2 + (m - 1) * k) (1 + (m - 1) * k)\\<close> \\<open>even (1 + (m - 1) * k)\\<close> \n                    \\<open>n = 2 * (1 + (m - 1) * k)\\<close> coprime_common_divisor coprime_mult_right_iff\n                    coprime_right_2_iff_odd odd_one"], ["proof (prove)\nusing this:\n  coprime (2 + (m - 1) * k) (1 + (m - 1) * k)\n  even (1 + (m - 1) * k)\n  n = 2 * (1 + (m - 1) * k)\n  \\<lbrakk>coprime ?a ?b; ?c dvd ?a; ?c dvd ?b\\<rbrakk>\n  \\<Longrightarrow> is_unit ?c\n  coprime ?c (?a * ?b) = (coprime ?c ?a \\<and> coprime ?c ?b)\n  coprime ?a (2::?'a) = odd ?a\n  odd (1::?'a)\n\ngoal (1 subgoal):\n 1. coprime (2 + (m - 1) * k) n", "by blast"], ["proof (state)\nthis:\n  coprime (2 + (m - 1) * k) n\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>2 + (m - 1) * k < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k < n", "by (metis (no_types, lifting) \\<open>even (1 + (m - 1) * k)\\<close> \\<open>n = 2 * (1 + (m - 1) * k)\\<close>\n                      add_gr_0 add_mono_thms_linordered_semiring(1) dvd_add_left_iff dvd_add_triv_left_iff dvd_imp_le le_add2 le_neq_implies_less less_numeral_extra(1) mult_2 odd_one)"], ["proof (state)\nthis:\n  2 + (m - 1) * k < n\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>2 + (m - 1) * k  \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>2 + (m - 1) * k < n\\<close> \\<open>coprime (2 + (m - 1) * k) n\\<close>"], ["proof (prove)\nusing this:\n  2 + (m - 1) * k < n\n  coprime (2 + (m - 1) * k) n\n\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  2 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence \\<open>2 + (m - 1) * k  \\<in> {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  2 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k \\<in> {1 + j * b |j. j < m}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  2 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  2 + (m - 1) * k \\<in> {1 + j * b |j. j < m}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "then"], ["proof (chain)\npicking this:\n  2 + (m - 1) * k \\<in> {1 + j * b |j. j < m}", "obtain j::nat where  \\<open>2 + (m - 1) * k  = 1 + j * b\\<close> and \\<open>j < m\\<close>"], ["proof (prove)\nusing this:\n  2 + (m - 1) * k \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>2 + (m - 1) * k = 1 + j * b; j < m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  2 + (m - 1) * k = 1 + j * b\n  j < m\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have  \\<open>1 + (m - 1) * k  = j * b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + (m - 1) * k = j * b", "using \\<open>2 + (m - 1) * k  = 1 + j * b\\<close>"], ["proof (prove)\nusing this:\n  2 + (m - 1) * k = 1 + j * b\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * k = j * b", "by simp"], ["proof (state)\nthis:\n  1 + (m - 1) * k = j * b\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence  \\<open>1 + (m - 1) * k  = j * (2*k)\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * k = j * b\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * k = j * (2 * k)", "using \\<open>b = 2 * k\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * k = j * b\n  b = 2 * k\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * k = j * (2 * k)", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * k = j * (2 * k)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> odd m; odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4\n 2. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "thus ?thesis"], ["proof (prove)\nusing this:\n  1 + (m - 1) * k = j * (2 * k)\n\ngoal (1 subgoal):\n 1. b \\<le> 4", "by (metis \\<open>b = 2 * k\\<close> \\<open>even b\\<close> \\<open>n = 2 * (1 + (m - 1) * k)\\<close> \\<open>n = 2 + (m - 1) * b\\<close> dvd_add_times_triv_right_iff dvd_antisym dvd_imp_le dvd_triv_right even_numeral mult_2 zero_less_numeral)"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "case False"], ["proof (state)\nthis:\n  \\<not> odd k\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence \\<open>even k\\<close>"], ["proof (prove)\nusing this:\n  \\<not> odd k\n\ngoal (1 subgoal):\n 1. even k", "by auto"], ["proof (state)\nthis:\n  even k\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>odd (1 + (m - 1) * k)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. odd (1 + (m - 1) * k)", "by (simp add: \\<open>even k\\<close> )"], ["proof (state)\nthis:\n  odd (1 + (m - 1) * k)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence \\<open>coprime (3 + (m - 1) * k) (1 + (m - 1) * k)\\<close>"], ["proof (prove)\nusing this:\n  odd (1 + (m - 1) * k)\n\ngoal (1 subgoal):\n 1. coprime (3 + (m - 1) * k) (1 + (m - 1) * k)", "by (smt add_numeral_left coprime_common_divisor coprime_right_2_iff_odd dvd_add_left_iff not_coprimeE numeral_Bit1 numeral_One numeral_plus_one one_add_one)"], ["proof (state)\nthis:\n  coprime (3 + (m - 1) * k) (1 + (m - 1) * k)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence \\<open>coprime (3 + (m - 1) * k) n\\<close>"], ["proof (prove)\nusing this:\n  coprime (3 + (m - 1) * k) (1 + (m - 1) * k)\n\ngoal (1 subgoal):\n 1. coprime (3 + (m - 1) * k) n", "by (metis \\<open>even k\\<close> \\<open>n = 2 * (1 + (m - 1) * k)\\<close> coprime_mult_right_iff coprime_right_2_iff_odd even_add even_mult_iff odd_numeral)"], ["proof (state)\nthis:\n  coprime (3 + (m - 1) * k) n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>3 + (m - 1) * k < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 + (m - 1) * k < n", "by (smt Groups.add_ac(2) \\<open>even k\\<close> \\<open>n = 2 * (1 + (m - 1) * k)\\<close> \\<open>n = 2 + (m - 1) * b\\<close> \\<open>n \\<noteq> 2\\<close> add_Suc_right add_cancel_right_right add_mono_thms_linordered_semiring(1) dvd_imp_le even_add even_mult_iff le_add2 le_neq_implies_less left_add_twice mult_2 neq0_conv numeral_Bit1 numeral_One odd_numeral one_add_one plus_1_eq_Suc)"], ["proof (state)\nthis:\n  3 + (m - 1) * k < n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>3 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>3 + (m - 1) * k < n\\<close> \\<open>coprime (3 + (m - 1) * k) n\\<close>"], ["proof (prove)\nusing this:\n  3 + (m - 1) * k < n\n  coprime (3 + (m - 1) * k) n\n\ngoal (1 subgoal):\n 1. 3 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  3 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence \\<open>3 + (m - 1) * k \\<in> {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  3 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 3 + (m - 1) * k \\<in> {1 + j * b |j. j < m}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  3 + (m - 1) * k \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 3 + (m - 1) * k \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  3 + (m - 1) * k \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "then"], ["proof (chain)\npicking this:\n  3 + (m - 1) * k \\<in> {1 + j * b |j. j < m}", "obtain j::nat where \\<open>3 + (m - 1) * k = 1 + j * b\\<close>"], ["proof (prove)\nusing this:\n  3 + (m - 1) * k \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        3 + (m - 1) * k = 1 + j * b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  3 + (m - 1) * k = 1 + j * b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "have \\<open>2 + (m - 1) * k = j * b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k = j * b", "using \\<open>3 + (m - 1) * k = 1 + j * b\\<close>"], ["proof (prove)\nusing this:\n  3 + (m - 1) * k = 1 + j * b\n\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k = j * b", "by simp"], ["proof (state)\nthis:\n  2 + (m - 1) * k = j * b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "hence  \\<open>2 + (m - 1) * k = j * 2*k\\<close>"], ["proof (prove)\nusing this:\n  2 + (m - 1) * k = j * b\n\ngoal (1 subgoal):\n 1. 2 + (m - 1) * k = j * 2 * k", "by (simp add: \\<open>b = 2 * k\\<close>)"], ["proof (state)\nthis:\n  2 + (m - 1) * k = j * 2 * k\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> odd m; \\<not> odd k\\<rbrakk> \\<Longrightarrow> b \\<le> 4", "thus ?thesis"], ["proof (prove)\nusing this:\n  2 + (m - 1) * k = j * 2 * k\n\ngoal (1 subgoal):\n 1. b \\<le> 4", "by (metis \\<open>4 < b\\<close> \\<open>b = 2 * k\\<close> \\<open>even k\\<close> dvd_add_times_triv_right_iff dvd_antisym \n                      dvd_triv_right mult_2 nat_neq_iff numeral_Bit0)"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "moreover"], ["proof (state)\nthis:\n  b \\<le> 4\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "have \\<open>b \\<noteq> 3\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> 3", "proof (rule classical)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "assume \\<open>\\<not> (b \\<noteq> 3)\\<close>"], ["proof (state)\nthis:\n  \\<not> b \\<noteq> 3\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence \\<open>b = 3\\<close>"], ["proof (prove)\nusing this:\n  \\<not> b \\<noteq> 3\n\ngoal (1 subgoal):\n 1. b = 3", "by blast"], ["proof (state)\nthis:\n  b = 3\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "obtain m where  \\<open>m \\<noteq> 0\\<close> and \n            \\<open>{x | x::nat. x < n \\<and> coprime x n} = {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>m \\<noteq> 0\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "by (simp add: \\<open>b = 3\\<close>)"], ["proof (state)\nthis:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have \\<open>n = 2 + (m-1)*b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>n-1 \\<in> {x | x::nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>1 < n\\<close> coprime_diff_one_left_nat"], ["proof (prove)\nusing this:\n  1 < n\n  0 < ?n \\<Longrightarrow> coprime (?n - 1) ?n\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>n-1 \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "using \\<open>n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \n                \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "then"], ["proof (chain)\npicking this:\n  n - 1 \\<in> {1 + j * b |j. j < m}", "obtain i::nat where \\<open>n-1 = 1+i*b\\<close> and \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>n - 1 = 1 + i * b; i < m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  n - 1 = 1 + i * b\n  i < m\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>i \\<le> m-1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "using \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  i < m\n\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "by linarith"], ["proof (state)\nthis:\n  i \\<le> m - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "have \\<open>1 + (m-1)*b \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b < n\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b < n", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<le> n-1\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> n - 1", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>1 + (m-1)*b \\<le> 1+i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "using \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>(m-1)*b \\<le> i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b", "by linarith"], ["proof (state)\nthis:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>m-1 \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "using \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "by auto"], ["proof (state)\nthis:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "hence \\<open>m-1 = i\\<close>"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. m - 1 = i", "using \\<open>i \\<le> m - 1\\<close> le_antisym"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n  i \\<le> m - 1\n  \\<lbrakk>?m \\<le> ?n; ?n \\<le> ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. m - 1 = i", "by blast"], ["proof (state)\nthis:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "thus ?thesis"], ["proof (prove)\nusing this:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "using \\<open>m \\<noteq> 0\\<close> \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  m - 1 = i\n  m \\<noteq> 0\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * b", "by auto"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * b\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have \\<open>n > 2\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 < n", "using \\<open>1 < n\\<close> \\<open>n \\<noteq> 2\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n  n \\<noteq> 2\n\ngoal (1 subgoal):\n 1. 2 < n", "by linarith"], ["proof (state)\nthis:\n  2 < n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence \\<open> m \\<ge> 2 \\<close>"], ["proof (prove)\nusing this:\n  2 < n\n\ngoal (1 subgoal):\n 1. 2 \\<le> m", "using  \\<open>n = 2 + (m-1)*b\\<close> \\<open>b = 3\\<close>"], ["proof (prove)\nusing this:\n  2 < n\n  n = 2 + (m - 1) * b\n  b = 3\n\ngoal (1 subgoal):\n 1. 2 \\<le> m", "by simp"], ["proof (state)\nthis:\n  2 \\<le> m\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have \\<open>4 \\<in> {1+j*(b::nat)| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<in> {1 + j * b |j. j < m}", "using \\<open>2 \\<le> m\\<close> \\<open>b = 3\\<close>"], ["proof (prove)\nusing this:\n  2 \\<le> m\n  b = 3\n\ngoal (1 subgoal):\n 1. 4 \\<in> {1 + j * b |j. j < m}", "by force"], ["proof (state)\nthis:\n  4 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence \\<open>(4::nat) \\<in>  {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  4 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 4 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  4 \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 4 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  4 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence \\<open>coprime (4::nat) n\\<close>"], ["proof (prove)\nusing this:\n  4 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime 4 n", "by blast"], ["proof (state)\nthis:\n  coprime 4 n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have \\<open>(2::nat) dvd 4\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. even 4", "by auto"], ["proof (state)\nthis:\n  even 4\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence \\<open>coprime (2::nat) n\\<close>"], ["proof (prove)\nusing this:\n  even 4\n\ngoal (1 subgoal):\n 1. coprime 2 n", "using \\<open>coprime (4::nat) n\\<close> coprime_divisors dvd_refl"], ["proof (prove)\nusing this:\n  even 4\n  coprime 4 n\n  \\<lbrakk>?a dvd ?c; ?b dvd ?d; coprime ?c ?d\\<rbrakk>\n  \\<Longrightarrow> coprime ?a ?b\n  ?a dvd ?a\n\ngoal (1 subgoal):\n 1. coprime 2 n", "by blast"], ["proof (state)\nthis:\n  coprime 2 n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have \\<open>4 < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 < n", "using \\<open>4 \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  4 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 4 < n", "by blast"], ["proof (state)\nthis:\n  4 < n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have \\<open>2 < (4::nat)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 < 4", "by auto"], ["proof (state)\nthis:\n  2 < 4\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "have  \\<open>2 < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 < n", "by (simp add: \\<open>2 < n\\<close>)"], ["proof (state)\nthis:\n  2 < n\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence \\<open>2 \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  2 < n\n\ngoal (1 subgoal):\n 1. 2 \\<in> {x |x. x < n \\<and> coprime x n}", "using  \\<open>coprime (2::nat) n\\<close>"], ["proof (prove)\nusing this:\n  2 < n\n  coprime 2 n\n\ngoal (1 subgoal):\n 1. 2 \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  2 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence  \\<open>2 \\<in> {1+j*(b::nat)| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  2 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 2 \\<in> {1 + j * b |j. j < m}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  2 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 2 \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  2 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "then"], ["proof (chain)\npicking this:\n  2 \\<in> {1 + j * b |j. j < m}", "obtain j::nat where \\<open>2 = 1+j*3\\<close>"], ["proof (prove)\nusing this:\n  2 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>j. 2 = 1 + j * 3 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>b = 3\\<close>"], ["proof (prove)\nusing this:\n  2 \\<in> {1 + j * b |j. j < m}\n  b = 3\n\ngoal (1 subgoal):\n 1. (\\<And>j. 2 = 1 + j * 3 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  2 = 1 + j * 3\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "from  \\<open>2 = 1+j*3\\<close>"], ["proof (chain)\npicking this:\n  2 = 1 + j * 3", "have  \\<open>1 = j*3\\<close>"], ["proof (prove)\nusing this:\n  2 = 1 + j * 3\n\ngoal (1 subgoal):\n 1. 1 = j * 3", "by auto"], ["proof (state)\nthis:\n  1 = j * 3\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "hence \\<open>3 dvd 1\\<close>"], ["proof (prove)\nusing this:\n  1 = j * 3\n\ngoal (1 subgoal):\n 1. (3::'a) dvd (1::'a)", "by auto"], ["proof (state)\nthis:\n  (3::?'a1) dvd (1::?'a1)\n\ngoal (1 subgoal):\n 1. \\<not> b \\<noteq> 3 \\<Longrightarrow> b \\<noteq> 3", "thus ?thesis"], ["proof (prove)\nusing this:\n  (3::?'a1) dvd (1::?'a1)\n\ngoal (1 subgoal):\n 1. b \\<noteq> 3", "using nat_dvd_1_iff_1 numeral_eq_one_iff"], ["proof (prove)\nusing this:\n  (3::?'a1) dvd (1::?'a1)\n  is_unit ?m = (?m = 1)\n  (numeral ?n = (1::?'a)) = (?n = num.One)\n\ngoal (1 subgoal):\n 1. b \\<noteq> 3", "by blast"], ["proof (state)\nthis:\n  b \\<noteq> 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b \\<noteq> 3\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "ultimately"], ["proof (chain)\npicking this:\n  b \\<le> 4\n  b \\<noteq> 3", "have \\<open>b = 0 \\<or> b = 1 \\<or> b = 2 \\<or> b = 4\\<close>"], ["proof (prove)\nusing this:\n  b \\<le> 4\n  b \\<noteq> 3\n\ngoal (1 subgoal):\n 1. b = 0 \\<or> b = 1 \\<or> b = 2 \\<or> b = 4", "by auto"], ["proof (state)\nthis:\n  b = 0 \\<or> b = 1 \\<or> b = 2 \\<or> b = 4\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "moreover"], ["proof (state)\nthis:\n  b = 0 \\<or> b = 1 \\<or> b = 2 \\<or> b = 4\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "have \\<open>b = 0 \\<Longrightarrow> \\<exists>k. n = 2^k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "assume \\<open>b = 0\\<close>"], ["proof (state)\nthis:\n  b = 0\n\ngoal (1 subgoal):\n 1. b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "have \\<open>{1 + j * b |j. j < m} = {1}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {1 + j * b |j. j < m} = {1}", "using \\<open>b = 0\\<close> \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  b = 0\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. {1 + j * b |j. j < m} = {1}", "by auto"], ["proof (state)\nthis:\n  {1 + j * b |j. j < m} = {1}\n\ngoal (1 subgoal):\n 1. b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "hence \\<open>{x |x. x < n \\<and> coprime x n} = {1}\\<close>"], ["proof (prove)\nusing this:\n  {1 + j * b |j. j < m} = {1}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  {1 + j * b |j. j < m} = {1}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1}", "by blast"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {1}\n\ngoal (1 subgoal):\n 1. b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "hence \\<open>n = 2\\<close>"], ["proof (prove)\nusing this:\n  {x |x. x < n \\<and> coprime x n} = {1}\n\ngoal (1 subgoal):\n 1. n = 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1} \\<Longrightarrow> n = 2", "have \\<open>n-1 \\<in>  {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>1 < n\\<close> coprime_diff_one_left_nat"], ["proof (prove)\nusing this:\n  1 < n\n  0 < ?n \\<Longrightarrow> coprime (?n - 1) ?n\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1} \\<Longrightarrow> n = 2", "have \\<open>n-1 \\<in> {1}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1}", "using \\<open>n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1}\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1}\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1}", "by blast"], ["proof (state)\nthis:\n  n - 1 \\<in> {1}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1} \\<Longrightarrow> n = 2", "hence \\<open>n-1 = 1\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {1}\n\ngoal (1 subgoal):\n 1. n - 1 = 1", "by blast"], ["proof (state)\nthis:\n  n - 1 = 1\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1} \\<Longrightarrow> n = 2", "hence \\<open>n = 2\\<close>"], ["proof (prove)\nusing this:\n  n - 1 = 1\n\ngoal (1 subgoal):\n 1. n = 2", "by simp"], ["proof (state)\nthis:\n  n = 2\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1} \\<Longrightarrow> n = 2", "thus ?thesis"], ["proof (prove)\nusing this:\n  n = 2\n\ngoal (1 subgoal):\n 1. n = 2", "by blast"], ["proof (state)\nthis:\n  n = 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2\n\ngoal (1 subgoal):\n 1. b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "hence \\<open>n = 2^1\\<close>"], ["proof (prove)\nusing this:\n  n = 2\n\ngoal (1 subgoal):\n 1. n = 2 ^ 1", "by auto"], ["proof (state)\nthis:\n  n = 2 ^ 1\n\ngoal (1 subgoal):\n 1. b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "thus ?thesis"], ["proof (prove)\nusing this:\n  n = 2 ^ 1\n\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "by blast"], ["proof (state)\nthis:\n  \\<exists>k. n = 2 ^ k\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "moreover"], ["proof (state)\nthis:\n  b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "have \\<open>b = 1 \\<Longrightarrow> prime n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b = 1 \\<Longrightarrow> prime n", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. b = 1 \\<Longrightarrow> prime n", "assume \\<open>b = 1\\<close>"], ["proof (state)\nthis:\n  b = 1\n\ngoal (1 subgoal):\n 1. b = 1 \\<Longrightarrow> prime n", "have \\<open>x < n \\<Longrightarrow> x \\<noteq> 0 \\<Longrightarrow> coprime x n\\<close>\n            for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "assume \\<open>x < n\\<close> and \\<open>x \\<noteq> 0\\<close>"], ["proof (state)\nthis:\n  x < n\n  x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>{1+j| j::nat. j < m} = {x | x::nat. x < m+1 \\<and> x \\<noteq> 0}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {1 + j |j. j < m} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}", "by (metis (full_types) Suc_eq_plus1  add_mono1 less_Suc_eq_0_disj  nat.simps(3) plus_1_eq_Suc )"], ["proof (state)\nthis:\n  {1 + j |j. j < m} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "hence \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {x | x :: nat. x < m+1 \\<and> x \\<noteq> 0}\\<close>"], ["proof (prove)\nusing this:\n  {1 + j |j. j < m} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}", "using \\<open>b = 1\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  {1 + j |j. j < m} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n  b = 1\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}", "by auto"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>coprime (n-1) n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (n - 1) n", "using \\<open>1 < n\\<close> coprime_diff_one_left_nat"], ["proof (prove)\nusing this:\n  1 < n\n  0 < ?n \\<Longrightarrow> coprime (?n - 1) ?n\n\ngoal (1 subgoal):\n 1. coprime (n - 1) n", "by auto"], ["proof (state)\nthis:\n  coprime (n - 1) n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>n-1 < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 < n", "using \\<open>1 < n\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (1 subgoal):\n 1. n - 1 < n", "by auto"], ["proof (state)\nthis:\n  n - 1 < n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>n-1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>coprime (n - 1) n\\<close> \\<open>n - 1 < n\\<close>"], ["proof (prove)\nusing this:\n  coprime (n - 1) n\n  n - 1 < n\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>n-1 \\<le> m\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<le> m", "by (metis (no_types, lifting) CollectD Suc_eq_plus1 Suc_less_eq2 \\<open>n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\\<close>   leD  le_less_linear not_less_eq_eq )"], ["proof (state)\nthis:\n  n - 1 \\<le> m\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>m \\<in>  {x | x :: nat. x < m+1 \\<and> x \\<noteq> 0}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. m \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}", "by auto"], ["proof (state)\nthis:\n  m \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>m \\<in> {x |x. x < n \\<and> coprime x n} \\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. m \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>m \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}\\<close> \n                \\<open>{x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\\<close>"], ["proof (prove)\nusing this:\n  m \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n  {x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. m \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  m \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>m < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. m < n", "using \\<open>m \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  m \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. m < n", "by blast"], ["proof (state)\nthis:\n  m < n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>m+1 = n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. m + 1 = n", "using \\<open>m < n\\<close> \\<open>n - 1 \\<le> m\\<close>"], ["proof (prove)\nusing this:\n  m < n\n  n - 1 \\<le> m\n\ngoal (1 subgoal):\n 1. m + 1 = n", "by linarith"], ["proof (state)\nthis:\n  m + 1 = n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "have \\<open>x \\<in>  {x | x :: nat. x < m+1 \\<and> x \\<noteq> 0}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}", "using \\<open>m + 1 = n\\<close> \\<open>x < n\\<close> \\<open>x \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m + 1 = n\n  x < n\n  x \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "hence \\<open>x \\<in> {x |x. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n  {x |x. x < n \\<and> coprime x n} = {x |x. x < m + 1 \\<and> x \\<noteq> 0}\n\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x < n; x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime x n", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime x n", "by blast"], ["proof (state)\nthis:\n  coprime x n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x < n; ?x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime ?x n\n\ngoal (1 subgoal):\n 1. b = 1 \\<Longrightarrow> prime n", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x < n; ?x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime ?x n\n\ngoal (1 subgoal):\n 1. prime n", "using assms coprime_commute nat_neq_iff prime_nat_iff''"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x < n; ?x \\<noteq> 0\\<rbrakk> \\<Longrightarrow> coprime ?x n\n  1 < n\n  coprime ?b ?a = coprime ?a ?b\n  (?m \\<noteq> ?n) = (?m < ?n \\<or> ?n < ?m)\n  prime ?p =\n  (?p \\<noteq> 0 \\<and>\n   ?p \\<noteq> 1 \\<and>\n   (\\<forall>m. 0 < m \\<and> m < ?p \\<longrightarrow> coprime ?p m))\n\ngoal (1 subgoal):\n 1. prime n", "by auto"], ["proof (state)\nthis:\n  prime n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b = 1 \\<Longrightarrow> prime n\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "moreover"], ["proof (state)\nthis:\n  b = 1 \\<Longrightarrow> prime n\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "have \\<open>b = 2 \\<Longrightarrow> \\<exists> k. n = 2^k\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "assume \\<open>b = 2\\<close>"], ["proof (state)\nthis:\n  b = 2\n\ngoal (1 subgoal):\n 1. b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "have \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {1+j*2| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}", "using \\<open>b = 2\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  b = 2\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}", "by auto"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "have \\<open>x < n \\<Longrightarrow> coprime x n \\<longleftrightarrow> odd x\\<close>\n            for x::nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. x < n \\<Longrightarrow> coprime x n = odd x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. x < n \\<Longrightarrow> coprime x n = odd x", "assume \\<open>x < n\\<close>"], ["proof (state)\nthis:\n  x < n\n\ngoal (1 subgoal):\n 1. x < n \\<Longrightarrow> coprime x n = odd x", "have \\<open>coprime x n \\<Longrightarrow> odd x\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime x n \\<Longrightarrow> odd x", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. coprime x n \\<Longrightarrow> odd x", "assume \\<open>coprime x n\\<close>"], ["proof (state)\nthis:\n  coprime x n\n\ngoal (1 subgoal):\n 1. coprime x n \\<Longrightarrow> odd x", "have \\<open>x \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < n \\<and> coprime x n}", "by (simp add: \\<open>coprime x n\\<close> \\<open>x < n\\<close>)"], ["proof (state)\nthis:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime x n \\<Longrightarrow> odd x", "hence \\<open>x \\<in> {1+j*2| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. x \\<in> {1 + j * 2 |j. j < m}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. x \\<in> {1 + j * 2 |j. j < m}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. coprime x n \\<Longrightarrow> odd x", "then"], ["proof (chain)\npicking this:\n  x \\<in> {1 + j * 2 |j. j < m}", "obtain j where \\<open>x = 1+j*2\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>j. x = 1 + j * 2 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. coprime x n \\<Longrightarrow> odd x", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. odd x", "by simp"], ["proof (state)\nthis:\n  odd x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime x n \\<Longrightarrow> odd x\n\ngoal (1 subgoal):\n 1. x < n \\<Longrightarrow> coprime x n = odd x", "moreover"], ["proof (state)\nthis:\n  coprime x n \\<Longrightarrow> odd x\n\ngoal (1 subgoal):\n 1. x < n \\<Longrightarrow> coprime x n = odd x", "have \\<open>odd x \\<Longrightarrow> coprime x n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "assume \\<open>odd x\\<close>"], ["proof (state)\nthis:\n  odd x\n\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "obtain j::nat where \\<open>x = 1+j*2\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>j. x = 1 + j * 2 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis \\<open>odd x\\<close> add.commute mult_2_right odd_two_times_div_two_succ one_add_one semiring_normalization_rules(16))"], ["proof (state)\nthis:\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "have \\<open>j < (n-1)/2\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. real j < real (n - 1) / 2", "using \\<open>x < n\\<close> \\<open>x = 1 + j * 2\\<close>"], ["proof (prove)\nusing this:\n  x < n\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. real j < real (n - 1) / 2", "by linarith"], ["proof (state)\nthis:\n  real j < real (n - 1) / 2\n\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "have \\<open>n = 2*m\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 * m", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. n = 2 * m", "have  \\<open>(2::nat) \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  2 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. n = 2 * m", "have \\<open>n = 2+(m-1)*2\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "have \\<open>n-1 \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>1 < n\\<close> coprime_diff_one_left_nat"], ["proof (prove)\nusing this:\n  1 < n\n  0 < ?n \\<Longrightarrow> coprime (?n - 1) ?n\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "have \\<open>n-1 \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "using \\<open>n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \n                      \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "then"], ["proof (chain)\npicking this:\n  n - 1 \\<in> {1 + j * b |j. j < m}", "obtain i::nat where \\<open>n-1 = 1+i*b\\<close> and \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>n - 1 = 1 + i * b; i < m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  n - 1 = 1 + i * b\n  i < m\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "have \\<open>i \\<le> m-1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "using \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  i < m\n\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "by linarith"], ["proof (state)\nthis:\n  i \\<le> m - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "have \\<open>1 + (m-1)*b \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "hence \\<open>1 + (m-1)*b \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "hence \\<open>1 + (m-1)*b < n\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b < n", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "hence \\<open>1 + (m-1)*b \\<le> n-1\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> n - 1", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "hence \\<open>1 + (m-1)*b \\<le> 1+i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "using \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "hence \\<open>(m-1)*b \\<le> i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b", "by linarith"], ["proof (state)\nthis:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "hence \\<open>m-1 \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b \\<Longrightarrow> m - 1 \\<le> i", "have \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "using \\<open>b = 2\\<close>"], ["proof (prove)\nusing this:\n  b = 2\n\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b \\<Longrightarrow> m - 1 \\<le> i", "thus ?thesis"], ["proof (prove)\nusing this:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "using \\<open>(m - 1) * b \\<le> i * b\\<close> mult_le_cancel2"], ["proof (prove)\nusing this:\n  b \\<noteq> 0\n  (m - 1) * b \\<le> i * b\n  (?m * ?k \\<le> ?n * ?k) = (0 < ?k \\<longrightarrow> ?m \\<le> ?n)\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "by blast"], ["proof (state)\nthis:\n  m - 1 \\<le> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "hence \\<open>m-1 = i\\<close>"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. m - 1 = i", "using \\<open>i \\<le> m - 1\\<close> le_antisym"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n  i \\<le> m - 1\n  \\<lbrakk>?m \\<le> ?n; ?n \\<le> ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. m - 1 = i", "by blast"], ["proof (state)\nthis:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "thus ?thesis"], ["proof (prove)\nusing this:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "using \\<open>m \\<noteq> 0\\<close> \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  m - 1 = i\n  m \\<noteq> 0\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 2", "by (simp add: \\<open>b = 2\\<close>)"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * 2\n\ngoal (1 subgoal):\n 1. n = 2 * m", "thus  ?thesis"], ["proof (prove)\nusing this:\n  n = 2 + (m - 1) * 2\n\ngoal (1 subgoal):\n 1. n = 2 * m", "by (simp add: \\<open>m \\<noteq> 0\\<close> \\<open>n = 2 + (m - 1) * 2\\<close> mult.commute mult_eq_if)"], ["proof (state)\nthis:\n  n = 2 * m\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2 * m\n\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "hence \\<open>j < m\\<close>"], ["proof (prove)\nusing this:\n  n = 2 * m\n\ngoal (1 subgoal):\n 1. j < m", "using \\<open>x < n\\<close> \\<open>x = 1 + j * 2\\<close>"], ["proof (prove)\nusing this:\n  n = 2 * m\n  x < n\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. j < m", "by linarith"], ["proof (state)\nthis:\n  j < m\n\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "hence \\<open>x \\<in> {1+j*2| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  j < m\n\ngoal (1 subgoal):\n 1. x \\<in> {1 + j * 2 |j. j < m}", "using \\<open>x = 1 + j * 2\\<close>"], ["proof (prove)\nusing this:\n  j < m\n  x = 1 + j * 2\n\ngoal (1 subgoal):\n 1. x \\<in> {1 + j * 2 |j. j < m}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "hence \\<open>x \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {1 + j * 2 |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * 2 |j. j < m}\n\ngoal (1 subgoal):\n 1. x \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. odd x \\<Longrightarrow> coprime x n", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime x n", "by blast"], ["proof (state)\nthis:\n  coprime x n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  odd x \\<Longrightarrow> coprime x n\n\ngoal (1 subgoal):\n 1. x < n \\<Longrightarrow> coprime x n = odd x", "ultimately"], ["proof (chain)\npicking this:\n  coprime x n \\<Longrightarrow> odd x\n  odd x \\<Longrightarrow> coprime x n", "show ?thesis"], ["proof (prove)\nusing this:\n  coprime x n \\<Longrightarrow> odd x\n  odd x \\<Longrightarrow> coprime x n\n\ngoal (1 subgoal):\n 1. coprime x n = odd x", "by blast"], ["proof (state)\nthis:\n  coprime x n = odd x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x < n \\<Longrightarrow> coprime ?x n = odd ?x\n\ngoal (1 subgoal):\n 1. b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?x < n \\<Longrightarrow> coprime ?x n = odd ?x\n\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "using coprime_power2 assms"], ["proof (prove)\nusing this:\n  ?x < n \\<Longrightarrow> coprime ?x n = odd ?x\n  \\<lbrakk>?n \\<noteq> 0;\n   \\<And>x. x < ?n \\<Longrightarrow> coprime x ?n = odd x\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. ?n = 2 ^ k\n  1 < n\n\ngoal (1 subgoal):\n 1. \\<exists>k. n = 2 ^ k", "by auto"], ["proof (state)\nthis:\n  \\<exists>k. n = 2 ^ k\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "moreover"], ["proof (state)\nthis:\n  b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "have \\<open>b = 4 \\<Longrightarrow> n = 6\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b = 4 \\<Longrightarrow> n = 6", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. b = 4 \\<Longrightarrow> n = 6", "assume \\<open>b = 4\\<close>"], ["proof (state)\nthis:\n  b = 4\n\ngoal (1 subgoal):\n 1. b = 4 \\<Longrightarrow> n = 6", "have \\<open>n = 2 \\<or> n = 6\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 \\<or> n = 6", "proof(rule classical)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "assume \\<open>\\<not> (n = 2 \\<or> n = 6)\\<close>"], ["proof (state)\nthis:\n  \\<not> (n = 2 \\<or> n = 6)\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have  \\<open>(4::nat) \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  4 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have \\<open>n =  2+(m-1)*4\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "have \\<open>n-1 \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>1 < n\\<close> coprime_diff_one_left_nat"], ["proof (prove)\nusing this:\n  1 < n\n  0 < ?n \\<Longrightarrow> coprime (?n - 1) ?n\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "have \\<open>n-1 \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "using \\<open>n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \n                  \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n - 1 \\<in> {1 + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "then"], ["proof (chain)\npicking this:\n  n - 1 \\<in> {1 + j * b |j. j < m}", "obtain i::nat where \\<open>n-1 = 1+i*b\\<close> and \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  n - 1 \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>n - 1 = 1 + i * b; i < m\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  n - 1 = 1 + i * b\n  i < m\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "have \\<open>i \\<le> m-1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "using \\<open>i < m\\<close>"], ["proof (prove)\nusing this:\n  i < m\n\ngoal (1 subgoal):\n 1. i \\<le> m - 1", "by linarith"], ["proof (state)\nthis:\n  i \\<le> m - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "have \\<open>1 + (m-1)*b \\<in> {1+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "hence \\<open>1 + (m-1)*b \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {1 + j * b |j. j < m}\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "hence \\<open>1 + (m-1)*b < n\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b < n", "by blast"], ["proof (state)\nthis:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "hence \\<open>1 + (m-1)*b \\<le> n-1\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b < n\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> n - 1", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "hence \\<open>1 + (m-1)*b \\<le> 1+i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "using \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> n - 1\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. 1 + (m - 1) * b \\<le> 1 + i * b", "by linarith"], ["proof (state)\nthis:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "hence \\<open>(m-1)*b \\<le> i*b\\<close>"], ["proof (prove)\nusing this:\n  1 + (m - 1) * b \\<le> 1 + i * b\n\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b", "by linarith"], ["proof (state)\nthis:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "hence \\<open>m-1 \\<le> i\\<close>"], ["proof (prove)\nusing this:\n  (m - 1) * b \\<le> i * b\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b \\<Longrightarrow> m - 1 \\<le> i", "have \\<open>b \\<noteq> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "using \\<open>b = 4\\<close>"], ["proof (prove)\nusing this:\n  b = 4\n\ngoal (1 subgoal):\n 1. b \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (m - 1) * b \\<le> i * b \\<Longrightarrow> m - 1 \\<le> i", "thus ?thesis"], ["proof (prove)\nusing this:\n  b \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "using \\<open>(m - 1) * b \\<le> i * b\\<close> mult_le_cancel2"], ["proof (prove)\nusing this:\n  b \\<noteq> 0\n  (m - 1) * b \\<le> i * b\n  (?m * ?k \\<le> ?n * ?k) = (0 < ?k \\<longrightarrow> ?m \\<le> ?n)\n\ngoal (1 subgoal):\n 1. m - 1 \\<le> i", "by blast"], ["proof (state)\nthis:\n  m - 1 \\<le> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "hence \\<open>m-1 = i\\<close>"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n\ngoal (1 subgoal):\n 1. m - 1 = i", "using \\<open>i \\<le> m - 1\\<close> le_antisym"], ["proof (prove)\nusing this:\n  m - 1 \\<le> i\n  i \\<le> m - 1\n  \\<lbrakk>?m \\<le> ?n; ?n \\<le> ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. m - 1 = i", "by blast"], ["proof (state)\nthis:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "thus ?thesis"], ["proof (prove)\nusing this:\n  m - 1 = i\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "using \\<open>m \\<noteq> 0\\<close> \\<open>n - 1 = 1 + i * b\\<close>"], ["proof (prove)\nusing this:\n  m - 1 = i\n  m \\<noteq> 0\n  n - 1 = 1 + i * b\n\ngoal (1 subgoal):\n 1. n = 2 + (m - 1) * 4", "by (simp add: \\<open>b = 4\\<close>)"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2 + (m - 1) * 4\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open>n = 4*m - 2\\<close>"], ["proof (prove)\nusing this:\n  n = 2 + (m - 1) * 4\n\ngoal (1 subgoal):\n 1. n = 4 * m - 2", "by (simp add: \\<open>m \\<noteq> 0\\<close> mult.commute mult_eq_if)"], ["proof (state)\nthis:\n  n = 4 * m - 2\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have \\<open>m \\<ge> 3\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> m", "using \\<open>\\<not> (n = 2 \\<or> n = 6)\\<close> \\<open>n = 2 + (m - 1) * 4\\<close>"], ["proof (prove)\nusing this:\n  \\<not> (n = 2 \\<or> n = 6)\n  n = 2 + (m - 1) * 4\n\ngoal (1 subgoal):\n 1. 3 \\<le> m", "by auto"], ["proof (state)\nthis:\n  3 \\<le> m\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open> {1+j*4| j::nat. j < 3} \\<subseteq> {1+j*4| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  3 \\<le> m\n\ngoal (1 subgoal):\n 1. {1 + j * 4 |j. j < 3} \\<subseteq> {1 + j * 4 |j. j < m}", "by force"], ["proof (state)\nthis:\n  {1 + j * 4 |j. j < 3} \\<subseteq> {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open>9 \\<in> {1+j*4| j::nat. j < 3}\\<close>"], ["proof (prove)\nusing this:\n  {1 + j * 4 |j. j < 3} \\<subseteq> {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. 9 \\<in> {1 + j * 4 |j. j < 3}", "by force"], ["proof (state)\nthis:\n  9 \\<in> {1 + j * 4 |j. j < 3}\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open>9 \\<in> {1+j*4| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  9 \\<in> {1 + j * 4 |j. j < 3}\n\ngoal (1 subgoal):\n 1. 9 \\<in> {1 + j * 4 |j. j < m}", "using  \\<open> {1+j*4| j::nat. j < 3} \\<subseteq> {1+j*4| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  9 \\<in> {1 + j * 4 |j. j < 3}\n  {1 + j * 4 |j. j < 3} \\<subseteq> {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. 9 \\<in> {1 + j * 4 |j. j < m}", "by blast"], ["proof (state)\nthis:\n  9 \\<in> {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open>9 \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\nusing this:\n  9 \\<in> {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. 9 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>b = 4\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  9 \\<in> {1 + j * 4 |j. j < m}\n  b = 4\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 9 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  9 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open>coprime (9::nat) n\\<close>"], ["proof (prove)\nusing this:\n  9 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. coprime 9 n", "by blast"], ["proof (state)\nthis:\n  coprime 9 n\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have \\<open>(3::nat) dvd 9\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 dvd 9", "by auto"], ["proof (state)\nthis:\n  3 dvd 9\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have  \\<open>coprime (3::nat) n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime 3 n", "using  \\<open>coprime (9::nat) n\\<close> \\<open>(3::nat) dvd 9\\<close>"], ["proof (prove)\nusing this:\n  coprime 9 n\n  3 dvd 9\n\ngoal (1 subgoal):\n 1. coprime 3 n", "by (metis coprime_commute coprime_mult_right_iff dvd_def)"], ["proof (state)\nthis:\n  coprime 3 n\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have \\<open>(3::nat) < n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 < n", "by (metis One_nat_def Suc_lessI \\<open>1 < n\\<close> \\<open>\\<not> (n = 2 \\<or> n = 6)\\<close> \\<open>coprime 3 n\\<close>\n                  coprime_self numeral_2_eq_2 numeral_3_eq_3 less_numeral_extra(1) nat_dvd_not_less)"], ["proof (state)\nthis:\n  3 < n\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have \\<open>3 \\<in>  {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>3 < n\\<close> \\<open>coprime 3 n\\<close>"], ["proof (prove)\nusing this:\n  3 < n\n  coprime 3 n\n\ngoal (1 subgoal):\n 1. 3 \\<in> {x |x. x < n \\<and> coprime x n}", "by blast"], ["proof (state)\nthis:\n  3 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence  \\<open>(3::nat) \\<in> {1+j*4| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  3 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. 3 \\<in> {1 + j * 4 |j. j < m}", "using \\<open>b = 4\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  3 \\<in> {x |x. x < n \\<and> coprime x n}\n  b = 4\n  {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. 3 \\<in> {1 + j * 4 |j. j < m}", "by blast"], ["proof (state)\nthis:\n  3 \\<in> {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "then"], ["proof (chain)\npicking this:\n  3 \\<in> {1 + j * 4 |j. j < m}", "obtain j::nat where \\<open>(3::nat) = 1 + j*4\\<close>"], ["proof (prove)\nusing this:\n  3 \\<in> {1 + j * 4 |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>j. 3 = 1 + j * 4 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  3 = 1 + j * 4\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "have \\<open>2 = j*4\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 = j * 4", "using numeral_3_eq_3 \\<open>(3::nat) = 1 + j*4\\<close>"], ["proof (prove)\nusing this:\n  3 = Suc (Suc (Suc 0))\n  3 = 1 + j * 4\n\ngoal (1 subgoal):\n 1. 2 = j * 4", "by linarith"], ["proof (state)\nthis:\n  2 = j * 4\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open>1 = j*2\\<close>"], ["proof (prove)\nusing this:\n  2 = j * 4\n\ngoal (1 subgoal):\n 1. 1 = j * 2", "by linarith"], ["proof (state)\nthis:\n  1 = j * 2\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "hence \\<open>even 1\\<close>"], ["proof (prove)\nusing this:\n  1 = j * 2\n\ngoal (1 subgoal):\n 1. even (1::'a)", "by simp"], ["proof (state)\nthis:\n  even (1::?'a1)\n\ngoal (1 subgoal):\n 1. \\<not> (n = 2 \\<or> n = 6) \\<Longrightarrow> n = 2 \\<or> n = 6", "thus ?thesis"], ["proof (prove)\nusing this:\n  even (1::?'a1)\n\ngoal (1 subgoal):\n 1. n = 2 \\<or> n = 6", "using odd_one"], ["proof (prove)\nusing this:\n  even (1::?'a1)\n  odd (1::?'a)\n\ngoal (1 subgoal):\n 1. n = 2 \\<or> n = 6", "by blast"], ["proof (state)\nthis:\n  n = 2 \\<or> n = 6\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n = 2 \\<or> n = 6\n\ngoal (1 subgoal):\n 1. b = 4 \\<Longrightarrow> n = 6", "thus ?thesis"], ["proof (prove)\nusing this:\n  n = 2 \\<or> n = 6\n\ngoal (1 subgoal):\n 1. n = 6", "by (simp add: False)"], ["proof (state)\nthis:\n  n = 6\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  b = 4 \\<Longrightarrow> n = 6\n\ngoal (1 subgoal):\n 1. n \\<noteq> 2 \\<Longrightarrow>\n    prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "ultimately"], ["proof (chain)\npicking this:\n  b = 0 \\<or> b = 1 \\<or> b = 2 \\<or> b = 4\n  b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n  b = 1 \\<Longrightarrow> prime n\n  b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n  b = 4 \\<Longrightarrow> n = 6", "show ?thesis"], ["proof (prove)\nusing this:\n  b = 0 \\<or> b = 1 \\<or> b = 2 \\<or> b = 4\n  b = 0 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n  b = 1 \\<Longrightarrow> prime n\n  b = 2 \\<Longrightarrow> \\<exists>k. n = 2 ^ k\n  b = 4 \\<Longrightarrow> n = 6\n\ngoal (1 subgoal):\n 1. prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6", "by blast"], ["proof (state)\nthis:\n  prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} =\n     {1 + j * b |j. j < m} \\<Longrightarrow>\n  prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n  (\\<exists>b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m})\n\ngoal (1 subgoal):\n 1. (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n    (\\<exists>a b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "moreover"], ["proof (state)\nthis:\n  (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n  (\\<exists>b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m})\n\ngoal (1 subgoal):\n 1. (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n    (\\<exists>a b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "have \\<open>(\\<exists> b m. m \\<noteq> 0 \\<and> {x | x :: nat. x < n \\<and> coprime x n} = {1+j*b| j::nat. j < m})\n  \\<longleftrightarrow> (\\<exists> a b m. m \\<noteq> 0 \\<and> {x | x :: nat. x < n \\<and> coprime x n} = {a+j*b| j::nat. j < m})\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}) =\n    (\\<exists>a b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} =\n       {1 + j * b |j. j < m} \\<Longrightarrow>\n    \\<exists>a b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n 2. \\<exists>a b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} =\n       {a + j * b |j. j < m} \\<Longrightarrow>\n    \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "show \"\\<exists>a b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\"\n      if \"\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}", "using that"], ["proof (prove)\nusing this:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>a b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}", "by blast"], ["proof (state)\nthis:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} =\n     {1 + j * b |j. j < m} \\<Longrightarrow>\n  \\<exists>a b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>a b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} =\n       {a + j * b |j. j < m} \\<Longrightarrow>\n    \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "show \"\\<exists>b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\"\n      if \"\\<exists>a b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "obtain a b m::nat where \\<open>m \\<noteq> 0\\<close>\n        and \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {a+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m a b.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>\\<exists>a b m. m \\<noteq> 0 \\<and> {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>a b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. (\\<And>m a b.\n        \\<lbrakk>m \\<noteq> 0;\n         {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "have \\<open>a = 1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. a = 1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. a = 1", "have \\<open>{x | x :: nat. x < n \\<and> coprime x n} = {(a::nat)+j*(b::nat)| j::nat. j < m} \\<Longrightarrow> a = 1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} =\n    {a + j * b |j. j < m} \\<Longrightarrow>\n    a = 1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} =\n    {a + j * b |j. j < m} \\<Longrightarrow>\n    a = 1", "have \\<open>Min {x | x :: nat. x < n \\<and> coprime x n} = Min {a+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = Min {a + j * b |j. j < m}", "using \\<open>{x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = Min {a + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  Min {x |x. x < n \\<and> coprime x n} = Min {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} =\n    {a + j * b |j. j < m} \\<Longrightarrow>\n    a = 1", "have  \\<open>Min {x | x :: nat. x < n \\<and> coprime x n} = 1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "have \\<open>finite {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  finite {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "have \\<open>{x | x :: nat. x < n \\<and> coprime x n} \\<noteq> {}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} \\<noteq> {}", "using \\<open>1 < n\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "have \\<open>1 \\<in> {x | x :: nat. x < n \\<and> coprime x n}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<in> {x |x. x < n \\<and> coprime x n}", "using \\<open>1 < n\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (1 subgoal):\n 1. 1 \\<in> {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  1 \\<in> {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "have \\<open>\\<forall> x. coprime x n \\<longrightarrow> x \\<ge> 1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x. coprime x n \\<longrightarrow> 1 \\<le> x", "using \\<open>1 < n\\<close> le_less_linear"], ["proof (prove)\nusing this:\n  1 < n\n  ?x \\<le> ?y \\<or> ?y < ?x\n\ngoal (1 subgoal):\n 1. \\<forall>x. coprime x n \\<longrightarrow> 1 \\<le> x", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>x. coprime x n \\<longrightarrow> 1 \\<le> x\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "hence \\<open>\\<forall> x.  x < n \\<and> coprime x n \\<longrightarrow> x \\<ge> 1\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>x. coprime x n \\<longrightarrow> 1 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<forall>x. x < n \\<and> coprime x n \\<longrightarrow> 1 \\<le> x", "by blast"], ["proof (state)\nthis:\n  \\<forall>x. x < n \\<and> coprime x n \\<longrightarrow> 1 \\<le> x\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "hence \\<open>\\<forall> x \\<in> {x | x :: nat. x < n \\<and> coprime x n}. x \\<ge> 1\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>x. x < n \\<and> coprime x n \\<longrightarrow> 1 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{x |x. x < n \\<and> coprime x n}. 1 \\<le> x", "by blast"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{x |x. x < n \\<and> coprime x n}. 1 \\<le> x\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "hence \\<open>Min {x | x :: nat. x < n \\<and> coprime x n} \\<ge> 1\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>{x |x. x < n \\<and> coprime x n}. 1 \\<le> x\n\ngoal (1 subgoal):\n 1. 1 \\<le> Min {x |x. x < n \\<and> coprime x n}", "using \\<open>finite {x | x :: nat. x < n \\<and> coprime x n}\\<close> \\<open>{x |x. x < n \\<and> coprime x n} \\<noteq> {}\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>{x |x. x < n \\<and> coprime x n}. 1 \\<le> x\n  finite {x |x. x < n \\<and> coprime x n}\n  {x |x. x < n \\<and> coprime x n} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. 1 \\<le> Min {x |x. x < n \\<and> coprime x n}", "by auto"], ["proof (state)\nthis:\n  1 \\<le> Min {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  1 \\<le> Min {x |x. x < n \\<and> coprime x n}\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "using Min_le \\<open>1 \\<in> {x |x. x < n \\<and> coprime x n}\\<close> \\<open>finite {x |x. x < n \\<and> coprime x n}\\<close>\n                antisym"], ["proof (prove)\nusing this:\n  1 \\<le> Min {x |x. x < n \\<and> coprime x n}\n  \\<lbrakk>finite ?A; ?x \\<in> ?A\\<rbrakk> \\<Longrightarrow> Min ?A \\<le> ?x\n  1 \\<in> {x |x. x < n \\<and> coprime x n}\n  finite {x |x. x < n \\<and> coprime x n}\n  \\<lbrakk>?x \\<le> ?y; ?y \\<le> ?x\\<rbrakk> \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. Min {x |x. x < n \\<and> coprime x n} = 1", "by blast"], ["proof (state)\nthis:\n  Min {x |x. x < n \\<and> coprime x n} = 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Min {x |x. x < n \\<and> coprime x n} = 1\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} =\n    {a + j * b |j. j < m} \\<Longrightarrow>\n    a = 1", "have \\<open>Min  {a+j*b| j::nat. j < m} = a\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "have f1: \"\\<exists>n. a = a + n * b \\<and> n < m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>n. a = a + n * b \\<and> n < m", "using \\<open>m \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>n. a = a + n * b \\<and> n < m", "by auto"], ["proof (state)\nthis:\n  \\<exists>n. a = a + n * b \\<and> n < m\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "have f2: \"\\<exists>n. 1 = a + n * b \\<and> n < m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>n. 1 = a + n * b \\<and> n < m", "using \\<open>{x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<close> assms coprime_1_left"], ["proof (prove)\nusing this:\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n  1 < n\n  coprime (1::?'a) ?a\n\ngoal (1 subgoal):\n 1. \\<exists>n. 1 = a + n * b \\<and> n < m", "by blast"], ["proof (state)\nthis:\n  \\<exists>n. 1 = a + n * b \\<and> n < m\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "have f3: \"\\<exists>na. a = na \\<and> na < n \\<and> coprime na n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>na. a = na \\<and> na < n \\<and> coprime na n", "using f1 \\<open>{x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>n. a = a + n * b \\<and> n < m\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>na. a = na \\<and> na < n \\<and> coprime na n", "by blast"], ["proof (state)\nthis:\n  \\<exists>na. a = na \\<and> na < n \\<and> coprime na n\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "have \"n \\<noteq> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n \\<noteq> 1", "by (metis (lifting) assms less_irrefl_nat)"], ["proof (state)\nthis:\n  n \\<noteq> 1\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "then"], ["proof (chain)\npicking this:\n  n \\<noteq> 1", "have \"\\<not> coprime 0 n\""], ["proof (prove)\nusing this:\n  n \\<noteq> 1\n\ngoal (1 subgoal):\n 1. \\<not> coprime 0 n", "by simp"], ["proof (state)\nthis:\n  \\<not> coprime 0 n\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "then"], ["proof (chain)\npicking this:\n  \\<not> coprime 0 n", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> coprime 0 n\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "using f3 f2"], ["proof (prove)\nusing this:\n  \\<not> coprime 0 n\n  \\<exists>na. a = na \\<and> na < n \\<and> coprime na n\n  \\<exists>n. 1 = a + n * b \\<and> n < m\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "by (metis \\<open>Min {x |x. x < n \\<and> coprime x n} = 1\\<close> \\<open>{x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<close> less_one linorder_neqE_nat not_add_less1)"], ["proof (state)\nthis:\n  Min {a + j * b |j. j < m} = a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Min {a + j * b |j. j < m} = a\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} =\n    {a + j * b |j. j < m} \\<Longrightarrow>\n    a = 1", "hence \\<open>Min  {a+j*b| j::nat. j < m} = a\\<close>"], ["proof (prove)\nusing this:\n  Min {a + j * b |j. j < m} = a\n\ngoal (1 subgoal):\n 1. Min {a + j * b |j. j < m} = a", "by blast"], ["proof (state)\nthis:\n  Min {a + j * b |j. j < m} = a\n\ngoal (1 subgoal):\n 1. {x |x. x < n \\<and> coprime x n} =\n    {a + j * b |j. j < m} \\<Longrightarrow>\n    a = 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  Min {a + j * b |j. j < m} = a\n\ngoal (1 subgoal):\n 1. a = 1", "using \\<open>Min {x | x :: nat. x < n \\<and> coprime x n} = 1\\<close> \\<open>Min {x | x :: nat. x < n \\<and> coprime x n} = Min {a+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  Min {a + j * b |j. j < m} = a\n  Min {x |x. x < n \\<and> coprime x n} = 1\n  Min {x |x. x < n \\<and> coprime x n} = Min {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. a = 1", "by linarith"], ["proof (state)\nthis:\n  a = 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m} \\<Longrightarrow>\n  a = 1\n\ngoal (1 subgoal):\n 1. a = 1", "thus ?thesis"], ["proof (prove)\nusing this:\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m} \\<Longrightarrow>\n  a = 1\n\ngoal (1 subgoal):\n 1. a = 1", "using \\<open>{x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\\<close>"], ["proof (prove)\nusing this:\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m} \\<Longrightarrow>\n  a = 1\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. a = 1", "by blast"], ["proof (state)\nthis:\n  a = 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a = 1\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = 1\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "using  \\<open>m \\<noteq> 0\\<close> \\<open>{x | x. x < n \\<and> coprime x n} = {a+j*b| j::nat. j < m}\\<close>"], ["proof (prove)\nusing this:\n  a = 1\n  m \\<noteq> 0\n  {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m}\n\ngoal (1 subgoal):\n 1. \\<exists>b m.\n       m \\<noteq> 0 \\<and>\n       {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}", "by auto"], ["proof (state)\nthis:\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>a b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} =\n     {a + j * b |j. j < m} \\<Longrightarrow>\n  \\<exists>b m.\n     m \\<noteq> 0 \\<and>\n     {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}) =\n  (\\<exists>a b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})\n\ngoal (1 subgoal):\n 1. (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n    (\\<exists>a b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "ultimately"], ["proof (chain)\npicking this:\n  (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n  (\\<exists>b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m})\n  (\\<exists>b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}) =\n  (\\<exists>a b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "show ?thesis"], ["proof (prove)\nusing this:\n  (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n  (\\<exists>b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m})\n  (\\<exists>b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {1 + j * b |j. j < m}) =\n  (\\<exists>a b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})\n\ngoal (1 subgoal):\n 1. (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n    (\\<exists>a b m.\n        m \\<noteq> 0 \\<and>\n        {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})", "by simp"], ["proof (state)\nthis:\n  (prime n \\<or> (\\<exists>k. n = 2 ^ k) \\<or> n = 6) =\n  (\\<exists>a b m.\n      m \\<noteq> 0 \\<and>\n      {x |x. x < n \\<and> coprime x n} = {a + j * b |j. j < m})\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}