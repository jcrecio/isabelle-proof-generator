{"file_name": "/home/qj213/afp-2021-10-22/thys/HOL-CSP/Mndet.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/HOL-CSP", "problem_names": ["lemma mt_mndet[simp] : \"mndet {} P = STOP\"", "lemma mndet_is_process : \"A \\<noteq> {} \\<Longrightarrow> is_process (\\<Union> x\\<in>A. F(x \\<rightarrow> P x), \\<Union> x\\<in>A.   D(x \\<rightarrow> P x))\"", "lemma T_mdet1 : \"T(mndet {} P) = {[]}\"", "lemma rep_abs_mndet[simp]: \"A \\<noteq> {} \\<Longrightarrow>\n     (Rep_process (Abs_process(\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\\<Union>x\\<in>A. D (x \\<rightarrow> P x)))) = \n      (\\<Union>x\\<in>A. F (x \\<rightarrow> P x), \\<Union>x\\<in>A. D (x \\<rightarrow> P x))\"", "lemma T_mndet: \"A\\<noteq>{} \\<Longrightarrow> T(mndet A P) = (\\<Union> x\\<in>A. T (x \\<rightarrow> P x))\"", "lemma F_mndet1 : \"F(mndet {} P) = {(s, X). s = []}\"", "lemma F_mndet: \"A\\<noteq>{} \\<Longrightarrow> F(mndet A P) = (\\<Union> x\\<in>A. F (x \\<rightarrow> P x))\"", "lemma D_mndet1 : \"D(mndet {} P) = {}\"", "lemma D_mndet : \"A\\<noteq>{} \\<Longrightarrow> D(mndet A P) = (\\<Union> x\\<in>A. D (x \\<rightarrow> P x))\"", "lemma mndet_unit : \"(\\<sqinter> x \\<in> {a} \\<rightarrow> P x)  = (a \\<rightarrow> P a)\"", "lemma mndet_distrib : \"A \\<noteq>{} \\<Longrightarrow> B \\<noteq>{} \\<Longrightarrow> (\\<sqinter> x \\<in> A\\<union>B \\<rightarrow> P x) = ((\\<sqinter> x \\<in> A \\<rightarrow> P x) \\<sqinter> (\\<sqinter> x \\<in> B \\<rightarrow> P x))\"", "lemma mndet_distrib_unit : \"A-{a} \\<noteq> {}  \\<Longrightarrow> (\\<sqinter> x \\<in> insert a A \\<rightarrow> P x) = ((a \\<rightarrow> P a) \\<sqinter> (\\<sqinter> x \\<in> A-{a} \\<rightarrow> P x))\"", "lemma Mndet_cont_finite[simp]:\nassumes \"finite A\"\n and    \"\\<And>x. cont (f x)\"\nshows   \"cont (\\<lambda>y. \\<sqinter> z \\<in> A \\<rightarrow> f z y)\"", "lemma mono_Mndet[simp] : \"monofun (mndet (A::'a set))\"", "lemma mndet_chainpreserving: \"chain Y \\<Longrightarrow> chain (\\<lambda>i. (\\<sqinter> z \\<in> A \\<rightarrow> Y i z))\"", "lemma contlub_Mndet : \"contlub (mndet A)\"", "lemma Mndet_cont[simp]: \"(\\<And>x. cont (f x)) \\<Longrightarrow> cont (\\<lambda>y. (\\<sqinter> z \\<in> A \\<rightarrow> (f z y)))\""], "translations": [["", "lemma mt_mndet[simp] : \"mndet {} P = STOP\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mndet {} P = STOP", "unfolding mndet_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if {} = {} then STOP\n     else Abs_process\n           (\\<Union>x\\<in>{}. F (x \\<rightarrow> P x),\n            \\<Union>x\\<in>{}. D (x \\<rightarrow> P x))) =\n    STOP", "by simp"], ["", "lemma mndet_is_process : \"A \\<noteq> {} \\<Longrightarrow> is_process (\\<Union> x\\<in>A. F(x \\<rightarrow> P x), \\<Union> x\\<in>A.   D(x \\<rightarrow> P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    is_process\n     (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n      \\<Union>x\\<in>A. D (x \\<rightarrow> P x))", "unfolding is_process_def FAILURES_def DIVERGENCES_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    ([], {})\n    \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n               \\<Union>x\\<in>A. D (x \\<rightarrow> P x)) \\<and>\n    (\\<forall>s X.\n        (s, X)\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A.\n                      D (x \\<rightarrow> P x)) \\<longrightarrow>\n        front_tickFree s) \\<and>\n    (\\<forall>s t.\n        (s @ t, {})\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A.\n                      D (x \\<rightarrow> P x)) \\<longrightarrow>\n        (s, {})\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) \\<and>\n    (\\<forall>s X Y.\n        (s, Y)\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x)) \\<and>\n        X \\<subseteq> Y \\<longrightarrow>\n        (s, X)\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) \\<and>\n    (\\<forall>s X Y.\n        (s, X)\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x)) \\<and>\n        (\\<forall>c.\n            c \\<in> Y \\<longrightarrow>\n            (s @ [c], {})\n            \\<notin> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                          \\<Union>x\\<in>A.\n                             D (x \\<rightarrow> P x))) \\<longrightarrow>\n        (s, X \\<union> Y)\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) \\<and>\n    (\\<forall>s X.\n        (s @ [tick], {})\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A.\n                      D (x \\<rightarrow> P x)) \\<longrightarrow>\n        (s, X - {tick})\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) \\<and>\n    (\\<forall>s t.\n        s \\<in> snd (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                     \\<Union>x\\<in>A. D (x \\<rightarrow> P x)) \\<and>\n        tickFree s \\<and> front_tickFree t \\<longrightarrow>\n        s @ t\n        \\<in> snd (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) \\<and>\n    (\\<forall>s X.\n        s \\<in> snd (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                     \\<Union>x\\<in>A.\n                        D (x \\<rightarrow> P x)) \\<longrightarrow>\n        (s, X)\n        \\<in> fst (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) \\<and>\n    (\\<forall>s.\n        s @ [tick]\n        \\<in> snd (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                   \\<Union>x\\<in>A.\n                      D (x \\<rightarrow> P x)) \\<longrightarrow>\n        s \\<in> snd (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n                     \\<Union>x\\<in>A. D (x \\<rightarrow> P x)))", "apply auto"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>x.\n       x \\<in> A \\<Longrightarrow>\n       \\<exists>x\\<in>A. ([], {}) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s X xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> front_tickFree s\n 3. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ t, {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, {}) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 6. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 7. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 8. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 9. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT1"], ["proof (prove)\nusing this:\n  ([], {}) \\<in> F ?P\n\ngoal (9 subgoals):\n 1. \\<And>x.\n       x \\<in> A \\<Longrightarrow>\n       \\<exists>x\\<in>A. ([], {}) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s X xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> front_tickFree s\n 3. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ t, {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, {}) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 6. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 7. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 8. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 9. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply auto[1]"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>x s X xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> front_tickFree s\n 2. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ t, {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, {}) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 6. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 7. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 8. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT2"], ["proof (prove)\nusing this:\n  \\<forall>s X. (s, X) \\<in> F ?P \\<longrightarrow> front_tickFree s\n\ngoal (8 subgoals):\n 1. \\<And>x s X xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> front_tickFree s\n 2. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ t, {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, {}) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 6. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 7. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 8. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply blast"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ t, {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, {}) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 6. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 7. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT3_SR"], ["proof (prove)\nusing this:\n  (?s @ ?t, ?X) \\<in> F ?P \\<Longrightarrow> (?s, {}) \\<in> F ?P\n\ngoal (7 subgoals):\n 1. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ t, {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, {}) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 6. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 7. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply blast"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 5. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 6. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT4"], ["proof (prove)\nusing this:\n  \\<forall>s X Y.\n     (s, Y) \\<in> F ?P \\<and> X \\<subseteq> Y \\<longrightarrow>\n     (s, X) \\<in> F ?P\n\ngoal (6 subgoals):\n 1. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A; X \\<subseteq> Y; xa \\<in> A;\n        (s, Y) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 5. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 6. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply blast"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 4. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT5_S1"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?s, ?X) \\<in> F ?P; (?s, ?X \\<union> ?Y) \\<notin> F ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. c \\<in> ?Y \\<and> (?s @ [c], {}) \\<in> F ?P\n\ngoal (5 subgoals):\n 1. \\<And>x s X Y xa.\n       \\<lbrakk>x \\<in> A;\n        \\<forall>c.\n           c \\<in> Y \\<longrightarrow>\n           (\\<forall>x\\<in>A.\n               (s @ [c], {}) \\<notin> F (x \\<rightarrow> P x));\n        xa \\<in> A; (s, X) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X \\<union> Y) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 4. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 5. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply blast"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 3. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT6"], ["proof (prove)\nusing this:\n  \\<forall>s X.\n     (s @ [tick], {}) \\<in> F ?P \\<longrightarrow>\n     (s, X - {tick}) \\<in> F ?P\n\ngoal (4 subgoals):\n 1. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        (s @ [tick], {}) \\<in> F (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X - {tick}) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 3. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 4. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply blast"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 2. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT7"], ["proof (prove)\nusing this:\n  \\<forall>s t.\n     s \\<in> D ?P \\<and>\n     tickFree s \\<and> front_tickFree t \\<longrightarrow>\n     s @ t \\<in> D ?P\n\ngoal (3 subgoals):\n 1. \\<And>x s t xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A; s \\<in> D (xa \\<rightarrow> P xa);\n        tickFree s; front_tickFree t\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s @ t \\<in> D (x \\<rightarrow> P x)\n 2. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 3. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using NF_ND"], ["proof (prove)\nusing this:\n  (?s, ?X) \\<notin> F ?P \\<Longrightarrow> ?s \\<notin> D ?P\n\ngoal (2 subgoals):\n 1. \\<And>x s xa X.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            (s, X) \\<in> F (x \\<rightarrow> P x)\n 2. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "apply auto[1]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "using is_processT9"], ["proof (prove)\nusing this:\n  \\<forall>s. s @ [tick] \\<in> D ?P \\<longrightarrow> s \\<in> D ?P\n\ngoal (1 subgoal):\n 1. \\<And>x s xa.\n       \\<lbrakk>x \\<in> A; xa \\<in> A;\n        s @ [tick] \\<in> D (xa \\<rightarrow> P xa)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. s \\<in> D (x \\<rightarrow> P x)", "by blast"], ["", "lemma T_mdet1 : \"T(mndet {} P) = {[]}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T (mndet {} P) = {[]}", "unfolding mndet_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. T (if {} = {} then STOP\n       else Abs_process\n             (\\<Union>x\\<in>{}. F (x \\<rightarrow> P x),\n              \\<Union>x\\<in>{}. D (x \\<rightarrow> P x))) =\n    {[]}", "by(simp add: T_STOP)"], ["", "lemma rep_abs_mndet[simp]: \"A \\<noteq> {} \\<Longrightarrow>\n     (Rep_process (Abs_process(\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\\<Union>x\\<in>A. D (x \\<rightarrow> P x)))) = \n      (\\<Union>x\\<in>A. F (x \\<rightarrow> P x), \\<Union>x\\<in>A. D (x \\<rightarrow> P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    Rep_process\n     (Abs_process\n       (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n        \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) =\n    (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n     \\<Union>x\\<in>A. D (x \\<rightarrow> P x))", "apply(subst Process.process.Abs_process_inverse)"], ["proof (prove)\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n     \\<Union>x\\<in>A. D (x \\<rightarrow> P x))\n    \\<in> Collect is_process\n 2. A \\<noteq> {} \\<Longrightarrow>\n    (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n     \\<Union>x\\<in>A. D (x \\<rightarrow> P x)) =\n    (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n     \\<Union>x\\<in>A. D (x \\<rightarrow> P x))", "by(auto intro: mndet_is_process[simplified])"], ["", "lemma T_mndet: \"A\\<noteq>{} \\<Longrightarrow> T(mndet A P) = (\\<Union> x\\<in>A. T (x \\<rightarrow> P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    T (mndet A P) = (\\<Union>x\\<in>A. T (x \\<rightarrow> P x))", "unfolding mndet_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    T (if A = {} then STOP\n       else Abs_process\n             (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n              \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) =\n    (\\<Union>x\\<in>A. T (x \\<rightarrow> P x))", "apply(simp, subst T_def, simp add: TRACES_def FAILURES_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    {tr.\n     \\<exists>b. \\<exists>x\\<in>A. (tr, b) \\<in> F (x \\<rightarrow> P x)} =\n    (\\<Union>x\\<in>A. T (x \\<rightarrow> P x))", "apply(auto intro: mndet_is_process[simplified])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x xa b xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        (xa, b) \\<in> F (xb \\<rightarrow> P xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. xa \\<in> T (x \\<rightarrow> P x)\n 2. \\<And>x xa xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        xa \\<in> T (xb \\<rightarrow> P xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>b.\n                            \\<exists>x\\<in>A.\n                               (xa, b) \\<in> F (x \\<rightarrow> P x)", "unfolding TRACES_def FAILURES_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x xa b xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        (xa, b) \\<in> F (xb \\<rightarrow> P xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. xa \\<in> T (x \\<rightarrow> P x)\n 2. \\<And>x xa xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        xa \\<in> T (xb \\<rightarrow> P xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>b.\n                            \\<exists>x\\<in>A.\n                               (xa, b) \\<in> F (x \\<rightarrow> P x)", "apply(cases \"A = {}\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x xa b xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        (xa, b) \\<in> F (xb \\<rightarrow> P xb); A = {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. xa \\<in> T (x \\<rightarrow> P x)\n 2. \\<And>x xa b xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        (xa, b) \\<in> F (xb \\<rightarrow> P xb); A \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A. xa \\<in> T (x \\<rightarrow> P x)\n 3. \\<And>x xa xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        xa \\<in> T (xb \\<rightarrow> P xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>b.\n                            \\<exists>x\\<in>A.\n                               (xa, b) \\<in> F (x \\<rightarrow> P x)", "apply(auto intro: F_T D_T simp: Nil_elem_T)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        xa \\<in> T (xb \\<rightarrow> P xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>b.\n                            \\<exists>x\\<in>A.\n                               (xa, b) \\<in> F (x \\<rightarrow> P x)", "using NF_NT"], ["proof (prove)\nusing this:\n  (?s, {}) \\<notin> F ?P \\<Longrightarrow> ?s \\<notin> T ?P\n\ngoal (1 subgoal):\n 1. \\<And>x xa xb.\n       \\<lbrakk>x \\<in> A; xb \\<in> A;\n        xa \\<in> T (xb \\<rightarrow> P xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>b.\n                            \\<exists>x\\<in>A.\n                               (xa, b) \\<in> F (x \\<rightarrow> P x)", "by blast"], ["", "lemma F_mndet1 : \"F(mndet {} P) = {(s, X). s = []}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F (mndet {} P) = {(s, X). s = []}", "unfolding mndet_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. F (if {} = {} then STOP\n       else Abs_process\n             (\\<Union>x\\<in>{}. F (x \\<rightarrow> P x),\n              \\<Union>x\\<in>{}. D (x \\<rightarrow> P x))) =\n    {(s, X). s = []}", "by(simp add: F_STOP)"], ["", "lemma F_mndet: \"A\\<noteq>{} \\<Longrightarrow> F(mndet A P) = (\\<Union> x\\<in>A. F (x \\<rightarrow> P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    F (mndet A P) = (\\<Union>x\\<in>A. F (x \\<rightarrow> P x))", "unfolding mndet_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    F (if A = {} then STOP\n       else Abs_process\n             (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n              \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) =\n    (\\<Union>x\\<in>A. F (x \\<rightarrow> P x))", "by(simp, subst F_def, auto simp : FAILURES_def F_mndet1)"], ["", "lemma D_mndet1 : \"D(mndet {} P) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D (mndet {} P) = {}", "unfolding mndet_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. D (if {} = {} then STOP\n       else Abs_process\n             (\\<Union>x\\<in>{}. F (x \\<rightarrow> P x),\n              \\<Union>x\\<in>{}. D (x \\<rightarrow> P x))) =\n    {}", "by(simp add: D_STOP)"], ["", "lemma D_mndet : \"A\\<noteq>{} \\<Longrightarrow> D(mndet A P) = (\\<Union> x\\<in>A. D (x \\<rightarrow> P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    D (mndet A P) = (\\<Union>x\\<in>A. D (x \\<rightarrow> P x))", "unfolding mndet_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    D (if A = {} then STOP\n       else Abs_process\n             (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n              \\<Union>x\\<in>A. D (x \\<rightarrow> P x))) =\n    (\\<Union>x\\<in>A. D (x \\<rightarrow> P x))", "apply(simp, subst D_def, subst Process.process.Abs_process_inverse)"], ["proof (prove)\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n     \\<Union>x\\<in>A. D (x \\<rightarrow> P x))\n    \\<in> Collect is_process\n 2. A \\<noteq> {} \\<Longrightarrow>\n    DIVERGENCES\n     (\\<Union>x\\<in>A. F (x \\<rightarrow> P x),\n      \\<Union>x\\<in>A. D (x \\<rightarrow> P x)) =\n    (\\<Union>x\\<in>A. D (x \\<rightarrow> P x))", "by(auto intro: mndet_is_process[simplified] simp: DIVERGENCES_def)"], ["", "text\\<open> Thus we know now, that mndet yields processes. Direct consequences are the following\n  distributivities: \\<close>"], ["", "lemma mndet_unit : \"(\\<sqinter> x \\<in> {a} \\<rightarrow> P x)  = (a \\<rightarrow> P a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mndet {a} P = (a \\<rightarrow> P a)", "by(auto simp : Process.Process_eq_spec F_mndet D_mndet)"], ["", "lemma mndet_distrib : \"A \\<noteq>{} \\<Longrightarrow> B \\<noteq>{} \\<Longrightarrow> (\\<sqinter> x \\<in> A\\<union>B \\<rightarrow> P x) = ((\\<sqinter> x \\<in> A \\<rightarrow> P x) \\<sqinter> (\\<sqinter> x \\<in> B \\<rightarrow> P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>A \\<noteq> {}; B \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> mndet (A \\<union> B) P = (mndet A P |-| mndet B P)", "by(auto simp : Process.Process_eq_spec F_ndet D_ndet F_mndet D_mndet)"], ["", "text\\<open> The two lemmas @{thm mndet_unit} and @{thm mndet_distrib} together give us that @{const mndet} \n      can be represented by a fold in the finite case. \\<close>"], ["", "lemma mndet_distrib_unit : \"A-{a} \\<noteq> {}  \\<Longrightarrow> (\\<sqinter> x \\<in> insert a A \\<rightarrow> P x) = ((a \\<rightarrow> P a) \\<sqinter> (\\<sqinter> x \\<in> A-{a} \\<rightarrow> P x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A - {a} \\<noteq> {} \\<Longrightarrow>\n    mndet (insert a A) P = (a \\<rightarrow> P a |-| mndet (A - {a}) P)", "by (metis Un_Diff_cancel insert_is_Un insert_not_empty mndet_distrib mndet_unit)"], ["", "subsection\\<open>Finite case Continuity\\<close>"], ["", "text\\<open> This also implies that mndet is continuous for the\n      finite @{term A} and an arbitrary body @{term f}: \\<close>"], ["", "lemma Mndet_cont_finite[simp]:\nassumes \"finite A\"\n and    \"\\<And>x. cont (f x)\"\nshows   \"cont (\\<lambda>y. \\<sqinter> z \\<in> A \\<rightarrow> f z y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cont (\\<lambda>y. \\<sqinter>z\\<in>A \\<rightarrow>  f z y)", "proof(rule Finite_Set.finite_induct[OF \\<open>finite A\\<close>])"], ["proof (state)\ngoal (2 subgoals):\n 1. cont (\\<lambda>y. \\<sqinter>z\\<in>{} \\<rightarrow>  f z y)\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        cont (\\<lambda>y. \\<sqinter>z\\<in>F \\<rightarrow>  f z y)\\<rbrakk>\n       \\<Longrightarrow> cont\n                          (\\<lambda>y.\n                              \\<sqinter>z\\<in>insert x F \\<rightarrow> \n                                 f z y)", "show  \"cont (\\<lambda>y. \\<sqinter>z\\<in>{} \\<rightarrow> f z y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cont (\\<lambda>y. \\<sqinter>z\\<in>{} \\<rightarrow>  f z y)", "by auto"], ["proof (state)\nthis:\n  cont (\\<lambda>y. \\<sqinter>z\\<in>{} \\<rightarrow>  f z y)\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        cont (\\<lambda>y. \\<sqinter>z\\<in>F \\<rightarrow>  f z y)\\<rbrakk>\n       \\<Longrightarrow> cont\n                          (\\<lambda>y.\n                              \\<sqinter>z\\<in>insert x F \\<rightarrow> \n                                 f z y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        cont (\\<lambda>y. \\<sqinter>z\\<in>F \\<rightarrow>  f z y)\\<rbrakk>\n       \\<Longrightarrow> cont\n                          (\\<lambda>y.\n                              \\<sqinter>z\\<in>insert x F \\<rightarrow> \n                                 f z y)", "fix A"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        cont (\\<lambda>y. \\<sqinter>z\\<in>F \\<rightarrow>  f z y)\\<rbrakk>\n       \\<Longrightarrow> cont\n                          (\\<lambda>y.\n                              \\<sqinter>z\\<in>insert x F \\<rightarrow> \n                                 f z y)", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        cont (\\<lambda>y. \\<sqinter>z\\<in>F \\<rightarrow>  f z y)\\<rbrakk>\n       \\<Longrightarrow> cont\n                          (\\<lambda>y.\n                              \\<sqinter>z\\<in>insert x F \\<rightarrow> \n                                 f z y)", "assume \"cont (\\<lambda>y. \\<sqinter>z\\<in>A \\<rightarrow> f z y)\" and \"a \\<notin> A\""], ["proof (state)\nthis:\n  cont (\\<lambda>y. \\<sqinter>z\\<in>A \\<rightarrow>  f z y)\n  a \\<notin> A\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        cont (\\<lambda>y. \\<sqinter>z\\<in>F \\<rightarrow>  f z y)\\<rbrakk>\n       \\<Longrightarrow> cont\n                          (\\<lambda>y.\n                              \\<sqinter>z\\<in>insert x F \\<rightarrow> \n                                 f z y)", "show   \"cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow> f z y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "proof(cases \"A={}\")"], ["proof (state)\ngoal (2 subgoals):\n 1. A = {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)\n 2. A \\<noteq> {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "case True"], ["proof (state)\nthis:\n  A = {}\n\ngoal (2 subgoals):\n 1. A = {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)\n 2. A \\<noteq> {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "then"], ["proof (chain)\npicking this:\n  A = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  A = {}\n\ngoal (1 subgoal):\n 1. cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "by(simp add: mndet_unit True \\<open>\\<And>x. cont (f x)\\<close>)"], ["proof (state)\nthis:\n  cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "case False"], ["proof (state)\nthis:\n  A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "have *  : \"A-{a} \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A - {a} \\<noteq> {}", "by (simp add: False \\<open>a \\<notin> A\\<close>)"], ["proof (state)\nthis:\n  A - {a} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "have ** : \"A-{a} = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A - {a} = A", "by (simp add: \\<open>a \\<notin> A\\<close>)"], ["proof (state)\nthis:\n  A - {a} = A\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)", "apply(simp only: mndet_distrib_unit[OF *], simp only: **)"], ["proof (prove)\ngoal (1 subgoal):\n 1. cont\n     (\\<lambda>y.\n         a \\<rightarrow> f a y |-| (\\<sqinter>z\\<in>A \\<rightarrow>  f z y))", "by (simp add: \\<open>cont (\\<lambda>y. \\<sqinter>z\\<in>A \\<rightarrow> f z y)\\<close> assms(2))"], ["proof (state)\nthis:\n  cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cont (\\<lambda>y. \\<sqinter>z\\<in>insert a A \\<rightarrow>  f z y)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>General case Continuity\\<close>"], ["", "lemma mono_Mndet[simp] : \"monofun (mndet (A::'a set))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. monofun (mndet A)", "proof(cases \"A={}\")"], ["proof (state)\ngoal (2 subgoals):\n 1. A = {} \\<Longrightarrow> monofun (mndet A)\n 2. A \\<noteq> {} \\<Longrightarrow> monofun (mndet A)", "case True"], ["proof (state)\nthis:\n  A = {}\n\ngoal (2 subgoals):\n 1. A = {} \\<Longrightarrow> monofun (mndet A)\n 2. A \\<noteq> {} \\<Longrightarrow> monofun (mndet A)", "then"], ["proof (chain)\npicking this:\n  A = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  A = {}\n\ngoal (1 subgoal):\n 1. monofun (mndet A)", "by(auto simp: monofun_def)"], ["proof (state)\nthis:\n  monofun (mndet A)\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow> monofun (mndet A)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow> monofun (mndet A)", "case False"], ["proof (state)\nthis:\n  A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow> monofun (mndet A)", "then"], ["proof (chain)\npicking this:\n  A \\<noteq> {}", "show ?thesis"], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. monofun (mndet A)", "apply(simp add: monofun_def, intro allI impI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> mndet A x \\<sqsubseteq> mndet A y", "unfolding le_approx_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> D (mndet A y) \\<subseteq> D (mndet A x) \\<and>\n                         (\\<forall>s.\n                             s \\<notin> D (mndet A x) \\<longrightarrow>\n                             Ra (mndet A x) s = Ra (mndet A y) s) \\<and>\n                         min_elems (D (mndet A x)) \\<subseteq> T (mndet A y)", "proof(simp add:T_mndet F_mndet D_mndet, intro conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> (\\<Union>x\\<in>A. D (x \\<rightarrow> y x))\n                         \\<subseteq> (\\<Union>xa\\<in>A.\n   D (xa \\<rightarrow> x xa))\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 3. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "fix x::\"'a \\<Rightarrow> 'a process\" and y::\"'a \\<Rightarrow> 'a process\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> (\\<Union>x\\<in>A. D (x \\<rightarrow> y x))\n                         \\<subseteq> (\\<Union>xa\\<in>A.\n   D (xa \\<rightarrow> x xa))\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 3. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "assume \"A \\<noteq> {}\" and \"x \\<sqsubseteq> y\""], ["proof (state)\nthis:\n  A \\<noteq> {}\n  x \\<sqsubseteq> y\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> (\\<Union>x\\<in>A. D (x \\<rightarrow> y x))\n                         \\<subseteq> (\\<Union>xa\\<in>A.\n   D (xa \\<rightarrow> x xa))\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 3. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "show \"(\\<Union>x\\<in>A.  D (x\\<rightarrow> y x)) \\<subseteq> (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>A. D (x \\<rightarrow> y x))\n    \\<subseteq> (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))", "by (metis (mono_tags, lifting) SUP_mono \\<open>x \\<sqsubseteq> y\\<close> fun_below_iff le_approx1 mono_Mprefix0 write0_def)"], ["proof (state)\nthis:\n  (\\<Union>x\\<in>A. D (x \\<rightarrow> y x))\n  \\<subseteq> (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "fix x::\"'a \\<Rightarrow> 'a process\" and y::\"'a \\<Rightarrow>  'a process\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "assume *:\"A \\<noteq> {}\" and **:\"x \\<sqsubseteq> y\""], ["proof (state)\nthis:\n  A \\<noteq> {}\n  x \\<sqsubseteq> y\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "have *** : \"\\<And>z. z \\<in> A \\<Longrightarrow> x z \\<sqsubseteq> y z \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z. z \\<in> A \\<Longrightarrow> x z \\<sqsubseteq> y z", "by (simp add: \\<open>x \\<sqsubseteq> y\\<close> fun_belowD)"], ["proof (state)\nthis:\n  ?z \\<in> A \\<Longrightarrow> x ?z \\<sqsubseteq> y ?z\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> \\<forall>s.\n                            (\\<forall>xa\\<in>A.\n                                s \\<notin> D\n      (xa \\<rightarrow> x xa)) \\<longrightarrow>\n                            Ra (mndet A x) s = Ra (mndet A y) s\n 2. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "with *"], ["proof (chain)\npicking this:\n  A \\<noteq> {}\n  ?z \\<in> A \\<Longrightarrow> x ?z \\<sqsubseteq> y ?z", "show \"\\<forall>s. (\\<forall>xa\\<in>A. s \\<notin> D (xa \\<rightarrow> x xa)) \\<longrightarrow> Ra (mndet A x) s = Ra (mndet A y) s\""], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n  ?z \\<in> A \\<Longrightarrow> x ?z \\<sqsubseteq> y ?z\n\ngoal (1 subgoal):\n 1. \\<forall>s.\n       (\\<forall>xa\\<in>A.\n           s \\<notin> D (xa \\<rightarrow> x xa)) \\<longrightarrow>\n       Ra (mndet A x) s = Ra (mndet A y) s", "unfolding Ra_def"], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n  ?z \\<in> A \\<Longrightarrow> x ?z \\<sqsubseteq> y ?z\n\ngoal (1 subgoal):\n 1. \\<forall>s.\n       (\\<forall>xa\\<in>A.\n           s \\<notin> D (xa \\<rightarrow> x xa)) \\<longrightarrow>\n       {X. (s, X) \\<in> F (mndet A x)} = {X. (s, X) \\<in> F (mndet A y)}", "by (auto simp:proc_ord2a mono_Mprefix0 write0_def F_mndet) (meson le_approx2 mono_Mprefix0 write0_def)+"], ["proof (state)\nthis:\n  \\<forall>s.\n     (\\<forall>xa\\<in>A.\n         s \\<notin> D (xa \\<rightarrow> x xa)) \\<longrightarrow>\n     Ra (mndet A x) s = Ra (mndet A y) s\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "fix x::\"'a \\<Rightarrow> 'a process\" and y::\"'a \\<Rightarrow>  'a process\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "assume *:\"A \\<noteq> {}\" and \"x \\<sqsubseteq> y\""], ["proof (state)\nthis:\n  A \\<noteq> {}\n  x \\<sqsubseteq> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "have *** : \"\\<And>z. z \\<in> A \\<Longrightarrow> (z \\<rightarrow> x z) \\<sqsubseteq> (z \\<rightarrow> y z) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> A \\<Longrightarrow>\n       (z \\<rightarrow> x z) \\<sqsubseteq> (z \\<rightarrow> y z)", "by (metis \\<open>x \\<sqsubseteq> y\\<close> fun_below_iff mono_Mprefix0 write0_def)"], ["proof (state)\nthis:\n  ?z \\<in> A \\<Longrightarrow>\n  (?z \\<rightarrow> x ?z) \\<sqsubseteq> (?z \\<rightarrow> y ?z)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>A \\<noteq> {}; x \\<sqsubseteq> y\\<rbrakk>\n       \\<Longrightarrow> min_elems\n                          (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n                         \\<subseteq> (\\<Union>x\\<in>A.\n   T (x \\<rightarrow> y x))", "with *"], ["proof (chain)\npicking this:\n  A \\<noteq> {}\n  ?z \\<in> A \\<Longrightarrow>\n  (?z \\<rightarrow> x ?z) \\<sqsubseteq> (?z \\<rightarrow> y ?z)", "show \"min_elems (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa)) \\<subseteq> (\\<Union>x\\<in>A. T (x \\<rightarrow> y x))\""], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n  ?z \\<in> A \\<Longrightarrow>\n  (?z \\<rightarrow> x ?z) \\<sqsubseteq> (?z \\<rightarrow> y ?z)\n\ngoal (1 subgoal):\n 1. min_elems (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n    \\<subseteq> (\\<Union>x\\<in>A. T (x \\<rightarrow> y x))", "unfolding min_elems_def"], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n  ?z \\<in> A \\<Longrightarrow>\n  (?z \\<rightarrow> x ?z) \\<sqsubseteq> (?z \\<rightarrow> y ?z)\n\ngoal (1 subgoal):\n 1. {s \\<in> \\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa).\n     \\<forall>t.\n        t \\<in> (\\<Union>xa\\<in>A.\n                    D (xa \\<rightarrow> x xa)) \\<longrightarrow>\n        \\<not> t < s}\n    \\<subseteq> (\\<Union>x\\<in>A. T (x \\<rightarrow> y x))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa xaa xb.\n       \\<lbrakk>\\<And>z.\n                   z \\<in> A \\<Longrightarrow>\n                   (z \\<rightarrow> x z) \\<sqsubseteq>\n                   (z \\<rightarrow> y z);\n        \\<forall>t.\n           (\\<exists>xa\\<in>A.\n               t \\<in> D (xa \\<rightarrow> x xa)) \\<longrightarrow>\n           \\<not> t < xa;\n        xaa \\<in> A; xa \\<in> D (xaa \\<rightarrow> x xaa);\n        \\<forall>x\\<in>A. xa \\<notin> T (x \\<rightarrow> y x);\n        xb \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "by (metis Set.set_insert elem_min_elems insert_subset le_approx3 le_less min_elems5)"], ["proof (state)\nthis:\n  min_elems (\\<Union>xa\\<in>A. D (xa \\<rightarrow> x xa))\n  \\<subseteq> (\\<Union>x\\<in>A. T (x \\<rightarrow> y x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  monofun (mndet A)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mndet_chainpreserving: \"chain Y \\<Longrightarrow> chain (\\<lambda>i. (\\<sqinter> z \\<in> A \\<rightarrow> Y i z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chain Y \\<Longrightarrow> chain (\\<lambda>i. mndet A (Y i))", "apply(rule chainI, rename_tac i)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       chain Y \\<Longrightarrow>\n       mndet A (Y i) \\<sqsubseteq> mndet A (Y (Suc i))", "apply(frule_tac i=\"i\" in chainE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>chain Y; Y i \\<sqsubseteq> Y (Suc i)\\<rbrakk>\n       \\<Longrightarrow> mndet A (Y i) \\<sqsubseteq> mndet A (Y (Suc i))", "by (simp add: below_fun_def mono_Mprefix0 write0_def monofunE)"], ["", "lemma contlub_Mndet : \"contlub (mndet A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. contlub (mndet A)", "proof(cases \"A={}\")"], ["proof (state)\ngoal (2 subgoals):\n 1. A = {} \\<Longrightarrow> contlub (mndet A)\n 2. A \\<noteq> {} \\<Longrightarrow> contlub (mndet A)", "case True"], ["proof (state)\nthis:\n  A = {}\n\ngoal (2 subgoals):\n 1. A = {} \\<Longrightarrow> contlub (mndet A)\n 2. A \\<noteq> {} \\<Longrightarrow> contlub (mndet A)", "then"], ["proof (chain)\npicking this:\n  A = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  A = {}\n\ngoal (1 subgoal):\n 1. contlub (mndet A)", "by(auto simp: contlub_def)"], ["proof (state)\nthis:\n  contlub (mndet A)\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow> contlub (mndet A)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow> contlub (mndet A)", "case False"], ["proof (state)\nthis:\n  A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow> contlub (mndet A)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. contlub (mndet A)", "proof(rule contlubI, rule proc_ord_proc_eq_spec)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       mndet A (\\<Squnion>i. Y i) \\<sqsubseteq> (\\<Squnion>i. mndet A (Y i))\n 2. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       D (mndet A (\\<Squnion>i. Y i))\n       \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "fix Y :: \"nat \\<Rightarrow> 'a \\<Rightarrow> 'a process\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       mndet A (\\<Squnion>i. Y i) \\<sqsubseteq> (\\<Squnion>i. mndet A (Y i))\n 2. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       D (mndet A (\\<Squnion>i. Y i))\n       \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "assume a:\"chain Y\""], ["proof (state)\nthis:\n  chain Y\n\ngoal (2 subgoals):\n 1. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       mndet A (\\<Squnion>i. Y i) \\<sqsubseteq> (\\<Squnion>i. mndet A (Y i))\n 2. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       D (mndet A (\\<Squnion>i. Y i))\n       \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "show \"(\\<sqinter>x\\<in>A \\<rightarrow> (\\<Squnion>i. Y i) x) \\<sqsubseteq> (\\<Squnion>i. \\<sqinter>x\\<in>A \\<rightarrow> Y i x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mndet A (\\<Squnion>i. Y i) \\<sqsubseteq> (\\<Squnion>i. mndet A (Y i))", "proof(simp add:le_approx_def, intro conjI allI impI)"], ["proof (state)\ngoal (3 subgoals):\n 1. D (\\<Squnion>x. mndet A (Y x)) \\<subseteq> D (mndet A (Lub Y))\n 2. \\<And>s.\n       s \\<notin> D (mndet A (\\<Squnion>x. Y x)) \\<Longrightarrow>\n       Ra (mndet A (\\<Squnion>x. Y x)) s = Ra (\\<Squnion>x. mndet A (Y x)) s\n 3. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>x. mndet A (Y x))", "show \"D (\\<Squnion>i. \\<sqinter>x\\<in>A \\<rightarrow> Y i x) \\<subseteq> D (\\<sqinter>x\\<in>A \\<rightarrow> Lub Y x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D (\\<Squnion>i. mndet A (Y i)) \\<subseteq> D (mndet A (Lub Y))", "using a False D_LUB[OF mndet_chainpreserving[OF a], of A] \n              limproc_is_thelub[OF mndet_chainpreserving[OF a], of A]"], ["proof (prove)\nusing this:\n  chain Y\n  A \\<noteq> {}\n  D (lim_proc (range (\\<lambda>i. mndet A (Y i)))) =\n  \\<Inter> (D ` range (\\<lambda>i. mndet A (Y i)))\n  (\\<Squnion>i. mndet A (Y i)) =\n  lim_proc (range (\\<lambda>i. mndet A (Y i)))\n\ngoal (1 subgoal):\n 1. D (\\<Squnion>i. mndet A (Y i)) \\<subseteq> D (mndet A (Lub Y))", "apply (auto simp add:write0_def D_Mprefix D_LUB[OF ch2ch_fun[OF a]] limproc_is_thelub_fun[OF a] D_mndet)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>chain Y;\n        D (lim_proc (range (\\<lambda>x. mndet A (Y x)))) =\n        (\\<Inter>x.\n            \\<Union>xa\\<in>A.\n               {d. d \\<noteq> [] \\<and>\n                   hd d = ev xa \\<and>\n                   (\\<exists>a. ev a = hd d) \\<and> tl d \\<in> D (Y x xa)});\n        (\\<Squnion>x. mndet A (Y x)) =\n        lim_proc (range (\\<lambda>x. mndet A (Y x)));\n        \\<forall>xa\\<in>A.\n           hd x = ev xa \\<longrightarrow>\n           (\\<exists>xb. tl x \\<notin> D (Y xb xa));\n        xa \\<in> A; x \\<noteq> [];\n        \\<forall>xa.\n           \\<exists>xb\\<in>A.\n              hd x = ev xb \\<and>\n              (\\<exists>a. ev a = hd x) \\<and>\n              tl x \\<in> D (Y xa xb)\\<rbrakk>\n       \\<Longrightarrow> False", "by (metis (mono_tags, hide_lams) event.inject)"], ["proof (state)\nthis:\n  D (\\<Squnion>i. mndet A (Y i)) \\<subseteq> D (mndet A (Lub Y))\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       s \\<notin> D (mndet A (\\<Squnion>x. Y x)) \\<Longrightarrow>\n       Ra (mndet A (\\<Squnion>x. Y x)) s = Ra (\\<Squnion>x. mndet A (Y x)) s\n 2. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>x. mndet A (Y x))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       s \\<notin> D (mndet A (\\<Squnion>x. Y x)) \\<Longrightarrow>\n       Ra (mndet A (\\<Squnion>x. Y x)) s = Ra (\\<Squnion>x. mndet A (Y x)) s\n 2. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>x. mndet A (Y x))", "fix s :: \"'a event list\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>s.\n       s \\<notin> D (mndet A (\\<Squnion>x. Y x)) \\<Longrightarrow>\n       Ra (mndet A (\\<Squnion>x. Y x)) s = Ra (\\<Squnion>x. mndet A (Y x)) s\n 2. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>x. mndet A (Y x))", "assume \"s \\<notin> D (\\<sqinter>x\\<in>A \\<rightarrow> Lub Y x)\""], ["proof (state)\nthis:\n  s \\<notin> D (mndet A (Lub Y))\n\ngoal (2 subgoals):\n 1. \\<And>s.\n       s \\<notin> D (mndet A (\\<Squnion>x. Y x)) \\<Longrightarrow>\n       Ra (mndet A (\\<Squnion>x. Y x)) s = Ra (\\<Squnion>x. mndet A (Y x)) s\n 2. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>x. mndet A (Y x))", "show \"Ra (\\<sqinter>x\\<in>A \\<rightarrow> Lub Y x) s = Ra (\\<Squnion>i. \\<sqinter>x\\<in>A \\<rightarrow> Y i x) s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ra (mndet A (Lub Y)) s = Ra (\\<Squnion>i. mndet A (Y i)) s", "unfolding Ra_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {X. (s, X) \\<in> F (mndet A (Lub Y))} =\n    {X. (s, X) \\<in> F (\\<Squnion>i. mndet A (Y i))}", "using a False F_LUB[OF mndet_chainpreserving[OF a], of A] \n              limproc_is_thelub[OF mndet_chainpreserving[OF a], of A]"], ["proof (prove)\nusing this:\n  chain Y\n  A \\<noteq> {}\n  F (lim_proc (range (\\<lambda>i. mndet A (Y i)))) =\n  \\<Inter> (F ` range (\\<lambda>i. mndet A (Y i)))\n  (\\<Squnion>i. mndet A (Y i)) =\n  lim_proc (range (\\<lambda>i. mndet A (Y i)))\n\ngoal (1 subgoal):\n 1. {X. (s, X) \\<in> F (mndet A (Lub Y))} =\n    {X. (s, X) \\<in> F (\\<Squnion>i. mndet A (Y i))}", "apply (auto simp add:write0_def F_Mprefix F_LUB[OF ch2ch_fun[OF a]] limproc_is_thelub_fun[OF a] F_mndet)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x xa.\n       \\<lbrakk>chain Y;\n        F (lim_proc (range (\\<lambda>x. mndet A (Y x)))) =\n        (\\<Inter>x.\n            \\<Union>xa\\<in>A.\n               {[]} \\<times> {ref. ev xa \\<notin> ref} \\<union>\n               {(tr, ref).\n                tr \\<noteq> [] \\<and>\n                hd tr = ev xa \\<and>\n                (\\<exists>a. ev a = hd tr) \\<and>\n                (tl tr, ref) \\<in> F (Y x xa)});\n        (\\<Squnion>x. mndet A (Y x)) =\n        lim_proc (range (\\<lambda>x. mndet A (Y x)));\n        x \\<in> A;\n        \\<forall>x.\n           \\<exists>xb\\<in>A.\n              s = [] \\<and> ev xb \\<notin> xa \\<or>\n              s \\<noteq> [] \\<and>\n              hd s = ev xb \\<and>\n              (\\<exists>a. ev a = hd s) \\<and>\n              (tl s, xa) \\<in> F (Y x xb)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x\\<in>A.\n                            s = [] \\<and> ev x \\<notin> xa \\<or>\n                            s \\<noteq> [] \\<and>\n                            hd s = ev x \\<and>\n                            (\\<exists>a. ev a = hd s) \\<and>\n                            (\\<forall>xb. (tl s, xa) \\<in> F (Y xb x))", "by (metis (mono_tags, hide_lams) event.inject)"], ["proof (state)\nthis:\n  Ra (mndet A (Lub Y)) s = Ra (\\<Squnion>i. mndet A (Y i)) s\n\ngoal (1 subgoal):\n 1. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>x. mndet A (Y x))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>x. mndet A (Y x))", "show \"min_elems (D (\\<sqinter>x\\<in>A \\<rightarrow> Lub Y x)) \\<subseteq> T (\\<Squnion>i. \\<sqinter>x\\<in>A \\<rightarrow> Y i x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. min_elems (D (mndet A (Lub Y)))\n    \\<subseteq> T (\\<Squnion>i. mndet A (Y i))", "unfolding min_elems_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {s \\<in> D (mndet A (Lub Y)).\n     \\<forall>t. t \\<in> D (mndet A (Lub Y)) \\<longrightarrow> \\<not> t < s}\n    \\<subseteq> T (\\<Squnion>i. mndet A (Y i))", "using a False limproc_is_thelub[OF mndet_chainpreserving[OF a], of A]\n              D_LUB[OF mndet_chainpreserving[OF a], of A] \n              F_LUB[OF mndet_chainpreserving[OF a], of A]"], ["proof (prove)\nusing this:\n  chain Y\n  A \\<noteq> {}\n  (\\<Squnion>i. mndet A (Y i)) =\n  lim_proc (range (\\<lambda>i. mndet A (Y i)))\n  D (lim_proc (range (\\<lambda>i. mndet A (Y i)))) =\n  \\<Inter> (D ` range (\\<lambda>i. mndet A (Y i)))\n  F (lim_proc (range (\\<lambda>i. mndet A (Y i)))) =\n  \\<Inter> (F ` range (\\<lambda>i. mndet A (Y i)))\n\ngoal (1 subgoal):\n 1. {s \\<in> D (mndet A (Lub Y)).\n     \\<forall>t. t \\<in> D (mndet A (Lub Y)) \\<longrightarrow> \\<not> t < s}\n    \\<subseteq> T (\\<Squnion>i. mndet A (Y i))", "by (auto simp add:D_T write0_def D_Mprefix F_Mprefix D_mndet F_mndet D_LUB[OF ch2ch_fun[OF a]] F_LUB[OF ch2ch_fun[OF a]] limproc_is_thelub_fun[OF a])"], ["proof (state)\nthis:\n  min_elems (D (mndet A (Lub Y))) \\<subseteq> T (\\<Squnion>i. mndet A (Y i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  mndet A (\\<Squnion>i. Y i) \\<sqsubseteq> (\\<Squnion>i. mndet A (Y i))\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       D (mndet A (\\<Squnion>i. Y i))\n       \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       D (mndet A (\\<Squnion>i. Y i))\n       \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "fix Y :: \"nat \\<Rightarrow> 'a \\<Rightarrow> 'a process\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       D (mndet A (\\<Squnion>i. Y i))\n       \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "assume a:\"chain Y\""], ["proof (state)\nthis:\n  chain Y\n\ngoal (1 subgoal):\n 1. \\<And>Y.\n       chain Y \\<Longrightarrow>\n       D (mndet A (\\<Squnion>i. Y i))\n       \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "show \"D (\\<sqinter>x\\<in>A \\<rightarrow> (\\<Squnion>i. Y i) x) \\<subseteq> D (\\<Squnion>i. \\<sqinter>x\\<in>A \\<rightarrow> Y i x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. D (mndet A (\\<Squnion>i. Y i))\n    \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "using a False D_LUB[OF mndet_chainpreserving[OF a], of A] \n              limproc_is_thelub[OF mndet_chainpreserving[OF a], of A]"], ["proof (prove)\nusing this:\n  chain Y\n  A \\<noteq> {}\n  D (lim_proc (range (\\<lambda>i. mndet A (Y i)))) =\n  \\<Inter> (D ` range (\\<lambda>i. mndet A (Y i)))\n  (\\<Squnion>i. mndet A (Y i)) =\n  lim_proc (range (\\<lambda>i. mndet A (Y i)))\n\ngoal (1 subgoal):\n 1. D (mndet A (\\<Squnion>i. Y i))\n    \\<subseteq> D (\\<Squnion>i. mndet A (Y i))", "by (auto simp add:write0_def D_Mprefix D_mndet D_LUB[OF ch2ch_fun[OF a]] limproc_is_thelub_fun[OF a])"], ["proof (state)\nthis:\n  D (mndet A (\\<Squnion>i. Y i)) \\<subseteq> D (\\<Squnion>i. mndet A (Y i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  contlub (mndet A)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Mndet_cont[simp]: \"(\\<And>x. cont (f x)) \\<Longrightarrow> cont (\\<lambda>y. (\\<sqinter> z \\<in> A \\<rightarrow> (f z y)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. cont (f x)) \\<Longrightarrow>\n    cont (\\<lambda>y. \\<sqinter>z\\<in>A \\<rightarrow>  f z y)", "apply(rule_tac f = \"\\<lambda>z y. (f y z)\" in Cont.cont_compose, rule monocontlub2cont)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<And>x. cont (f x)) \\<Longrightarrow> monofun (mndet A)\n 2. (\\<And>x. cont (f x)) \\<Longrightarrow> contlub (mndet A)\n 3. (\\<And>x. cont (f x)) \\<Longrightarrow> cont (\\<lambda>x y. f y x)", "by (auto intro: mono_Mndet contlub_Mndet Fun_Cpo.cont2cont_lambda)"], ["", "end"]]}