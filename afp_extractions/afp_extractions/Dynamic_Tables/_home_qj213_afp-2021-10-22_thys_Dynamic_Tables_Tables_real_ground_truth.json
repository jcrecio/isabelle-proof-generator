{"file_name": "/home/qj213/afp-2021-10-22/thys/Dynamic_Tables/Tables_real.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Dynamic_Tables", "problem_names": ["lemma Psi_diff_Ins:\n  \"0 < i \\<Longrightarrow> 0 < d \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (Suc n) - \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n \\<le> i\"", "lemma assumes [arith]: \"0 < i\" \"0 \\<le> d\"\nshows \"\\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n+1) - \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n \\<le> i\" (is \"?D \\<le> _\")", "lemma Psi_diff_Del: assumes [arith]: \"0 < i\" \"0 \\<le> d\" \"n\\<noteq>0\" and \"x\\<^sub>1 \\<le> x\\<^sub>2\"\nshows \"\\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n-Suc 0) - \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n) \\<le> d\" (is \"?D \\<le> _\")", "lemma f2[arith]: \"0 < f2\"", "lemma f2'[arith]: \"0 < f2'\"", "lemma f2'_less_f2: \"f2' < f2\"", "lemma f1_less_f1': \"f1 < f1'\"", "lemma f1'_gr0[arith]: \"f1' > 0\"", "lemma f1'_le_f2': \"f1' \\<le> f2'\"", "lemma f1'c_le_f1: \"f1'/c \\<le> f1\"", "lemma f2_le_f2'e: \"f2 \\<le> f2'*e\"", "lemma f1f2'c: \"f1 \\<le> f2'/c\"", "lemma f1'ef2: \"f1' * e \\<le> f2\"", "lemma aigr0[arith]: \"ai > 1\"", "lemma adgr0[arith]: \"ad > 0\"", "lemma l0_gr0[arith]: \"l0 > 0\"", "lemma f1_l0: assumes \"l0 \\<le> l/c\" shows \"f1*(l/c) \\<le> f1*l - 1\"", "lemma Phi_Psi: \"\\<Phi> (n,l) = \\<Psi> (l0 \\<le> l/c) ai ad (f1'*l) (f2'*l) n\"", "lemma l0e: \"(e*c)/(f2*(e-1)) \\<le> l0\"", "lemma l0c: \"(e*c)/(f2*(c-1)) \\<le> l0\"", "lemma \"ai = e/(e-1)\"", "lemma \"ad = 1/(c-1)\""], "translations": [["", "lemma Psi_diff_Ins:\n  \"0 < i \\<Longrightarrow> 0 < d \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (Suc n) - \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n \\<le> i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < i; 0 < d\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (Suc n) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "by (simp add: add_mono algebra_simps)"], ["", "lemma assumes [arith]: \"0 < i\" \"0 \\<le> d\"\nshows \"\\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n+1) - \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n \\<le> i\" (is \"?D \\<le> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume \"n \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  x\\<^sub>2 \\<le> real n\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "hence \"?D = i*(n+1-x\\<^sub>2) - i*(n-x\\<^sub>2)\""], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    i * (real (n + 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2)", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n + 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n + 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "have \"\\<dots> = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i * (real (n + 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2) = i", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  i * (real (n + 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2) = i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "finally"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume [arith]: \"\\<not> n \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume *[arith]: \"n \\<le> x\\<^sub>1 \\<and> b\""], ["proof (state)\nthis:\n  real n \\<le> x\\<^sub>1 \\<and> b\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume \"n+1 \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "hence \"?D = i*(n+1-x\\<^sub>2) - d*(x\\<^sub>1-n)\""], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    i * (real (n + 1) - x\\<^sub>2) - d * (x\\<^sub>1 - real n)", "using *"], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real (n + 1)\n  real n \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    i * (real (n + 1) - x\\<^sub>2) - d * (x\\<^sub>1 - real n)", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n + 1) - x\\<^sub>2) - d * (x\\<^sub>1 - real n)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n + 1) - x\\<^sub>2) - d * (x\\<^sub>1 - real n)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "have \"\\<dots> = i + i*(n-x\\<^sub>2) + -(d*(x\\<^sub>1-n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i * (real (n + 1) - x\\<^sub>2) - d * (x\\<^sub>1 - real n) =\n    i + i * (real n - x\\<^sub>2) + - (d * (x\\<^sub>1 - real n))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  i * (real (n + 1) - x\\<^sub>2) - d * (x\\<^sub>1 - real n) =\n  i + i * (real n - x\\<^sub>2) + - (d * (x\\<^sub>1 - real n))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "also"], ["proof (state)\nthis:\n  i * (real (n + 1) - x\\<^sub>2) - d * (x\\<^sub>1 - real n) =\n  i + i * (real n - x\\<^sub>2) + - (d * (x\\<^sub>1 - real n))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "have \"i*(n-x\\<^sub>2) \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i * (real n - x\\<^sub>2) \\<le> 0", "by (simp add: mult_le_0_iff)"], ["proof (state)\nthis:\n  i * (real n - x\\<^sub>2) \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "also"], ["proof (state)\nthis:\n  i * (real n - x\\<^sub>2) \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "have \"-(d*(x\\<^sub>1-n)) \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - (d * (x\\<^sub>1 - real n)) \\<le> 0", "using *"], ["proof (prove)\nusing this:\n  real n \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. - (d * (x\\<^sub>1 - real n)) \\<le> 0", "by (simp)"], ["proof (state)\nthis:\n  - (d * (x\\<^sub>1 - real n)) \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              i + x + - (d * (x\\<^sub>1 - real n))\n              \\<le> i + y + - (d * (x\\<^sub>1 - real n));\n   \\<And>x y. x \\<le> y \\<Longrightarrow> i + 0 + x \\<le> i + 0 + y\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                    \\<le> i + 0 + 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              i + x + - (d * (x\\<^sub>1 - real n))\n              \\<le> i + y + - (d * (x\\<^sub>1 - real n));\n   \\<And>x y. x \\<le> y \\<Longrightarrow> i + 0 + x \\<le> i + 0 + y\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                    \\<le> i + 0 + 0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real (n + 1) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real (n + 1) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume [arith]: \"\\<not> n+1 \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real (n + 1) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "assume \"n+1 \\<ge> x\\<^sub>1\""], ["proof (state)\nthis:\n  x\\<^sub>1 \\<le> real (n + 1)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "hence \"?D = -(d*(x\\<^sub>1-n))\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    - (d * (x\\<^sub>1 - real n))", "using *"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> real (n + 1)\n  real n \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    - (d * (x\\<^sub>1 - real n))", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - (d * (x\\<^sub>1 - real n))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - (d * (x\\<^sub>1 - real n))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "have \"-(d*(x\\<^sub>1-n)) \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - (d * (x\\<^sub>1 - real n)) \\<le> 0", "using *"], ["proof (prove)\nusing this:\n  real n \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. - (d * (x\\<^sub>1 - real n)) \\<le> 0", "by (simp)"], ["proof (state)\nthis:\n  - (d * (x\\<^sub>1 - real n)) \\<le> 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "finally"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> 0", "have \"?D \\<le> 0\""], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> 0", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1); \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "then"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1);\n     \\<not> x\\<^sub>1 \\<le> real (n + 1)\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1);\n     \\<not> x\\<^sub>1 \\<le> real (n + 1)\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "assume \"\\<not> n+1 \\<ge> x\\<^sub>1\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>1 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1);\n     \\<not> x\\<^sub>1 \\<le> real (n + 1)\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "hence \"?D = d*(x\\<^sub>1-(n+1)) - d*(x\\<^sub>1-n)\""], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>1 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n + 1)) - d * (x\\<^sub>1 - real n)", "using *"], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>1 \\<le> real (n + 1)\n  real n \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n + 1)) - d * (x\\<^sub>1 - real n)", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n + 1)) - d * (x\\<^sub>1 - real n)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1);\n     \\<not> x\\<^sub>1 \\<le> real (n + 1)\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n + 1)) - d * (x\\<^sub>1 - real n)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1);\n     \\<not> x\\<^sub>1 \\<le> real (n + 1)\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "have \"\\<dots> = -d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d * (x\\<^sub>1 - real (n + 1)) - d * (x\\<^sub>1 - real n) = - d", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  d * (x\\<^sub>1 - real (n + 1)) - d * (x\\<^sub>1 - real n) = - d\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real (n + 1);\n     \\<not> x\\<^sub>1 \\<le> real (n + 1)\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> i", "finally"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - d", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - d\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal (1 subgoal):\n 1. \\<not> (real n \\<le> x\\<^sub>1 \\<and> b) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (real n \\<le> x\\<^sub>1 \\<and> b) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume *: \"\\<not> (n \\<le> x\\<^sub>1 \\<and> b)\""], ["proof (state)\nthis:\n  \\<not> (real n \\<le> x\\<^sub>1 \\<and> b)\n\ngoal (1 subgoal):\n 1. \\<not> (real n \\<le> x\\<^sub>1 \\<and> b) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume \"n+1 \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "hence \"?D = i*(n+1-x\\<^sub>2)\""], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    i * (real (n + 1) - x\\<^sub>2)", "using *"], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real (n + 1)\n  \\<not> (real n \\<le> x\\<^sub>1 \\<and> b)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    i * (real (n + 1) - x\\<^sub>2)", "by (auto)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n + 1) - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n + 1) - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "have \"\\<dots> \\<le> i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i * (real (n + 1) - x\\<^sub>2) \\<le> i", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  i * (real (n + 1) - x\\<^sub>2) \\<le> i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "finally"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real (n + 1) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real (n + 1) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "assume \"\\<not> n+1 \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real (n + 1) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "hence \"?D = 0\""], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>2 \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    0", "using *"], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>2 \\<le> real (n + 1)\n  \\<not> (real n \\<le> x\\<^sub>1 \\<and> b)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    0", "by (auto)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  0\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real (n + 1) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> i", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n + 1) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Psi_diff_Del: assumes [arith]: \"0 < i\" \"0 \\<le> d\" \"n\\<noteq>0\" and \"x\\<^sub>1 \\<le> x\\<^sub>2\"\nshows \"\\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n-Suc 0) - \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n) \\<le> d\" (is \"?D \\<le> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume \"real n - 1 \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  x\\<^sub>2 \\<le> real n - 1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "hence \"?D = i*(n-1-x\\<^sub>2) - i*(n-x\\<^sub>2)\""], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real n - 1\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    i * (real (n - 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2)", "by(simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n - 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  i * (real (n - 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "have \"\\<dots> = - i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i * (real (n - 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2) = - i", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  i * (real (n - 1) - x\\<^sub>2) - i * (real n - x\\<^sub>2) = - i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "finally"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - i", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - i\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n - 1 \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n - 1 \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume [arith]: \"\\<not> real n - 1 \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>2 \\<le> real n - 1\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n - 1 \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume *: \"n-1 \\<le> x\\<^sub>1 \\<and> b\""], ["proof (state)\nthis:\n  real (n - 1) \\<le> x\\<^sub>1 \\<and> b\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume [arith]: \"n \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  x\\<^sub>2 \\<le> real n\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "hence f1: \"x\\<^sub>1 \\<le> n\""], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. x\\<^sub>1 \\<le> real n", "using \\<open>x\\<^sub>1 \\<le> x\\<^sub>2\\<close>"], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real n\n  x\\<^sub>1 \\<le> x\\<^sub>2\n\ngoal (1 subgoal):\n 1. x\\<^sub>1 \\<le> real n", "by linarith"], ["proof (state)\nthis:\n  x\\<^sub>1 \\<le> real n\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "have \"?D = d*(x\\<^sub>1-(n-1)) - i*(n-x\\<^sub>2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n - 1)) - i * (real n - x\\<^sub>2)", "using *"], ["proof (prove)\nusing this:\n  real (n - 1) \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n - 1)) - i * (real n - x\\<^sub>2)", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n - 1)) - i * (real n - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n - 1)) - i * (real n - x\\<^sub>2)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "have \"\\<dots> = d + d*(x\\<^sub>1-n) + -(i*(n-x\\<^sub>2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d * (x\\<^sub>1 - real (n - 1)) - i * (real n - x\\<^sub>2) =\n    d + d * (x\\<^sub>1 - real n) + - (i * (real n - x\\<^sub>2))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  d * (x\\<^sub>1 - real (n - 1)) - i * (real n - x\\<^sub>2) =\n  d + d * (x\\<^sub>1 - real n) + - (i * (real n - x\\<^sub>2))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "also"], ["proof (state)\nthis:\n  d * (x\\<^sub>1 - real (n - 1)) - i * (real n - x\\<^sub>2) =\n  d + d * (x\\<^sub>1 - real n) + - (i * (real n - x\\<^sub>2))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "have \"-(i*(n-x\\<^sub>2)) \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - (i * (real n - x\\<^sub>2)) \\<le> 0", "by (simp add: mult_le_0_iff)"], ["proof (state)\nthis:\n  - (i * (real n - x\\<^sub>2)) \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "also"], ["proof (state)\nthis:\n  - (i * (real n - x\\<^sub>2)) \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "have \"d*(x\\<^sub>1-n) \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d * (x\\<^sub>1 - real n) \\<le> 0", "using f1"], ["proof (prove)\nusing this:\n  x\\<^sub>1 \\<le> real n\n\ngoal (1 subgoal):\n 1. d * (x\\<^sub>1 - real n) \\<le> 0", "by (simp add: mult_le_0_iff)"], ["proof (state)\nthis:\n  d * (x\\<^sub>1 - real n) \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              d + d * (x\\<^sub>1 - real n) + x\n              \\<le> d + d * (x\\<^sub>1 - real n) + y;\n   \\<And>x y. x \\<le> y \\<Longrightarrow> d + x + 0 \\<le> d + y + 0\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                    \\<le> d + 0 + 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              d + d * (x\\<^sub>1 - real n) + x\n              \\<le> d + d * (x\\<^sub>1 - real n) + y;\n   \\<And>x y. x \\<le> y \\<Longrightarrow> d + x + 0 \\<le> d + y + 0\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                    \\<le> d + 0 + 0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume [arith]: \"\\<not> n \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "(* by (simp add: algebra_simps) *)"], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "assume [arith]: \"n > x\\<^sub>1\""], ["proof (state)\nthis:\n  x\\<^sub>1 < real n\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "hence \"?D = d*(x\\<^sub>1-(n-1))\""], ["proof (prove)\nusing this:\n  x\\<^sub>1 < real n\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n - 1))", "using *"], ["proof (prove)\nusing this:\n  x\\<^sub>1 < real n\n  real (n - 1) \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n - 1))", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n - 1))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n - 1))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "have \"\\<dots> = d + -(d*(n-x\\<^sub>1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d * (x\\<^sub>1 - real (n - 1)) = d + - (d * (real n - x\\<^sub>1))", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  d * (x\\<^sub>1 - real (n - 1)) = d + - (d * (real n - x\\<^sub>1))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "also"], ["proof (state)\nthis:\n  d * (x\\<^sub>1 - real (n - 1)) = d + - (d * (real n - x\\<^sub>1))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "have \"-(d*(n-x\\<^sub>1)) \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - (d * (real n - x\\<^sub>1)) \\<le> 0", "by (simp add: mult_le_0_iff)"], ["proof (state)\nthis:\n  - (d * (real n - x\\<^sub>1)) \\<le> 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d\n 2. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n; \\<not> ?P1\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow> d + x \\<le> d + y) \\<Longrightarrow>\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d + 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow> d + x \\<le> d + y) \\<Longrightarrow>\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d + 0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n;\n     \\<not> x\\<^sub>1 < real n\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n;\n     \\<not> x\\<^sub>1 < real n\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "assume \"\\<not> n > x\\<^sub>1\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>1 < real n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n;\n     \\<not> x\\<^sub>1 < real n\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "hence \"?D = d*(x\\<^sub>1-(n-1)) - d*(x\\<^sub>1-n)\""], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>1 < real n\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n - 1)) - d * (x\\<^sub>1 - real n)", "using *"], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>1 < real n\n  real (n - 1) \\<le> x\\<^sub>1 \\<and> b\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    d * (x\\<^sub>1 - real (n - 1)) - d * (x\\<^sub>1 - real n)", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n - 1)) - d * (x\\<^sub>1 - real n)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n;\n     \\<not> x\\<^sub>1 < real n\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d * (x\\<^sub>1 - real (n - 1)) - d * (x\\<^sub>1 - real n)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n;\n     \\<not> x\\<^sub>1 < real n\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "have \"\\<dots> = d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d * (x\\<^sub>1 - real (n - 1)) - d * (x\\<^sub>1 - real n) = d", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  d * (x\\<^sub>1 - real (n - 1)) - d * (x\\<^sub>1 - real n) = d\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> x\\<^sub>2 \\<le> real n;\n     \\<not> x\\<^sub>1 < real n\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n                      \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n                      \\<le> d", "finally"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  d\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "by (simp)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) \\<le> x\\<^sub>1 \\<and> b) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) \\<le> x\\<^sub>1 \\<and> b) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume *: \"\\<not> (n-1 \\<le> x\\<^sub>1 \\<and> b)\""], ["proof (state)\nthis:\n  \\<not> (real (n - 1) \\<le> x\\<^sub>1 \\<and> b)\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) \\<le> x\\<^sub>1 \\<and> b) \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume n: \"n \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  x\\<^sub>2 \\<le> real n\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "hence \"?D = -(i*(n-x\\<^sub>2))\""], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    - (i * (real n - x\\<^sub>2))", "using *"], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real n\n  \\<not> (real (n - 1) \\<le> x\\<^sub>1 \\<and> b)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    - (i * (real n - x\\<^sub>2))", "by(auto)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - (i * (real n - x\\<^sub>2))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "also"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  - (i * (real n - x\\<^sub>2))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "have \"-(i*(n-x\\<^sub>2)) \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - (i * (real n - x\\<^sub>2)) \\<le> 0", "using n"], ["proof (prove)\nusing this:\n  x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. - (i * (real n - x\\<^sub>2)) \\<le> 0", "by(simp)"], ["proof (state)\nthis:\n  - (i * (real n - x\\<^sub>2)) \\<le> 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "finally"], ["proof (chain)\npicking this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "assume \"\\<not> n \\<ge> x\\<^sub>2\""], ["proof (state)\nthis:\n  \\<not> x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "hence \"?D = 0\""], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>2 \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    0", "using *"], ["proof (prove)\nusing this:\n  \\<not> x\\<^sub>2 \\<le> real n\n  \\<not> (real (n - 1) \\<le> x\\<^sub>1 \\<and> b)\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n    0", "by (auto)"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  0\n\ngoal (1 subgoal):\n 1. \\<not> x\\<^sub>2 \\<le> real n \\<Longrightarrow>\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n =\n  0\n\ngoal (1 subgoal):\n 1. \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n    \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n    \\<le> d", "by simp"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 (n - Suc 0) -\n  \\<Psi> b i d x\\<^sub>1 x\\<^sub>2 n\n  \\<le> d\n\ngoal:\nNo subgoals!", "qed"], ["", "locale Table0 = \nfixes f1 f2 f1' f2' e c :: real\nassumes e1[arith]: \"e > 1\"\nassumes c1[arith]: \"c > 1\"\nassumes f1[arith]: \"f1 > 0\"\nassumes f1cf2: \"f1*c < f2\"\nassumes f1f2e: \"f1 < f2/e\"\nassumes f1'_def: \"f1' = min (f1*c) (f2/e)\"\nassumes f2'_def: \"f2' = max (f1*c) (f2/e)\"\nbegin"], ["", "lemma f2[arith]: \"0 < f2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < f2", "using f1f2e zero_less_divide_iff[of f2 e]"], ["proof (prove)\nusing this:\n  f1 < f2 / e\n  (0 < f2 / e) = (0 < f2 \\<and> 0 < e \\<or> f2 < 0 \\<and> e < 0)\n\ngoal (1 subgoal):\n 1. 0 < f2", "by simp"], ["", "lemma f2'[arith]: \"0 < f2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < f2'", "by (simp add: f2'_def max_def)"], ["", "lemma f2'_less_f2: \"f2' < f2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f2' < f2", "using f1cf2"], ["proof (prove)\nusing this:\n  f1 * c < f2\n\ngoal (1 subgoal):\n 1. f2' < f2", "by(auto simp add: f2'_def field_simps)"], ["", "lemma f1_less_f1': \"f1 < f1'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1 < f1'", "using f1f2e"], ["proof (prove)\nusing this:\n  f1 < f2 / e\n\ngoal (1 subgoal):\n 1. f1 < f1'", "by(auto simp add: f1'_def field_simps)"], ["", "lemma f1'_gr0[arith]: \"f1' > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < f1'", "using f1_less_f1'"], ["proof (prove)\nusing this:\n  f1 < f1'\n\ngoal (1 subgoal):\n 1. 0 < f1'", "by linarith"], ["", "lemma f1'_le_f2': \"f1' \\<le> f2'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1' \\<le> f2'", "by(auto simp add: f1'_def f2'_def algebra_simps)"], ["", "lemma f1'c_le_f1: \"f1'/c \\<le> f1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1' / c \\<le> f1", "by(simp add: f1'_def min_def field_simps)"], ["", "lemma f2_le_f2'e: \"f2 \\<le> f2'*e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 \\<le> f2' * e", "by(simp add: f2'_def max_def field_simps)"], ["", "lemma f1f2'c: \"f1 \\<le> f2'/c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1 \\<le> f2' / c", "using f1f2e"], ["proof (prove)\nusing this:\n  f1 < f2 / e\n\ngoal (1 subgoal):\n 1. f1 \\<le> f2' / c", "by(auto simp add: f2'_def field_simps)"], ["", "lemma f1'ef2: \"f1' * e \\<le> f2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1' * e \\<le> f2", "using f1cf2"], ["proof (prove)\nusing this:\n  f1 * c < f2\n\ngoal (1 subgoal):\n 1. f1' * e \\<le> f2", "by(auto simp add: f1'_def field_simps min_def)"], ["", "end"], ["", "locale Table = Table0 +\nfixes l0 :: real\nassumes l0f2e: \"l0 \\<ge> 1/(f2 * (e-1))\"\nassumes l0f1c: \"l0 \\<ge> 1/(f1 * (c-1))\"\nassumes f2f2': \"l0 \\<ge> 1/(f2 - f2')\"\nassumes f1'f1: \"l0 \\<ge> 1/((f1' - f1)*c)\"\nbegin"], ["", "definition \"ai = f2/(f2-f2')\""], ["", "definition \"ad = f1/(f1'-f1)\""], ["", "lemma aigr0[arith]: \"ai > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < ai", "using f2'_less_f2"], ["proof (prove)\nusing this:\n  f2' < f2\n\ngoal (1 subgoal):\n 1. 1 < ai", "by(simp add: ai_def field_simps)"], ["", "lemma adgr0[arith]: \"ad > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < ad", "using f1_less_f1'"], ["proof (prove)\nusing this:\n  f1 < f1'\n\ngoal (1 subgoal):\n 1. 0 < ad", "by(simp add: ad_def field_simps)"], ["", "lemma l0_gr0[arith]: \"l0 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < l0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < l0", "have \"0 < 1/(f2*(e-1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < 1 / (f2 * (e - 1))", "by(simp)"], ["proof (state)\nthis:\n  0 < 1 / (f2 * (e - 1))\n\ngoal (1 subgoal):\n 1. 0 < l0", "also"], ["proof (state)\nthis:\n  0 < 1 / (f2 * (e - 1))\n\ngoal (1 subgoal):\n 1. 0 < l0", "note l0f2e"], ["proof (state)\nthis:\n  1 / (f2 * (e - 1)) \\<le> l0\n\ngoal (1 subgoal):\n 1. 0 < l0", "finally"], ["proof (chain)\npicking this:\n  0 < l0", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < l0\n\ngoal (1 subgoal):\n 1. 0 < l0", "."], ["proof (state)\nthis:\n  0 < l0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma f1_l0: assumes \"l0 \\<le> l/c\" shows \"f1*(l/c) \\<le> f1*l - 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "have \"1 = f1*((c-1)/c)*(c*(1/(f1*(c-1))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 = f1 * ((c - 1) / c) * (c * (1 / (f1 * (c - 1))))", "by(simp add: field_simps)"], ["proof (state)\nthis:\n  1 = f1 * ((c - 1) / c) * (c * (1 / (f1 * (c - 1))))\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "also"], ["proof (state)\nthis:\n  1 = f1 * ((c - 1) / c) * (c * (1 / (f1 * (c - 1))))\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "note l0f1c"], ["proof (state)\nthis:\n  1 / (f1 * (c - 1)) \\<le> l0\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "also"], ["proof (state)\nthis:\n  1 / (f1 * (c - 1)) \\<le> l0\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "note assms(1)"], ["proof (state)\nthis:\n  l0 \\<le> l / c\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              f1 * ((c - 1) / c) * (c * x)\n              \\<le> f1 * ((c - 1) / c) * (c * y);\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      f1 * ((c - 1) / c) * (c * x)\n      \\<le> f1 * ((c - 1) / c) * (c * y)\\<rbrakk>\n  \\<Longrightarrow> 1 \\<le> f1 * ((c - 1) / c) * (c * (l / c))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              f1 * ((c - 1) / c) * (c * x)\n              \\<le> f1 * ((c - 1) / c) * (c * y);\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      f1 * ((c - 1) / c) * (c * x)\n      \\<le> f1 * ((c - 1) / c) * (c * y)\\<rbrakk>\n  \\<Longrightarrow> 1 \\<le> f1 * ((c - 1) / c) * (c * (l / c))\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> f1 * l - 1", "by(simp add: divide_le_cancel) (simp add: field_simps)"], ["proof (state)\nthis:\n  f1 * (l / c) \\<le> f1 * l - 1\n\ngoal:\nNo subgoals!", "qed"], ["", "fun nxt :: \"op\\<^sub>t\\<^sub>b \\<Rightarrow> nat*real \\<Rightarrow> nat*real\" where\n\"nxt Ins (n,l) =\n (n+1, if n+1 \\<le> f2*l then l else e*l)\" |\n\"nxt Del (n,l) =\n (n-1, if f1*l \\<le> real(n-1) then l else if l0 \\<le> l/c then l/c else l)\""], ["", "fun T :: \"op\\<^sub>t\\<^sub>b \\<Rightarrow> nat*real \\<Rightarrow> real\" where\n\"T Ins (n,l) = (if n+1 \\<le> f2*l then 1 else n+1)\" |\n\"T Del (n,l) = (if f1*l \\<le> real(n-1) then 1 else if l0 \\<le> l/c then n else 1)\""], ["", "fun \\<Phi> :: \"nat * real \\<Rightarrow> real\" where\n\"\\<Phi> (n,l) = (if n \\<ge> f2'*l then ai*(n - f2'*l) else\n  if n \\<le> f1'*l \\<and> l0 \\<le> l/c then ad*(f1'*l - n) else 0)\""], ["", "lemma Phi_Psi: \"\\<Phi> (n,l) = \\<Psi> (l0 \\<le> l/c) ai ad (f1'*l) (f2'*l) n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Phi> (n, l) = \\<Psi> (l0 \\<le> l / c) ai ad (f1' * l) (f2' * l) n", "by(simp)"], ["", "fun invar where\n\"invar(n,l) = (l \\<ge> l0 \\<and> (l/c \\<ge> l0 \\<longrightarrow> f1*l \\<le> n) \\<and> n \\<le> f2*l)\""], ["", "abbreviation \"U \\<equiv> \\<lambda>f _. case f of Ins \\<Rightarrow> ai+1 | Del \\<Rightarrow> ad+1\""], ["", "interpretation tb: Amortized\n  where init = \"(0,l0)\" and nxt = nxt\n  and inv = invar\n  and T = T and \\<Phi> = \\<Phi>\n  and U = U"], ["proof (prove)\ngoal (1 subgoal):\n 1. Amortized (0, l0) nxt\n     (\\<lambda>x. invar (case x of (x, y) \\<Rightarrow> (real x, y))) T\n     \\<Phi> U", "proof (standard, goal_cases)"], ["proof (state)\ngoal (5 subgoals):\n 1. invar (case (0, l0) of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 3. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 4. \\<Phi> (0, l0) = 0\n 5. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. invar (case (0, l0) of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 3. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 4. \\<Phi> (0, l0) = 0\n 5. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. invar (case (0, l0) of (x, y) \\<Rightarrow> (real x, y))", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  invar (case (0, l0) of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (4 subgoals):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 3. \\<Phi> (0, l0) = 0\n 4. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 3. \\<Phi> (0, l0) = 0\n 4. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "case (2 s f)"], ["proof (state)\nthis:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (4 subgoals):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 3. \\<Phi> (0, l0) = 0\n 4. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "obtain n l where [simp]: \"s = (n,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n l. s = (n, l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  s = (n, l)\n\ngoal (4 subgoals):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 3. \\<Phi> (0, l0) = 0\n 4. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "from 2"], ["proof (chain)\npicking this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))", "have \"l0 \\<le> l\" and \"n \\<le> f2*l\""], ["proof (prove)\nusing this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. l0 \\<le> l &&& real n \\<le> f2 * l", "by auto"], ["proof (state)\nthis:\n  l0 \\<le> l\n  real n \\<le> f2 * l\n\ngoal (4 subgoals):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 3. \\<Phi> (0, l0) = 0\n 4. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence [arith]: \"l > 0\""], ["proof (prove)\nusing this:\n  l0 \\<le> l\n  real n \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. 0 < l", "by arith"], ["proof (state)\nthis:\n  0 < l\n\ngoal (4 subgoals):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 3. \\<Phi> (0, l0) = 0\n 4. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "proof (cases f)"], ["proof (state)\ngoal (2 subgoals):\n 1. f = Ins \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. f = Del \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "case [simp]: Ins"], ["proof (state)\nthis:\n  f = Ins\n\ngoal (2 subgoals):\n 1. f = Ins \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. f = Del \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "assume \"n+1 \\<le> f2*l\""], ["proof (state)\nthis:\n  real (n + 1) \\<le> f2 * l\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "thus ?thesis"], ["proof (prove)\nusing this:\n  real (n + 1) \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "using 2"], ["proof (prove)\nusing this:\n  real (n + 1) \\<le> f2 * l\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "by (auto)"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "assume 0: \"\\<not> n+1 \\<le> f2*l\""], ["proof (state)\nthis:\n  \\<not> real (n + 1) \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "have f1: \"f1 * (e*l) \\<le> n+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1 * (e * l) \\<le> real (n + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f1 * (e * l) \\<le> real (n + 1)", "have \"f1*e < f2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1 * e < f2", "using f1f2e"], ["proof (prove)\nusing this:\n  f1 < f2 / e\n\ngoal (1 subgoal):\n 1. f1 * e < f2", "by(simp add: field_simps)"], ["proof (state)\nthis:\n  f1 * e < f2\n\ngoal (1 subgoal):\n 1. f1 * (e * l) \\<le> real (n + 1)", "hence \"f1 * (e*l) \\<le> f2*l\""], ["proof (prove)\nusing this:\n  f1 * e < f2\n\ngoal (1 subgoal):\n 1. f1 * (e * l) \\<le> f2 * l", "by simp"], ["proof (state)\nthis:\n  f1 * (e * l) \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. f1 * (e * l) \\<le> real (n + 1)", "with 0"], ["proof (chain)\npicking this:\n  \\<not> real (n + 1) \\<le> f2 * l\n  f1 * (e * l) \\<le> f2 * l", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> real (n + 1) \\<le> f2 * l\n  f1 * (e * l) \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. f1 * (e * l) \\<le> real (n + 1)", "by linarith"], ["proof (state)\nthis:\n  f1 * (e * l) \\<le> real (n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f1 * (e * l) \\<le> real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "have f2: \"n+1 \\<le> f2*e*l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "have \"n+1 \\<le> f2*l+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * l + 1", "using \\<open>n \\<le> f2*l\\<close>"], ["proof (prove)\nusing this:\n  real n \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * l + 1", "by linarith"], ["proof (state)\nthis:\n  real (n + 1) \\<le> f2 * l + 1\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "also"], ["proof (state)\nthis:\n  real (n + 1) \\<le> f2 * l + 1\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "have \"1 = f2*(e-1)*(1/(f2*(e-1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 = f2 * (e - 1) * (1 / (f2 * (e - 1)))", "by(simp)"], ["proof (state)\nthis:\n  1 = f2 * (e - 1) * (1 / (f2 * (e - 1)))\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "also"], ["proof (state)\nthis:\n  1 = f2 * (e - 1) * (1 / (f2 * (e - 1)))\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "note l0f2e"], ["proof (state)\nthis:\n  1 / (f2 * (e - 1)) \\<le> l0\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "also"], ["proof (state)\nthis:\n  1 / (f2 * (e - 1)) \\<le> l0\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "note \\<open>l0 \\<le> l\\<close>"], ["proof (state)\nthis:\n  l0 \\<le> l\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              f2 * l + f2 * (e - 1) * x \\<le> f2 * l + f2 * (e - 1) * y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      f2 * l + f2 * (e - 1) * x \\<le> f2 * l + f2 * (e - 1) * y\\<rbrakk>\n  \\<Longrightarrow> real (n + 1) \\<le> f2 * l + f2 * (e - 1) * l", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              f2 * l + f2 * (e - 1) * x \\<le> f2 * l + f2 * (e - 1) * y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      f2 * l + f2 * (e - 1) * x \\<le> f2 * l + f2 * (e - 1) * y\\<rbrakk>\n  \\<Longrightarrow> real (n + 1) \\<le> f2 * l + f2 * (e - 1) * l\n\ngoal (1 subgoal):\n 1. real (n + 1) \\<le> f2 * e * l", "by simp (simp add: algebra_simps)"], ["proof (state)\nthis:\n  real (n + 1) \\<le> f2 * e * l\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real (n + 1) \\<le> f2 * e * l\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "have \"l \\<le> l*e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l \\<le> l * e", "by simp"], ["proof (state)\nthis:\n  l \\<le> l * e\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "hence \"l0 \\<le> l * e\""], ["proof (prove)\nusing this:\n  l \\<le> l * e\n\ngoal (1 subgoal):\n 1. l0 \\<le> l * e", "using \\<open>l0\\<le>l\\<close>"], ["proof (prove)\nusing this:\n  l \\<le> l * e\n  l0 \\<le> l\n\ngoal (1 subgoal):\n 1. l0 \\<le> l * e", "by linarith"], ["proof (state)\nthis:\n  l0 \\<le> l * e\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "with 0 f1 f2"], ["proof (chain)\npicking this:\n  \\<not> real (n + 1) \\<le> f2 * l\n  f1 * (e * l) \\<le> real (n + 1)\n  real (n + 1) \\<le> f2 * e * l\n  l0 \\<le> l * e", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> real (n + 1) \\<le> f2 * l\n  f1 * (e * l) \\<le> real (n + 1)\n  real (n + 1) \\<le> f2 * e * l\n  l0 \\<le> l * e\n\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "by(simp add: field_simps)"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. f = Del \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f = Del \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "case [simp]: Del"], ["proof (state)\nthis:\n  f = Del\n\ngoal (1 subgoal):\n 1. f = Del \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "assume \"f1*l \\<le> real (n - 1)\""], ["proof (state)\nthis:\n  f1 * l \\<le> real (n - 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "thus ?thesis"], ["proof (prove)\nusing this:\n  f1 * l \\<le> real (n - 1)\n\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "using 2"], ["proof (prove)\nusing this:\n  f1 * l \\<le> real (n - 1)\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "by(auto)"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. \\<not> f1 * l \\<le> real (n - 1) \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> f1 * l \\<le> real (n - 1) \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "assume 0: \"\\<not> f1*l \\<le> real (n - 1)\""], ["proof (state)\nthis:\n  \\<not> f1 * l \\<le> real (n - 1)\n\ngoal (1 subgoal):\n 1. \\<not> f1 * l \\<le> real (n - 1) \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "assume l: \"l0 \\<le> l/c\""], ["proof (state)\nthis:\n  l0 \\<le> l / c\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "hence f1: \"f1*(l/c) \\<le> n-1\""], ["proof (prove)\nusing this:\n  l0 \\<le> l / c\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> real (n - 1)", "using f1_l0[OF l] 2"], ["proof (prove)\nusing this:\n  l0 \\<le> l / c\n  f1 * (l / c) \\<le> f1 * l - 1\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. f1 * (l / c) \\<le> real (n - 1)", "by simp linarith"], ["proof (state)\nthis:\n  f1 * (l / c) \\<le> real (n - 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "have \"n - 1 \\<le> f2 * (l/c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (n - 1) \\<le> f2 * (l / c)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real (n - 1) \\<le> f2 * (l / c)", "have \"f1*l \\<le> f2*(l/c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1 * l \\<le> f2 * (l / c)", "using f1cf2"], ["proof (prove)\nusing this:\n  f1 * c < f2\n\ngoal (1 subgoal):\n 1. f1 * l \\<le> f2 * (l / c)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  f1 * l \\<le> f2 * (l / c)\n\ngoal (1 subgoal):\n 1. real (n - 1) \\<le> f2 * (l / c)", "thus ?thesis"], ["proof (prove)\nusing this:\n  f1 * l \\<le> f2 * (l / c)\n\ngoal (1 subgoal):\n 1. real (n - 1) \\<le> f2 * (l / c)", "using 0"], ["proof (prove)\nusing this:\n  f1 * l \\<le> f2 * (l / c)\n  \\<not> f1 * l \\<le> real (n - 1)\n\ngoal (1 subgoal):\n 1. real (n - 1) \\<le> f2 * (l / c)", "by linarith"], ["proof (state)\nthis:\n  real (n - 1) \\<le> f2 * (l / c)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real (n - 1) \\<le> f2 * (l / c)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n 2. \\<not> ?P \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "with l 0 f1"], ["proof (chain)\npicking this:\n  l0 \\<le> l / c\n  \\<not> f1 * l \\<le> real (n - 1)\n  f1 * (l / c) \\<le> real (n - 1)\n  real (n - 1) \\<le> f2 * (l / c)", "show ?thesis"], ["proof (prove)\nusing this:\n  l0 \\<le> l / c\n  \\<not> f1 * l \\<le> real (n - 1)\n  f1 * (l / c) \\<le> real (n - 1)\n  real (n - 1) \\<le> f2 * (l / c)\n\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "by (auto)"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. \\<not> l0 \\<le> l / c \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> l0 \\<le> l / c \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "assume \"\\<not> l0 \\<le> l/c\""], ["proof (state)\nthis:\n  \\<not> l0 \\<le> l / c\n\ngoal (1 subgoal):\n 1. \\<not> l0 \\<le> l / c \\<Longrightarrow>\n    invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "with 2"], ["proof (chain)\npicking this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n  \\<not> l0 \\<le> l / c", "show ?thesis"], ["proof (prove)\nusing this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n  \\<not> l0 \\<le> l / c\n\ngoal (1 subgoal):\n 1. invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))", "by (auto simp add: field_simps)"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  invar (case nxt f s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (3 subgoals):\n 1. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 2. \\<Phi> (0, l0) = 0\n 3. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 2. \\<Phi> (0, l0) = 0\n 3. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "case (3 s)"], ["proof (state)\nthis:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (3 subgoals):\n 1. \\<And>s.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       0 \\<le> \\<Phi> s\n 2. \\<Phi> (0, l0) = 0\n 3. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "thus ?case"], ["proof (prove)\nusing this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<Phi> s", "by(cases s)(simp split: if_splits)"], ["proof (state)\nthis:\n  0 \\<le> \\<Phi> s\n\ngoal (2 subgoals):\n 1. \\<Phi> (0, l0) = 0\n 2. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Phi> (0, l0) = 0\n 2. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "case 4"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<Phi> (0, l0) = 0\n 2. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Phi> (0, l0) = 0", "by(simp add: field_simps not_le)"], ["proof (state)\nthis:\n  \\<Phi> (0, l0) = 0\n\ngoal (1 subgoal):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "case (5 s f)"], ["proof (state)\nthis:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "obtain n l where [simp]: \"s = (n,l)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n l. s = (n, l) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  s = (n, l)\n\ngoal (1 subgoal):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have [arith]: \"l \\<ge> l0\"  \"n \\<le> f2*l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l0 \\<le> l &&& real n \\<le> f2 * l", "using 5"], ["proof (prove)\nusing this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. l0 \\<le> l &&& real n \\<le> f2 * l", "by auto"], ["proof (state)\nthis:\n  l0 \\<le> l\n  real n \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. \\<And>s f.\n       invar (case s of (x, y) \\<Rightarrow> (real x, y)) \\<Longrightarrow>\n       T f s + \\<Phi> (nxt f s) - \\<Phi> s\n       \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "proof (cases f)"], ["proof (state)\ngoal (2 subgoals):\n 1. f = Ins \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. f = Del \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "case [simp]: Ins"], ["proof (state)\nthis:\n  f = Ins\n\ngoal (2 subgoals):\n 1. f = Ins \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. f = Del \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "show ?thesis (is \"?A \\<le> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "assume \"n+1 \\<le> f2*l\""], ["proof (state)\nthis:\n  real (n + 1) \\<le> f2 * l\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  real (n + 1) \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "by(simp del: \\<Phi>.simps \\<Psi>.simps add: Phi_Psi Psi_diff_Ins)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "assume [arith]: \"\\<not> n+1 \\<le> f2*l\""], ["proof (state)\nthis:\n  \\<not> real (n + 1) \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"(f2 - f2')*l \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> (f2 - f2') * l", "using mult_mono[OF order_refl \\<open>l\\<ge>l0\\<close>, of \"f2-f2'\"] f2'_less_f2 f2f2'"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> f2 - f2'; 0 \\<le> l0\\<rbrakk>\n  \\<Longrightarrow> (f2 - f2') * l0 \\<le> (f2 - f2') * l\n  f2' < f2\n  1 / (f2 - f2') \\<le> l0\n\ngoal (1 subgoal):\n 1. 1 \\<le> (f2 - f2') * l", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  1 \\<le> (f2 - f2') * l\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence \"n \\<ge> f2'*l\""], ["proof (prove)\nusing this:\n  1 \\<le> (f2 - f2') * l\n\ngoal (1 subgoal):\n 1. f2' * l \\<le> real n", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  f2' * l \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence Phi: \"\\<Phi> s = ai * (n - f2'*l)\""], ["proof (prove)\nusing this:\n  f2' * l \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<Phi> s = ai * (real n - f2' * l)", "by simp"], ["proof (state)\nthis:\n  \\<Phi> s = ai * (real n - f2' * l)\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"f1'*e*l \\<le> f2*l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1' * e * l \\<le> f2 * l", "using f1'ef2"], ["proof (prove)\nusing this:\n  f1' * e \\<le> f2\n\ngoal (1 subgoal):\n 1. f1' * e * l \\<le> f2 * l", "by(simp)"], ["proof (state)\nthis:\n  f1' * e * l \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence \"f1'*e*l < n+1\""], ["proof (prove)\nusing this:\n  f1' * e * l \\<le> f2 * l\n\ngoal (1 subgoal):\n 1. f1' * e * l < real (n + 1)", "by linarith"], ["proof (state)\nthis:\n  f1' * e * l < real (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"?A \\<le> n - ai*(f2 - f2')*l + ai + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "assume \"n+1 < f2'*(e*l)\""], ["proof (state)\nthis:\n  real (n + 1) < f2' * (e * l)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "hence \"?A = n+1 - ai*(n - f2'*l)\""], ["proof (prove)\nusing this:\n  real (n + 1) < f2' * (e * l)\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n    real (n + 1) - ai * (real n - f2' * l)", "using Phi \\<open>f1'*e*l < n+1\\<close>"], ["proof (prove)\nusing this:\n  real (n + 1) < f2' * (e * l)\n  \\<Phi> s = ai * (real n - f2' * l)\n  f1' * e * l < real (n + 1)\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n    real (n + 1) - ai * (real n - f2' * l)", "by simp"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n  real (n + 1) - ai * (real n - f2' * l)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "also"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n  real (n + 1) - ai * (real n - f2' * l)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "have \"\\<dots> = n + ai*(-(n+1) + f2'*l) + ai+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (n + 1) - ai * (real n - f2' * l) =\n    real n + ai * (real_of_int (- int (n + 1)) + f2' * l) + ai + 1", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  real (n + 1) - ai * (real n - f2' * l) =\n  real n + ai * (real_of_int (- int (n + 1)) + f2' * l) + ai + 1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "also"], ["proof (state)\nthis:\n  real (n + 1) - ai * (real n - f2' * l) =\n  real n + ai * (real_of_int (- int (n + 1)) + f2' * l) + ai + 1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "have \"-(n+1) \\<le> -f2*l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (- int (n + 1)) \\<le> - f2 * l", "by linarith"], ["proof (state)\nthis:\n  real_of_int (- int (n + 1)) \\<le> - f2 * l\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ai * (x + f2' * l) + ai + 1\n      \\<le> real n + ai * (y + f2' * l) + ai + 1) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ai * (- f2 * l + f2' * l) + ai + 1", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ai * (x + f2' * l) + ai + 1\n      \\<le> real n + ai * (y + f2' * l) + ai + 1) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ai * (- f2 * l + f2' * l) + ai + 1\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ai * (f2 - f2') * l + ai + 1\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) < f2' * (e * l) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) < f2' * (e * l) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "assume \"\\<not> n+1 < f2'*(e*l)\""], ["proof (state)\nthis:\n  \\<not> real (n + 1) < f2' * (e * l)\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) < f2' * (e * l) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "hence \"?A = n + ai*(-f2'*e + f2')*l + ai+1\""], ["proof (prove)\nusing this:\n  \\<not> real (n + 1) < f2' * (e * l)\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n    real n + ai * (- f2' * e + f2') * l + ai + 1", "using Phi"], ["proof (prove)\nusing this:\n  \\<not> real (n + 1) < f2' * (e * l)\n  \\<Phi> s = ai * (real n - f2' * l)\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n    real n + ai * (- f2' * e + f2') * l + ai + 1", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n  real n + ai * (- f2' * e + f2') * l + ai + 1\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) < f2' * (e * l) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "also"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n  real n + ai * (- f2' * e + f2') * l + ai + 1\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) < f2' * (e * l) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "have \"-f2'*e \\<le> -f2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - f2' * e \\<le> - f2", "using f2_le_f2'e"], ["proof (prove)\nusing this:\n  f2 \\<le> f2' * e\n\ngoal (1 subgoal):\n 1. - f2' * e \\<le> - f2", "by linarith"], ["proof (state)\nthis:\n  - f2' * e \\<le> - f2\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) < f2' * (e * l) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ai * (x + f2') * l + ai + 1\n      \\<le> real n + ai * (y + f2') * l + ai + 1) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ai * (- f2 + f2') * l + ai + 1", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ai * (x + f2') * l + ai + 1\n      \\<le> real n + ai * (y + f2') * l + ai + 1) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ai * (- f2 + f2') * l + ai + 1\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ai * (f2 - f2') * l + ai + 1", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ai * (f2 - f2') * l + ai + 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ai * (f2 - f2') * l + ai + 1\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "also"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ai * (f2 - f2') * l + ai + 1\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"\\<dots> = n - f2*l + ai+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n - ai * (f2 - f2') * l + ai + 1 = real n - f2 * l + ai + 1", "using f2'_less_f2"], ["proof (prove)\nusing this:\n  f2' < f2\n\ngoal (1 subgoal):\n 1. real n - ai * (f2 - f2') * l + ai + 1 = real n - f2 * l + ai + 1", "by(simp add: ai_def)"], ["proof (state)\nthis:\n  real n - ai * (f2 - f2') * l + ai + 1 = real n - f2 * l + ai + 1\n\ngoal (1 subgoal):\n 1. \\<not> real (n + 1) \\<le> f2 * l \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "finally"], ["proof (chain)\npicking this:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s \\<le> real n - f2 * l + ai + 1", "show ?thesis"], ["proof (prove)\nusing this:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s \\<le> real n - f2 * l + ai + 1\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "by simp"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal (1 subgoal):\n 1. f = Del \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f = Del \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "case [simp]: Del"], ["proof (state)\nthis:\n  f = Del\n\ngoal (1 subgoal):\n 1. f = Del \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "show ?thesis (is \"?A \\<le> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "assume \"n=0\""], ["proof (state)\nthis:\n  n = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "with 5"], ["proof (chain)\npicking this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n  n = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n  n = 0\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "by(simp add: mult_le_0_iff field_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "assume [arith]: \"n\\<noteq>0\""], ["proof (state)\nthis:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "assume \"real n - 1 \\<ge> f1*l \\<or> l/c < l0\""], ["proof (state)\nthis:\n  f1 * l \\<le> real n - 1 \\<or> l / c < l0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  f1 * l \\<le> real n - 1 \\<or> l / c < l0\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "using f1'_le_f2'"], ["proof (prove)\nusing this:\n  f1 * l \\<le> real n - 1 \\<or> l / c < l0\n  f1' \\<le> f2'\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "by(auto simp del: \\<Phi>.simps \\<Psi>.simps simp add: Phi_Psi Psi_diff_Del)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "assume \"\\<not> (real n - 1 \\<ge> f1*l \\<or> l/c < l0)\""], ["proof (state)\nthis:\n  \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0)\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence [arith]: \"real n - 1 < f1*l\" \"l/c \\<ge> l0\""], ["proof (prove)\nusing this:\n  \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0)\n\ngoal (1 subgoal):\n 1. real n - 1 < f1 * l &&& l0 \\<le> l / c", "by linarith+"], ["proof (state)\nthis:\n  real n - 1 < f1 * l\n  l0 \\<le> l / c\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence \"l \\<ge> l0*c\" and \"l/c \\<ge> l0\" and \"f1*l \\<le> n\""], ["proof (prove)\nusing this:\n  real n - 1 < f1 * l\n  l0 \\<le> l / c\n\ngoal (1 subgoal):\n 1. l0 * c \\<le> l &&& l0 \\<le> l / c &&& f1 * l \\<le> real n", "using 5"], ["proof (prove)\nusing this:\n  real n - 1 < f1 * l\n  l0 \\<le> l / c\n  invar (case s of (x, y) \\<Rightarrow> (real x, y))\n\ngoal (1 subgoal):\n 1. l0 * c \\<le> l &&& l0 \\<le> l / c &&& f1 * l \\<le> real n", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  l0 * c \\<le> l\n  l0 \\<le> l / c\n  f1 * l \\<le> real n\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"f1*l \\<le> f2'*l/c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1 * l \\<le> f2' * l / c", "using f1f2'c"], ["proof (prove)\nusing this:\n  f1 \\<le> f2' / c\n\ngoal (1 subgoal):\n 1. f1 * l \\<le> f2' * l / c", "by(simp add: field_simps)"], ["proof (state)\nthis:\n  f1 * l \\<le> f2' * l / c\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence f2: \"n-1 < f2'*l/c\""], ["proof (prove)\nusing this:\n  f1 * l \\<le> f2' * l / c\n\ngoal (1 subgoal):\n 1. real (n - 1) < f2' * l / c", "by linarith"], ["proof (state)\nthis:\n  real (n - 1) < f2' * l / c\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"f1'*l \\<le> f2'*l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f1' * l \\<le> f2' * l", "using f1'_le_f2'"], ["proof (prove)\nusing this:\n  f1' \\<le> f2'\n\ngoal (1 subgoal):\n 1. f1' * l \\<le> f2' * l", "by simp"], ["proof (state)\nthis:\n  f1' * l \\<le> f2' * l\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"(f1' - f1)*l \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> (f1' - f1) * l", "using mult_mono[OF order_refl \\<open>l\\<ge>l0*c\\<close>, of \"f1'-f1\"] f1_less_f1' f1'f1"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> f1' - f1; 0 \\<le> l0 * c\\<rbrakk>\n  \\<Longrightarrow> (f1' - f1) * (l0 * c) \\<le> (f1' - f1) * l\n  f1 < f1'\n  1 / ((f1' - f1) * c) \\<le> l0\n\ngoal (1 subgoal):\n 1. 1 \\<le> (f1' - f1) * l", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  1 \\<le> (f1' - f1) * l\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence \"n < f1'*l\""], ["proof (prove)\nusing this:\n  1 \\<le> (f1' - f1) * l\n\ngoal (1 subgoal):\n 1. real n < f1' * l", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  real n < f1' * l\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "hence Phi: \"\\<Phi> s = ad*(f1'*l - n)\""], ["proof (prove)\nusing this:\n  real n < f1' * l\n\ngoal (1 subgoal):\n 1. \\<Phi> s = ad * (f1' * l - real n)", "apply(simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. real n < f1' * l \\<Longrightarrow>\n    f2' * l \\<le> real n \\<longrightarrow>\n    ai * (real n - f2' * l) = ad * (f1' * l - real n)", "using \\<open>f1'*l \\<le> f2'*l\\<close>"], ["proof (prove)\nusing this:\n  f1' * l \\<le> f2' * l\n\ngoal (1 subgoal):\n 1. real n < f1' * l \\<Longrightarrow>\n    f2' * l \\<le> real n \\<longrightarrow>\n    ai * (real n - f2' * l) = ad * (f1' * l - real n)", "by linarith"], ["proof (state)\nthis:\n  \\<Phi> s = ad * (f1' * l - real n)\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"?A \\<le> n - ad*(f1' - f1)*l + ad\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "assume \"n-1 < f1'*l/c \\<and> l/(c*c) \\<ge> l0\""], ["proof (state)\nthis:\n  real (n - 1) < f1' * l / c \\<and> l0 \\<le> l / (c * c)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "hence \"\\<Phi> (nxt f s) = ad*(f1'*l/c - (n-1))\""], ["proof (prove)\nusing this:\n  real (n - 1) < f1' * l / c \\<and> l0 \\<le> l / (c * c)\n\ngoal (1 subgoal):\n 1. \\<Phi> (nxt f s) = ad * (f1' * l / c - real (n - 1))", "using f2"], ["proof (prove)\nusing this:\n  real (n - 1) < f1' * l / c \\<and> l0 \\<le> l / (c * c)\n  real (n - 1) < f2' * l / c\n\ngoal (1 subgoal):\n 1. \\<Phi> (nxt f s) = ad * (f1' * l / c - real (n - 1))", "by(auto)"], ["proof (state)\nthis:\n  \\<Phi> (nxt f s) = ad * (f1' * l / c - real (n - 1))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "hence \"?A = n + ad*(f1'*l/c - (n-1)) - (ad*(f1'*l - n))\""], ["proof (prove)\nusing this:\n  \\<Phi> (nxt f s) = ad * (f1' * l / c - real (n - 1))\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n    real n + ad * (f1' * l / c - real (n - 1)) - ad * (f1' * l - real n)", "using Phi"], ["proof (prove)\nusing this:\n  \\<Phi> (nxt f s) = ad * (f1' * l / c - real (n - 1))\n  \\<Phi> s = ad * (f1' * l - real n)\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n    real n + ad * (f1' * l / c - real (n - 1)) - ad * (f1' * l - real n)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n  real n + ad * (f1' * l / c - real (n - 1)) - ad * (f1' * l - real n)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "also"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s =\n  real n + ad * (f1' * l / c - real (n - 1)) - ad * (f1' * l - real n)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "have \"\\<dots> = n + ad*(f1'/c - f1')*l + ad\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n + ad * (f1' * l / c - real (n - 1)) - ad * (f1' * l - real n) =\n    real n + ad * (f1' / c - f1') * l + ad", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  real n + ad * (f1' * l / c - real (n - 1)) - ad * (f1' * l - real n) =\n  real n + ad * (f1' / c - f1') * l + ad\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "also"], ["proof (state)\nthis:\n  real n + ad * (f1' * l / c - real (n - 1)) - ad * (f1' * l - real n) =\n  real n + ad * (f1' / c - f1') * l + ad\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "note f1'c_le_f1"], ["proof (state)\nthis:\n  f1' / c \\<le> f1\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad\n 2. \\<not> ?P \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ad * (x - f1') * l + ad\n      \\<le> real n + ad * (y - f1') * l + ad) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ad * (f1 - f1') * l + ad", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ad * (x - f1') * l + ad\n      \\<le> real n + ad * (y - f1') * l + ad) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ad * (f1 - f1') * l + ad\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ad * (f1' - f1) * l + ad\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "assume \"\\<not>(n-1 < f1'*l/c \\<and> l/(c*c) \\<ge> l0)\""], ["proof (state)\nthis:\n  \\<not> (real (n - 1) < f1' * l / c \\<and> l0 \\<le> l / (c * c))\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "hence \"\\<Phi> (nxt f s) = 0\""], ["proof (prove)\nusing this:\n  \\<not> (real (n - 1) < f1' * l / c \\<and> l0 \\<le> l / (c * c))\n\ngoal (1 subgoal):\n 1. \\<Phi> (nxt f s) = 0", "using f2"], ["proof (prove)\nusing this:\n  \\<not> (real (n - 1) < f1' * l / c \\<and> l0 \\<le> l / (c * c))\n  real (n - 1) < f2' * l / c\n\ngoal (1 subgoal):\n 1. \\<Phi> (nxt f s) = 0", "by(auto)"], ["proof (state)\nthis:\n  \\<Phi> (nxt f s) = 0\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "hence \"?A = n + ad*(n - f1'*l)\""], ["proof (prove)\nusing this:\n  \\<Phi> (nxt f s) = 0\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s = real n + ad * (real n - f1' * l)", "using Phi"], ["proof (prove)\nusing this:\n  \\<Phi> (nxt f s) = 0\n  \\<Phi> s = ad * (f1' * l - real n)\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s = real n + ad * (real n - f1' * l)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s = real n + ad * (real n - f1' * l)\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "also"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s = real n + ad * (real n - f1' * l)\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "have \"\\<dots> = n + ad*(n-1 - f1'*l) + ad\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n + ad * (real n - f1' * l) =\n    real n + ad * (real (n - 1) - f1' * l) + ad", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  real n + ad * (real n - f1' * l) =\n  real n + ad * (real (n - 1) - f1' * l) + ad\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "also"], ["proof (state)\nthis:\n  real n + ad * (real n - f1' * l) =\n  real n + ad * (real (n - 1) - f1' * l) + ad\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "have \"n-1 \\<le> f1*l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (n - 1) \\<le> f1 * l", "by linarith"], ["proof (state)\nthis:\n  real (n - 1) \\<le> f1 * l\n\ngoal (1 subgoal):\n 1. \\<not> (real (n - 1) < f1' * l / c \\<and>\n            l0 \\<le> l / (c * c)) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ad * (x - f1' * l) + ad\n      \\<le> real n + ad * (y - f1' * l) + ad) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ad * (f1 * l - f1' * l) + ad", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      real n + ad * (x - f1' * l) + ad\n      \\<le> real n + ad * (y - f1' * l) + ad) \\<Longrightarrow>\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n + ad * (f1 * l - f1' * l) + ad\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> real n - ad * (f1' - f1) * l + ad", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ad * (f1' - f1) * l + ad\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ad * (f1' - f1) * l + ad\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "also"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> real n - ad * (f1' - f1) * l + ad\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "have \"\\<dots> = n - f1*l + ad\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n - ad * (f1' - f1) * l + ad = real n - f1 * l + ad", "using f1_less_f1'"], ["proof (prove)\nusing this:\n  f1 < f1'\n\ngoal (1 subgoal):\n 1. real n - ad * (f1' - f1) * l + ad = real n - f1 * l + ad", "by(simp add: ad_def)"], ["proof (state)\nthis:\n  real n - ad * (f1' - f1) * l + ad = real n - f1 * l + ad\n\ngoal (1 subgoal):\n 1. \\<not> (f1 * l \\<le> real n - 1 \\<or> l / c < l0) \\<Longrightarrow>\n    T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "finally"], ["proof (chain)\npicking this:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s \\<le> real n - f1 * l + ad", "show ?thesis"], ["proof (prove)\nusing this:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s \\<le> real n - f1 * l + ad\n\ngoal (1 subgoal):\n 1. T f s + \\<Phi> (nxt f s) - \\<Phi> s\n    \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)", "by simp"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  T f s + \\<Phi> (nxt f s) - \\<Phi> s\n  \\<le> (case f of Ins \\<Rightarrow> ai + 1 | Del \\<Rightarrow> ad + 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale Optimal =\nfixes f2 c e :: real and l0 :: nat\nassumes e1[arith]: \"e > 1\"\nassumes c1[arith]: \"c > 1\"\nassumes [arith]: \"f2 > 0\"\nassumes l0: \"(e*c)/(f2*(min e c - 1)) \\<le> l0\"\nbegin"], ["", "lemma l0e: \"(e*c)/(f2*(e-1)) \\<le> l0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e * c / (f2 * (e - 1)) \\<le> real l0", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. e * c / (f2 * (e - 1)) \\<le> real l0", "have 0: \"f2 * (l0 * min e c) \\<le> e * (f2 * l0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 * (real l0 * min e c) \\<le> e * (f2 * real l0)", "by (simp add: min_def ac_simps mult_right_mono)"], ["proof (state)\nthis:\n  f2 * (real l0 * min e c) \\<le> e * (f2 * real l0)\n\ngoal (1 subgoal):\n 1. e * c / (f2 * (e - 1)) \\<le> real l0", "from l0"], ["proof (chain)\npicking this:\n  e * c / (f2 * (min e c - 1)) \\<le> real l0", "show ?thesis"], ["proof (prove)\nusing this:\n  e * c / (f2 * (min e c - 1)) \\<le> real l0\n\ngoal (1 subgoal):\n 1. e * c / (f2 * (e - 1)) \\<le> real l0", "apply(simp add: field_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> f2 * (real l0 * min e c) \\<Longrightarrow>\n    c * e + f2 * real l0 \\<le> e * (f2 * real l0)", "using 0"], ["proof (prove)\nusing this:\n  f2 * (real l0 * min e c) \\<le> e * (f2 * real l0)\n\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> f2 * (real l0 * min e c) \\<Longrightarrow>\n    c * e + f2 * real l0 \\<le> e * (f2 * real l0)", "by linarith"], ["proof (state)\nthis:\n  e * c / (f2 * (e - 1)) \\<le> real l0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma l0c: \"(e*c)/(f2*(c-1)) \\<le> l0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e * c / (f2 * (c - 1)) \\<le> real l0", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. e * c / (f2 * (c - 1)) \\<le> real l0", "have 0: \"f2 * (l0 * min e c) \\<le> c * (f2 * l0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 * (real l0 * min e c) \\<le> c * (f2 * real l0)", "by (simp add: min_def ac_simps mult_right_mono)"], ["proof (state)\nthis:\n  f2 * (real l0 * min e c) \\<le> c * (f2 * real l0)\n\ngoal (1 subgoal):\n 1. e * c / (f2 * (c - 1)) \\<le> real l0", "from l0"], ["proof (chain)\npicking this:\n  e * c / (f2 * (min e c - 1)) \\<le> real l0", "show ?thesis"], ["proof (prove)\nusing this:\n  e * c / (f2 * (min e c - 1)) \\<le> real l0\n\ngoal (1 subgoal):\n 1. e * c / (f2 * (c - 1)) \\<le> real l0", "apply(simp add: field_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> f2 * (real l0 * min e c) \\<Longrightarrow>\n    c * e + f2 * real l0 \\<le> c * (f2 * real l0)", "using 0"], ["proof (prove)\nusing this:\n  f2 * (real l0 * min e c) \\<le> c * (f2 * real l0)\n\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> f2 * (real l0 * min e c) \\<Longrightarrow>\n    c * e + f2 * real l0 \\<le> c * (f2 * real l0)", "by linarith"], ["proof (state)\nthis:\n  e * c / (f2 * (c - 1)) \\<le> real l0\n\ngoal:\nNo subgoals!", "qed"], ["", "interpretation Table\nwhere f1=\"f2/(e*c)\" and f2=f2 and e=e and c=c and f1'=\"f2/e\" and f2'=\"f2/e\" and l0=l0"], ["proof (prove)\ngoal (1 subgoal):\n 1. Table (f2 / (e * c)) f2 (f2 / e) (f2 / e) e c (real l0)", "proof (standard, goal_cases)"], ["proof (state)\ngoal (11 subgoals):\n 1. 1 < e\n 2. 1 < c\n 3. 0 < f2 / (e * c)\n 4. f2 / (e * c) * c < f2\n 5. f2 / (e * c) < f2 / e\n 6. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 7. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 8. 1 / (f2 * (e - 1)) \\<le> real l0\n 9. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 10. 1 / (f2 - f2 / e) \\<le> real l0\nA total of 11 subgoals...", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (11 subgoals):\n 1. 1 < e\n 2. 1 < c\n 3. 0 < f2 / (e * c)\n 4. f2 / (e * c) * c < f2\n 5. f2 / (e * c) < f2 / e\n 6. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 7. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 8. 1 / (f2 * (e - 1)) \\<le> real l0\n 9. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 10. 1 / (f2 - f2 / e) \\<le> real l0\nA total of 11 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < e", "by(rule e1)"], ["proof (state)\nthis:\n  1 < e\n\ngoal (10 subgoals):\n 1. 1 < c\n 2. 0 < f2 / (e * c)\n 3. f2 / (e * c) * c < f2\n 4. f2 / (e * c) < f2 / e\n 5. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 6. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 7. 1 / (f2 * (e - 1)) \\<le> real l0\n 8. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 9. 1 / (f2 - f2 / e) \\<le> real l0\n 10. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. 1 < c\n 2. 0 < f2 / (e * c)\n 3. f2 / (e * c) * c < f2\n 4. f2 / (e * c) < f2 / e\n 5. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 6. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 7. 1 / (f2 * (e - 1)) \\<le> real l0\n 8. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 9. 1 / (f2 - f2 / e) \\<le> real l0\n 10. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 2"], ["proof (state)\nthis:\n  \n\ngoal (10 subgoals):\n 1. 1 < c\n 2. 0 < f2 / (e * c)\n 3. f2 / (e * c) * c < f2\n 4. f2 / (e * c) < f2 / e\n 5. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 6. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 7. 1 / (f2 * (e - 1)) \\<le> real l0\n 8. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 9. 1 / (f2 - f2 / e) \\<le> real l0\n 10. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < c", "by(rule c1)"], ["proof (state)\nthis:\n  1 < c\n\ngoal (9 subgoals):\n 1. 0 < f2 / (e * c)\n 2. f2 / (e * c) * c < f2\n 3. f2 / (e * c) < f2 / e\n 4. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 5. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 6. 1 / (f2 * (e - 1)) \\<le> real l0\n 7. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 8. 1 / (f2 - f2 / e) \\<le> real l0\n 9. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. 0 < f2 / (e * c)\n 2. f2 / (e * c) * c < f2\n 3. f2 / (e * c) < f2 / e\n 4. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 5. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 6. 1 / (f2 * (e - 1)) \\<le> real l0\n 7. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 8. 1 / (f2 - f2 / e) \\<le> real l0\n 9. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 3"], ["proof (state)\nthis:\n  \n\ngoal (9 subgoals):\n 1. 0 < f2 / (e * c)\n 2. f2 / (e * c) * c < f2\n 3. f2 / (e * c) < f2 / e\n 4. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 5. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 6. 1 / (f2 * (e - 1)) \\<le> real l0\n 7. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 8. 1 / (f2 - f2 / e) \\<le> real l0\n 9. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < f2 / (e * c)", "by(simp)"], ["proof (state)\nthis:\n  0 < f2 / (e * c)\n\ngoal (8 subgoals):\n 1. f2 / (e * c) * c < f2\n 2. f2 / (e * c) < f2 / e\n 3. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 4. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 5. 1 / (f2 * (e - 1)) \\<le> real l0\n 6. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 7. 1 / (f2 - f2 / e) \\<le> real l0\n 8. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. f2 / (e * c) * c < f2\n 2. f2 / (e * c) < f2 / e\n 3. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 4. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 5. 1 / (f2 * (e - 1)) \\<le> real l0\n 6. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 7. 1 / (f2 - f2 / e) \\<le> real l0\n 8. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 4"], ["proof (state)\nthis:\n  \n\ngoal (8 subgoals):\n 1. f2 / (e * c) * c < f2\n 2. f2 / (e * c) < f2 / e\n 3. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 4. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 5. 1 / (f2 * (e - 1)) \\<le> real l0\n 6. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 7. 1 / (f2 - f2 / e) \\<le> real l0\n 8. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 / (e * c) * c < f2", "by(simp add: field_simps)"], ["proof (state)\nthis:\n  f2 / (e * c) * c < f2\n\ngoal (7 subgoals):\n 1. f2 / (e * c) < f2 / e\n 2. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 3. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 4. 1 / (f2 * (e - 1)) \\<le> real l0\n 5. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 6. 1 / (f2 - f2 / e) \\<le> real l0\n 7. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. f2 / (e * c) < f2 / e\n 2. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 3. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 4. 1 / (f2 * (e - 1)) \\<le> real l0\n 5. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 6. 1 / (f2 - f2 / e) \\<le> real l0\n 7. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 5"], ["proof (state)\nthis:\n  \n\ngoal (7 subgoals):\n 1. f2 / (e * c) < f2 / e\n 2. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 3. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 4. 1 / (f2 * (e - 1)) \\<le> real l0\n 5. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 6. 1 / (f2 - f2 / e) \\<le> real l0\n 7. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 / (e * c) < f2 / e", "by(simp add: field_simps)"], ["proof (state)\nthis:\n  f2 / (e * c) < f2 / e\n\ngoal (6 subgoals):\n 1. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 2. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 3. 1 / (f2 * (e - 1)) \\<le> real l0\n 4. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 5. 1 / (f2 - f2 / e) \\<le> real l0\n 6. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 2. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 3. 1 / (f2 * (e - 1)) \\<le> real l0\n 4. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 5. 1 / (f2 - f2 / e) \\<le> real l0\n 6. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 6"], ["proof (state)\nthis:\n  \n\ngoal (6 subgoals):\n 1. f2 / e = min (f2 / (e * c) * c) (f2 / e)\n 2. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 3. 1 / (f2 * (e - 1)) \\<le> real l0\n 4. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 5. 1 / (f2 - f2 / e) \\<le> real l0\n 6. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 / e = min (f2 / (e * c) * c) (f2 / e)", "by(simp)"], ["proof (state)\nthis:\n  f2 / e = min (f2 / (e * c) * c) (f2 / e)\n\ngoal (5 subgoals):\n 1. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 2. 1 / (f2 * (e - 1)) \\<le> real l0\n 3. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 4. 1 / (f2 - f2 / e) \\<le> real l0\n 5. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 2. 1 / (f2 * (e - 1)) \\<le> real l0\n 3. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 4. 1 / (f2 - f2 / e) \\<le> real l0\n 5. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 7"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. f2 / e = max (f2 / (e * c) * c) (f2 / e)\n 2. 1 / (f2 * (e - 1)) \\<le> real l0\n 3. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 4. 1 / (f2 - f2 / e) \\<le> real l0\n 5. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 / e = max (f2 / (e * c) * c) (f2 / e)", "by(simp)"], ["proof (state)\nthis:\n  f2 / e = max (f2 / (e * c) * c) (f2 / e)\n\ngoal (4 subgoals):\n 1. 1 / (f2 * (e - 1)) \\<le> real l0\n 2. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 3. 1 / (f2 - f2 / e) \\<le> real l0\n 4. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. 1 / (f2 * (e - 1)) \\<le> real l0\n 2. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 3. 1 / (f2 - f2 / e) \\<le> real l0\n 4. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 8"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. 1 / (f2 * (e - 1)) \\<le> real l0\n 2. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 3. 1 / (f2 - f2 / e) \\<le> real l0\n 4. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (f2 * (e - 1)) \\<le> real l0", "using l0e less_1_mult[OF c1 e1]"], ["proof (prove)\nusing this:\n  e * c / (f2 * (e - 1)) \\<le> real l0\n  1 < c * e\n\ngoal (1 subgoal):\n 1. 1 / (f2 * (e - 1)) \\<le> real l0", "by(simp add: field_simps)"], ["proof (state)\nthis:\n  1 / (f2 * (e - 1)) \\<le> real l0\n\ngoal (3 subgoals):\n 1. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 2. 1 / (f2 - f2 / e) \\<le> real l0\n 3. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 2. 1 / (f2 - f2 / e) \\<le> real l0\n 3. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 9"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n 2. 1 / (f2 - f2 / e) \\<le> real l0\n 3. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0", "using l0c"], ["proof (prove)\nusing this:\n  e * c / (f2 * (c - 1)) \\<le> real l0\n\ngoal (1 subgoal):\n 1. 1 / (f2 / (e * c) * (c - 1)) \\<le> real l0", "by(simp)"], ["proof (state)\nthis:\n  1 / (f2 / (e * c) * (c - 1)) \\<le> real l0\n\ngoal (2 subgoals):\n 1. 1 / (f2 - f2 / e) \\<le> real l0\n 2. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. 1 / (f2 - f2 / e) \\<le> real l0\n 2. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 10"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. 1 / (f2 - f2 / e) \\<le> real l0\n 2. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (f2 - f2 / e) \\<le> real l0", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / (f2 - f2 / e) \\<le> real l0", "have 1: \"c*e>e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e < c * e", "by (simp)"], ["proof (state)\nthis:\n  e < c * e\n\ngoal (1 subgoal):\n 1. 1 / (f2 - f2 / e) \\<le> real l0", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (f2 - f2 / e) \\<le> real l0", "using l0e"], ["proof (prove)\nusing this:\n  e * c / (f2 * (e - 1)) \\<le> real l0\n\ngoal (1 subgoal):\n 1. 1 / (f2 - f2 / e) \\<le> real l0", "apply(simp add: field_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> e * (f2 * real l0) \\<Longrightarrow>\n    e + f2 * real l0 \\<le> e * (f2 * real l0)", "using 1"], ["proof (prove)\nusing this:\n  e < c * e\n\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> e * (f2 * real l0) \\<Longrightarrow>\n    e + f2 * real l0 \\<le> e * (f2 * real l0)", "by linarith"], ["proof (state)\nthis:\n  1 / (f2 - f2 / e) \\<le> real l0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / (f2 - f2 / e) \\<le> real l0\n\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "case 11"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "have 1: \"c*e>e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e < c * e", "by (simp)"], ["proof (state)\nthis:\n  e < c * e\n\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "using l0c"], ["proof (prove)\nusing this:\n  e * c / (f2 * (c - 1)) \\<le> real l0\n\ngoal (1 subgoal):\n 1. 1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0", "apply(simp add: algebra_simps pos_le_divide_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c * e / (c * f2 - f2) \\<le> real l0 \\<Longrightarrow>\n    1 / (c * f2 / e - f2 / e) \\<le> real l0", "apply(simp add: field_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> c * (f2 * real l0) \\<Longrightarrow>\n    e + f2 * real l0 \\<le> c * (f2 * real l0)", "using 1"], ["proof (prove)\nusing this:\n  e < c * e\n\ngoal (1 subgoal):\n 1. c * e + f2 * real l0 \\<le> c * (f2 * real l0) \\<Longrightarrow>\n    e + f2 * real l0 \\<le> c * (f2 * real l0)", "by linarith"], ["proof (state)\nthis:\n  1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / ((f2 / e - f2 / (e * c)) * c) \\<le> real l0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \"ai = e/(e-1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ai = e / (e - 1)", "unfolding ai_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 / (f2 - f2 / e) = e / (e - 1)", "by(simp add: field_simps)"], ["", "lemma \"ad = 1/(c-1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ad = 1 / (c - 1)", "unfolding ad_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f2 / (e * c) / (f2 / e - f2 / (e * c)) = 1 / (c - 1)", "by(simp add: field_simps)"], ["", "end"], ["", "interpretation I1: Optimal where e=2 and c=2 and f2=1 and l0=4"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 2 2 4", "(* f1=1/4 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 2 2 4", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 < 2\n 2. 0 < 1\n 3. 2 * 2 / (1 * (min 2 2 - 1)) \\<le> real 4", "qed simp_all"], ["", "interpretation I2: Optimal where e=2 and c=2 and f2=\"3/4\" and l0=6"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal (3 / 4) 2 2 6", "(* f1=3/16 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal (3 / 4) 2 2 6", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 < 2\n 2. 0 < 3 / 4\n 3. 2 * 2 / (3 / 4 * (min 2 2 - 1)) \\<le> real 6", "qed simp_all"], ["", "interpretation I3: Optimal where e=2 and c=2 and f2=\"0.8\" and l0=5"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal (8 / 10) 2 2 5", "(* f1=1/5 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal (8 / 10) 2 2 5", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 < 2\n 2. 0 < 8 / 10\n 3. 2 * 2 / (8 / 10 * (min 2 2 - 1)) \\<le> real 5", "qed simp_all"], ["", "interpretation I4: Optimal where e=3 and c=3 and f2=\"0.9\" and l0=5"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal (9 / 10) 3 3 5", "(* f1=1/10 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal (9 / 10) 3 3 5", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 < 3\n 2. 0 < 9 / 10\n 3. 3 * 3 / (9 / 10 * (min 3 3 - 1)) \\<le> real 5", "qed simp_all"], ["", "interpretation I5: Optimal where e=4 and c=4 and f2=1 and l0=6"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 4 4 6", "(* f1=1/16 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 4 4 6", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 < 4\n 2. 0 < 1\n 3. 4 * 4 / (1 * (min 4 4 - 1)) \\<le> real 6", "qed simp_all"], ["", "interpretation I6: Optimal where e=\"2.5\" and c=\"2.5\" and f2=1 and l0=5"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 (25 / 10) (25 / 10) 5", "(* f1=4/25 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 (25 / 10) (25 / 10) 5", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. 1 < 25 / 10\n 2. 0 < 1\n 3. 25 / 10 * (25 / 10) / (1 * (min (25 / 10) (25 / 10) - 1)) \\<le> real 5", "qed simp_all"], ["", "interpretation I7: Optimal where f2=1 and c=\"3/2\" and e=2 and l0=6"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 (3 / 2) 2 6", "(* f1=1/3 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 (3 / 2) 2 6", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. 1 < 2\n 2. 1 < 3 / 2\n 3. 0 < 1\n 4. 2 * (3 / 2) / (1 * (min 2 (3 / 2) - 1)) \\<le> real 6", "qed (simp_all add: min_def)"], ["", "interpretation I8: Optimal where f2=1 and e=\"3/2\" and c=2 and l0=6"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 2 (3 / 2) 6", "(* f1=1/3 *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Optimal 1 2 (3 / 2) 6", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. 1 < 3 / 2\n 2. 1 < 2\n 3. 0 < 1\n 4. 3 / 2 * 2 / (1 * (min (3 / 2) 2 - 1)) \\<le> real 6", "qed (simp_all add: min_def)"], ["", "end"]]}