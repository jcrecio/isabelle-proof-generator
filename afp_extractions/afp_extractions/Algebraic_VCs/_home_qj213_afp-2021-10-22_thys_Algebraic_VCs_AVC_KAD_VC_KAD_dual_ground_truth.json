{"file_name": "/home/qj213/afp-2021-10-22/thys/Algebraic_VCs/AVC_KAD/VC_KAD_dual.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Algebraic_VCs", "problem_names": ["lemma r_ad [simp]: \"r (ad p) = ad p\"", "lemma bdia_export1: \"\\<langle>x| (r p \\<cdot> r t) = \\<langle>r t \\<cdot> x| p\"", "lemma bdia_export2: \"r p \\<cdot> \\<langle>x| q = \\<langle>x \\<cdot> r p| q\"", "lemma bdia_seq [simp]: \"\\<langle>x \\<cdot> y| q = \\<langle>y| \\<langle>x| q\"", "lemma bdia_seq_var: \"\\<langle>x| p \\<le> p' \\<Longrightarrow> \\<langle>y| p' \\<le> q \\<Longrightarrow> \\<langle>x \\<cdot> y| p \\<le> q\"", "lemma bdia_cond_var [simp]: \"\\<langle>if p then x else y fi| q = \\<langle>x| (d p \\<cdot> r q) + \\<langle>y| (ad p \\<cdot> r q)\"", "lemma bdia_while: \"\\<langle>x| (d t \\<cdot> r p) \\<le> r p  \\<Longrightarrow> \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t\"", "lemma bdia_whilei: \"r p \\<le> r i \\<Longrightarrow> r i \\<cdot> ad t \\<le> r q \\<Longrightarrow> \\<langle>x| (d t \\<cdot> r i) \\<le> r i \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q\"", "lemma bdia_whilei_break: \"\\<langle>y| p \\<le> r i \\<Longrightarrow> r i \\<cdot> ad t \\<le> r q \\<Longrightarrow> \\<langle>x| (d t \\<cdot> r i) \\<le> r i \\<Longrightarrow> \\<langle>y \\<cdot> (while t inv i do x od)| p \\<le> r q\"", "lemma bdia_assign [simp]: \"rel_antirange_kleene_algebra.bdia (v ::= e) \\<lceil>P\\<rceil> = \\<lceil>\\<lambda>s. \\<exists>w. s v = e (s(v := w)) \\<and> P (s(v:=w))\\<rceil>\"", "lemma d_p2r [simp]: \"rel_antirange_kleene_algebra.ars_r  \\<lceil>P\\<rceil> = \\<lceil>P\\<rceil>\""], "translations": [["", "lemma r_ad [simp]: \"r (ad p) = ad p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r (ad p) = ad p", "using a_closure addual.ars_r_def am_d_def domrangefix"], ["proof (prove)\nusing this:\n  am_d (ad ?x) = ad ?x\n  d ?x = ad (ad ?x)\n  am_d ?x = ad (ad ?x)\n  (d ?x = ?x) = (r ?x = ?x)\n\ngoal (1 subgoal):\n 1. r (ad p) = ad p", "by auto"], ["", "lemma bdia_export1: \"\\<langle>x| (r p \\<cdot> r t) = \\<langle>r t \\<cdot> x| p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>x| (r p \\<cdot> r t) = \\<langle>r t \\<cdot> x| p", "by (metis ardual.ads_d_def ardual.ds.ddual.rsr2 ardual.ds.fdia_mult bdia_def)"], ["", "lemma bdia_export2: \"r p \\<cdot> \\<langle>x| q = \\<langle>x \\<cdot> r p| q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r p \\<cdot> \\<langle>x| q = \\<langle>x \\<cdot> r p| q", "using ardual.ads_d_def ardual.am2 ardual.fdia_export_2 bdia_def"], ["proof (prove)\nusing this:\n  r ?x = ar ar ?x\n  ar ?y \\<cdot> ar ?x = ar ?x \\<cdot> ar ?y\n  \\<langle>?x| ?z \\<cdot> ar ?y = \\<langle>?x \\<cdot> ar ?y| ?z\n  \\<langle>?x| ?y = ar ar (?y \\<cdot> ?x)\n\ngoal (1 subgoal):\n 1. r p \\<cdot> \\<langle>x| q = \\<langle>x \\<cdot> r p| q", "by auto"], ["", "lemma bdia_seq [simp]: \"\\<langle>x \\<cdot> y| q = \\<langle>y| \\<langle>x| q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>x \\<cdot> y| q = \\<langle>y| \\<langle>x| q", "by (simp add: ardual.ds.fdia_mult)"], ["", "lemma bdia_seq_var: \"\\<langle>x| p \\<le> p' \\<Longrightarrow> \\<langle>y| p' \\<le> q \\<Longrightarrow> \\<langle>x \\<cdot> y| p \\<le> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<langle>x| p \\<le> p'; \\<langle>y| p' \\<le> q\\<rbrakk>\n    \\<Longrightarrow> \\<langle>x \\<cdot> y| p \\<le> q", "by (metis ardual.ds.fd_subdist_1 ardual.ds.fdia_mult dual_order.trans join.sup_absorb2)"], ["", "lemma bdia_cond_var [simp]: \"\\<langle>if p then x else y fi| q = \\<langle>x| (d p \\<cdot> r q) + \\<langle>y| (ad p \\<cdot> r q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>if p then x else y fi| q =\n    \\<langle>x| (d p \\<cdot> r q) + \\<langle>y| (ad p \\<cdot> r q)", "by (metis (no_types, lifting) bdia_export1 a4' a_de_morgan a_de_morgan_var_3 a_subid_aux1' ardual.ds.fdia_add2 dka.dnso1 dka.dsg4 domrange dpdz.dnso1 cond_def join.sup.absorb_iff1 rangedom)"], ["", "lemma bdia_while: \"\\<langle>x| (d t \\<cdot> r p) \\<le> r p  \\<Longrightarrow> \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>x| (d t \\<cdot> r p) \\<le> r p \\<Longrightarrow>\n    \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<langle>x| (d t \\<cdot> r p) \\<le> r p \\<Longrightarrow>\n    \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t", "assume \"\\<langle>x| (d t \\<cdot> r p) \\<le> r p\""], ["proof (state)\nthis:\n  \\<langle>x| (d t \\<cdot> r p) \\<le> r p\n\ngoal (1 subgoal):\n 1. \\<langle>x| (d t \\<cdot> r p) \\<le> r p \\<Longrightarrow>\n    \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t", "hence \"\\<langle>d t \\<cdot> x| p \\<le> r p\""], ["proof (prove)\nusing this:\n  \\<langle>x| (d t \\<cdot> r p) \\<le> r p\n\ngoal (1 subgoal):\n 1. \\<langle>d t \\<cdot> x| p \\<le> r p", "by (metis bdia_export1 dka.dsg4 domrange rangedom)"], ["proof (state)\nthis:\n  \\<langle>d t \\<cdot> x| p \\<le> r p\n\ngoal (1 subgoal):\n 1. \\<langle>x| (d t \\<cdot> r p) \\<le> r p \\<Longrightarrow>\n    \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t", "hence \"\\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p \\<le> r p\""], ["proof (prove)\nusing this:\n  \\<langle>d t \\<cdot> x| p \\<le> r p\n\ngoal (1 subgoal):\n 1. \\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p \\<le> r p", "by (meson ardual.fdemodalisation22 ardual.kat_2_equiv_opp star_sim1)"], ["proof (state)\nthis:\n  \\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p \\<le> r p\n\ngoal (1 subgoal):\n 1. \\<langle>x| (d t \\<cdot> r p) \\<le> r p \\<Longrightarrow>\n    \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t", "hence \"r (ad t) \\<cdot> \\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p \\<le> r p \\<cdot> ad t\""], ["proof (prove)\nusing this:\n  \\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p \\<le> r p\n\ngoal (1 subgoal):\n 1. r (ad t) \\<cdot> \\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p\n    \\<le> r p \\<cdot> ad t", "by (metis ardual.dpdz.dsg4 ars_r_def mult_isol r_ad)"], ["proof (state)\nthis:\n  r (ad t) \\<cdot> \\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p\n  \\<le> r p \\<cdot> ad t\n\ngoal (1 subgoal):\n 1. \\<langle>x| (d t \\<cdot> r p) \\<le> r p \\<Longrightarrow>\n    \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t", "thus ?thesis"], ["proof (prove)\nusing this:\n  r (ad t) \\<cdot> \\<langle>(d t \\<cdot> x)\\<^sup>\\<star>| p\n  \\<le> r p \\<cdot> ad t\n\ngoal (1 subgoal):\n 1. \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t", "by (metis bdia_export2 while_def r_ad)"], ["proof (state)\nthis:\n  \\<langle>while t do x od| p \\<le> r p \\<cdot> ad t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bdia_whilei: \"r p \\<le> r i \\<Longrightarrow> r i \\<cdot> ad t \\<le> r q \\<Longrightarrow> \\<langle>x| (d t \\<cdot> r i) \\<le> r i \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>r p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>r p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q", "assume a1: \"r p \\<le> r i\" and a2: \"r i \\<cdot> ad t \\<le> r q\" and \"\\<langle>x| (d t \\<cdot> r i) \\<le> r i\""], ["proof (state)\nthis:\n  r p \\<le> r i\n  r i \\<cdot> ad t \\<le> r q\n  \\<langle>x| (d t \\<cdot> r i) \\<le> r i\n\ngoal (1 subgoal):\n 1. \\<lbrakk>r p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q", "hence \"\\<langle>while t inv i do x od| i \\<le> r i \\<cdot> ad t\""], ["proof (prove)\nusing this:\n  r p \\<le> r i\n  r i \\<cdot> ad t \\<le> r q\n  \\<langle>x| (d t \\<cdot> r i) \\<le> r i\n\ngoal (1 subgoal):\n 1. \\<langle>while t inv i do x od| i \\<le> r i \\<cdot> ad t", "by (simp add: bdia_while whilei_def)"], ["proof (state)\nthis:\n  \\<langle>while t inv i do x od| i \\<le> r i \\<cdot> ad t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>r p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q", "hence \"\\<langle>while t inv i do x od| i \\<le> r q\""], ["proof (prove)\nusing this:\n  \\<langle>while t inv i do x od| i \\<le> r i \\<cdot> ad t\n\ngoal (1 subgoal):\n 1. \\<langle>while t inv i do x od| i \\<le> r q", "using a2 dual_order.trans"], ["proof (prove)\nusing this:\n  \\<langle>while t inv i do x od| i \\<le> r i \\<cdot> ad t\n  r i \\<cdot> ad t \\<le> r q\n  \\<lbrakk>?b \\<le> ?a; ?c \\<le> ?b\\<rbrakk> \\<Longrightarrow> ?c \\<le> ?a\n\ngoal (1 subgoal):\n 1. \\<langle>while t inv i do x od| i \\<le> r q", "by blast"], ["proof (state)\nthis:\n  \\<langle>while t inv i do x od| i \\<le> r q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>r p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q", "hence \"r i \\<le> |while t inv i do x od] r q\""], ["proof (prove)\nusing this:\n  \\<langle>while t inv i do x od| i \\<le> r q\n\ngoal (1 subgoal):\n 1. r i \\<le>  |while t inv i do x od] r q", "using ars_r_def box_diamond_galois_1 domrange"], ["proof (prove)\nusing this:\n  \\<langle>while t inv i do x od| i \\<le> r q\n  r ?x = ar ar ?x\n  \\<lbrakk>d ?p = ?p; d ?q = ?q\\<rbrakk>\n  \\<Longrightarrow> (\\<langle>?x| ?p \\<le> ?q) = (?p \\<le>  |?x] ?q)\n  d (r ?x) = r ?x\n\ngoal (1 subgoal):\n 1. r i \\<le>  |while t inv i do x od] r q", "by fastforce"], ["proof (state)\nthis:\n  r i \\<le>  |while t inv i do x od] r q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>r p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q", "hence \"r p \\<le> |while t inv i do x od] r q\""], ["proof (prove)\nusing this:\n  r i \\<le>  |while t inv i do x od] r q\n\ngoal (1 subgoal):\n 1. r p \\<le>  |while t inv i do x od] r q", "using a1 dual_order.trans"], ["proof (prove)\nusing this:\n  r i \\<le>  |while t inv i do x od] r q\n  r p \\<le> r i\n  \\<lbrakk>?b \\<le> ?a; ?c \\<le> ?b\\<rbrakk> \\<Longrightarrow> ?c \\<le> ?a\n\ngoal (1 subgoal):\n 1. r p \\<le>  |while t inv i do x od] r q", "by blast"], ["proof (state)\nthis:\n  r p \\<le>  |while t inv i do x od] r q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>r p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>while t inv i do x od| p \\<le> r q", "thus ?thesis"], ["proof (prove)\nusing this:\n  r p \\<le>  |while t inv i do x od] r q\n\ngoal (1 subgoal):\n 1. \\<langle>while t inv i do x od| p \\<le> r q", "using ars_r_def box_diamond_galois_1 domrange"], ["proof (prove)\nusing this:\n  r p \\<le>  |while t inv i do x od] r q\n  r ?x = ar ar ?x\n  \\<lbrakk>d ?p = ?p; d ?q = ?q\\<rbrakk>\n  \\<Longrightarrow> (\\<langle>?x| ?p \\<le> ?q) = (?p \\<le>  |?x] ?q)\n  d (r ?x) = r ?x\n\ngoal (1 subgoal):\n 1. \\<langle>while t inv i do x od| p \\<le> r q", "by fastforce"], ["proof (state)\nthis:\n  \\<langle>while t inv i do x od| p \\<le> r q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bdia_whilei_break: \"\\<langle>y| p \\<le> r i \\<Longrightarrow> r i \\<cdot> ad t \\<le> r q \\<Longrightarrow> \\<langle>x| (d t \\<cdot> r i) \\<le> r i \\<Longrightarrow> \\<langle>y \\<cdot> (while t inv i do x od)| p \\<le> r q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<langle>y| p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>y \\<cdot> (while t inv i do x od)| p\n                      \\<le> r q", "using bdia_whilei ardual.ads_d_def ardual.ds.fdia_mult bdia_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>r ?p \\<le> r ?i; r ?i \\<cdot> ad ?t \\<le> r ?q;\n   \\<langle>?x| (d ?t \\<cdot> r ?i) \\<le> r ?i\\<rbrakk>\n  \\<Longrightarrow> \\<langle>while ?t inv ?i do ?x od| ?p \\<le> r ?q\n  r ?x = ar ar ?x\n  \\<langle>?y \\<cdot> ?x| ?z = \\<langle>?x| \\<langle>?y| ?z\n  \\<langle>?x| ?y = ar ar (?y \\<cdot> ?x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<langle>y| p \\<le> r i; r i \\<cdot> ad t \\<le> r q;\n     \\<langle>x| (d t \\<cdot> r i) \\<le> r i\\<rbrakk>\n    \\<Longrightarrow> \\<langle>y \\<cdot> (while t inv i do x od)| p\n                      \\<le> r q", "by auto"], ["", "end"], ["", "subsubsection \\<open>Floyd's Assignment Rule\\<close>"], ["", "lemma bdia_assign [simp]: \"rel_antirange_kleene_algebra.bdia (v ::= e) \\<lceil>P\\<rceil> = \\<lceil>\\<lambda>s. \\<exists>w. s v = e (s(v := w)) \\<and> P (s(v:=w))\\<rceil>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_antirange_kleene_algebra.bdia (v ::= e) \\<lceil>P\\<rceil> =\n    \\<lceil>\\<lambda>s.\n               \\<exists>w. s v = e (s(v := w)) \\<and> P (s(v := w))\\<rceil>", "apply (simp add: rel_antirange_kleene_algebra.bdia_def gets_def p2r_def rel_ar_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. {(y, y) |y.\n     \\<exists>x.\n        (x, y)\n        \\<in> {(s, s) |s. P s} ;\n              {uu_. \\<exists>s. uu_ = (s, s(v := e s))}} =\n    {(s, s) |s. \\<exists>w. s v = e (s(v := w)) \\<and> P (s(v := w))}", "apply safe"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a b y x xa ya z s sa.\n       P s \\<Longrightarrow>\n       \\<exists>sa.\n          (s(v := e s), s(v := e s)) = (sa, sa) \\<and>\n          (\\<exists>w. sa v = e (sa(v := w)) \\<and> P (sa(v := w)))\n 2. \\<And>a b s w.\n       \\<lbrakk>s v = e (s(v := w)); P (s(v := w))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            (s, s) = (y, y) \\<and>\n                            (\\<exists>x.\n                                (x, y)\n                                \\<in> {(s, s) |s. P s} ;\n{uu_. \\<exists>s. uu_ = (s, s(v := e s))})", "by (metis fun_upd_apply fun_upd_triv fun_upd_upd, fastforce)"], ["", "lemma d_p2r [simp]: \"rel_antirange_kleene_algebra.ars_r  \\<lceil>P\\<rceil> = \\<lceil>P\\<rceil>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rel_antirange_kleene_algebra.ars_r \\<lceil>P\\<rceil> = \\<lceil>P\\<rceil>", "by (simp add: p2r_def rel_antirange_kleene_algebra.ars_r_def rel_ar_def)"], ["", "abbreviation fspec_sugar :: \"'a pred \\<Rightarrow> 'a rel \\<Rightarrow> 'a pred \\<Rightarrow> bool\" (\"FPRE _ _ POST _\" [64,64,64] 63) where\n  \"FPRE P X POST Q \\<equiv> rel_antirange_kleene_algebra.bdia X \\<lceil>P\\<rceil> \\<subseteq> rel_antirange_kleene_algebra.ars_r \\<lceil>Q\\<rceil>\""], ["", "end"]]}