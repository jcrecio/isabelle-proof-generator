{"file_name": "/home/qj213/afp-2021-10-22/thys/Tarskis_Geometry/Linear_Algebra2.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Tarskis_Geometry", "problem_names": ["lemma exhaust_4:\n  fixes x :: 4\n  shows \"x = 1 \\<or> x = 2 \\<or> x = 3 \\<or> x = 4\"", "lemma forall_4: \"(\\<forall> i::4. P i) \\<longleftrightarrow> P 1 \\<and> P 2 \\<and> P 3 \\<and> P 4\"", "lemma UNIV_4: \"(UNIV::(4 set)) = {1, 2, 3, 4}\"", "lemma vector_4:\n  fixes w :: \"'a::zero\"\n  shows \"(vector [w, x, y, z] :: 'a^4)$1 = w\"\n  and  \"(vector [w, x, y, z] :: 'a^4)$2 = x\"\n  and  \"(vector [w, x, y, z] :: 'a^4)$3 = y\"\n  and  \"(vector [w, x, y, z] :: 'a^4)$4 = z\"", "lemma card_finite:\n  assumes \"card S = CARD('n::finite)\"\n  shows \"finite S\"", "lemma independent_is_basis:\n  fixes B :: \"(real^'n) set\"\n  shows \"independent B \\<and> card B = CARD('n) \\<longleftrightarrow> is_basis B\"", "lemma basis_finite:\n  fixes B :: \"(real^'n) set\"\n  assumes \"is_basis B\"\n  shows \"finite B\"", "lemma basis_expand:\n  assumes \"is_basis B\"\n  shows \"\\<exists>c. v = (\\<Sum>w\\<in>B. (c w) *\\<^sub>R w)\"", "lemma not_span_independent_insert:\n  fixes v :: \"('a::real_vector)^'n\"\n  assumes \"independent S\" and \"v \\<notin> span S\"\n  shows \"independent (insert v S)\"", "lemma orthogonal_sum:\n  fixes v :: \"real^'n\"\n  assumes \"\\<And>w. w\\<in>S \\<Longrightarrow> orthogonal v w\"\n  shows \"orthogonal v (\\<Sum>w\\<in>S. c w *s w)\"", "lemma orthogonal_self_eq_0:\n  fixes v :: \"('a::real_inner)^'n\"\n  assumes \"orthogonal v v\"\n  shows \"v = 0\"", "lemma orthogonal_in_span_eq_0:\n  fixes v :: \"real^'n\"\n  assumes \"v \\<in> span S\" and \"\\<And>w. w\\<in>S \\<Longrightarrow> orthogonal v w\"\n  shows \"v = 0\"", "lemma orthogonal_independent:\n  fixes v :: \"real^'n\"\n  assumes \"independent S\" and \"v \\<noteq> 0\" and \"\\<And>w. w\\<in>S \\<Longrightarrow> orthogonal v w\"\n  shows \"independent (insert v S)\"", "lemma dot_scaleR_mult:\n  shows \"(k *\\<^sub>R a) \\<bullet> b = k * (a \\<bullet> b)\" and \"a \\<bullet> (k *\\<^sub>R b) = k * (a \\<bullet> b)\"", "lemma dependent_explicit_finite:\n  fixes S :: \"(('a::{real_vector,field})^'n) set\"\n  assumes \"finite S\"\n  shows \"dependent S \\<longleftrightarrow> (\\<exists> u. (\\<exists> v\\<in>S. u v \\<noteq> 0) \\<and> (\\<Sum> v\\<in>S. u v *\\<^sub>R v) = 0)\"", "lemma dependent_explicit_2:\n  fixes v w :: \"('a::{field,real_vector})^'n\"\n  assumes \"v \\<noteq> w\"\n  shows \"dependent {v, w} \\<longleftrightarrow> (\\<exists> i j. (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and> i *\\<^sub>R v + j *\\<^sub>R w = 0)\"", "lemma zero_not_invertible:\n  \"\\<not> (invertible (0::real^'n^'n))\"", "lemma vector_matrix_row:\n  fixes x :: \"('a::comm_semiring_1)^'m\" and A :: \"('a^'n^'m)\"\n  shows \"x v* A = (\\<Sum> i\\<in>UNIV. (x$i) *s (A$i))\"", "lemma matrix_inv:\n  assumes \"invertible M\"\n  shows \"matrix_inv M ** M = mat 1\"\n  and \"M ** matrix_inv M = mat 1\"", "lemma matrix_inv_invertible:\n  assumes \"invertible M\"\n  shows \"invertible (matrix_inv M)\"", "lemma invertible_times_non_zero:\n  fixes M :: \"real^'n^'n\"\n  assumes \"invertible M\" and \"v \\<noteq> 0\"\n  shows \"M *v v \\<noteq> 0\"", "lemma matrix_right_invertible_ker:\n  fixes M :: \"real^('m::finite)^'n\"\n  shows \"(\\<exists> M'. M ** M' = mat 1) \\<longleftrightarrow> (\\<forall> x. x v* M = 0 \\<longrightarrow> x = 0)\"", "lemma left_invertible_iff_invertible:\n  fixes M :: \"real^'n^'n\"\n  shows \"(\\<exists> N. N ** M = mat 1) \\<longleftrightarrow> invertible M\"", "lemma right_invertible_iff_invertible:\n  fixes M :: \"real^'n^'n\"\n  shows \"(\\<exists> N. M ** N = mat 1) \\<longleftrightarrow> invertible M\"", "lemma symmatrix_preserve:\n  fixes M N :: \"('a::comm_semiring_1)^'n^'n\"\n  assumes \"symmatrix M\"\n  shows \"symmatrix (N ** M ** transpose N)\"", "lemma non_zero_mult_invertible_non_zero:\n  fixes M :: \"real^'n^'n\"\n  assumes \"v \\<noteq> 0\" and \"invertible M\"\n  shows \"v v* M \\<noteq> 0\""], "translations": [["", "lemma exhaust_4:\n  fixes x :: 4\n  shows \"x = 1 \\<or> x = 2 \\<or> x = 3 \\<or> x = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = 1 \\<or> x = 2 \\<or> x = 3 \\<or> x = 4", "proof (induct x)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>0 \\<le> z; z < int CARD(4)\\<rbrakk>\n       \\<Longrightarrow> of_int z = 1 \\<or>\n                         of_int z = 2 \\<or> of_int z = 3 \\<or> of_int z = 4", "case (of_int z)"], ["proof (state)\nthis:\n  0 \\<le> z\n  z < int CARD(4)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>0 \\<le> z; z < int CARD(4)\\<rbrakk>\n       \\<Longrightarrow> of_int z = 1 \\<or>\n                         of_int z = 2 \\<or> of_int z = 3 \\<or> of_int z = 4", "hence \"0 \\<le> z\" and \"z < 4\""], ["proof (prove)\nusing this:\n  0 \\<le> z\n  z < int CARD(4)\n\ngoal (1 subgoal):\n 1. 0 \\<le> z &&& z < 4", "by simp_all"], ["proof (state)\nthis:\n  0 \\<le> z\n  z < 4\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>0 \\<le> z; z < int CARD(4)\\<rbrakk>\n       \\<Longrightarrow> of_int z = 1 \\<or>\n                         of_int z = 2 \\<or> of_int z = 3 \\<or> of_int z = 4", "hence \"z = 0 \\<or> z = 1 \\<or> z = 2 \\<or> z = 3\""], ["proof (prove)\nusing this:\n  0 \\<le> z\n  z < 4\n\ngoal (1 subgoal):\n 1. z = 0 \\<or> z = 1 \\<or> z = 2 \\<or> z = 3", "by arith"], ["proof (state)\nthis:\n  z = 0 \\<or> z = 1 \\<or> z = 2 \\<or> z = 3\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<lbrakk>0 \\<le> z; z < int CARD(4)\\<rbrakk>\n       \\<Longrightarrow> of_int z = 1 \\<or>\n                         of_int z = 2 \\<or> of_int z = 3 \\<or> of_int z = 4", "thus ?case"], ["proof (prove)\nusing this:\n  z = 0 \\<or> z = 1 \\<or> z = 2 \\<or> z = 3\n\ngoal (1 subgoal):\n 1. of_int z = 1 \\<or> of_int z = 2 \\<or> of_int z = 3 \\<or> of_int z = 4", "by auto"], ["proof (state)\nthis:\n  of_int z = 1 \\<or> of_int z = 2 \\<or> of_int z = 3 \\<or> of_int z = 4\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma forall_4: \"(\\<forall> i::4. P i) \\<longleftrightarrow> P 1 \\<and> P 2 \\<and> P 3 \\<and> P 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>i. P i) = (P 1 \\<and> P 2 \\<and> P 3 \\<and> P 4)", "by (metis exhaust_4)"], ["", "lemma UNIV_4: \"(UNIV::(4 set)) = {1, 2, 3, 4}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV = {1, 2, 3, 4}", "using exhaust_4"], ["proof (prove)\nusing this:\n  ?x = 1 \\<or> ?x = 2 \\<or> ?x = 3 \\<or> ?x = 4\n\ngoal (1 subgoal):\n 1. UNIV = {1, 2, 3, 4}", "by auto"], ["", "lemma vector_4:\n  fixes w :: \"'a::zero\"\n  shows \"(vector [w, x, y, z] :: 'a^4)$1 = w\"\n  and  \"(vector [w, x, y, z] :: 'a^4)$2 = x\"\n  and  \"(vector [w, x, y, z] :: 'a^4)$3 = y\"\n  and  \"(vector [w, x, y, z] :: 'a^4)$4 = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (vector [w, x, y, z] $ 1 = w &&& vector [w, x, y, z] $ 2 = x) &&&\n    vector [w, x, y, z] $ 3 = y &&& vector [w, x, y, z] $ 4 = z", "unfolding vector_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (vec_lambda\n      (foldr (\\<lambda>x f n. (f (n + 1))(n := x)) [w, x, y, z]\n        (\\<lambda>n x. 0::'a) 1) $\n     1 =\n     w &&&\n     vec_lambda\n      (foldr (\\<lambda>x f n. (f (n + 1))(n := x)) [w, x, y, z]\n        (\\<lambda>n x. 0::'a) 1) $\n     2 =\n     x) &&&\n    vec_lambda\n     (foldr (\\<lambda>x f n. (f (n + 1))(n := x)) [w, x, y, z]\n       (\\<lambda>n x. 0::'a) 1) $\n    3 =\n    y &&&\n    vec_lambda\n     (foldr (\\<lambda>x f n. (f (n + 1))(n := x)) [w, x, y, z]\n       (\\<lambda>n x. 0::'a) 1) $\n    4 =\n    z", "by simp_all"], ["", "definition\n  is_basis :: \"(real^'n) set \\<Rightarrow> bool\" where\n  \"is_basis S \\<equiv> independent S \\<and> span S = UNIV\""], ["", "lemma card_finite:\n  assumes \"card S = CARD('n::finite)\"\n  shows \"finite S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite S", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite S", "from \\<open>card S = CARD('n)\\<close>"], ["proof (chain)\npicking this:\n  card S = CARD('n)", "have \"card S \\<noteq> 0\""], ["proof (prove)\nusing this:\n  card S = CARD('n)\n\ngoal (1 subgoal):\n 1. card S \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  card S \\<noteq> 0\n\ngoal (1 subgoal):\n 1. finite S", "with card_eq_0_iff [of S]"], ["proof (chain)\npicking this:\n  (card S = 0) = (S = {} \\<or> infinite S)\n  card S \\<noteq> 0", "show \"finite S\""], ["proof (prove)\nusing this:\n  (card S = 0) = (S = {} \\<or> infinite S)\n  card S \\<noteq> 0\n\ngoal (1 subgoal):\n 1. finite S", "by simp"], ["proof (state)\nthis:\n  finite S\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma independent_is_basis:\n  fixes B :: \"(real^'n) set\"\n  shows \"independent B \\<and> card B = CARD('n) \\<longleftrightarrow> is_basis B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (independent B \\<and> card B = CARD('n)) = is_basis B", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. independent B \\<and> card B = CARD('n) \\<Longrightarrow> is_basis B\n 2. is_basis B \\<Longrightarrow> independent B \\<and> card B = CARD('n)", "assume L: \"independent B \\<and> card B = CARD('n)\""], ["proof (state)\nthis:\n  independent B \\<and> card B = CARD('n)\n\ngoal (2 subgoals):\n 1. independent B \\<and> card B = CARD('n) \\<Longrightarrow> is_basis B\n 2. is_basis B \\<Longrightarrow> independent B \\<and> card B = CARD('n)", "then"], ["proof (chain)\npicking this:\n  independent B \\<and> card B = CARD('n)", "have \"card (Basis::(real^'n) set) = card B\""], ["proof (prove)\nusing this:\n  independent B \\<and> card B = CARD('n)\n\ngoal (1 subgoal):\n 1. DIM((real, 'n) vec) = card B", "by simp"], ["proof (state)\nthis:\n  DIM((real, 'n) vec) = card B\n\ngoal (2 subgoals):\n 1. independent B \\<and> card B = CARD('n) \\<Longrightarrow> is_basis B\n 2. is_basis B \\<Longrightarrow> independent B \\<and> card B = CARD('n)", "with L"], ["proof (chain)\npicking this:\n  independent B \\<and> card B = CARD('n)\n  DIM((real, 'n) vec) = card B", "show \"is_basis B\""], ["proof (prove)\nusing this:\n  independent B \\<and> card B = CARD('n)\n  DIM((real, 'n) vec) = card B\n\ngoal (1 subgoal):\n 1. is_basis B", "by (metis (no_types) card_eq_dim dim_UNIV independent_bound is_basis_def subset_antisym top_greatest)"], ["proof (state)\nthis:\n  is_basis B\n\ngoal (1 subgoal):\n 1. is_basis B \\<Longrightarrow> independent B \\<and> card B = CARD('n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. is_basis B \\<Longrightarrow> independent B \\<and> card B = CARD('n)", "assume \"is_basis B\""], ["proof (state)\nthis:\n  is_basis B\n\ngoal (1 subgoal):\n 1. is_basis B \\<Longrightarrow> independent B \\<and> card B = CARD('n)", "then"], ["proof (chain)\npicking this:\n  is_basis B", "show \"independent B \\<and> card B = CARD('n)\""], ["proof (prove)\nusing this:\n  is_basis B\n\ngoal (1 subgoal):\n 1. independent B \\<and> card B = CARD('n)", "by (metis DIM_cart DIM_real basis_card_eq_dim dim_UNIV is_basis_def mult.right_neutral top.extremum)"], ["proof (state)\nthis:\n  independent B \\<and> card B = CARD('n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma basis_finite:\n  fixes B :: \"(real^'n) set\"\n  assumes \"is_basis B\"\n  shows \"finite B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite B", "from independent_is_basis [of B] and \\<open>is_basis B\\<close>"], ["proof (chain)\npicking this:\n  (independent B \\<and> card B = CARD('n)) = is_basis B\n  is_basis B", "have \"card B = CARD('n)\""], ["proof (prove)\nusing this:\n  (independent B \\<and> card B = CARD('n)) = is_basis B\n  is_basis B\n\ngoal (1 subgoal):\n 1. card B = CARD('n)", "by simp"], ["proof (state)\nthis:\n  card B = CARD('n)\n\ngoal (1 subgoal):\n 1. finite B", "with card_finite [of B, where 'n = 'n]"], ["proof (chain)\npicking this:\n  card B = CARD('n) \\<Longrightarrow> finite B\n  card B = CARD('n)", "show \"finite B\""], ["proof (prove)\nusing this:\n  card B = CARD('n) \\<Longrightarrow> finite B\n  card B = CARD('n)\n\ngoal (1 subgoal):\n 1. finite B", "by simp"], ["proof (state)\nthis:\n  finite B\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma basis_expand:\n  assumes \"is_basis B\"\n  shows \"\\<exists>c. v = (\\<Sum>w\\<in>B. (c w) *\\<^sub>R w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. v = (\\<Sum>w\\<in>B. c w *\\<^sub>R w)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c. v = (\\<Sum>w\\<in>B. c w *\\<^sub>R w)", "from \\<open>is_basis B\\<close>"], ["proof (chain)\npicking this:\n  is_basis B", "have \"v \\<in> span B\""], ["proof (prove)\nusing this:\n  is_basis B\n\ngoal (1 subgoal):\n 1. v \\<in> span B", "unfolding is_basis_def"], ["proof (prove)\nusing this:\n  independent B \\<and> span B = UNIV\n\ngoal (1 subgoal):\n 1. v \\<in> span B", "by simp"], ["proof (state)\nthis:\n  v \\<in> span B\n\ngoal (1 subgoal):\n 1. \\<exists>c. v = (\\<Sum>w\\<in>B. c w *\\<^sub>R w)", "from basis_finite [of B] and \\<open>is_basis B\\<close>"], ["proof (chain)\npicking this:\n  is_basis B \\<Longrightarrow> finite B\n  is_basis B", "have \"finite B\""], ["proof (prove)\nusing this:\n  is_basis B \\<Longrightarrow> finite B\n  is_basis B\n\ngoal (1 subgoal):\n 1. finite B", "by simp"], ["proof (state)\nthis:\n  finite B\n\ngoal (1 subgoal):\n 1. \\<exists>c. v = (\\<Sum>w\\<in>B. c w *\\<^sub>R w)", "with span_finite [of B] and \\<open>v \\<in> span B\\<close>"], ["proof (chain)\npicking this:\n  finite B \\<Longrightarrow>\n  span B = range (\\<lambda>u. \\<Sum>v\\<in>B. u v *\\<^sub>R v)\n  v \\<in> span B\n  finite B", "show \"\\<exists>c. v = (\\<Sum>w\\<in>B. (c w) *\\<^sub>R w)\""], ["proof (prove)\nusing this:\n  finite B \\<Longrightarrow>\n  span B = range (\\<lambda>u. \\<Sum>v\\<in>B. u v *\\<^sub>R v)\n  v \\<in> span B\n  finite B\n\ngoal (1 subgoal):\n 1. \\<exists>c. v = (\\<Sum>w\\<in>B. c w *\\<^sub>R w)", "by (simp add: scalar_equiv) auto"], ["proof (state)\nthis:\n  \\<exists>c. v = (\\<Sum>w\\<in>B. c w *\\<^sub>R w)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma not_span_independent_insert:\n  fixes v :: \"('a::real_vector)^'n\"\n  assumes \"independent S\" and \"v \\<notin> span S\"\n  shows \"independent (insert v S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. independent (insert v S)", "by (simp add: assms independent_insert)"], ["", "lemma orthogonal_sum:\n  fixes v :: \"real^'n\"\n  assumes \"\\<And>w. w\\<in>S \\<Longrightarrow> orthogonal v w\"\n  shows \"orthogonal v (\\<Sum>w\\<in>S. c w *s w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. orthogonal v (\\<Sum>w\\<in>S. c w *s w)", "by (metis (no_types, lifting) assms orthogonal_clauses(1,2) orthogonal_rvsum scalar_equiv sum.infinite)"], ["", "lemma orthogonal_self_eq_0:\n  fixes v :: \"('a::real_inner)^'n\"\n  assumes \"orthogonal v v\"\n  shows \"v = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = 0", "using inner_eq_zero_iff [of v] and assms"], ["proof (prove)\nusing this:\n  (v \\<bullet> v = 0) = (v = 0)\n  orthogonal v v\n\ngoal (1 subgoal):\n 1. v = 0", "unfolding orthogonal_def"], ["proof (prove)\nusing this:\n  (v \\<bullet> v = 0) = (v = 0)\n  v \\<bullet> v = 0\n\ngoal (1 subgoal):\n 1. v = 0", "by simp"], ["", "lemma orthogonal_in_span_eq_0:\n  fixes v :: \"real^'n\"\n  assumes \"v \\<in> span S\" and \"\\<And>w. w\\<in>S \\<Longrightarrow> orthogonal v w\"\n  shows \"v = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = 0", "using assms orthogonal_self orthogonal_to_span"], ["proof (prove)\nusing this:\n  v \\<in> span S\n  ?w \\<in> S \\<Longrightarrow> orthogonal v ?w\n  orthogonal ?x ?x = (?x = (0::?'a))\n  \\<lbrakk>?a \\<in> span ?S;\n   \\<And>y. y \\<in> ?S \\<Longrightarrow> orthogonal ?x y\\<rbrakk>\n  \\<Longrightarrow> orthogonal ?x ?a\n\ngoal (1 subgoal):\n 1. v = 0", "by blast"], ["", "lemma orthogonal_independent:\n  fixes v :: \"real^'n\"\n  assumes \"independent S\" and \"v \\<noteq> 0\" and \"\\<And>w. w\\<in>S \\<Longrightarrow> orthogonal v w\"\n  shows \"independent (insert v S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. independent (insert v S)", "using assms not_span_independent_insert orthogonal_in_span_eq_0"], ["proof (prove)\nusing this:\n  independent S\n  v \\<noteq> 0\n  ?w \\<in> S \\<Longrightarrow> orthogonal v ?w\n  \\<lbrakk>independent ?S; ?v \\<notin> span ?S\\<rbrakk>\n  \\<Longrightarrow> independent (insert ?v ?S)\n  \\<lbrakk>?v \\<in> span ?S;\n   \\<And>w. w \\<in> ?S \\<Longrightarrow> orthogonal ?v w\\<rbrakk>\n  \\<Longrightarrow> ?v = 0\n\ngoal (1 subgoal):\n 1. independent (insert v S)", "by blast"], ["", "lemma dot_scaleR_mult:\n  shows \"(k *\\<^sub>R a) \\<bullet> b = k * (a \\<bullet> b)\" and \"a \\<bullet> (k *\\<^sub>R b) = k * (a \\<bullet> b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k *\\<^sub>R a \\<bullet> b = k * (a \\<bullet> b) &&&\n    a \\<bullet> k *\\<^sub>R b = k * (a \\<bullet> b)", "by auto"], ["", "lemma dependent_explicit_finite:\n  fixes S :: \"(('a::{real_vector,field})^'n) set\"\n  assumes \"finite S\"\n  shows \"dependent S \\<longleftrightarrow> (\\<exists> u. (\\<exists> v\\<in>S. u v \\<noteq> 0) \\<and> (\\<Sum> v\\<in>S. u v *\\<^sub>R v) = 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dependent S =\n    (\\<exists>u.\n        (\\<exists>v\\<in>S. u v \\<noteq> 0) \\<and>\n        (\\<Sum>v\\<in>S. u v *\\<^sub>R v) = 0)", "by (simp add: assms dependent_finite)"], ["", "lemma dependent_explicit_2:\n  fixes v w :: \"('a::{field,real_vector})^'n\"\n  assumes \"v \\<noteq> w\"\n  shows \"dependent {v, w} \\<longleftrightarrow> (\\<exists> i j. (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and> i *\\<^sub>R v + j *\\<^sub>R w = 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dependent {v, w} =\n    (\\<exists>i j.\n        (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n        i *\\<^sub>R v + j *\\<^sub>R w = 0)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. dependent {v, w} \\<Longrightarrow>\n    \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0\n 2. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "let ?S = \"{v, w}\""], ["proof (state)\ngoal (2 subgoals):\n 1. dependent {v, w} \\<Longrightarrow>\n    \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0\n 2. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "have \"finite ?S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {v, w}", "by simp"], ["proof (state)\nthis:\n  finite {v, w}\n\ngoal (2 subgoals):\n 1. dependent {v, w} \\<Longrightarrow>\n    \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0\n 2. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "{"], ["proof (state)\nthis:\n  finite {v, w}\n\ngoal (2 subgoals):\n 1. dependent {v, w} \\<Longrightarrow>\n    \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0\n 2. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "assume \"dependent ?S\""], ["proof (state)\nthis:\n  dependent {v, w}\n\ngoal (2 subgoals):\n 1. dependent {v, w} \\<Longrightarrow>\n    \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0\n 2. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "with dependent_explicit_finite [of ?S] and \\<open>finite ?S\\<close> and \\<open>v \\<noteq> w\\<close>"], ["proof (chain)\npicking this:\n  finite {v, w} \\<Longrightarrow>\n  dependent {v, w} =\n  (\\<exists>u.\n      (\\<exists>v\\<in>{v, w}. u v \\<noteq> 0) \\<and>\n      (\\<Sum>v\\<in>{v, w}. u v *\\<^sub>R v) = 0)\n  finite {v, w}\n  v \\<noteq> w\n  dependent {v, w}", "show \"\\<exists> i j. (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and> i *\\<^sub>R v + j *\\<^sub>R w = 0\""], ["proof (prove)\nusing this:\n  finite {v, w} \\<Longrightarrow>\n  dependent {v, w} =\n  (\\<exists>u.\n      (\\<exists>v\\<in>{v, w}. u v \\<noteq> 0) \\<and>\n      (\\<Sum>v\\<in>{v, w}. u v *\\<^sub>R v) = 0)\n  finite {v, w}\n  v \\<noteq> w\n  dependent {v, w}\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0", "by auto"], ["proof (state)\nthis:\n  \\<exists>i j.\n     (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n     i *\\<^sub>R v + j *\\<^sub>R w = 0\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "}"], ["proof (state)\nthis:\n  dependent {v, w} \\<Longrightarrow>\n  \\<exists>i j.\n     (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n     i *\\<^sub>R v + j *\\<^sub>R w = 0\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "{"], ["proof (state)\nthis:\n  dependent {v, w} \\<Longrightarrow>\n  \\<exists>i j.\n     (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n     i *\\<^sub>R v + j *\\<^sub>R w = 0\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "assume \"\\<exists> i j. (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and> i *\\<^sub>R v + j *\\<^sub>R w = 0\""], ["proof (state)\nthis:\n  \\<exists>i j.\n     (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n     i *\\<^sub>R v + j *\\<^sub>R w = 0\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "then"], ["proof (chain)\npicking this:\n  \\<exists>i j.\n     (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n     i *\\<^sub>R v + j *\\<^sub>R w = 0", "obtain i and j where \"i \\<noteq> 0 \\<or> j \\<noteq> 0\" and \"i *\\<^sub>R v + j *\\<^sub>R w = 0\""], ["proof (prove)\nusing this:\n  \\<exists>i j.\n     (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n     i *\\<^sub>R v + j *\\<^sub>R w = 0\n\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        \\<lbrakk>i \\<noteq> 0 \\<or> j \\<noteq> 0;\n         i *\\<^sub>R v + j *\\<^sub>R w = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  i \\<noteq> 0 \\<or> j \\<noteq> 0\n  i *\\<^sub>R v + j *\\<^sub>R w = 0\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "let ?u = \"\\<lambda> x. if x = v then i else j\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "from \\<open>i \\<noteq> 0 \\<or> j \\<noteq> 0\\<close> and \\<open>v \\<noteq> w\\<close>"], ["proof (chain)\npicking this:\n  i \\<noteq> 0 \\<or> j \\<noteq> 0\n  v \\<noteq> w", "have \"\\<exists> x\\<in>?S. ?u x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  i \\<noteq> 0 \\<or> j \\<noteq> 0\n  v \\<noteq> w\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>{v, w}. (if x = v then i else j) \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  \\<exists>x\\<in>{v, w}. (if x = v then i else j) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "from \\<open>i *\\<^sub>R v + j *\\<^sub>R w = 0\\<close> and \\<open>v \\<noteq> w\\<close>"], ["proof (chain)\npicking this:\n  i *\\<^sub>R v + j *\\<^sub>R w = 0\n  v \\<noteq> w", "have \"(\\<Sum> x\\<in>?S. ?u x *\\<^sub>R x) = 0\""], ["proof (prove)\nusing this:\n  i *\\<^sub>R v + j *\\<^sub>R w = 0\n  v \\<noteq> w\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>{v, w}. (if x = v then i else j) *\\<^sub>R x) = 0", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>{v, w}. (if x = v then i else j) *\\<^sub>R x) = 0\n\ngoal (1 subgoal):\n 1. \\<exists>i j.\n       (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n       i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n    dependent {v, w}", "with dependent_explicit_finite [of ?S]\n      and \\<open>finite ?S\\<close> and \\<open>\\<exists> x\\<in>?S. ?u x \\<noteq> 0\\<close>"], ["proof (chain)\npicking this:\n  finite {v, w} \\<Longrightarrow>\n  dependent {v, w} =\n  (\\<exists>u.\n      (\\<exists>v\\<in>{v, w}. u v \\<noteq> 0) \\<and>\n      (\\<Sum>v\\<in>{v, w}. u v *\\<^sub>R v) = 0)\n  finite {v, w}\n  \\<exists>x\\<in>{v, w}. (if x = v then i else j) \\<noteq> 0\n  (\\<Sum>x\\<in>{v, w}. (if x = v then i else j) *\\<^sub>R x) = 0", "show \"dependent ?S\""], ["proof (prove)\nusing this:\n  finite {v, w} \\<Longrightarrow>\n  dependent {v, w} =\n  (\\<exists>u.\n      (\\<exists>v\\<in>{v, w}. u v \\<noteq> 0) \\<and>\n      (\\<Sum>v\\<in>{v, w}. u v *\\<^sub>R v) = 0)\n  finite {v, w}\n  \\<exists>x\\<in>{v, w}. (if x = v then i else j) \\<noteq> 0\n  (\\<Sum>x\\<in>{v, w}. (if x = v then i else j) *\\<^sub>R x) = 0\n\ngoal (1 subgoal):\n 1. dependent {v, w}", "by best"], ["proof (state)\nthis:\n  dependent {v, w}\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<exists>i j.\n     (i \\<noteq> 0 \\<or> j \\<noteq> 0) \\<and>\n     i *\\<^sub>R v + j *\\<^sub>R w = 0 \\<Longrightarrow>\n  dependent {v, w}\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \"Matrices\""], ["", "lemma zero_not_invertible:\n  \"\\<not> (invertible (0::real^'n^'n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> invertible 0", "using invertible_times_eq_zero matrix_vector_mult_0"], ["proof (prove)\nusing this:\n  \\<lbrakk>invertible ?A; ?A *v ?x = 0\\<rbrakk> \\<Longrightarrow> ?x = 0\n  0 *v ?w = 0\n\ngoal (1 subgoal):\n 1. \\<not> invertible 0", "by blast"], ["", "text \\<open>Based on matrix-vector-column in\n  HOL/Multivariate\\_Analysis/Euclidean\\_Space.thy in Isabelle 2009-1:\\<close>"], ["", "lemma vector_matrix_row:\n  fixes x :: \"('a::comm_semiring_1)^'m\" and A :: \"('a^'n^'m)\"\n  shows \"x v* A = (\\<Sum> i\\<in>UNIV. (x$i) *s (A$i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x v* A = (\\<Sum>i\\<in>UNIV. x $ i *s A $ i)", "unfolding vector_matrix_mult_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<chi>j. \\<Sum>i\\<in>UNIV. A $ i $ j * x $ i) =\n    (\\<Sum>i\\<in>UNIV. x $ i *s A $ i)", "by (simp add: vec_eq_iff mult.commute)"], ["", "lemma matrix_inv:\n  assumes \"invertible M\"\n  shows \"matrix_inv M ** M = mat 1\"\n  and \"M ** matrix_inv M = mat 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. matrix_inv M ** M = mat (1::'a) &&& M ** matrix_inv M = mat (1::'a)", "using \\<open>invertible M\\<close> and someI_ex [of \"\\<lambda> N. M ** N = mat 1 \\<and> N ** M = mat 1\"]"], ["proof (prove)\nusing this:\n  invertible M\n  \\<exists>x.\n     M ** x = mat (1::'a) \\<and> x ** M = mat (1::'a) \\<Longrightarrow>\n  M ** (SOME x. M ** x = mat (1::'a) \\<and> x ** M = mat (1::'a)) =\n  mat (1::'a) \\<and>\n  (SOME x. M ** x = mat (1::'a) \\<and> x ** M = mat (1::'a)) ** M =\n  mat (1::'a)\n\ngoal (1 subgoal):\n 1. matrix_inv M ** M = mat (1::'a) &&& M ** matrix_inv M = mat (1::'a)", "unfolding invertible_def and matrix_inv_def"], ["proof (prove)\nusing this:\n  \\<exists>A'. M ** A' = mat (1::'a) \\<and> A' ** M = mat (1::'a)\n  \\<exists>x.\n     M ** x = mat (1::'a) \\<and> x ** M = mat (1::'a) \\<Longrightarrow>\n  M ** (SOME x. M ** x = mat (1::'a) \\<and> x ** M = mat (1::'a)) =\n  mat (1::'a) \\<and>\n  (SOME x. M ** x = mat (1::'a) \\<and> x ** M = mat (1::'a)) ** M =\n  mat (1::'a)\n\ngoal (1 subgoal):\n 1. (SOME A'. M ** A' = mat (1::'a) \\<and> A' ** M = mat (1::'a)) ** M =\n    mat (1::'a) &&&\n    M ** (SOME A'. M ** A' = mat (1::'a) \\<and> A' ** M = mat (1::'a)) =\n    mat (1::'a)", "by simp_all"], ["", "lemma matrix_inv_invertible:\n  assumes \"invertible M\"\n  shows \"invertible (matrix_inv M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. invertible (matrix_inv M)", "using \\<open>invertible M\\<close> and matrix_inv"], ["proof (prove)\nusing this:\n  invertible M\n  invertible ?M \\<Longrightarrow> matrix_inv ?M ** ?M = mat (1::?'a)\n  invertible ?M \\<Longrightarrow> ?M ** matrix_inv ?M = mat (1::?'a)\n\ngoal (1 subgoal):\n 1. invertible (matrix_inv M)", "unfolding invertible_def [of \"matrix_inv M\"]"], ["proof (prove)\nusing this:\n  invertible M\n  invertible ?M \\<Longrightarrow> matrix_inv ?M ** ?M = mat (1::?'a)\n  invertible ?M \\<Longrightarrow> ?M ** matrix_inv ?M = mat (1::?'a)\n\ngoal (1 subgoal):\n 1. \\<exists>A'.\n       matrix_inv M ** A' = mat (1::'a) \\<and>\n       A' ** matrix_inv M = mat (1::'a)", "by auto"], ["", "lemma invertible_times_non_zero:\n  fixes M :: \"real^'n^'n\"\n  assumes \"invertible M\" and \"v \\<noteq> 0\"\n  shows \"M *v v \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M *v v \\<noteq> 0", "using \\<open>invertible M\\<close> and \\<open>v \\<noteq> 0\\<close> and invertible_times_eq_zero [of M v]"], ["proof (prove)\nusing this:\n  invertible M\n  v \\<noteq> 0\n  \\<lbrakk>invertible M; M *v v = 0\\<rbrakk> \\<Longrightarrow> v = 0\n\ngoal (1 subgoal):\n 1. M *v v \\<noteq> 0", "by auto"], ["", "lemma matrix_right_invertible_ker:\n  fixes M :: \"real^('m::finite)^'n\"\n  shows \"(\\<exists> M'. M ** M' = mat 1) \\<longleftrightarrow> (\\<forall> x. x v* M = 0 \\<longrightarrow> x = 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>M'. M ** M' = mat 1) =\n    (\\<forall>x. x v* M = 0 \\<longrightarrow> x = 0)", "using left_invertible_transpose matrix_left_invertible_ker"], ["proof (prove)\nusing this:\n  (\\<exists>B. B ** Finite_Cartesian_Product.transpose ?A = mat (1::?'a)) =\n  (\\<exists>B. ?A ** B = mat (1::?'a))\n  (\\<exists>B. B ** ?A = mat (1::?'a)) =\n  (\\<forall>x. ?A *v x = 0 \\<longrightarrow> x = 0)\n\ngoal (1 subgoal):\n 1. (\\<exists>M'. M ** M' = mat 1) =\n    (\\<forall>x. x v* M = 0 \\<longrightarrow> x = 0)", "by force"], ["", "lemma left_invertible_iff_invertible:\n  fixes M :: \"real^'n^'n\"\n  shows \"(\\<exists> N. N ** M = mat 1) \\<longleftrightarrow> invertible M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>N. N ** M = mat 1) = invertible M", "by (simp add: invertible_def matrix_left_right_inverse)"], ["", "lemma right_invertible_iff_invertible:\n  fixes M :: \"real^'n^'n\"\n  shows \"(\\<exists> N. M ** N = mat 1) \\<longleftrightarrow> invertible M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>N. M ** N = mat 1) = invertible M", "by (simp add: invertible_def matrix_left_right_inverse)"], ["", "definition symmatrix :: \"'a^'n^'n \\<Rightarrow> bool\" where\n  \"symmatrix M \\<equiv> transpose M = M\""], ["", "lemma symmatrix_preserve:\n  fixes M N :: \"('a::comm_semiring_1)^'n^'n\"\n  assumes \"symmatrix M\"\n  shows \"symmatrix (N ** M ** transpose N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. symmatrix (N ** M ** Finite_Cartesian_Product.transpose N)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. symmatrix (N ** M ** Finite_Cartesian_Product.transpose N)", "have \"transpose (N ** M ** transpose N) = N ** (M ** transpose N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Finite_Cartesian_Product.transpose\n     (N ** M ** Finite_Cartesian_Product.transpose N) =\n    N ** (M ** Finite_Cartesian_Product.transpose N)", "by (metis (no_types) transpose_transpose assms matrix_transpose_mul symmatrix_def)"], ["proof (state)\nthis:\n  Finite_Cartesian_Product.transpose\n   (N ** M ** Finite_Cartesian_Product.transpose N) =\n  N ** (M ** Finite_Cartesian_Product.transpose N)\n\ngoal (1 subgoal):\n 1. symmatrix (N ** M ** Finite_Cartesian_Product.transpose N)", "then"], ["proof (chain)\npicking this:\n  Finite_Cartesian_Product.transpose\n   (N ** M ** Finite_Cartesian_Product.transpose N) =\n  N ** (M ** Finite_Cartesian_Product.transpose N)", "show ?thesis"], ["proof (prove)\nusing this:\n  Finite_Cartesian_Product.transpose\n   (N ** M ** Finite_Cartesian_Product.transpose N) =\n  N ** (M ** Finite_Cartesian_Product.transpose N)\n\ngoal (1 subgoal):\n 1. symmatrix (N ** M ** Finite_Cartesian_Product.transpose N)", "by (simp add: matrix_mul_assoc symmatrix_def)"], ["proof (state)\nthis:\n  symmatrix (N ** M ** Finite_Cartesian_Product.transpose N)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma non_zero_mult_invertible_non_zero:\n  fixes M :: \"real^'n^'n\"\n  assumes \"v \\<noteq> 0\" and \"invertible M\"\n  shows \"v v* M \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v v* M \\<noteq> 0", "using \\<open>v \\<noteq> 0\\<close> and \\<open>invertible M\\<close> and times_invertible_eq_zero"], ["proof (prove)\nusing this:\n  v \\<noteq> 0\n  invertible M\n  \\<lbrakk>invertible ?A; ?x v* ?A = 0\\<rbrakk> \\<Longrightarrow> ?x = 0\n\ngoal (1 subgoal):\n 1. v v* M \\<noteq> 0", "by auto"], ["", "end"]]}