{"file_name": "/home/qj213/afp-2021-10-22/thys/Differential_Game_Logic/USubst.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Differential_Game_Logic", "problem_names": ["lemma undeft_None: \"undeft=None\"", "lemma Aterm_Some: \"Aterm \\<theta>=Some \\<theta>\"", "lemma undeft_equiv: \"(\\<theta>\\<noteq>undeft) = (\\<exists>t. \\<theta>=Aterm t)\"", "lemma Pluso_undef: \"(Pluso \\<theta> \\<eta> = undeft) = (\\<theta>=undeft \\<or> \\<eta>=undeft)\"", "lemma Timeso_undef: \"(Timeso \\<theta> \\<eta> = undeft) = (\\<theta>=undeft \\<or> \\<eta>=undeft)\"", "lemma Differentialo_undef: \"(Differentialo \\<theta> = undeft) = (\\<theta>=undeft)\"", "lemma undeff_equiv: \"(\\<phi>\\<noteq>undeff) = (\\<exists>f. \\<phi>=Afml f)\"", "lemma undefg_equiv: \"(\\<alpha>\\<noteq>undefg) = (\\<exists>g. \\<alpha>=Agame g)\"", "lemma Geqo_undef: \"(Geqo \\<theta> \\<eta> = undeff) = (\\<theta>=undeft \\<or> \\<eta>=undeft)\"", "lemma Noto_undef: \"(Noto \\<phi> = undeff) = (\\<phi>=undeff)\"", "lemma Ando_undef: \"(Ando \\<phi> \\<psi> = undeff) = (\\<phi>=undeff \\<or> \\<psi>=undeff)\"", "lemma Existso_undef: \"(Existso x \\<phi> = undeff) = (\\<phi>=undeff)\"", "lemma Diamondo_undef: \"(Diamondo \\<alpha> \\<phi> = undeff) = (\\<alpha>=undefg \\<or> \\<phi>=undeff)\"", "lemma Assigno_undef: \"(Assigno x \\<theta> = undefg) = (\\<theta>=undeft)\"", "lemma ODEo_undef: \"(ODEo x \\<theta> = undefg) = (\\<theta>=undeft)\"", "lemma Testo_undef: \"(Testo \\<phi> = undefg) = (\\<phi>=undeff)\"", "lemma Choiceo_undef: \"(Choiceo \\<alpha> \\<beta> = undefg) = (\\<alpha>=undefg \\<or> \\<beta>=undefg)\"", "lemma Composeo_undef: \"(Composeo \\<alpha> \\<beta> = undefg) = (\\<alpha>=undefg \\<or> \\<beta>=undefg)\"", "lemma Loopo_undef: \"(Loopo \\<alpha> = undefg) = (\\<alpha>=undefg)\"", "lemma Dualo_undef: \"(Dualo \\<alpha> = undefg) = (\\<alpha>=undefg)\"", "lemmas usubstappt_induct = usubstappt.induct [case_names Var Number Const FuncMatch Plus Times Differential]", "lemmas usubstappfp_induct = usubstappf_usubstappp.induct [case_names Pred Geq Not And Exists Diamond  Game Assign Test Choice Compose Loop Dual ODE]", "lemma usappconst_simp [simp]: \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U={} \\<Longrightarrow> usappconst \\<sigma> U f = Aterm(r)\"\n  and \"SConst \\<sigma> f = None \\<Longrightarrow> usappconst \\<sigma> U f = Aterm(Const f)\"\n  and \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usappconst \\<sigma> U f = undeft\"", "lemma usappconst_conv: \"usappconst \\<sigma> U f\\<noteq>undeft \\<Longrightarrow>\n  SConst \\<sigma> f = None \\<or> (\\<exists>r. SConst \\<sigma> f = Some r \\<and> FVT(r)\\<inter>U={})\"", "lemma usubstappt_const [simp]: \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U={} \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = Aterm(r)\"\n  and \"SConst \\<sigma> f = None \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = Aterm(Const f)\"\n  and \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = undeft\"", "lemma usubstappt_const_conv: \"usubstappt \\<sigma> U (Const f)\\<noteq>undeft \\<Longrightarrow>\n  SConst \\<sigma> f = None \\<or> (\\<exists>r. SConst \\<sigma> f = Some r \\<and> FVT(r)\\<inter>U={})\"", "lemma usubstappt_func [simp]: \"SFuncs \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U={} \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow>\n  usubstappt \\<sigma> U (Func f \\<theta>) = usubstappt (dotsubstt \\<sigma>\\<theta>) {} r\"\n  and \"SFuncs \\<sigma> f=None \\<Longrightarrow>  usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow> usubstappt \\<sigma> U (Func f \\<theta>) = Aterm(Func f \\<sigma>\\<theta>)\"\n  and \"usubstappt \\<sigma> U \\<theta> = undeft \\<Longrightarrow> usubstappt \\<sigma> U (Func f \\<theta>) = undeft\"", "lemma usubstappt_func2 [simp]: \"SFuncs \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usubstappt \\<sigma> U (Func f \\<theta>) = undeft\"", "lemma usubstappt_func_conv: \"usubstappt \\<sigma> U (Func f \\<theta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    (SFuncs \\<sigma> f = None \\<or> (\\<exists>r. SFuncs \\<sigma> f = Some r \\<and> FVT(r)\\<inter>U={}))\"", "lemma usubstappt_plus_conv: \"usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\"", "lemma usubstappt_times_conv: \"usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\"", "lemma usubstappt_differential_conv: \"usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> allvars \\<theta> \\<noteq> undeft\"", "lemma usubstappf_pred [simp]: \"SPreds \\<sigma> p = Some r \\<Longrightarrow> FVF(r)\\<inter>U={} \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) = usubstappf (dotsubstt \\<sigma>\\<theta>) {} r\"\n  and \"SPreds \\<sigma> p = None \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = Afml(Pred p \\<sigma>\\<theta>)\"\n  and \"usubstappt \\<sigma> U \\<theta> = undeft \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = undeff\"", "lemma usubstappf_pred2 [simp]: \"SPreds \\<sigma> p = Some r \\<Longrightarrow> FVF(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = undeff\"", "lemma usubstappf_pred_conv: \"usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    (SPreds \\<sigma> p = None \\<or> (\\<exists>r. SPreds \\<sigma> p = Some r \\<and> FVF(r)\\<inter>U={}))\"", "lemma usubstappf_geq: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft \\<Longrightarrow>\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) = Afml(Geq (the (usubstappt \\<sigma> U \\<theta>)) (the (usubstappt \\<sigma> U \\<eta>)))\"", "lemma usubstappf_geq_conv: \"usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\"", "lemma usubstappf_geqr: \"usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) = Afml(Geq (the (usubstappt \\<sigma> U \\<theta>)) (the (usubstappt \\<sigma> U \\<eta>)))\"", "lemma usubstappf_exists: \"usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappf \\<sigma> U (Exists x \\<phi>) = Afml(Exists x (the (usubstappf \\<sigma> (U\\<union>{x}) \\<phi>)))\"", "lemma usubstappp_game [simp]: \"SGames \\<sigma> a = Some r \\<Longrightarrow> usubstappp \\<sigma> U (Game a) = (U\\<union>BVG(r),Agame(r))\"\n  and \"SGames \\<sigma> a = None \\<Longrightarrow> usubstappp \\<sigma> U (Game a) = (allvars,Agame(Game a))\"", "lemma usubstappp_choice [simp]: \"usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>) =\n  (fst(usubstappp \\<sigma> U \\<alpha>)\\<union>fst(usubstappp \\<sigma> U \\<beta>), Choiceo (snd(usubstappp \\<sigma> U \\<alpha>)) (snd(usubstappp \\<sigma> U \\<beta>)))\"", "lemma usubstappp_choice_conv : \"snd(usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>)) \\<noteq> undefg \\<Longrightarrow>\n  snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and> snd(usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg\"", "lemma usubstappp_compose [simp]: \"usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>) =\n  (fst(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<beta>), Composeo (snd(usubstappp \\<sigma> U \\<alpha>)) (snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\"", "lemma usubstappp_loop: \"usubstappp \\<sigma> U (Loop \\<alpha>) =\n  (fst(usubstappp \\<sigma> U \\<alpha>), Loopo (snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\"", "lemma usubstappp_dual [simp]: \"usubstappp \\<sigma> U (Dual \\<alpha>) =\n  (fst(usubstappp \\<sigma> U \\<alpha>), Dualo (snd (usubstappp \\<sigma> U \\<alpha>)))\"", "lemma usubstappt_det: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow> usubstappt \\<sigma> V \\<theta> \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\"", "lemma usubstappf_and_usubstappp_det: \nshows \"usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\"\nand \"snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\"", "lemma usubstappf_det: \"usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\"", "lemma usubstappp_det: \"snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\"", "lemma usubst_taboos_mon: \"fst(usubstappp \\<sigma> U \\<alpha>) \\<supseteq> U\"", "lemma fst_pair [simp]: \"fst (a,b) = a\"", "lemma snd_pair [simp]: \"snd (a,b) = b\"", "lemma usubstappt_antimon: \"V\\<subseteq>U \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\"", "lemma usubstappp_fst_mon: \"U\\<subseteq>V \\<Longrightarrow> fst(usubstappp \\<sigma> U \\<alpha>) \\<subseteq> fst(usubstappp \\<sigma> V \\<alpha>)\"", "lemma usubstappf_and_usubstappp_antimon: \nshows \"V\\<subseteq>U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\"\nand \"V\\<subseteq>U \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\"", "lemma usubstappf_antimon: \"V\\<subseteq>U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\"", "lemma usubstappp_antimon: \"V\\<subseteq>U \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\"", "lemma usubstappp_loop_conv: \"snd (usubstappp \\<sigma> U (Loop \\<alpha>)) \\<noteq> undefg \\<Longrightarrow>\n  snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n  snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>) \\<noteq> undefg\"", "lemma usubst_taboos: \"snd(usubstappp \\<sigma> U \\<alpha>)\\<noteq>undefg \\<Longrightarrow> fst(usubstappp \\<sigma> U \\<alpha>) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>)))\"", "lemma repc_consts [simp]: \"Consts (repc I f d) c = (if (c=f) then d else Consts I c)\"", "lemma repc_funcs [simp]: \"Funcs (repc I f d) = Funcs I\"", "lemma repc_preds [simp]: \"Preds (repc I f d) = Preds I\"", "lemma repc_games [simp]: \"Games (repc I f d) = Games I\"", "lemma adjoint_stays_mon: \"mono (case SGames \\<sigma> a of None \\<Rightarrow> Games I a | Some r \\<Rightarrow> \\<lambda>X. game_sem I r X)\"", "lemma adjoint_consts: \"Consts (adjoint \\<sigma> I \\<omega>) f = term_sem I (case SConst \\<sigma> f of Some r \\<Rightarrow> r | None \\<Rightarrow> Const f) \\<omega>\"", "lemma adjoint_funcs: \"Funcs (adjoint \\<sigma> I \\<omega>) f = (case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f | Some r \\<Rightarrow> \\<lambda>d. term_sem (repc I dotid d) r \\<omega>)\"", "lemma adjoint_funcs_match: \"SFuncs \\<sigma> f=Some r \\<Longrightarrow> Funcs (adjoint \\<sigma> I \\<omega>) f = (\\<lambda>d. term_sem (repc I dotid d) r \\<omega>)\"", "lemma adjoint_funcs_skip: \"SFuncs \\<sigma> f=None \\<Longrightarrow> Funcs (adjoint \\<sigma> I \\<omega>) f = Funcs I f\"", "lemma adjoint_preds: \"Preds (adjoint \\<sigma> I \\<omega>) p = (case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p | Some r \\<Rightarrow> \\<lambda>d. \\<omega>\\<in>fml_sem (repc I dotid d) r)\"", "lemma adjoint_preds_skip: \"SPreds \\<sigma> p=None \\<Longrightarrow> Preds (adjoint \\<sigma> I \\<omega>) p = Preds I p\"", "lemma adjoint_preds_match: \"SPreds \\<sigma> p=Some r \\<Longrightarrow> Preds (adjoint \\<sigma> I \\<omega>) p = (\\<lambda>d. \\<omega>\\<in>fml_sem (repc I dotid d) r)\"", "lemma adjoint_games [simp]: \"Games (adjoint \\<sigma> I \\<omega>) a = (case SGames \\<sigma> a of None \\<Rightarrow> Games I a | Some r \\<Rightarrow> \\<lambda>X. game_sem I r X)\"", "lemma adjoint_dotsubstt: \"adjoint (dotsubstt \\<theta>) I \\<omega> = repc I dotid (term_sem I \\<theta> \\<omega>)\"", "theorem usubst_term: \"Uvariation \\<nu> \\<omega> U \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>\\<noteq>undeft \\<Longrightarrow>\n    term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\"", "lemma same_ODE_same_sol:\n  \"(\\<And>\\<nu>. Uvariation \\<nu> (F(0)) {RVar x,DVar x} \\<Longrightarrow> term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>)\n  \\<Longrightarrow> solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>\"", "lemma usubst_ode:\n  assumes subdef: \"usubstappt \\<sigma> {RVar x,DVar x} \\<theta> \\<noteq> undeft\"\n  shows \"solves_ODE I F x (the (usubstappt \\<sigma> {RVar x,DVar x} \\<theta>)) = solves_ODE (adjoint \\<sigma> I (F(0))) F x \\<theta>\"", "lemma usubst_ode_ext:\n  assumes     uv: \"Uvariation (F(0)) \\<omega> (U\\<union>{RVar x,DVar x})\"\n  assumes subdef: \"usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta> \\<noteq> undeft\"\n  shows \"solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) = solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta>\"", "lemma usubst_ode_ext2:\n  assumes subdef: \"usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta> \\<noteq> undeft\"\n  assumes     uv: \"Uvariation (F(0)) \\<omega> (U\\<union>{RVar x,DVar x})\"\n  shows \"solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) = solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta>\"", "lemma union_comm: \"A\\<union>B=B\\<union>A\"", "lemma usubst_game_loop:\n  assumes  uv: \"Uvariation \\<nu> \\<omega> U\"\n    and  IH\\<alpha>rec: \"\\<And>\\<nu> \\<omega> X. Uvariation \\<nu> \\<omega> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow> snd (usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)\\<noteq>undefg \\<Longrightarrow> \n         (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\"\n  shows \"snd (usubstappp \\<sigma> U (Loop \\<alpha>))\\<noteq>undefg \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Loop \\<alpha>)))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (Loop \\<alpha>) X)\"", "lemma usubst_fml_game: \n  assumes vaouter: \"Uvariation \\<nu> \\<omega> U\"\n  shows \"usubstappf \\<sigma> U \\<phi>\\<noteq>undeff \\<Longrightarrow> (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\"\n    and \"snd (usubstappp \\<sigma> U \\<alpha>)\\<noteq>undefg \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\"", "theorem usubst_fml: \"Uvariation \\<nu> \\<omega> U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow>\n    (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\"", "theorem usubst_game: \"Uvariation \\<nu> \\<omega> U \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\"", "theorem usubst_sound: \"usubsta \\<sigma> \\<phi> \\<noteq> undeff \\<Longrightarrow> valid \\<phi> \\<Longrightarrow> valid (the (usubsta \\<sigma> \\<phi>))\"", "lemma usubstr_conv: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow>\n  usubstappf \\<sigma> allvars (snd R) \\<noteq> undeff \\<and>\n  (\\<forall>\\<phi>\\<in>set (fst R). usubstappf \\<sigma> allvars \\<phi> \\<noteq> undeff)\"", "lemma usubstr_union_undef: \"(usubstr \\<sigma> ((append A B), C) \\<noteq> None) = (usubstr \\<sigma> (A, C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\"", "lemma usubstr_union_undef2: \"(usubstr \\<sigma> ((append A B), C) \\<noteq> None) \\<Longrightarrow> (usubstr \\<sigma> (A, C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\"", "lemma usubstr_cons_undef: \"(usubstr \\<sigma> ((Cons A B), C) \\<noteq> None) = (usubstr \\<sigma> ([A], C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\"", "lemma usubstr_cons_undef2: \"(usubstr \\<sigma> ((Cons A B), C) \\<noteq> None) \\<Longrightarrow> (usubstr \\<sigma> ([A], C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\"", "lemma usubstr_cons: \"(usubstr \\<sigma> ((Cons A B), C) \\<noteq> None) \\<Longrightarrow>\n  the (usubstr \\<sigma> ((Cons A B), C)) = (Cons (the (usubstappf \\<sigma> allvars A)) (fst (the (usubstr \\<sigma> (B, C)))), snd (the (usubstr \\<sigma> ([A], C))))\"", "lemma usubstr_union: \"(usubstr \\<sigma> ((append A B), C) \\<noteq> None) \\<Longrightarrow>\n  the (usubstr \\<sigma> ((append A B), C)) = (append (fst (the (usubstr \\<sigma> (A, C)))) (fst (the (usubstr \\<sigma> (B, C)))), snd (the (usubstr \\<sigma> (A, C))))\"", "lemma usubstr_length: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow> length (fst (the (usubstr \\<sigma> R))) = length (fst R)\"", "lemma usubstr_nth: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow> 0\\<le>k \\<Longrightarrow> k<length (fst R) \\<Longrightarrow>\n   nth (fst (the (usubstr \\<sigma> R))) k = the (usubstappf \\<sigma> allvars (nth (fst R) k))\"", "theorem usubst_rule_sound: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow> locally_sound R \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))\""], "translations": [["", "lemma undeft_None: \"undeft=None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. undeft = undeft", "by simp"], ["", "lemma Aterm_Some: \"Aterm \\<theta>=Some \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Aterm \\<theta> = Aterm \\<theta>", "by simp"], ["", "lemma undeft_equiv: \"(\\<theta>\\<noteq>undeft) = (\\<exists>t. \\<theta>=Aterm t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<theta> \\<noteq> undeft) = (\\<exists>t. \\<theta> = Aterm t)", "by simp"], ["", "text \\<open>Plus on defined terms, strict undeft otherwise \\<close>"], ["", "fun Pluso :: \"trmo \\<Rightarrow> trmo \\<Rightarrow> trmo\"\nwhere\n  \"Pluso (Aterm \\<theta>) (Aterm \\<eta>) = Aterm(Plus \\<theta> \\<eta>)\"\n| \"Pluso undeft \\<eta> = undeft\"\n| \"Pluso \\<theta> undeft = undeft\""], ["", "text \\<open>Times on defined terms, strict undeft otherwise \\<close>"], ["", "fun Timeso :: \"trmo \\<Rightarrow> trmo \\<Rightarrow> trmo\"\nwhere\n  \"Timeso (Aterm \\<theta>) (Aterm \\<eta>) = Aterm(Times \\<theta> \\<eta>)\"\n| \"Timeso undeft \\<eta> = undeft\"\n| \"Timeso \\<theta> undeft = undeft\""], ["", "fun Differentialo :: \"trmo \\<Rightarrow> trmo\"\nwhere\n  \"Differentialo (Aterm \\<theta>) = Aterm(Differential \\<theta>)\"\n| \"Differentialo undeft = undeft\""], ["", "lemma Pluso_undef: \"(Pluso \\<theta> \\<eta> = undeft) = (\\<theta>=undeft \\<or> \\<eta>=undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Pluso \\<theta> \\<eta> = undeft) =\n    (\\<theta> = undeft \\<or> \\<eta> = undeft)", "by (metis Pluso.elims option.distinct(1))"], ["", "lemma Timeso_undef: \"(Timeso \\<theta> \\<eta> = undeft) = (\\<theta>=undeft \\<or> \\<eta>=undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Timeso \\<theta> \\<eta> = undeft) =\n    (\\<theta> = undeft \\<or> \\<eta> = undeft)", "by (metis Timeso.elims option.distinct(1))"], ["", "lemma Differentialo_undef: \"(Differentialo \\<theta> = undeft) = (\\<theta>=undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Differentialo \\<theta> = undeft) = (\\<theta> = undeft)", "by (metis Differentialo.elims option.distinct(1))"], ["", "type_synonym fmlo = \"fml option\""], ["", "abbreviation undeff:: fmlo where \"undeff \\<equiv> None\""], ["", "abbreviation Afml:: \"fml \\<Rightarrow> fmlo\" where \"Afml \\<equiv> Some\""], ["", "type_synonym gameo = \"game option\""], ["", "abbreviation undefg:: gameo where \"undefg \\<equiv> None\""], ["", "abbreviation Agame:: \"game \\<Rightarrow> gameo\" where \"Agame \\<equiv> Some\""], ["", "lemma undeff_equiv: \"(\\<phi>\\<noteq>undeff) = (\\<exists>f. \\<phi>=Afml f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<noteq> undeff) = (\\<exists>f. \\<phi> = Afml f)", "by simp"], ["", "lemma undefg_equiv: \"(\\<alpha>\\<noteq>undefg) = (\\<exists>g. \\<alpha>=Agame g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<alpha> \\<noteq> undefg) = (\\<exists>g. \\<alpha> = Agame g)", "by simp"], ["", "text \\<open>Geq on defined terms, strict undeft otherwise \\<close>"], ["", "fun Geqo :: \"trmo \\<Rightarrow> trmo \\<Rightarrow> fmlo\"\nwhere\n  \"Geqo (Aterm \\<theta>) (Aterm \\<eta>) = Afml(Geq \\<theta> \\<eta>)\"\n| \"Geqo undeft \\<eta> = undeff\"\n| \"Geqo \\<theta> undeft = undeff\""], ["", "text \\<open>Not on defined formulas, strict undeft otherwise \\<close>"], ["", "fun Noto :: \"fmlo \\<Rightarrow> fmlo\"\nwhere\n  \"Noto (Afml \\<phi>) = Afml(Not \\<phi>)\"\n| \"Noto undeff = undeff\""], ["", "text \\<open>And on defined formulas, strict undeft otherwise \\<close>"], ["", "fun Ando :: \"fmlo \\<Rightarrow> fmlo \\<Rightarrow> fmlo\"\nwhere\n  \"Ando (Afml \\<phi>) (Afml \\<psi>) = Afml(And \\<phi> \\<psi>)\"\n| \"Ando undeff \\<psi> = undeff\"\n| \"Ando \\<phi> undeff = undeff\""], ["", "text \\<open>Exists on defined formulas, strict undeft otherwise \\<close>"], ["", "fun Existso :: \"variable \\<Rightarrow> fmlo \\<Rightarrow> fmlo\"\nwhere\n  \"Existso x (Afml \\<phi>) = Afml(Exists x \\<phi>)\"\n| \"Existso x undeff = undeff\""], ["", "text \\<open>Diamond on defined games/formulas, strict undeft otherwise \\<close>"], ["", "fun Diamondo :: \"gameo \\<Rightarrow> fmlo \\<Rightarrow> fmlo\"\nwhere\n  \"Diamondo (Agame \\<alpha>) (Afml \\<phi>) = Afml(Diamond \\<alpha> \\<phi>)\"\n| \"Diamondo undefg \\<phi> = undeff\"\n| \"Diamondo \\<alpha> undeff = undeff\""], ["", "lemma Geqo_undef: \"(Geqo \\<theta> \\<eta> = undeff) = (\\<theta>=undeft \\<or> \\<eta>=undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Geqo \\<theta> \\<eta> = undeff) =\n    (\\<theta> = undeft \\<or> \\<eta> = undeft)", "by (metis Geqo.elims option.distinct(1))"], ["", "lemma Noto_undef: \"(Noto \\<phi> = undeff) = (\\<phi>=undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Noto \\<phi> = undeff) = (\\<phi> = undeff)", "by (metis Noto.elims option.distinct(1))"], ["", "lemma Ando_undef: \"(Ando \\<phi> \\<psi> = undeff) = (\\<phi>=undeff \\<or> \\<psi>=undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Ando \\<phi> \\<psi> = undeff) = (\\<phi> = undeff \\<or> \\<psi> = undeff)", "by (metis Ando.elims option.distinct(1))"], ["", "lemma Existso_undef: \"(Existso x \\<phi> = undeff) = (\\<phi>=undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Existso x \\<phi> = undeff) = (\\<phi> = undeff)", "by (metis Existso.elims option.distinct(1))"], ["", "lemma Diamondo_undef: \"(Diamondo \\<alpha> \\<phi> = undeff) = (\\<alpha>=undefg \\<or> \\<phi>=undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Diamondo \\<alpha> \\<phi> = undeff) =\n    (\\<alpha> = undefg \\<or> \\<phi> = undeff)", "by (metis Diamondo.elims option.distinct(1))"], ["", "text \\<open>Assign on defined terms, strict undefg otherwise \\<close>"], ["", "fun Assigno :: \"variable \\<Rightarrow> trmo \\<Rightarrow> gameo\"\nwhere\n  \"Assigno x (Aterm \\<theta>) = Agame(Assign x \\<theta>)\"\n| \"Assigno x undeft = undefg\""], ["", "fun ODEo :: \"ident \\<Rightarrow> trmo \\<Rightarrow> gameo\"\nwhere\n  \"ODEo x (Aterm \\<theta>) = Agame(ODE x \\<theta>)\"\n| \"ODEo x undeft = undefg\""], ["", "text \\<open>Test on defined formulas, strict undefg otherwise \\<close>"], ["", "fun Testo :: \"fmlo \\<Rightarrow> gameo\"\nwhere\n  \"Testo (Afml \\<phi>) = Agame(Test \\<phi>)\"\n| \"Testo undeff = undefg\""], ["", "text \\<open>Choice on defined games, strict undefg otherwise \\<close>"], ["", "fun Choiceo :: \"gameo \\<Rightarrow> gameo \\<Rightarrow> gameo\"\nwhere\n  \"Choiceo (Agame \\<alpha>) (Agame \\<beta>) = Agame(Choice \\<alpha> \\<beta>)\"\n| \"Choiceo \\<alpha> undefg = undefg\"\n| \"Choiceo undefg \\<beta> = undefg\""], ["", "text \\<open>Compose on defined games, strict undefg otherwise \\<close>"], ["", "fun Composeo :: \"gameo \\<Rightarrow> gameo \\<Rightarrow> gameo\"\nwhere\n  \"Composeo (Agame \\<alpha>) (Agame \\<beta>) = Agame(Compose \\<alpha> \\<beta>)\"\n| \"Composeo \\<alpha> undefg = undefg\"\n| \"Composeo undefg \\<beta> = undefg\""], ["", "text \\<open>Loop on defined games, strict undefg otherwise \\<close>"], ["", "fun Loopo :: \"gameo \\<Rightarrow> gameo\"\nwhere\n  \"Loopo (Agame \\<alpha>) = Agame(Loop \\<alpha>)\"\n| \"Loopo undefg = undefg\""], ["", "text \\<open>Dual on defined games, strict undefg otherwise \\<close>"], ["", "fun Dualo :: \"gameo \\<Rightarrow> gameo\"\nwhere\n  \"Dualo (Agame \\<alpha>) = Agame(Dual \\<alpha>)\"\n| \"Dualo undefg = undefg\""], ["", "lemma Assigno_undef: \"(Assigno x \\<theta> = undefg) = (\\<theta>=undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)", "by (metis Assigno.elims option.distinct(1))"], ["", "lemma ODEo_undef: \"(ODEo x \\<theta> = undefg) = (\\<theta>=undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ODEo x \\<theta> = undefg) = (\\<theta> = undeft)", "by (metis ODEo.elims option.distinct(1))"], ["", "lemma Testo_undef: \"(Testo \\<phi> = undefg) = (\\<phi>=undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Testo \\<phi> = undefg) = (\\<phi> = undeff)", "by (metis Testo.elims option.distinct(1))"], ["", "lemma Choiceo_undef: \"(Choiceo \\<alpha> \\<beta> = undefg) = (\\<alpha>=undefg \\<or> \\<beta>=undefg)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Choiceo \\<alpha> \\<beta> = undefg) =\n    (\\<alpha> = undefg \\<or> \\<beta> = undefg)", "by (metis Choiceo.elims option.distinct(1))"], ["", "lemma Composeo_undef: \"(Composeo \\<alpha> \\<beta> = undefg) = (\\<alpha>=undefg \\<or> \\<beta>=undefg)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Composeo \\<alpha> \\<beta> = undefg) =\n    (\\<alpha> = undefg \\<or> \\<beta> = undefg)", "by (metis Composeo.elims option.distinct(1))"], ["", "lemma Loopo_undef: \"(Loopo \\<alpha> = undefg) = (\\<alpha>=undefg)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Loopo \\<alpha> = undefg) = (\\<alpha> = undefg)", "by (metis Loopo.elims option.distinct(1))"], ["", "lemma Dualo_undef: \"(Dualo \\<alpha> = undefg) = (\\<alpha>=undefg)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Dualo \\<alpha> = undefg) = (\\<alpha> = undefg)", "by (metis Dualo.elims option.distinct(1))"], ["", "subsection \\<open>Recursive Application of One-Pass Uniform Substitution\\<close>"], ["", "text \\<open>\\<open>dotsubstt \\<theta>\\<close> is the dot substitution \\<open>{. ~> \\<theta>}\\<close> substituting a term for the . function symbol\\<close>"], ["", "definition dotsubstt:: \"trm \\<Rightarrow> usubst\"\n  where \"dotsubstt \\<theta> = (\n         (\\<lambda>f. (if f=dotid then (Some(\\<theta>)) else None)),\n         (\\<lambda>_. None),\n         (\\<lambda>_. None),\n         (\\<lambda>_. None)\n  )\""], ["", "definition usappconst:: \"usubst \\<Rightarrow> variable set \\<Rightarrow> ident \\<Rightarrow> (trmo)\"\nwhere \"usappconst \\<sigma> U f \\<equiv> (case SConst \\<sigma> f of Some r \\<Rightarrow> if FVT(r)\\<inter>U={} then Aterm(r) else undeft | None \\<Rightarrow> Aterm(Const f))\""], ["", "function usubstappt:: \"usubst \\<Rightarrow> variable set \\<Rightarrow> (trm \\<Rightarrow> trmo)\"\nwhere\n  \"usubstappt \\<sigma> U (Var x)     = Aterm (Var x)\"\n| \"usubstappt \\<sigma> U (Number r)  = Aterm (Number r)\"\n| \"usubstappt \\<sigma> U (Const f)   = usappconst \\<sigma> U f\"\n| \"usubstappt \\<sigma> U (Func f \\<theta>)  =\n  (case usubstappt \\<sigma> U \\<theta> of undeft   \\<Rightarrow> undeft\n                          | Aterm \\<sigma>\\<theta> \\<Rightarrow> (case SFuncs \\<sigma> f of Some r \\<Rightarrow> if FVT(r)\\<inter>U={} then usubstappt(dotsubstt \\<sigma>\\<theta>) {} r else undeft | None \\<Rightarrow> Aterm(Func f \\<sigma>\\<theta>)))\"\n| \"usubstappt \\<sigma> U (Plus \\<theta> \\<eta>)  = Pluso (usubstappt \\<sigma> U \\<theta>) (usubstappt \\<sigma> U \\<eta>)\"\n| \"usubstappt \\<sigma> U (Times \\<theta> \\<eta>) = Timeso (usubstappt \\<sigma> U \\<theta>) (usubstappt \\<sigma> U \\<eta>)\"\n| \"usubstappt \\<sigma> U (Differential \\<theta>) = Differentialo (usubstappt \\<sigma> allvars \\<theta>)\""], ["proof (prove)\ngoal (29 subgoals):\n 1. \\<And>P x.\n       \\<lbrakk>\\<And>\\<sigma> U xa.\n                   x = (\\<sigma>, U, Var xa) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U r. x = (\\<sigma>, U, Number r) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U f. x = (\\<sigma>, U, Const f) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U f \\<theta>.\n           x = (\\<sigma>, U, trm.Func f \\<theta>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<theta> \\<eta>.\n           x = (\\<sigma>, U, Plus \\<theta> \\<eta>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<theta> \\<eta>.\n           x = (\\<sigma>, U, Times \\<theta> \\<eta>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<theta>.\n           x = (\\<sigma>, U, Differential \\<theta>) \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<sigma> U x \\<sigma>' Ua xa.\n       (\\<sigma>, U, Var x) = (\\<sigma>', Ua, Var xa) \\<Longrightarrow>\n       Aterm (Var x) = Aterm (Var xa)\n 3. \\<And>\\<sigma> U x \\<sigma>' Ua r.\n       (\\<sigma>, U, Var x) = (\\<sigma>', Ua, Number r) \\<Longrightarrow>\n       Aterm (Var x) = Aterm (Number r)\n 4. \\<And>\\<sigma> U x \\<sigma>' Ua f.\n       (\\<sigma>, U, Var x) = (\\<sigma>', Ua, Const f) \\<Longrightarrow>\n       Aterm (Var x) = usappconst \\<sigma>' Ua f\n 5. \\<And>\\<sigma> U x \\<sigma>' Ua f \\<theta>.\n       (\\<sigma>, U, Var x) =\n       (\\<sigma>', Ua, trm.Func f \\<theta>) \\<Longrightarrow>\n       Aterm (Var x) =\n       (case usubstappt_sumC (\\<sigma>', Ua, \\<theta>) of\n        None \\<Rightarrow> undeft\n        | Some \\<sigma>\\<theta> \\<Rightarrow>\n            case SFuncs \\<sigma>' f of\n            None \\<Rightarrow> Aterm (trm.Func f \\<sigma>\\<theta>)\n            | Some r \\<Rightarrow>\n                if FVT r \\<inter> Ua = {}\n                then usubstappt_sumC (dotsubstt \\<sigma>\\<theta>, {}, r)\n                else undeft)\n 6. \\<And>\\<sigma> U x \\<sigma>' Ua \\<theta> \\<eta>.\n       (\\<sigma>, U, Var x) =\n       (\\<sigma>', Ua, Plus \\<theta> \\<eta>) \\<Longrightarrow>\n       Aterm (Var x) =\n       Pluso (usubstappt_sumC (\\<sigma>', Ua, \\<theta>))\n        (usubstappt_sumC (\\<sigma>', Ua, \\<eta>))\n 7. \\<And>\\<sigma> U x \\<sigma>' Ua \\<theta> \\<eta>.\n       (\\<sigma>, U, Var x) =\n       (\\<sigma>', Ua, Times \\<theta> \\<eta>) \\<Longrightarrow>\n       Aterm (Var x) =\n       Timeso (usubstappt_sumC (\\<sigma>', Ua, \\<theta>))\n        (usubstappt_sumC (\\<sigma>', Ua, \\<eta>))\n 8. \\<And>\\<sigma> U x \\<sigma>' Ua \\<theta>.\n       (\\<sigma>, U, Var x) =\n       (\\<sigma>', Ua, Differential \\<theta>) \\<Longrightarrow>\n       Aterm (Var x) =\n       Differentialo\n        (usubstappt_sumC\n          (\\<sigma>', Denotational_Semantics.allvars, \\<theta>))\n 9. \\<And>\\<sigma> U r \\<sigma>' Ua ra.\n       (\\<sigma>, U, Number r) =\n       (\\<sigma>', Ua, Number ra) \\<Longrightarrow>\n       Aterm (Number r) = Aterm (Number ra)\n 10. \\<And>\\<sigma> U r \\<sigma>' Ua f.\n        (\\<sigma>, U, Number r) = (\\<sigma>', Ua, Const f) \\<Longrightarrow>\n        Aterm (Number r) = usappconst \\<sigma>' Ua f\nA total of 29 subgoals...", "by pat_completeness auto"], ["", "termination"], ["proof (prove)\ngoal (1 subgoal):\n 1. All usubstappt_dom", "by (relation \"measures [\\<lambda>(\\<sigma>,U,\\<theta>). usubstsize \\<sigma> , \\<lambda>(\\<sigma>,U,\\<theta>). size \\<theta>]\")\n  (auto simp add: usubstsize_def dotsubstt_def)"], ["", "(* Expand let constructs automatically *)"], ["", "declare Let_def [simp]"], ["", "function usubstappf:: \"usubst \\<Rightarrow> variable set \\<Rightarrow> (fml \\<Rightarrow> fmlo)\"\n     and usubstappp:: \"usubst \\<Rightarrow> variable set \\<Rightarrow> (game \\<Rightarrow> variable set \\<times> gameo)\"\nwhere\n  \"usubstappf \\<sigma> U (Pred p \\<theta>)   = \n  (case usubstappt \\<sigma> U \\<theta> of undeft   \\<Rightarrow> undeff\n                          | Aterm \\<sigma>\\<theta> \\<Rightarrow> (case SPreds \\<sigma> p of Some r \\<Rightarrow> if FVF(r)\\<inter>U={} then usubstappf(dotsubstt \\<sigma>\\<theta>) {} r else undeff | None \\<Rightarrow> Afml(Pred p \\<sigma>\\<theta>)))\"\n| \"usubstappf \\<sigma> U (Geq \\<theta> \\<eta>)    = Geqo (usubstappt \\<sigma> U \\<theta>) (usubstappt \\<sigma> U \\<eta>)\"\n| \"usubstappf \\<sigma> U (Not \\<phi>)      = Noto (usubstappf \\<sigma> U \\<phi>)\"\n| \"usubstappf \\<sigma> U (And \\<phi> \\<psi>)    = Ando (usubstappf \\<sigma> U \\<phi>) (usubstappf \\<sigma> U \\<psi>)\"\n| \"usubstappf \\<sigma> U (Exists x \\<phi>) = Existso x (usubstappf \\<sigma> (U\\<union>{x}) \\<phi>)\"\n| \"usubstappf \\<sigma> U (Diamond \\<alpha> \\<phi>) = (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha> in Diamondo (snd V\\<alpha>) (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>))\"\n\n| \"usubstappp \\<sigma> U (Game a)   =\n  (case SGames \\<sigma> a of Some r \\<Rightarrow> (U\\<union>BVG(r),Agame r)\n                    | None   \\<Rightarrow> (allvars,Agame(Game a)))\"\n| \"usubstappp \\<sigma> U (Assign x \\<theta>) = (U\\<union>{x}, Assigno x (usubstappt \\<sigma> U \\<theta>))\"\n| \"usubstappp \\<sigma> U (Test \\<phi>) = (U, Testo (usubstappf \\<sigma> U \\<phi>))\"\n| \"usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>) =\n    (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha> in\n     let W\\<beta> = usubstappp \\<sigma> U \\<beta> in\n     (fst V\\<alpha>\\<union>fst W\\<beta>, Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\"\n| \"usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>) =\n    (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha> in\n     let W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta> in\n     (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\"\n| \"usubstappp \\<sigma> U (Loop \\<alpha>) =\n    (let V = fst(usubstappp \\<sigma> U \\<alpha>) in\n     (V, Loopo (snd(usubstappp \\<sigma> V \\<alpha>))))\"\n| \"usubstappp \\<sigma> U (Dual \\<alpha>) =\n    (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha> in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\"\n| \"usubstappp \\<sigma> U (ODE x \\<theta>) = (U\\<union>{RVar x,DVar x}, ODEo x (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>))\""], ["proof (prove)\ngoal (106 subgoals):\n 1. \\<And>P x.\n       \\<lbrakk>\\<And>\\<sigma> U p \\<theta>.\n                   x = Inl (\\<sigma>, U, Pred p \\<theta>) \\<Longrightarrow>\n                   P;\n        \\<And>\\<sigma> U \\<theta> \\<eta>.\n           x = Inl (\\<sigma>, U, Geq \\<theta> \\<eta>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<phi>.\n           x = Inl (\\<sigma>, U, ! \\<phi>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<phi> \\<psi>.\n           x = Inl (\\<sigma>, U, \\<phi> && \\<psi>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U xa \\<phi>.\n           x = Inl (\\<sigma>, U, Exists xa \\<phi>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<alpha> \\<phi>.\n           x =\n           Inl (\\<sigma>, U,\n                \\<langle> \\<alpha> \\<rangle> \\<phi>) \\<Longrightarrow>\n           P;\n        \\<And>\\<sigma> U a.\n           x = Inr (\\<sigma>, U, Game a) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U xa \\<theta>.\n           x = Inr (\\<sigma>, U, xa := \\<theta>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<phi>.\n           x = Inr (\\<sigma>, U, ? \\<phi>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<alpha> \\<beta>.\n           x =\n           Inr (\\<sigma>, U,\n                \\<alpha> \\<union>\\<union> \\<beta>) \\<Longrightarrow>\n           P;\n        \\<And>\\<sigma> U \\<alpha> \\<beta>.\n           x = Inr (\\<sigma>, U, \\<alpha> ;; \\<beta>) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<alpha>.\n           x = Inr (\\<sigma>, U, \\<alpha>**) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U \\<alpha>.\n           x = Inr (\\<sigma>, U, \\<alpha>^d) \\<Longrightarrow> P;\n        \\<And>\\<sigma> U xa \\<theta>.\n           x = Inr (\\<sigma>, U, ODE xa \\<theta>) \\<Longrightarrow>\n           P\\<rbrakk>\n       \\<Longrightarrow> P\n 2. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua pa \\<theta>'.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inl (\\<sigma>', Ua, Pred pa \\<theta>') \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inl (case usubstappt \\<sigma>' Ua \\<theta>' of\n            None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma>' pa of\n                None \\<Rightarrow> Afml (Pred pa \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> Ua = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff)\n 3. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua \\<theta>' \\<eta>.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inl (\\<sigma>', Ua, Geq \\<theta>' \\<eta>) \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inl (Geqo (usubstappt \\<sigma>' Ua \\<theta>')\n             (usubstappt \\<sigma>' Ua \\<eta>))\n 4. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua \\<phi>.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inl (\\<sigma>', Ua, ! \\<phi>) \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inl (Noto\n             (projl\n               (usubstappf_usubstappp_sumC (Inl (\\<sigma>', Ua, \\<phi>)))))\n 5. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua \\<phi> \\<psi>.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inl (\\<sigma>', Ua, \\<phi> && \\<psi>) \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inl (Ando\n             (projl\n               (usubstappf_usubstappp_sumC (Inl (\\<sigma>', Ua, \\<phi>))))\n             (projl\n               (usubstappf_usubstappp_sumC (Inl (\\<sigma>', Ua, \\<psi>)))))\n 6. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua x \\<phi>.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inl (\\<sigma>', Ua, Exists x \\<phi>) \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inl (Existso x\n             (projl\n               (usubstappf_usubstappp_sumC\n                 (Inl (\\<sigma>', Ua \\<union> {x}, \\<phi>)))))\n 7. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua \\<alpha> \\<phi>.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inl (\\<sigma>', Ua,\n            \\<langle> \\<alpha> \\<rangle> \\<phi>) \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inl (let V\\<alpha> =\n                  projr\n                   (usubstappf_usubstappp_sumC\n                     (Inr (\\<sigma>', Ua, \\<alpha>)))\n            in Diamondo (snd V\\<alpha>)\n                (projl\n                  (usubstappf_usubstappp_sumC\n                    (Inl (\\<sigma>', fst V\\<alpha>, \\<phi>)))))\n 8. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua a.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inr (\\<sigma>', Ua, Game a) \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inr (case SGames \\<sigma>' a of\n            None \\<Rightarrow>\n              (Denotational_Semantics.allvars, Agame (Game a))\n            | Some r \\<Rightarrow> (Ua \\<union> BVG r, Agame r))\n 9. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua x \\<theta>'.\n       Inl (\\<sigma>, U, Pred p \\<theta>) =\n       Inr (\\<sigma>', Ua, x := \\<theta>') \\<Longrightarrow>\n       Inl (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n            | Some \\<sigma>\\<theta> \\<Rightarrow>\n                case SPreds \\<sigma> p of\n                None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                | Some r \\<Rightarrow>\n                    if FVF r \\<inter> U = {}\n                    then projl\n                          (usubstappf_usubstappp_sumC\n                            (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                    else undeff) =\n       Inr (Ua \\<union> {x}, Assigno x (usubstappt \\<sigma>' Ua \\<theta>'))\n 10. \\<And>\\<sigma> U p \\<theta> \\<sigma>' Ua \\<phi>.\n        Inl (\\<sigma>, U, Pred p \\<theta>) =\n        Inr (\\<sigma>', Ua, ? \\<phi>) \\<Longrightarrow>\n        Inl (case usubstappt \\<sigma> U \\<theta> of\n             None \\<Rightarrow> undeff\n             | Some \\<sigma>\\<theta> \\<Rightarrow>\n                 case SPreds \\<sigma> p of\n                 None \\<Rightarrow> Afml (Pred p \\<sigma>\\<theta>)\n                 | Some r \\<Rightarrow>\n                     if FVF r \\<inter> U = {}\n                     then projl\n                           (usubstappf_usubstappp_sumC\n                             (Inl (dotsubstt \\<sigma>\\<theta>, {}, r)))\n                     else undeff) =\n        Inr (Ua,\n             Testo\n              (projl\n                (usubstappf_usubstappp_sumC (Inl (\\<sigma>', Ua, \\<phi>)))))\nA total of 106 subgoals...", "by pat_completeness auto"], ["", "termination"], ["proof (prove)\ngoal (1 subgoal):\n 1. All usubstappf_usubstappp_dom", "by (relation \"measures [(\\<lambda>k. usubstsize (case k of Inl(\\<sigma>,U,\\<phi>) \\<Rightarrow> \\<sigma> | Inr(\\<sigma>,U,\\<alpha>) \\<Rightarrow> \\<sigma>)) , (\\<lambda>k. case k of Inl (\\<sigma>,U,\\<phi>) \\<Rightarrow> size \\<phi> | Inr (\\<sigma>,U,\\<alpha>) \\<Rightarrow> size \\<alpha>)]\") \n  (auto simp add: usubstsize_def dotsubstt_def)"], ["", "text \\<open>Induction Principles for Uniform Substitutions\\<close>"], ["", "lemmas usubstappt_induct = usubstappt.induct [case_names Var Number Const FuncMatch Plus Times Differential]"], ["", "lemmas usubstappfp_induct = usubstappf_usubstappp.induct [case_names Pred Geq Not And Exists Diamond  Game Assign Test Choice Compose Loop Dual ODE]"], ["", "paragraph \\<open>Simple Observations for Automation\\<close>"], ["", "text \\<open>More automation for Case\\<close>"], ["", "lemma usappconst_simp [simp]: \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U={} \\<Longrightarrow> usappconst \\<sigma> U f = Aterm(r)\"\n  and \"SConst \\<sigma> f = None \\<Longrightarrow> usappconst \\<sigma> U f = Aterm(Const f)\"\n  and \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usappconst \\<sigma> U f = undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>SConst \\<sigma> f = Aterm r; FVT r \\<inter> U = {}\\<rbrakk>\n     \\<Longrightarrow> usappconst \\<sigma> U f = Aterm r) &&&\n    (SConst \\<sigma> f = undeft \\<Longrightarrow>\n     usappconst \\<sigma> U f = Aterm (Const f)) &&&\n    (\\<lbrakk>SConst \\<sigma> f = Aterm r;\n      FVT r \\<inter> U \\<noteq> {}\\<rbrakk>\n     \\<Longrightarrow> usappconst \\<sigma> U f = undeft)", "unfolding usappconst_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>SConst \\<sigma> f = Aterm r; FVT r \\<inter> U = {}\\<rbrakk>\n     \\<Longrightarrow> (case SConst \\<sigma> f of\n                        None \\<Rightarrow> Aterm (Const f)\n                        | Some r \\<Rightarrow>\n                            if FVT r \\<inter> U = {} then Aterm r\n                            else undeft) =\n                       Aterm r) &&&\n    (SConst \\<sigma> f = undeft \\<Longrightarrow>\n     (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n      | Some r \\<Rightarrow>\n          if FVT r \\<inter> U = {} then Aterm r else undeft) =\n     Aterm (Const f)) &&&\n    (\\<lbrakk>SConst \\<sigma> f = Aterm r;\n      FVT r \\<inter> U \\<noteq> {}\\<rbrakk>\n     \\<Longrightarrow> (case SConst \\<sigma> f of\n                        None \\<Rightarrow> Aterm (Const f)\n                        | Some r \\<Rightarrow>\n                            if FVT r \\<inter> U = {} then Aterm r\n                            else undeft) =\n                       undeft)", "by auto"], ["", "lemma usappconst_conv: \"usappconst \\<sigma> U f\\<noteq>undeft \\<Longrightarrow>\n  SConst \\<sigma> f = None \\<or> (\\<exists>r. SConst \\<sigma> f = Some r \\<and> FVT(r)\\<inter>U={})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usappconst \\<sigma> U f \\<noteq> undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "(*by (smt option.case_eq_if option.collapse usappconst_def)*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. usappconst \\<sigma> U f \\<noteq> undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. usappconst \\<sigma> U f \\<noteq> undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "assume as: \"usappconst \\<sigma> U f\\<noteq>undeft\""], ["proof (state)\nthis:\n  usappconst \\<sigma> U f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usappconst \\<sigma> U f \\<noteq> undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "show \"SConst \\<sigma> f = None \\<or> (\\<exists>r. SConst \\<sigma> f = Some r \\<and> FVT(r)\\<inter>U={})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "proof (cases \"SConst \\<sigma> f\")"], ["proof (state)\ngoal (2 subgoals):\n 1. SConst \\<sigma> f = undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})\n 2. \\<And>a.\n       SConst \\<sigma> f = Aterm a \\<Longrightarrow>\n       SConst \\<sigma> f = undeft \\<or>\n       (\\<exists>r.\n           SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "case None"], ["proof (state)\nthis:\n  SConst \\<sigma> f = undeft\n\ngoal (2 subgoals):\n 1. SConst \\<sigma> f = undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})\n 2. \\<And>a.\n       SConst \\<sigma> f = Aterm a \\<Longrightarrow>\n       SConst \\<sigma> f = undeft \\<or>\n       (\\<exists>r.\n           SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f = undeft", "show ?thesis"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = undeft\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "by auto"], ["proof (state)\nthis:\n  SConst \\<sigma> f = undeft \\<or>\n  (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       SConst \\<sigma> f = Aterm a \\<Longrightarrow>\n       SConst \\<sigma> f = undeft \\<or>\n       (\\<exists>r.\n           SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       SConst \\<sigma> f = Aterm a \\<Longrightarrow>\n       SConst \\<sigma> f = undeft \\<or>\n       (\\<exists>r.\n           SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "case (Some a)"], ["proof (state)\nthis:\n  SConst \\<sigma> f = Aterm a\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       SConst \\<sigma> f = Aterm a \\<Longrightarrow>\n       SConst \\<sigma> f = undeft \\<or>\n       (\\<exists>r.\n           SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f = Aterm a", "show ?thesis"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = Aterm a\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "using as usappconst_def[where \\<sigma>=\\<sigma> and U=U and f=f] option.distinct(1)"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = Aterm a\n  usappconst \\<sigma> U f \\<noteq> undeft\n  usappconst \\<sigma> U f \\<equiv>\n  case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n  | Some r \\<Rightarrow> if FVT r \\<inter> U = {} then Aterm r else undeft\n  None \\<noteq> Some ?x2.0\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "by fastforce"], ["proof (state)\nthis:\n  SConst \\<sigma> f = undeft \\<or>\n  (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SConst \\<sigma> f = undeft \\<or>\n  (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubstappt_const [simp]: \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U={} \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = Aterm(r)\"\n  and \"SConst \\<sigma> f = None \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = Aterm(Const f)\"\n  and \"SConst \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>SConst \\<sigma> f = Aterm r; FVT r \\<inter> U = {}\\<rbrakk>\n     \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = Aterm r) &&&\n    (SConst \\<sigma> f = undeft \\<Longrightarrow>\n     usubstappt \\<sigma> U (Const f) = Aterm (Const f)) &&&\n    (\\<lbrakk>SConst \\<sigma> f = Aterm r;\n      FVT r \\<inter> U \\<noteq> {}\\<rbrakk>\n     \\<Longrightarrow> usubstappt \\<sigma> U (Const f) = undeft)", "by (auto simp add: usappconst_def)"], ["", "lemma usubstappt_const_conv: \"usubstappt \\<sigma> U (Const f)\\<noteq>undeft \\<Longrightarrow>\n  SConst \\<sigma> f = None \\<or> (\\<exists>r. SConst \\<sigma> f = Some r \\<and> FVT(r)\\<inter>U={})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) \\<noteq> undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "using usappconst_conv"], ["proof (prove)\nusing this:\n  usappconst ?\\<sigma> ?U ?f \\<noteq> undeft \\<Longrightarrow>\n  SConst ?\\<sigma> ?f = undeft \\<or>\n  (\\<exists>r. SConst ?\\<sigma> ?f = Aterm r \\<and> FVT r \\<inter> ?U = {})\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) \\<noteq> undeft \\<Longrightarrow>\n    SConst \\<sigma> f = undeft \\<or>\n    (\\<exists>r. SConst \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {})", "by auto"], ["", "lemma usubstappt_func [simp]: \"SFuncs \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U={} \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow>\n  usubstappt \\<sigma> U (Func f \\<theta>) = usubstappt (dotsubstt \\<sigma>\\<theta>) {} r\"\n  and \"SFuncs \\<sigma> f=None \\<Longrightarrow>  usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow> usubstappt \\<sigma> U (Func f \\<theta>) = Aterm(Func f \\<sigma>\\<theta>)\"\n  and \"usubstappt \\<sigma> U \\<theta> = undeft \\<Longrightarrow> usubstappt \\<sigma> U (Func f \\<theta>) = undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n      usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n     \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                       usubstappt (dotsubstt \\<sigma>\\<theta>) {} r) &&&\n    (\\<lbrakk>SFuncs \\<sigma> f = undeft;\n      usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n     \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                       Aterm (trm.Func f \\<sigma>\\<theta>)) &&&\n    (usubstappt \\<sigma> U \\<theta> = undeft \\<Longrightarrow>\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) = undeft)", "by auto"], ["", "lemma usubstappt_func2 [simp]: \"SFuncs \\<sigma> f = Some r \\<Longrightarrow> FVT(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usubstappt \\<sigma> U (Func f \\<theta>) = undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>SFuncs \\<sigma> f = Aterm r;\n     FVT r \\<inter> U \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) = undeft", "by (cases \"usubstappt \\<sigma> U \\<theta>\") (auto)"], ["", "lemma usubstappt_func_conv: \"usubstappt \\<sigma> U (Func f \\<theta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    (SFuncs \\<sigma> f = None \\<or> (\\<exists>r. SFuncs \\<sigma> f = Some r \\<and> FVT(r)\\<inter>U={}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n    undeft \\<Longrightarrow>\n    usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    (SFuncs \\<sigma> f = undeft \\<or>\n     (\\<exists>r. SFuncs \\<sigma> f = Aterm r \\<and> FVT r \\<inter> U = {}))", "by (metis (lifting) option.simps(4) undeft_equiv usubstappt.simps(4) usubstappt_func2)"], ["", "(*by (cases \"usubstappt \\<sigma> U \\<theta>\") (auto) *)"], ["", "lemma usubstappt_plus_conv: \"usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq>\n    undeft \\<Longrightarrow>\n    usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    usubstappt \\<sigma> U \\<eta> \\<noteq> undeft", "by (simp add: Pluso_undef)"], ["", "lemma usubstappt_times_conv: \"usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq>\n    undeft \\<Longrightarrow>\n    usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    usubstappt \\<sigma> U \\<eta> \\<noteq> undeft", "by (simp add: Timeso_undef)"], ["", "lemma usubstappt_differential_conv: \"usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> allvars \\<theta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n    undeft \\<Longrightarrow>\n    usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta> \\<noteq>\n    undeft", "by (simp add: Differentialo_undef)"], ["", "lemma usubstappf_pred [simp]: \"SPreds \\<sigma> p = Some r \\<Longrightarrow> FVF(r)\\<inter>U={} \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) = usubstappf (dotsubstt \\<sigma>\\<theta>) {} r\"\n  and \"SPreds \\<sigma> p = None \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta> \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = Afml(Pred p \\<sigma>\\<theta>)\"\n  and \"usubstappt \\<sigma> U \\<theta> = undeft \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = undeff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n      usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n     \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                       usubstappf (dotsubstt \\<sigma>\\<theta>) {} r) &&&\n    (\\<lbrakk>SPreds \\<sigma> p = undeff;\n      usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n     \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                       Afml (Pred p \\<sigma>\\<theta>)) &&&\n    (usubstappt \\<sigma> U \\<theta> = undeft \\<Longrightarrow>\n     usubstappf \\<sigma> U (Pred p \\<theta>) = undeff)", "by auto"], ["", "lemma usubstappf_pred2 [simp]: \"SPreds \\<sigma> p = Some r \\<Longrightarrow> FVF(r)\\<inter>U\\<noteq>{} \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = undeff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = Afml r;\n     FVF r \\<inter> U \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = undeff", "by (cases \"usubstappt \\<sigma> U \\<theta>\") (auto)"], ["", "lemma usubstappf_pred_conv: \"usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    (SPreds \\<sigma> p = None \\<or> (\\<exists>r. SPreds \\<sigma> p = Some r \\<and> FVF(r)\\<inter>U={}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n    undeff \\<Longrightarrow>\n    usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    (SPreds \\<sigma> p = undeff \\<or>\n     (\\<exists>r. SPreds \\<sigma> p = Afml r \\<and> FVF r \\<inter> U = {}))", "by (metis (lifting) option.simps(4) undeff_equiv usubstappf.simps(1) usubstappf_pred2)"], ["", "lemma usubstappf_geq: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft \\<Longrightarrow>\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) = Afml(Geq (the (usubstappt \\<sigma> U \\<theta>)) (the (usubstappt \\<sigma> U \\<eta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n     usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) =\n                      Afml\n                       (Geq (the (usubstappt \\<sigma> U \\<theta>))\n                         (the (usubstappt \\<sigma> U \\<eta>)))", "by fastforce"], ["", "lemma usubstappf_geq_conv: \"usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and> usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq>\n    undeff \\<Longrightarrow>\n    usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<and>\n    usubstappt \\<sigma> U \\<eta> \\<noteq> undeft", "by (simp add: Geqo_undef)"], ["", "lemma usubstappf_geqr: \"usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) = Afml(Geq (the (usubstappt \\<sigma> U \\<theta>)) (the (usubstappt \\<sigma> U \\<eta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq>\n    undeff \\<Longrightarrow>\n    usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) =\n    Afml\n     (Geq (the (usubstappt \\<sigma> U \\<theta>))\n       (the (usubstappt \\<sigma> U \\<eta>)))", "using usubstappf_geq usubstappf_geq_conv"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft;\n   usubstappt ?\\<sigma> ?U ?\\<eta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U (Geq ?\\<theta> ?\\<eta>) =\n                    Afml\n                     (Geq (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                       (the (usubstappt ?\\<sigma> ?U ?\\<eta>)))\n  usubstappf ?\\<sigma> ?U (Geq ?\\<theta> ?\\<eta>) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft \\<and>\n  usubstappt ?\\<sigma> ?U ?\\<eta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq>\n    undeff \\<Longrightarrow>\n    usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) =\n    Afml\n     (Geq (the (usubstappt \\<sigma> U \\<theta>))\n       (the (usubstappt \\<sigma> U \\<eta>)))", "by blast"], ["", "lemma usubstappf_exists: \"usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff \\<Longrightarrow>\n  usubstappf \\<sigma> U (Exists x \\<phi>) = Afml(Exists x (the (usubstappf \\<sigma> (U\\<union>{x}) \\<phi>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq>\n    undeff \\<Longrightarrow>\n    usubstappf \\<sigma> U (Exists x \\<phi>) =\n    Afml (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))", "using Existso_undef"], ["proof (prove)\nusing this:\n  (Existso ?x ?\\<phi> = undeff) = (?\\<phi> = undeff)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq>\n    undeff \\<Longrightarrow>\n    usubstappf \\<sigma> U (Exists x \\<phi>) =\n    Afml (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))", "by auto"], ["", "lemma usubstappp_game [simp]: \"SGames \\<sigma> a = Some r \\<Longrightarrow> usubstappp \\<sigma> U (Game a) = (U\\<union>BVG(r),Agame(r))\"\n  and \"SGames \\<sigma> a = None \\<Longrightarrow> usubstappp \\<sigma> U (Game a) = (allvars,Agame(Game a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SGames \\<sigma> a = Agame r \\<Longrightarrow>\n     usubstappp \\<sigma> U (Game a) = (U \\<union> BVG r, Agame r)) &&&\n    (SGames \\<sigma> a = undefg \\<Longrightarrow>\n     usubstappp \\<sigma> U (Game a) =\n     (Denotational_Semantics.allvars, Agame (Game a)))", "by auto"], ["", "lemma usubstappp_choice [simp]: \"usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>) =\n  (fst(usubstappp \\<sigma> U \\<alpha>)\\<union>fst(usubstappp \\<sigma> U \\<beta>), Choiceo (snd(usubstappp \\<sigma> U \\<alpha>)) (snd(usubstappp \\<sigma> U \\<beta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n    (fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n     fst (usubstappp \\<sigma> U \\<beta>),\n     Choiceo (snd (usubstappp \\<sigma> U \\<alpha>))\n      (snd (usubstappp \\<sigma> U \\<beta>)))", "by auto"], ["", "lemma usubstappp_choice_conv : \"snd(usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>)) \\<noteq> undefg \\<Longrightarrow>\n  snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and> snd(usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n    undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n    snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg", "by (simp add: Choiceo_undef)"], ["", "lemma usubstappp_compose [simp]: \"usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>) =\n  (fst(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<beta>), Composeo (snd(usubstappp \\<sigma> U \\<alpha>)) (snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n    (fst (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n           \\<beta>),\n     Composeo (snd (usubstappp \\<sigma> U \\<alpha>))\n      (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<beta>)))", "by simp"], ["", "lemma usubstappp_loop: \"usubstappp \\<sigma> U (Loop \\<alpha>) =\n  (fst(usubstappp \\<sigma> U \\<alpha>), Loopo (snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappp \\<sigma> U \\<alpha>** =\n    (fst (usubstappp \\<sigma> U \\<alpha>),\n     Loopo\n      (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))", "by auto"], ["", "lemma usubstappp_dual [simp]: \"usubstappp \\<sigma> U (Dual \\<alpha>) =\n  (fst(usubstappp \\<sigma> U \\<alpha>), Dualo (snd (usubstappp \\<sigma> U \\<alpha>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappp \\<sigma> U \\<alpha>^d =\n    (fst (usubstappp \\<sigma> U \\<alpha>),\n     Dualo (snd (usubstappp \\<sigma> U \\<alpha>)))", "by simp"], ["", "section \\<open>Soundness of Uniform Substitution\\<close>"], ["", "subsection \\<open>USubst Application is a Function of Deterministic Result\\<close>"], ["", "lemma usubstappt_det: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow> usubstappt \\<sigma> V \\<theta> \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n     usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                      usubstappt \\<sigma> V \\<theta>", "proof (induction \\<theta>)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Var x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Var x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Var x) =\n                         usubstappt \\<sigma> V (Var x)\n 2. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Number x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 3. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 4. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 7. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Var x)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n  usubstappt \\<sigma> V (Var x) \\<noteq> undeft\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Var x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Var x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Var x) =\n                         usubstappt \\<sigma> V (Var x)\n 2. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Number x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 3. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 4. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 7. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n  usubstappt \\<sigma> V (Var x) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n  usubstappt \\<sigma> V (Var x) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Var x) = usubstappt \\<sigma> V (Var x)", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Var x) = usubstappt \\<sigma> V (Var x)\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Number x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 2. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 3. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Number x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 2. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 3. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Number x)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Number x) \\<noteq> undeft\n  usubstappt \\<sigma> V (Number x) \\<noteq> undeft\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Number x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 2. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 3. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Number x) \\<noteq> undeft\n  usubstappt \\<sigma> V (Number x) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Number x) \\<noteq> undeft\n  usubstappt \\<sigma> V (Number x) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Number x) = usubstappt \\<sigma> V (Number x)", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Number x) = usubstappt \\<sigma> V (Number x)\n\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 2. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 2. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Const f)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  usubstappt \\<sigma> V (Const f) \\<noteq> undeft\n\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>usubstappt \\<sigma> U (Const x) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 2. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  usubstappt \\<sigma> V (Const f) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  usubstappt \\<sigma> V (Const f) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "(*by (smt option.case_eq_if usappconst_def usubstappt.simps(3))*)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  usubstappt \\<sigma> V (Const f) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "have f1: \"usubstappt \\<sigma> U (Const f) = (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f) | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then Aterm t else undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) =\n    (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {} then Aterm t else undeft)", "by (simp add: usappconst_def)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) =\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "have f2: \"\\<forall>z f za. if za = undeft then (case za of None \\<Rightarrow> z::trm option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeft\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by force"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)", "have \"SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow> (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {} then Aterm (the (SConst \\<sigma> f)) else undeft) = usappconst \\<sigma> U f\""], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n     then Aterm (the (SConst \\<sigma> f)) else undeft) =\n    usappconst \\<sigma> U f", "by (simp add: usappconst_def)"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> U f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> U f", "have f3: \"SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow> FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\""], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> U f\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    FVT (the (SConst \\<sigma> f)) \\<inter> U = {}", "by (metis Const.prems(1) usubstappt.simps(3))"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "have \"SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow> (if FVT (the (SConst \\<sigma> f)) \\<inter> V = {} then Aterm (the (SConst \\<sigma> f)) else undeft) = usappconst \\<sigma> V f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n     then Aterm (the (SConst \\<sigma> f)) else undeft) =\n    usappconst \\<sigma> V f", "using f2 usappconst_def"], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  usappconst ?\\<sigma> ?U ?f \\<equiv>\n  case SConst ?\\<sigma> ?f of None \\<Rightarrow> Aterm (Const ?f)\n  | Some r \\<Rightarrow> if FVT r \\<inter> ?U = {} then Aterm r else undeft\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n     then Aterm (the (SConst \\<sigma> f)) else undeft) =\n    usappconst \\<sigma> V f", "by presburger"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> V f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> V f", "have \"SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow> FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\""], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> V f\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    FVT (the (SConst \\<sigma> f)) \\<inter> V = {}", "by (metis (no_types) Const.prems(2) usubstappt.simps(3))"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}", "have f4: \"SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow> usubstappt \\<sigma> U (Const f) = usappconst \\<sigma> V f\""], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    usubstappt \\<sigma> U (Const f) = usappconst \\<sigma> V f", "using f3 f2 f1 usappconst_def"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  usubstappt \\<sigma> U (Const f) =\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then Aterm t else undeft)\n  usappconst ?\\<sigma> ?U ?f \\<equiv>\n  case SConst ?\\<sigma> ?f of None \\<Rightarrow> Aterm (Const ?f)\n  | Some r \\<Rightarrow> if FVT r \\<inter> ?U = {} then Aterm r else undeft\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    usubstappt \\<sigma> U (Const f) = usappconst \\<sigma> V f", "by presburger"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usappconst \\<sigma> V f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "{"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usappconst \\<sigma> V f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "assume \"usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)\""], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)", "have \"usubstappt \\<sigma> U (Const f) \\<noteq> (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f) | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) \\<noteq>\n    (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> V = {} then Aterm t else undeft)", "by (simp add: usappconst_def)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)", "have \"SConst \\<sigma> f \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft", "using f2 f1"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  usubstappt \\<sigma> U (Const f) =\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft", "by (metis (no_types))"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f \\<noteq> undeft", "have ?thesis"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "using f4"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usappconst \\<sigma> V f\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "}"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  usubstappt \\<sigma> V (Const f) \\<Longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     usubstappt \\<sigma> V (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  usubstappt \\<sigma> V (Const f) \\<Longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "show ?thesis"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  usubstappt \\<sigma> V (Const f) \\<Longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "by blast"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (4 subgoals):\n 1. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Func f \\<theta>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft\n\ngoal (4 subgoals):\n 1. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "using usubstappt_func"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft\n  \\<lbrakk>SFuncs ?\\<sigma> ?f = Aterm ?r; FVT ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n                    usubstappt (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "(*by (cases \"SFuncs \\<sigma> f\") (auto simp add: usubstappt_func)*)\n      (*by (smt option.case_eq_if usubstappt.simps(4))*)"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft\n  \\<lbrakk>SFuncs ?\\<sigma> ?f = Aterm ?r; FVT ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n                    usubstappt (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f1: \"(case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft | Some t \\<Rightarrow> (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t) | Some ta \\<Rightarrow> if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta else undeft)) \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) \\<noteq>\n    undeft", "using Func(2)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) \\<noteq>\n    undeft", "by auto"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f2: \"\\<forall>z f za. if za = undeft then (case za of None \\<Rightarrow> z::trm option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeft\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by force"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)", "have f3: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using f1"], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by meson"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have \"(case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft | Some t \\<Rightarrow> (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t) | Some ta \\<Rightarrow> if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta else undeft)) \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) \\<noteq>\n    undeft", "using Func(3)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) \\<noteq>\n    undeft", "by auto"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft", "have f4: \"usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> V \\<theta> \\<noteq> undeft", "using f2"], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> V \\<theta> \\<noteq> undeft", "by meson"], ["proof (state)\nthis:\n  usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> V \\<theta> \\<noteq> undeft", "have f5: \"usubstappt \\<sigma> U (trm.Func f \\<theta>) = (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} t else undeft)\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "using f3 f2 Func(1) usubstappt.simps(4)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n  (case usubstappt ?\\<sigma> ?U ?\\<theta> of None \\<Rightarrow> undeft\n   | Some \\<sigma>\\<theta> \\<Rightarrow>\n       case SFuncs ?\\<sigma> ?f of\n       None \\<Rightarrow> Aterm (trm.Func ?f \\<sigma>\\<theta>)\n       | Some r \\<Rightarrow>\n           if FVT r \\<inter> ?U = {}\n           then usubstappt (dotsubstt \\<sigma>\\<theta>) {} r else undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "by presburger"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SFuncs \\<sigma> f)) else undeft) = usubstappt \\<sigma> U (trm.Func f \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    usubstappt \\<sigma> U (trm.Func f \\<theta>)", "using f4 f3 f2 Func(1) usubstappt.simps(4)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n  (case usubstappt ?\\<sigma> ?U ?\\<theta> of None \\<Rightarrow> undeft\n   | Some \\<sigma>\\<theta> \\<Rightarrow>\n       case SFuncs ?\\<sigma> ?f of\n       None \\<Rightarrow> Aterm (trm.Func ?f \\<sigma>\\<theta>)\n       | Some r \\<Rightarrow>\n           if FVT r \\<inter> ?U = {}\n           then usubstappt (dotsubstt \\<sigma>\\<theta>) {} r else undeft)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    usubstappt \\<sigma> U (trm.Func f \\<theta>)", "by presburger"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)", "have f6: \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}", "by (metis Func(2))"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f7: \"(case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft | Some t \\<Rightarrow> (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t) | Some ta \\<Rightarrow> if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta else undeft)) = (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} t else undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> V = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "using f4 f2"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> V = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "by presburger"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)", "have \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> (if FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SFuncs \\<sigma> f)) else undeft) = usubstappt \\<sigma> V (trm.Func f \\<theta>)\""], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "using f2"], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "by simp"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f8: \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}", "by (metis (full_types) Func(3))"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "{"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "assume \"usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> usubstappt \\<sigma> V (trm.Func f \\<theta>)\""], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "assume \"(case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} t else undeft) \\<noteq> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\""], ["proof (state)\nthis:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))", "have \"SFuncs \\<sigma> f \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "using f2"], ["proof (prove)\nusing this:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "by meson"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "}"], ["proof (state)\nthis:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "ultimately"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft", "have \"SFuncs \\<sigma> f \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "using f7 f5"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "by fastforce"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft", "have ?thesis"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "using f8 f7 f6 f5 f2"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> V = {}\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "}"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<Longrightarrow>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n              usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<Longrightarrow>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<Longrightarrow>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "by blast"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (3 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Plus \\<theta>1 \\<theta>2)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (3 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)", "using Pluso_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n  (Pluso ?\\<theta> ?\\<eta> = undeft) =\n  (?\\<theta> = undeft \\<or> ?\\<eta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n  usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n\ngoal (2 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Times \\<theta>1 \\<theta>2)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (2 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)", "using Timeso_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n  usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n  (Timeso ?\\<theta> ?\\<eta> = undeft) =\n  (?\\<theta> = undeft \\<or> ?\\<eta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n  usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n\ngoal (1 subgoal):\n 1. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Differential \\<theta>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                 usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Differential \\<theta>) =\n    usubstappt \\<sigma> V (Differential \\<theta>)", "using Differentialo_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  usubstappt \\<sigma> V (Differential \\<theta>) \\<noteq> undeft\n  (Differentialo ?\\<theta> = undeft) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Differential \\<theta>) =\n    usubstappt \\<sigma> V (Differential \\<theta>)", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Differential \\<theta>) =\n  usubstappt \\<sigma> V (Differential \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubstappf_and_usubstappp_det: \nshows \"usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\"\nand \"snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n      usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\\<rbrakk>\n     \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                       usubstappf \\<sigma> V \\<phi>) &&&\n    (\\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n      snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n     \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                       snd (usubstappp \\<sigma> V \\<alpha>))", "proof (induction \\<phi> and \\<alpha> arbitrary: U V and U V)"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>usubstappf \\<sigma> U (Pred x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Pred x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Pred x1 x2) =\n                         usubstappf \\<sigma> V (Pred x1 x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Geq x1 x2) =\n                         usubstappf \\<sigma> V (Geq x1 x2)\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 7. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\nsnd (usubstappp \\<sigma> V x1);\n         \\<And>U V.\n            \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n             snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                              snd (usubstappp \\<sigma> V x2);\n         snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n         undefg;\n         snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n         undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                                (x1 \\<union>\\<union> x2)) =\n                          snd (usubstappp \\<sigma> V\n                                (x1 \\<union>\\<union> x2))\nA total of 14 subgoals...", "case (Pred p \\<theta>)"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (14 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>usubstappf \\<sigma> U (Pred x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Pred x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Pred x1 x2) =\n                         usubstappf \\<sigma> V (Pred x1 x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Geq x1 x2) =\n                         usubstappf \\<sigma> V (Geq x1 x2)\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 7. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\nsnd (usubstappp \\<sigma> V x1);\n         \\<And>U V.\n            \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n             snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                              snd (usubstappp \\<sigma> V x2);\n         snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n         undefg;\n         snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n         undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                                (x1 \\<union>\\<union> x2)) =\n                          snd (usubstappp \\<sigma> V\n                                (x1 \\<union>\\<union> x2))\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "using usubstappt_det usubstappf_pred"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n  \\<lbrakk>usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft;\n   usubstappt ?\\<sigma> ?V ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n  \\<lbrakk>SPreds ?\\<sigma> ?p = Afml ?r; FVF ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) =\n                    usubstappf (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "(*by (metis usubstappf.simps(1)) *)\n  (*by (smt option.case_eq_if usubstappf.simps(1)) *)"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n  \\<lbrakk>usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft;\n   usubstappt ?\\<sigma> ?V ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n  \\<lbrakk>SPreds ?\\<sigma> ?p = Afml ?r; FVF ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) =\n                    usubstappf (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "have f1: \"(case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff | Some t \\<Rightarrow> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f else undeff)) \\<noteq> undeff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) \\<noteq>\n    undeff", "using Pred.prems(1)"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) \\<noteq>\n    undeff", "by auto"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "have f2: \"\\<forall>z f za. if za = undeft then (case za of None \\<Rightarrow> z::fml option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeft\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by (simp add: option.case_eq_if)"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)", "have f3: \"(case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff | Some t \\<Rightarrow> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f else undeff)) = (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "using f1"], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "by meson"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "have f4: \"(case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff | Some t \\<Rightarrow> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f else undeff)) \\<noteq> undeff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n             else undeff) \\<noteq>\n    undeff", "using Pred.prems(2)"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n             else undeff) \\<noteq>\n    undeff", "by auto"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff", "have f5: \"usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\""], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "using f2 f1"], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "by (meson usubstappt_det)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "have f6: \"usubstappf \\<sigma> U (Pred p \\<theta>) = (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "using f3 usubstappf.simps(1)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) =\n  (case usubstappt ?\\<sigma> ?U ?\\<theta> of None \\<Rightarrow> undeff\n   | Some \\<sigma>\\<theta> \\<Rightarrow>\n       case SPreds ?\\<sigma> ?p of\n       None \\<Rightarrow> Afml (Pred ?p \\<sigma>\\<theta>)\n       | Some r \\<Rightarrow>\n           if FVF r \\<inter> ?U = {}\n           then usubstappf (dotsubstt \\<sigma>\\<theta>) {} r else undeff)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "by presburger"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "have f7: \"\\<forall>z f za. if za = undeff then (case za of None \\<Rightarrow> z::fml option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeff\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by (simp add: option.case_eq_if)"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "have f8: \"(case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff | Some t \\<Rightarrow> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f else undeff)) = (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n             else undeff) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "using f4 f2"], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n             else undeff) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "by meson"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)", "have f9: \"SPreds \\<sigma> p = undeff \\<longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = usubstappf \\<sigma> V (Pred p \\<theta>)\""], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff \\<longrightarrow>\n    usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "using f6"], ["proof (prove)\nusing this:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff \\<longrightarrow>\n    usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "by fastforce"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff \\<longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "{"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff \\<longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "assume \"usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> usubstappf \\<sigma> V (Pred p \\<theta>)\""], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)", "have \"usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "using f8"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "by simp"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "assume \"usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "assume \"usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p))\""], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "assume \"usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "using f6"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "by force"], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using f7"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by (metis (no_types, lifting) Pred.prems(1) calculation f5 option.collapse usubstappf_pred usubstappf_pred2 usubstappf_pred_conv)"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "}"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "assume \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p))\""], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))", "have \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "using f3 Pred.prems(1)"], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "by auto"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)", "have \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "using f5"], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "using Pred.prems(1) \\<open>(if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p))\\<close> f6"], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "by auto"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)", "have \"(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "by simp"], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using f7"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(case SPreds \\<sigma> p of\n              None \\<Rightarrow>\n                Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n              | Some f \\<Rightarrow>\n                  if FVF f \\<inter> U = {}\n                  then usubstappf\n                        (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n                        {} f\n                  else undeff) \\<noteq>\n             (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n              then usubstappf\n                    (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n                    (the (SPreds \\<sigma> p))\n              else undeff);\n     \\<forall>z f za.\n        if za = undeff\n        then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n             z\n        else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n             f (the za)\\<rbrakk>\n    \\<Longrightarrow> SPreds \\<sigma> p = undeff", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using \\<open>(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\\<close> calculation(2) f6"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by presburger"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "}"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "ultimately"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by fastforce"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "}"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "assume \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p))\""], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))", "have \"(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "using f8 Pred.prems(2)"], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p))\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> V = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "by auto"], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using f7"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by (metis (no_types, lifting) Pred.prems(2) \\<open>(if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p))\\<close> option.collapse usubstappf_pred2)"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "}"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "ultimately"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by fastforce"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "}"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "assume \"(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using f7"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by (metis (no_types, lifting) Pred.prems(1) Pred.prems(2) \\<open>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> usubstappf \\<sigma> V (Pred p \\<theta>)\\<close> calculation(2) option.collapse usubstappf_pred usubstappf_pred_conv)"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "}"], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "ultimately"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff", "have ?thesis"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "using f9"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  SPreds \\<sigma> p = undeff \\<longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "by fastforce"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "}"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<Longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>\\<sigma> U \\<theta> V.\n        \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n         usubstappt \\<sigma> V \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                      usubstappf \\<sigma> V (Pred p \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<Longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<Longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "by blast"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (13 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Geq x1 x2) =\n                         usubstappf \\<sigma> V (Geq x1 x2)\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 6. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\nsnd (usubstappp \\<sigma> V x1);\n         \\<And>U V.\n            \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n             snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                              snd (usubstappp \\<sigma> V x2);\n         snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                          snd (usubstappp \\<sigma> V (x1 ;; x2))\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Geq x1 x2) =\n                         usubstappf \\<sigma> V (Geq x1 x2)\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 6. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\nsnd (usubstappp \\<sigma> V x1);\n         \\<And>U V.\n            \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n             snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                              snd (usubstappp \\<sigma> V x2);\n         snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                          snd (usubstappp \\<sigma> V (x1 ;; x2))\nA total of 13 subgoals...", "case (Geq \\<theta> \\<eta>)"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff\n\ngoal (13 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Geq x1 x2) =\n                         usubstappf \\<sigma> V (Geq x1 x2)\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 6. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\nsnd (usubstappp \\<sigma> V x1);\n         \\<And>U V.\n            \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n             snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                              snd (usubstappp \\<sigma> V x2);\n         snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                          snd (usubstappp \\<sigma> V (x1 ;; x2))\nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) =\n    usubstappf \\<sigma> V (Geq \\<theta> \\<eta>)", "using usubstappt_det"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  \\<lbrakk>usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft;\n   usubstappt ?\\<sigma> ?V ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) =\n    usubstappf \\<sigma> V (Geq \\<theta> \\<eta>)", "by (metis Geqo_undef usubstappf.simps(2))"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) =\n  usubstappf \\<sigma> V (Geq \\<theta> \\<eta>)\n\ngoal (12 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 5. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\nsnd (usubstappp \\<sigma> V x);\n         snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                          snd (usubstappp \\<sigma> V x**)\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 5. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\nsnd (usubstappp \\<sigma> V x);\n         snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                          snd (usubstappp \\<sigma> V x**)\nA total of 12 subgoals...", "case (Not x)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> ?U x \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x = usubstappf \\<sigma> ?V x\n  usubstappf \\<sigma> U (! x) \\<noteq> undeff\n  usubstappf \\<sigma> V (! x) \\<noteq> undeff\n\ngoal (12 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff;\n        usubstappf \\<sigma> V (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (! x) =\n                         usubstappf \\<sigma> V (! x)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 5. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\nsnd (usubstappp \\<sigma> V x);\n         snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                          snd (usubstappp \\<sigma> V x**)\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> ?U x \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x = usubstappf \\<sigma> ?V x\n  usubstappf \\<sigma> U (! x) \\<noteq> undeff\n  usubstappf \\<sigma> V (! x) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> ?U x \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x = usubstappf \\<sigma> ?V x\n  usubstappf \\<sigma> U (! x) \\<noteq> undeff\n  usubstappf \\<sigma> V (! x) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (! x) = usubstappf \\<sigma> V (! x)", "by (metis Noto.simps(2) usubstappf.simps(3))"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (! x) = usubstappf \\<sigma> V (! x)\n\ngoal (11 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 4. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\nsnd (usubstappp \\<sigma> V x);\n         snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                          snd (usubstappp \\<sigma> V x^d)\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 4. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\nsnd (usubstappp \\<sigma> V x);\n         snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                          snd (usubstappp \\<sigma> V x^d)\nA total of 11 subgoals...", "case (And x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> ?U x1 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x1 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x1 = usubstappf \\<sigma> ?V x1\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n\ngoal (11 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x1 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x1 =\n                                     usubstappf \\<sigma> V x1;\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (x1 && x2) =\n                         usubstappf \\<sigma> V (x1 && x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 4. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                     snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\nsnd (usubstappp \\<sigma> V x);\n         snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                          snd (usubstappp \\<sigma> V x^d)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> ?U x1 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x1 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x1 = usubstappf \\<sigma> ?V x1\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> ?U x1 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x1 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x1 = usubstappf \\<sigma> ?V x1\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (x1 && x2) = usubstappf \\<sigma> V (x1 && x2)", "by (metis Ando_undef usubstappf.simps(4))"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (x1 && x2) = usubstappf \\<sigma> V (x1 && x2)\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 3. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                          snd (usubstappp \\<sigma> V (ODE x1 x2))", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 3. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                          snd (usubstappp \\<sigma> V (ODE x1 x2))", "case (Exists x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n                    usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                                     usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (Exists x1 x2) =\n                         usubstappf \\<sigma> V (Exists x1 x2)\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 3. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n         snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                          snd (usubstappp \\<sigma> V (ODE x1 x2))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Exists x1 x2) =\n    usubstappf \\<sigma> V (Exists x1 x2)", "by (metis Existso_undef usubstappf.simps(5))"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Exists x1 x2) =\n  usubstappf \\<sigma> V (Exists x1 x2)\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 2. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 2. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "case (Diamond x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U x1) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V x1) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U x1) =\n                    snd (usubstappp \\<sigma> ?V x1)\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>usubstappf \\<sigma> U x2 \\<noteq> undeff;\n            usubstappf \\<sigma> V x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> U x2 =\n                             usubstappf \\<sigma> V x2;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff;\n        usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n                         usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n 2. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U x1) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V x1) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U x1) =\n                    snd (usubstappp \\<sigma> ?V x1)\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U x1) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V x1) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U x1) =\n                    snd (usubstappp \\<sigma> ?V x1)\n  \\<lbrakk>usubstappf \\<sigma> ?U x2 \\<noteq> undeff;\n   usubstappf \\<sigma> ?V x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U x2 = usubstappf \\<sigma> ?V x2\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n  usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n    usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)", "by (metis Diamondo_undef usubstappf.simps(6))"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) =\n  usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2)\n\ngoal (8 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "case (Game a)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (Game a)) \\<noteq> undefg\n\ngoal (8 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (Game x)) =\n                         snd (usubstappp \\<sigma> V (Game x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (Game a)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (Game a)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (Game a)) =\n    snd (usubstappp \\<sigma> V (Game a))", "by (cases \"SGames \\<sigma> a\") (auto)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (Game a)) =\n  snd (usubstappp \\<sigma> V (Game a))\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "case (Assign x \\<theta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (x := \\<theta>)) \\<noteq> undefg\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 := x2)) =\n                         snd (usubstappp \\<sigma> V (x1 := x2))\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (x := \\<theta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (x := \\<theta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (x := \\<theta>)) =\n    snd (usubstappp \\<sigma> V (x := \\<theta>))", "using usubstappt_det"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (x := \\<theta>)) \\<noteq> undefg\n  \\<lbrakk>usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft;\n   usubstappt ?\\<sigma> ?V ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (x := \\<theta>)) =\n    snd (usubstappp \\<sigma> V (x := \\<theta>))", "by (metis Assigno_undef snd_conv usubstappp.simps(2))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) =\n  snd (usubstappp \\<sigma> V (x := \\<theta>))\n\ngoal (6 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "case (ODE x \\<theta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (ODE x \\<theta>)) \\<noteq> undefg\n\ngoal (6 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (ODE x1 x2)) =\n                         snd (usubstappp \\<sigma> V (ODE x1 x2))", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (ODE x \\<theta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (ODE x \\<theta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (ODE x \\<theta>)) =\n    snd (usubstappp \\<sigma> V (ODE x \\<theta>))", "using usubstappt_det"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (ODE x \\<theta>)) \\<noteq> undefg\n  \\<lbrakk>usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft;\n   usubstappt ?\\<sigma> ?V ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (ODE x \\<theta>)) =\n    snd (usubstappp \\<sigma> V (ODE x \\<theta>))", "by (metis ODEo_undef snd_conv usubstappp.simps(8))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) =\n  snd (usubstappp \\<sigma> V (ODE x \\<theta>))\n\ngoal (5 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "case (Test \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> ?U \\<phi> \\<noteq> undeff;\n   usubstappf \\<sigma> ?V \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U \\<phi> =\n                    usubstappf \\<sigma> ?V \\<phi>\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (? \\<phi>)) \\<noteq> undefg\n\ngoal (5 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>usubstappf \\<sigma> U x \\<noteq> undeff;\n                    usubstappf \\<sigma> V x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> U x =\n                                     usubstappf \\<sigma> V x;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (? x)) =\n                         snd (usubstappp \\<sigma> V (? x))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> ?U \\<phi> \\<noteq> undeff;\n   usubstappf \\<sigma> ?V \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U \\<phi> =\n                    usubstappf \\<sigma> ?V \\<phi>\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (? \\<phi>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> ?U \\<phi> \\<noteq> undeff;\n   usubstappf \\<sigma> ?V \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?U \\<phi> =\n                    usubstappf \\<sigma> ?V \\<phi>\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (? \\<phi>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (? \\<phi>)) =\n    snd (usubstappp \\<sigma> V (? \\<phi>))", "by (metis Testo_undef snd_conv usubstappp.simps(3))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (? \\<phi>)) =\n  snd (usubstappp \\<sigma> V (? \\<phi>))\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "case (Choice \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<beta>) =\n                    snd (usubstappp \\<sigma> ?V \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg;\n        snd (usubstappp \\<sigma> V (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U\n                               (x1 \\<union>\\<union> x2)) =\n                         snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2))\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<beta>) =\n                    snd (usubstappp \\<sigma> ?V \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<beta>) =\n                    snd (usubstappp \\<sigma> ?V \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) =\n    snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))", "by (metis Choiceo_undef snd_conv usubstappp.simps(4))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) =\n  snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "case (Compose \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<beta>) =\n                    snd (usubstappp \\<sigma> ?V \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x1) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x1) =\n                                     snd (usubstappp \\<sigma> V x1);\n        \\<And>U V.\n           \\<lbrakk>snd (usubstappp \\<sigma> U x2) \\<noteq> undefg;\n            snd (usubstappp \\<sigma> V x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> U x2) =\n                             snd (usubstappp \\<sigma> V x2);\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U (x1 ;; x2)) =\n                         snd (usubstappp \\<sigma> V (x1 ;; x2))\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<beta>) =\n                    snd (usubstappp \\<sigma> ?V \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<beta>) =\n                    snd (usubstappp \\<sigma> ?V \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) =\n    snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))", "by (metis Composeo_undef snd_conv usubstappp.simps(5))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) =\n  snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n\ngoal (2 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "case (Loop \\<alpha>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V \\<alpha>**) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x**) =\n                         snd (usubstappp \\<sigma> V x**)\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V \\<alpha>**) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) =\n    snd (usubstappp \\<sigma> V \\<alpha>**)", "by (metis Loopo_undef snd_conv usubstappp.simps(6))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>**) =\n  snd (usubstappp \\<sigma> V \\<alpha>**)\n\ngoal (1 subgoal):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "case (Dual \\<alpha>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U x) \\<noteq> undefg;\n                    snd (usubstappp \\<sigma> V x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> U x) =\n                                     snd (usubstappp \\<sigma> V x);\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> U x^d) =\n                         snd (usubstappp \\<sigma> V x^d)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V \\<alpha>^d) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?U \\<alpha>) =\n                    snd (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  snd (usubstappp \\<sigma> V \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>^d) =\n    snd (usubstappp \\<sigma> V \\<alpha>^d)", "by (metis Dualo_undef snd_conv usubstappp.simps(7))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>^d) =\n  snd (usubstappp \\<sigma> V \\<alpha>^d)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubstappf_det: \"usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n     usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                      usubstappf \\<sigma> V \\<phi>", "using usubstappf_and_usubstappp_det"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff;\n   usubstappf ?\\<sigma> ?V ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U ?\\<phi> =\n                    usubstappf ?\\<sigma> ?V ?\\<phi>\n  \\<lbrakk>snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg;\n   snd (usubstappp ?\\<sigma> ?V ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n     usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                      usubstappf \\<sigma> V \\<phi>", "by simp"], ["", "lemma usubstappp_det: \"snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n     snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                      snd (usubstappp \\<sigma> V \\<alpha>)", "using usubstappf_and_usubstappp_det"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff;\n   usubstappf ?\\<sigma> ?V ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U ?\\<phi> =\n                    usubstappf ?\\<sigma> ?V ?\\<phi>\n  \\<lbrakk>snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg;\n   snd (usubstappp ?\\<sigma> ?V ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n     snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                      snd (usubstappp \\<sigma> V \\<alpha>)", "by simp"], ["", "subsection \\<open>Uniform Substitutions are Antimonotone in Taboos\\<close>"], ["", "lemma usubst_taboos_mon: \"fst(usubstappp \\<sigma> U \\<alpha>) \\<supseteq> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "proof (induction \\<alpha> arbitrary: U rule: game_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>a U. U \\<subseteq> fst (usubstappp \\<sigma> U (Game a))\n 2. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 3. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 4. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 6. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 7. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 8. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Game a)"], ["proof (state)\nthis:\n  \n\ngoal (8 subgoals):\n 1. \\<And>a U. U \\<subseteq> fst (usubstappp \\<sigma> U (Game a))\n 2. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 3. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 4. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 6. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 7. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 8. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U (Game a))", "by (cases \"SGames \\<sigma> a\") (auto)"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U (Game a))\n\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 2. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 3. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 7. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 2. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 3. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 7. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Assign x \\<theta>)"], ["proof (state)\nthis:\n  \n\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 2. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 3. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 7. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))", "by fastforce"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 2. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 6. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 2. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 6. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (ODE x \\<theta>)"], ["proof (state)\nthis:\n  \n\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U.\n       U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 2. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 6. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))", "by fastforce"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 5. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 5. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Test \\<phi>)"], ["proof (state)\nthis:\n  \n\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 5. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))", "by fastforce"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 4. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 4. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Choice \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 4. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U\n                        (\\<alpha> \\<union>\\<union> \\<beta>))", "by fastforce"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))\n\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 3. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 3. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Compose \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U. U \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\\<rbrakk>\n       \\<Longrightarrow> U \\<subseteq> fst\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 3. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))", "by fastforce"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 2. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 2. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Loop \\<alpha>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 2. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "by fastforce"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Dual \\<alpha>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U.\n       (\\<And>U.\n           U \\<subseteq> fst (usubstappp \\<sigma> U\n                               \\<alpha>)) \\<Longrightarrow>\n       U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "by fastforce"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fst_pair [simp]: \"fst (a,b) = a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fst (a, b) = a", "by simp"], ["", "lemma snd_pair [simp]: \"snd (a,b) = b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (a, b) = b", "by simp"], ["", "lemma usubstappt_antimon: \"V\\<subseteq>U \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                      usubstappt \\<sigma> V \\<theta>", "proof (induction \\<theta>)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Var x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Var x) =\n                         usubstappt \\<sigma> V (Var x)\n 2. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 3. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 4. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 7. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Var x)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Var x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Var x) =\n                         usubstappt \\<sigma> V (Var x)\n 2. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 3. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 4. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 7. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Var x) = usubstappt \\<sigma> V (Var x)", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Var x) = usubstappt \\<sigma> V (Var x)\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 2. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 3. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 2. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 3. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Number x)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Number x) \\<noteq> undeft\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Number x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Number x) =\n                         usubstappt \\<sigma> V (Number x)\n 2. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 3. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 6. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Number x) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Number x) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Number x) = usubstappt \\<sigma> V (Number x)", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Number x) = usubstappt \\<sigma> V (Number x)\n\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 2. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 2. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Const f)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n\ngoal (5 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappt \\<sigma> U (Const x) \\<noteq> undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Const x) =\n                         usubstappt \\<sigma> V (Const x)\n 2. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 5. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "(*by (smt disjoint_iff_not_equal option.case_eq_if set_rev_mp usappconst_def usubstappt.simps(3))*)"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "have f1: \"usubstappt \\<sigma> U (Const f) = (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f) | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then Aterm t else undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) =\n    (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {} then Aterm t else undeft)", "by (simp add: usappconst_def)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) =\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "have f2: \"\\<forall>z f za. if za = undeft then (case za of None \\<Rightarrow> z::trm option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeft\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by force"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)", "have \"SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow> (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {} then Aterm (the (SConst \\<sigma> f)) else undeft) = usappconst \\<sigma> U f\""], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n     then Aterm (the (SConst \\<sigma> f)) else undeft) =\n    usappconst \\<sigma> U f", "using usappconst_def"], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  usappconst ?\\<sigma> ?U ?f \\<equiv>\n  case SConst ?\\<sigma> ?f of None \\<Rightarrow> Aterm (Const ?f)\n  | Some r \\<Rightarrow> if FVT r \\<inter> ?U = {} then Aterm r else undeft\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n     then Aterm (the (SConst \\<sigma> f)) else undeft) =\n    usappconst \\<sigma> U f", "by presburger"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> U f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> U f", "have f3: \"SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow> FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\""], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n   then Aterm (the (SConst \\<sigma> f)) else undeft) =\n  usappconst \\<sigma> U f\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    FVT (the (SConst \\<sigma> f)) \\<inter> U = {}", "by (metis (no_types) Const.prems(2) usubstappt.simps(3))"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "have f4: \"\\<forall>V Va. (V \\<inter> Va = {}) = (\\<forall>v. (v::variable) \\<in> V \\<longrightarrow> (\\<forall>va. va \\<in> Va \\<longrightarrow> v \\<noteq> va))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>V Va.\n       (V \\<inter> Va = {}) =\n       (\\<forall>v.\n           v \\<in> V \\<longrightarrow>\n           (\\<forall>va. va \\<in> Va \\<longrightarrow> v \\<noteq> va))", "by blast"], ["proof (state)\nthis:\n  \\<forall>V Va.\n     (V \\<inter> Va = {}) =\n     (\\<forall>v.\n         v \\<in> V \\<longrightarrow>\n         (\\<forall>va. va \\<in> Va \\<longrightarrow> v \\<noteq> va))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "{"], ["proof (state)\nthis:\n  \\<forall>V Va.\n     (V \\<inter> Va = {}) =\n     (\\<forall>v.\n         v \\<in> V \\<longrightarrow>\n         (\\<forall>va. va \\<in> Va \\<longrightarrow> v \\<noteq> va))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "assume \"usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)\""], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)", "have \"usubstappt \\<sigma> U (Const f) \\<noteq> (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f) | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) \\<noteq>\n    (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> V = {} then Aterm t else undeft)", "by (simp add: usappconst_def)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)", "have \"SConst \\<sigma> f \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft", "using f2 f1"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then Aterm t else undeft)\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  usubstappt \\<sigma> U (Const f) =\n  (case SConst \\<sigma> f of None \\<Rightarrow> Aterm (Const f)\n   | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then Aterm t else undeft)\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft", "by metis"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f \\<noteq> undeft", "have \"SConst \\<sigma> f \\<noteq> undeft \\<and> FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\""], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<and>\n    FVT (the (SConst \\<sigma> f)) \\<inter> V = {}", "using f4 f3"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft\n  \\<forall>V Va.\n     (V \\<inter> Va = {}) =\n     (\\<forall>v.\n         v \\<in> V \\<longrightarrow>\n         (\\<forall>va. va \\<in> Va \\<longrightarrow> v \\<noteq> va))\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. SConst \\<sigma> f \\<noteq> undeft \\<and>\n    FVT (the (SConst \\<sigma> f)) \\<inter> V = {}", "by (meson Const.prems(1) subsetD)"], ["proof (state)\nthis:\n  SConst \\<sigma> f \\<noteq> undeft \\<and>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f \\<noteq> undeft \\<and>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}", "have ?thesis"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft \\<and>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "using f3 f2 usappconst_def usubstappt.simps(3)"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f \\<noteq> undeft \\<and>\n  FVT (the (SConst \\<sigma> f)) \\<inter> V = {}\n  SConst \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SConst \\<sigma> f)) \\<inter> U = {}\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  usappconst ?\\<sigma> ?U ?f \\<equiv>\n  case SConst ?\\<sigma> ?f of None \\<Rightarrow> Aterm (Const ?f)\n  | Some r \\<Rightarrow> if FVT r \\<inter> ?U = {} then Aterm r else undeft\n  usubstappt ?\\<sigma> ?U (Const ?f) = usappconst ?\\<sigma> ?U ?f\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "by presburger"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "}"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  usubstappt \\<sigma> V (Const f) \\<Longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappt \\<sigma> U (Const f) \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (Const f) =\n                      usubstappt \\<sigma> V (Const f)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  usubstappt \\<sigma> V (Const f) \\<Longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "show ?thesis"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq>\n  usubstappt \\<sigma> V (Const f) \\<Longrightarrow>\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)", "by blast"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) = usubstappt \\<sigma> V (Const f)\n\ngoal (4 subgoals):\n 1. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Func f \\<theta>)"], ["proof (state)\nthis:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n\ngoal (4 subgoals):\n 1. \\<And>x1a \\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (trm.Func x1a \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func x1a \\<theta>) =\n                         usubstappt \\<sigma> V (trm.Func x1a \\<theta>)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 4. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "using usubstappt_func"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  \\<lbrakk>SFuncs ?\\<sigma> ?f = Aterm ?r; FVT ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n                    usubstappt (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "(*by (smt disjoint_iff_not_equal option.case_eq_if subset_iff usubstappt.simps(4))*)"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  \\<lbrakk>SFuncs ?\\<sigma> ?f = Aterm ?r; FVT ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n                    usubstappt (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f1: \"(case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft | Some t \\<Rightarrow> (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t) | Some ta \\<Rightarrow> if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta else undeft)) \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) \\<noteq>\n    undeft", "using Func.prems(2)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) \\<noteq>\n    undeft", "by fastforce"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f2: \"\\<forall>z f za. if za = undeft then (case za of None \\<Rightarrow> z::trm option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeft\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)", "have f3: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using f1"], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by meson"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "have f4: \"(case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft | Some t \\<Rightarrow> (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t) | Some ta \\<Rightarrow> if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta else undeft)) = (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> U \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} t else undeft)\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} t\n         else undeft)", "using f2"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} t\n         else undeft)", "by presburger"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f5: \"usubstappt \\<sigma> U \\<theta> = undeft \\<or> usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> = undeft \\<or>\n    usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "using Func.IH Func.prems(1)"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> = undeft \\<or>\n    usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "by fastforce"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> = undeft \\<or>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SFuncs \\<sigma> f)) else undeft) = (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} t else undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "using f2"], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "by presburger"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)", "have \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SFuncs \\<sigma> f)) else undeft) = usubstappt \\<sigma> U (trm.Func f \\<theta>)\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    usubstappt \\<sigma> U (trm.Func f \\<theta>)", "using f5 f4 f3 usubstappt.simps(4)"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n  usubstappt \\<sigma> U \\<theta> = undeft \\<or>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             t\n       else undeft)\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n  (case usubstappt ?\\<sigma> ?U ?\\<theta> of None \\<Rightarrow> undeft\n   | Some \\<sigma>\\<theta> \\<Rightarrow>\n       case SFuncs ?\\<sigma> ?f of\n       None \\<Rightarrow> Aterm (trm.Func ?f \\<sigma>\\<theta>)\n       | Some r \\<Rightarrow>\n           if FVT r \\<inter> ?U = {}\n           then usubstappt (dotsubstt \\<sigma>\\<theta>) {} r else undeft)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n     then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SFuncs \\<sigma> f))\n     else undeft) =\n    usubstappt \\<sigma> U (trm.Func f \\<theta>)", "by presburger"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)", "have f6: \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  (if FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n   then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SFuncs \\<sigma> f))\n   else undeft) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}", "by (metis (no_types) Func.prems(2))"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}", "have f7: \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> V \\<subseteq> - FVT (the (SFuncs \\<sigma> f))\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    V \\<subseteq> - FVT (the (SFuncs \\<sigma> f))", "using Func.prems(1)"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n  V \\<subseteq> U\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    V \\<subseteq> - FVT (the (SFuncs \\<sigma> f))", "by blast"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  V \\<subseteq> - FVT (the (SFuncs \\<sigma> f))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have f8: \"(case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft | Some t \\<Rightarrow> (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t) | Some ta \\<Rightarrow> if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta else undeft)) = (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} t else undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> V = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "using f5 f3 f2"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> = undeft \\<or>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n     | Some t \\<Rightarrow>\n         case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n         | Some ta \\<Rightarrow>\n             if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n             else undeft) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> V = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "by presburger"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "have \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SFuncs \\<sigma> f)) = (case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> U = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} t else undeft)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SFuncs \\<sigma> f)) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "using f6 f2"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  FVT (the (SFuncs \\<sigma> f)) \\<inter> U = {}\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SFuncs \\<sigma> f)) =\n    (case SFuncs \\<sigma> f of\n     None \\<Rightarrow>\n       Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some t \\<Rightarrow>\n         if FVT t \\<inter> U = {}\n         then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} t\n         else undeft)", "by presburger"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SFuncs \\<sigma> f)) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SFuncs \\<sigma> f)) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)", "have f9: \"SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow> usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SFuncs \\<sigma> f)) = usubstappt \\<sigma> U (trm.Func f \\<theta>)\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SFuncs \\<sigma> f)) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SFuncs \\<sigma> f)) =\n    usubstappt \\<sigma> U (trm.Func f \\<theta>)", "using f5 f4 f3 usubstappt.simps(4)"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SFuncs \\<sigma> f)) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n  usubstappt \\<sigma> U \\<theta> = undeft \\<or>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> U = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> U = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             t\n       else undeft)\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n  (case usubstappt ?\\<sigma> ?U ?\\<theta> of None \\<Rightarrow> undeft\n   | Some \\<sigma>\\<theta> \\<Rightarrow>\n       case SFuncs ?\\<sigma> ?f of\n       None \\<Rightarrow> Aterm (trm.Func ?f \\<sigma>\\<theta>)\n       | Some r \\<Rightarrow>\n           if FVT r \\<inter> ?U = {}\n           then usubstappt (dotsubstt \\<sigma>\\<theta>) {} r else undeft)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n    usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SFuncs \\<sigma> f)) =\n    usubstappt \\<sigma> U (trm.Func f \\<theta>)", "by presburger"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SFuncs \\<sigma> f)) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "{"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SFuncs \\<sigma> f)) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "assume \"usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> usubstappt \\<sigma> V (trm.Func f \\<theta>)\""], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "moreover"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "{"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "assume \"(case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) | Some t \\<Rightarrow> if FVT t \\<inter> V = {} then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} t else undeft) \\<noteq> Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\""], ["proof (state)\nthis:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))", "have \"SFuncs \\<sigma> f \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "using f2"], ["proof (prove)\nusing this:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "by meson"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "}"], ["proof (state)\nthis:\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "ultimately"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft", "have \"SFuncs \\<sigma> f \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "using f5 f3"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft) \\<noteq>\n  Aterm\n   (trm.Func f (the (usubstappt \\<sigma> V \\<theta>))) \\<Longrightarrow>\n  SFuncs \\<sigma> f \\<noteq> undeft\n  usubstappt \\<sigma> U \\<theta> = undeft \\<or>\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f \\<noteq> undeft", "by fastforce"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f \\<noteq> undeft", "have ?thesis"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "using f9 f8 f7 f2"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f \\<noteq> undeft\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SFuncs \\<sigma> f)) =\n  usubstappt \\<sigma> U (trm.Func f \\<theta>)\n  (case usubstappt \\<sigma> V \\<theta> of None \\<Rightarrow> undeft\n   | Some t \\<Rightarrow>\n       case SFuncs \\<sigma> f of None \\<Rightarrow> Aterm (trm.Func f t)\n       | Some ta \\<Rightarrow>\n           if FVT ta \\<inter> V = {} then usubstappt (dotsubstt t) {} ta\n           else undeft) =\n  (case SFuncs \\<sigma> f of\n   None \\<Rightarrow>\n     Aterm (trm.Func f (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some t \\<Rightarrow>\n       if FVT t \\<inter> V = {}\n       then usubstappt (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             t\n       else undeft)\n  SFuncs \\<sigma> f \\<noteq> undeft \\<longrightarrow>\n  V \\<subseteq> - FVT (the (SFuncs \\<sigma> f))\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "by (simp add: disjoint_eq_subset_Compl inf.commute)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "}"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<Longrightarrow>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n              usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n             \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                               usubstappt \\<sigma> V \\<theta>;\n     V \\<subseteq> U;\n     usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n     \\<And>\\<sigma> f r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SFuncs \\<sigma> f = Aterm r; FVT r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                          usubstappt (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n                      usubstappt \\<sigma> V (trm.Func f \\<theta>)", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<Longrightarrow>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq>\n  usubstappt \\<sigma> V (trm.Func f \\<theta>) \\<Longrightarrow>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n    usubstappt \\<sigma> V (trm.Func f \\<theta>)", "by blast"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) =\n  usubstappt \\<sigma> V (trm.Func f \\<theta>)\n\ngoal (3 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Plus \\<theta>1 \\<theta>2)"], ["proof (state)\nthis:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (3 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 3. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)", "using Pluso_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) \\<noteq> undeft\n  (Pluso ?\\<theta> ?\\<eta> = undeft) =\n  (?\\<theta> = undeft \\<or> ?\\<eta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Plus \\<theta>1 \\<theta>2) =\n  usubstappt \\<sigma> V (Plus \\<theta>1 \\<theta>2)\n\ngoal (2 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Times \\<theta>1 \\<theta>2)"], ["proof (state)\nthis:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (2 subgoals):\n 1. \\<And>\\<theta>1 \\<theta>2.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                                  usubstappt \\<sigma> V \\<theta>1;\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                          usubstappt \\<sigma> V \\<theta>2;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n                         usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n 2. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)", "using Timeso_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>1 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>1 =\n                    usubstappt \\<sigma> V \\<theta>1\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta>2 \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>2 =\n                    usubstappt \\<sigma> V \\<theta>2\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) \\<noteq> undeft\n  (Timeso ?\\<theta> ?\\<eta> = undeft) =\n  (?\\<theta> = undeft \\<or> ?\\<eta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n    usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Times \\<theta>1 \\<theta>2) =\n  usubstappt \\<sigma> V (Times \\<theta>1 \\<theta>2)\n\ngoal (1 subgoal):\n 1. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "case (Differential \\<theta>)"], ["proof (state)\nthis:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<And>\\<theta>.\n       \\<lbrakk>\\<lbrakk>V \\<subseteq> U;\n                 usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n                \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                                  usubstappt \\<sigma> V \\<theta>;\n        V \\<subseteq> U;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq>\n        undeft\\<rbrakk>\n       \\<Longrightarrow> usubstappt \\<sigma> U (Differential \\<theta>) =\n                         usubstappt \\<sigma> V (Differential \\<theta>)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Differential \\<theta>) =\n    usubstappt \\<sigma> V (Differential \\<theta>)", "using Differentialo_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                    usubstappt \\<sigma> V \\<theta>\n  V \\<subseteq> U\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  (Differentialo ?\\<theta> = undeft) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U (Differential \\<theta>) =\n    usubstappt \\<sigma> V (Differential \\<theta>)", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Differential \\<theta>) =\n  usubstappt \\<sigma> V (Differential \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Uniform Substitutions of Games have monotone taboo output\\<close>"], ["", "lemma usubstappp_fst_mon: \"U\\<subseteq>V \\<Longrightarrow> fst(usubstappp \\<sigma> U \\<alpha>) \\<subseteq> fst(usubstappp \\<sigma> V \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<subseteq> V \\<Longrightarrow>\n    fst (usubstappp \\<sigma> U \\<alpha>)\n    \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>)", "proof (induction \\<alpha> arbitrary: U V rule: game_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>a U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (Game a))\n       \\<subseteq> fst (usubstappp \\<sigma> V (Game a))\n 2. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (x := \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (x := \\<theta>))\n 3. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 4. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 5. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 6. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 7. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 8. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (Game a)"], ["proof (state)\nthis:\n  U \\<subseteq> V\n\ngoal (8 subgoals):\n 1. \\<And>a U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (Game a))\n       \\<subseteq> fst (usubstappp \\<sigma> V (Game a))\n 2. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (x := \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (x := \\<theta>))\n 3. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 4. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 5. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 6. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 7. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 8. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U (Game a))\n    \\<subseteq> fst (usubstappp \\<sigma> V (Game a))", "by (cases \"SGames \\<sigma> a\") (auto)"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U (Game a))\n  \\<subseteq> fst (usubstappp \\<sigma> V (Game a))\n\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (x := \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (x := \\<theta>))\n 2. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 3. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 7. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (x := \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (x := \\<theta>))\n 2. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 3. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 7. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (Assign x \\<theta>)"], ["proof (state)\nthis:\n  U \\<subseteq> V\n\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (x := \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (x := \\<theta>))\n 2. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 3. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 7. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U (x := \\<theta>))\n    \\<subseteq> fst (usubstappp \\<sigma> V (x := \\<theta>))", "by auto"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U (x := \\<theta>))\n  \\<subseteq> fst (usubstappp \\<sigma> V (x := \\<theta>))\n\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 2. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 6. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 2. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 6. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (ODE x \\<theta>)"], ["proof (state)\nthis:\n  U \\<subseteq> V\n\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n 2. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 6. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n    \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))", "by auto"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n  \\<subseteq> fst (usubstappp \\<sigma> V (ODE x \\<theta>))\n\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 5. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 5. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (Test \\<phi>)"], ["proof (state)\nthis:\n  U \\<subseteq> V\n\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U V.\n       U \\<subseteq> V \\<Longrightarrow>\n       fst (usubstappp \\<sigma> U (? \\<phi>))\n       \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 5. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U (? \\<phi>))\n    \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))", "by auto"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U (? \\<phi>))\n  \\<subseteq> fst (usubstappp \\<sigma> V (? \\<phi>))\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 4. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 4. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (Choice \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<beta>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<beta>)\n  U \\<subseteq> V\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U\n                               (\\<alpha> \\<union>\\<union> \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 4. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<beta>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<beta>)\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<beta>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<beta>)\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n    \\<subseteq> fst (usubstappp \\<sigma> V\n                      (\\<alpha> \\<union>\\<union> \\<beta>))", "by (metis Un_mono fst_pair usubstappp_choice)"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n  \\<subseteq> fst (usubstappp \\<sigma> V\n                    (\\<alpha> \\<union>\\<union> \\<beta>))\n\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 3. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 3. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (Compose \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<beta>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<beta>)\n  U \\<subseteq> V\n\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        \\<And>U V.\n           U \\<subseteq> V \\<Longrightarrow>\n           fst (usubstappp \\<sigma> U \\<beta>)\n           \\<subseteq> fst (usubstappp \\<sigma> V \\<beta>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 3. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<beta>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<beta>)\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<beta>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<beta>)\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n    \\<subseteq> fst (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))", "by (metis fst_pair usubstappp_compose)"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n  \\<subseteq> fst (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>))\n\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 2. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 2. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (Loop \\<alpha>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  U \\<subseteq> V\n\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>**)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n 2. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U \\<alpha>**)\n    \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)", "by (metis fst_pair usubstappp_loop)"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U \\<alpha>**)\n  \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>**)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "case (Dual \\<alpha>)"], ["proof (state)\nthis:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U V.\n       \\<lbrakk>\\<And>U V.\n                   U \\<subseteq> V \\<Longrightarrow>\n                   fst (usubstappp \\<sigma> U \\<alpha>)\n                   \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>);\n        U \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> fst (usubstappp \\<sigma> U \\<alpha>^d)\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  U \\<subseteq> V", "show ?case"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp \\<sigma> ?U \\<alpha>)\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  U \\<subseteq> V\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U \\<alpha>^d)\n    \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)", "by (metis fst_pair usubstappp_dual)"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U \\<alpha>^d)\n  \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>^d)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubstappf_and_usubstappp_antimon: \nshows \"V\\<subseteq>U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\"\nand \"V\\<subseteq>U \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>V \\<subseteq> U;\n      usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n     \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                       usubstappf \\<sigma> V \\<phi>) &&&\n    (\\<lbrakk>V \\<subseteq> U;\n      snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n     \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                       snd (usubstappp \\<sigma> V \\<alpha>))", "proof-"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                      usubstappf \\<sigma> V \\<phi>\n 2. \\<lbrakk>V \\<subseteq> U;\n     snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                      snd (usubstappp \\<sigma> V \\<alpha>)", "have \"V\\<subseteq>U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\"\n  and \"V\\<subseteq>U \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>V \\<subseteq> U;\n      usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n     \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff) &&&\n    (\\<lbrakk>V \\<subseteq> U;\n      snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n     \\<Longrightarrow> snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg)", "proof (induction \\<phi> and \\<alpha> arbitrary: U V and U V)"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappf \\<sigma> U (Pred x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Pred x1 x2) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 7. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd\n (usubstappp \\<sigma> V x1) \\<noteq>\nundefg;\n         \\<And>U V.\n            \\<lbrakk>V \\<subseteq> U;\n             snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq>\n                              undefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n         undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                                (x1 \\<union>\\<union> x2)) \\<noteq>\n                          undefg\nA total of 14 subgoals...", "case (Pred p \\<theta>)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (14 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappf \\<sigma> U (Pred x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Pred x1 x2) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 7. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd\n (usubstappp \\<sigma> V x1) \\<noteq>\nundefg;\n         \\<And>U V.\n            \\<lbrakk>V \\<subseteq> U;\n             snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq>\n                              undefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n         undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                                (x1 \\<union>\\<union> x2)) \\<noteq>\n                          undefg\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff", "using usubstappt_antimon usubstappf_pred"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n  \\<lbrakk>SPreds ?\\<sigma> ?p = Afml ?r; FVF ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) =\n                    usubstappf (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff", "(*by (smt Un_mono disjoint_eq_subset_Compl empty_subsetI inf.commute option.case_eq_if sup.absorb_iff1 sup.absorb_iff2 usubstappf.simps(1)) *)"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n  \\<lbrakk>SPreds ?\\<sigma> ?p = Afml ?r; FVF ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) =\n                    usubstappf (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "have f1: \"\\<forall>v. v \\<notin> V \\<or> v \\<in> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v. v \\<notin> V \\<or> v \\<in> U", "using Pred.prems(1)"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n\ngoal (1 subgoal):\n 1. \\<forall>v. v \\<notin> V \\<or> v \\<in> U", "by auto"], ["proof (state)\nthis:\n  \\<forall>v. v \\<notin> V \\<or> v \\<in> U\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "have f2: \"\\<forall>z f za. if za = undeff then (case za of None \\<Rightarrow> z::fml option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeff\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by (simp add: option.case_eq_if)"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "have f3: \"(case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff | Some t \\<Rightarrow> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f else undeff)) \\<noteq> undeff\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) \\<noteq>\n    undeff", "using Pred.prems(2)"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) \\<noteq>\n    undeff", "by auto"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "have f4: \"\\<forall>z f za. if za = undeft then (case za of None \\<Rightarrow> z::fml option | Some x \\<Rightarrow> f x) = z else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = f (the za)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z f za.\n       if za = undeft\n       then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n       else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n            f (the za)", "by (simp add: option.case_eq_if)"], ["proof (state)\nthis:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)", "have f5: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using f3"], ["proof (prove)\nusing this:\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by meson"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "have f6: \"(case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff | Some t \\<Rightarrow> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f else undeff)) = (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "using f4"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n     | Some t \\<Rightarrow>\n         case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n         | Some f \\<Rightarrow>\n             if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n             else undeff) =\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "by presburger"], ["proof (state)\nthis:\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "have f7: \"usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "using f5"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "by (meson Pred.prems(1) usubstappt_antimon)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>", "have f8: \"SPreds \\<sigma> p = undeff \\<longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) = usubstappf \\<sigma> V (Pred p \\<theta>)\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff \\<longrightarrow>\n    usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "using f2 usubstappf.simps(1)"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n  usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) =\n  (case usubstappt ?\\<sigma> ?U ?\\<theta> of None \\<Rightarrow> undeff\n   | Some \\<sigma>\\<theta> \\<Rightarrow>\n       case SPreds ?\\<sigma> ?p of\n       None \\<Rightarrow> Afml (Pred ?p \\<sigma>\\<theta>)\n       | Some r \\<Rightarrow>\n           if FVF r \\<inter> ?U = {}\n           then usubstappf (dotsubstt \\<sigma>\\<theta>) {} r else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff \\<longrightarrow>\n    usubstappf \\<sigma> U (Pred p \\<theta>) =\n    usubstappf \\<sigma> V (Pred p \\<theta>)", "by presburger"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff \\<longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "obtain vv :: \"variable set \\<Rightarrow> variable set \\<Rightarrow> variable\" where\n      \"\\<forall>x0 x1. (\\<exists>v2. v2 \\<in> x1 \\<and> (\\<exists>v3. v3 \\<in> x0 \\<and> v2 = v3)) = (vv x0 x1 \\<in> x1 \\<and> (\\<exists>v3. v3 \\<in> x0 \\<and> vv x0 x1 = v3))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>vv.\n        \\<forall>x0 x1.\n           (\\<exists>v2.\n               v2 \\<in> x1 \\<and>\n               (\\<exists>v3. v3 \\<in> x0 \\<and> v2 = v3)) =\n           (vv x0 x1 \\<in> x1 \\<and>\n            (\\<exists>v3.\n                v3 \\<in> x0 \\<and> vv x0 x1 = v3)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  \\<forall>x0 x1.\n     (\\<exists>v2.\n         v2 \\<in> x1 \\<and> (\\<exists>v3. v3 \\<in> x0 \\<and> v2 = v3)) =\n     (vv x0 x1 \\<in> x1 \\<and>\n      (\\<exists>v3. v3 \\<in> x0 \\<and> vv x0 x1 = v3))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  \\<forall>x0 x1.\n     (\\<exists>v2.\n         v2 \\<in> x1 \\<and> (\\<exists>v3. v3 \\<in> x0 \\<and> v2 = v3)) =\n     (vv x0 x1 \\<in> x1 \\<and>\n      (\\<exists>v3. v3 \\<in> x0 \\<and> vv x0 x1 = v3))", "obtain vva :: \"variable set \\<Rightarrow> variable set \\<Rightarrow> variable\" where\n      f9: \"\\<forall>V Va. (V \\<inter> Va \\<noteq> {} \\<or> (\\<forall>v. v \\<notin> V \\<or> (\\<forall>va. va \\<notin> Va \\<or> v \\<noteq> va))) \\<and> (V \\<inter> Va = {} \\<or> vv Va V \\<in> V \\<and> vva Va V \\<in> Va \\<and> vv Va V = vva Va V)\""], ["proof (prove)\nusing this:\n  \\<forall>x0 x1.\n     (\\<exists>v2.\n         v2 \\<in> x1 \\<and> (\\<exists>v3. v3 \\<in> x0 \\<and> v2 = v3)) =\n     (vv x0 x1 \\<in> x1 \\<and>\n      (\\<exists>v3. v3 \\<in> x0 \\<and> vv x0 x1 = v3))\n\ngoal (1 subgoal):\n 1. (\\<And>vva.\n        \\<forall>V Va.\n           (V \\<inter> Va \\<noteq> {} \\<or>\n            (\\<forall>v.\n                v \\<notin> V \\<or>\n                (\\<forall>va. va \\<notin> Va \\<or> v \\<noteq> va))) \\<and>\n           (V \\<inter> Va = {} \\<or>\n            vv Va V \\<in> V \\<and>\n            vva Va V \\<in> Va \\<and> vv Va V = vva Va V) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  \\<forall>V Va.\n     (V \\<inter> Va \\<noteq> {} \\<or>\n      (\\<forall>v.\n          v \\<notin> V \\<or>\n          (\\<forall>va. va \\<notin> Va \\<or> v \\<noteq> va))) \\<and>\n     (V \\<inter> Va = {} \\<or>\n      vv Va V \\<in> V \\<and> vva Va V \\<in> Va \\<and> vv Va V = vva Va V)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  \\<forall>V Va.\n     (V \\<inter> Va \\<noteq> {} \\<or>\n      (\\<forall>v.\n          v \\<notin> V \\<or>\n          (\\<forall>va. va \\<notin> Va \\<or> v \\<noteq> va))) \\<and>\n     (V \\<inter> Va = {} \\<or>\n      vv Va V \\<in> V \\<and> vva Va V \\<in> Va \\<and> vv Va V = vva Va V)", "have f10: \"(FVF (the (SPreds \\<sigma> p)) \\<inter> V \\<noteq> {} \\<or> (\\<forall>v. v \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or> (\\<forall>va. va \\<notin> V \\<or> v \\<noteq> va))) \\<and> (FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} \\<or> vv V (FVF (the (SPreds \\<sigma> p))) \\<in> FVF (the (SPreds \\<sigma> p)) \\<and> vva V (FVF (the (SPreds \\<sigma> p))) \\<in> V \\<and> vv V (FVF (the (SPreds \\<sigma> p))) = vva V (FVF (the (SPreds \\<sigma> p))))\""], ["proof (prove)\nusing this:\n  \\<forall>V Va.\n     (V \\<inter> Va \\<noteq> {} \\<or>\n      (\\<forall>v.\n          v \\<notin> V \\<or>\n          (\\<forall>va. va \\<notin> Va \\<or> v \\<noteq> va))) \\<and>\n     (V \\<inter> Va = {} \\<or>\n      vv Va V \\<in> V \\<and> vva Va V \\<in> Va \\<and> vv Va V = vva Va V)\n\ngoal (1 subgoal):\n 1. (FVF (the (SPreds \\<sigma> p)) \\<inter> V \\<noteq> {} \\<or>\n     (\\<forall>v.\n         v \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n         (\\<forall>va. va \\<notin> V \\<or> v \\<noteq> va))) \\<and>\n    (FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} \\<or>\n     vv V (FVF (the (SPreds \\<sigma> p)))\n     \\<in> FVF (the (SPreds \\<sigma> p)) \\<and>\n     vva V (FVF (the (SPreds \\<sigma> p))) \\<in> V \\<and>\n     vv V (FVF (the (SPreds \\<sigma> p))) =\n     vva V (FVF (the (SPreds \\<sigma> p))))", "by presburger"], ["proof (state)\nthis:\n  (FVF (the (SPreds \\<sigma> p)) \\<inter> V \\<noteq> {} \\<or>\n   (\\<forall>v.\n       v \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n       (\\<forall>va. va \\<notin> V \\<or> v \\<noteq> va))) \\<and>\n  (FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} \\<or>\n   vv V (FVF (the (SPreds \\<sigma> p)))\n   \\<in> FVF (the (SPreds \\<sigma> p)) \\<and>\n   vva V (FVF (the (SPreds \\<sigma> p))) \\<in> V \\<and>\n   vv V (FVF (the (SPreds \\<sigma> p))) =\n   vva V (FVF (the (SPreds \\<sigma> p))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "{"], ["proof (state)\nthis:\n  (FVF (the (SPreds \\<sigma> p)) \\<inter> V \\<noteq> {} \\<or>\n   (\\<forall>v.\n       v \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n       (\\<forall>va. va \\<notin> V \\<or> v \\<noteq> va))) \\<and>\n  (FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} \\<or>\n   vv V (FVF (the (SPreds \\<sigma> p)))\n   \\<in> FVF (the (SPreds \\<sigma> p)) \\<and>\n   vva V (FVF (the (SPreds \\<sigma> p))) \\<in> V \\<and>\n   vv V (FVF (the (SPreds \\<sigma> p))) =\n   vva V (FVF (the (SPreds \\<sigma> p))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "assume \"vv V (FVF (the (SPreds \\<sigma> p))) \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or> vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or> vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq> vva V (FVF (the (SPreds \\<sigma> p)))\""], ["proof (state)\nthis:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "moreover"], ["proof (state)\nthis:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "{"], ["proof (state)\nthis:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "assume \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> undeff\""], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "moreover"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "{"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "assume \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> usubstappf \\<sigma> V (Pred p \\<theta>)\""], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)", "have \"(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "using f7 f5 f4"], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  \\<forall>z f za.\n     if za = undeft\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> V = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "by simp"], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using f2"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> V = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by (metis (no_types, lifting) \\<open>(if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> usubstappf \\<sigma> V (Pred p \\<theta>)\\<close> calculation f5 f7 option.collapse usubstappf_pred)"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "}"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "ultimately"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff", "have \"usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow> SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n    SPreds \\<sigma> p = undeff", "by fastforce"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "}"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "moreover"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "{"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "assume \"usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) \\<noteq> usubstappf \\<sigma> U (Pred p \\<theta>)\""], ["proof (state)\nthis:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>)", "have \"usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) \\<noteq> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SPreds \\<sigma> p)) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "using f6"], ["proof (prove)\nusing this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>)\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SPreds \\<sigma> p)) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "by simp"], ["proof (state)\nthis:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)", "have \"usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) \\<noteq> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SPreds \\<sigma> p)) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "using f7"], ["proof (prove)\nusing this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n     (the (SPreds \\<sigma> p)) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "by (metis f7)"], ["proof (state)\nthis:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "moreover"], ["proof (state)\nthis:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "{"], ["proof (state)\nthis:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "assume \"(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using f2"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by (metis (no_types, lifting) Pred.prems(2) \\<open>usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) \\<noteq> usubstappf \\<sigma> U (Pred p \\<theta>)\\<close> f5 f7 option.collapse usubstappf_pred usubstappf_pred2)"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "}"], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "ultimately"], ["proof (chain)\npicking this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff", "have \"FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<longrightarrow> SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<longrightarrow>\n    SPreds \\<sigma> p = undeff", "by force"], ["proof (state)\nthis:\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "}"], ["proof (state)\nthis:\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "ultimately"], ["proof (chain)\npicking this:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p)))\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<longrightarrow>\n  SPreds \\<sigma> p = undeff", "have \"FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and> usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow> SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p)))\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n    usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n    SPreds \\<sigma> p = undeff", "using f10"], ["proof (prove)\nusing this:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p)))\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> V = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n   (the (SPreds \\<sigma> p)) \\<noteq>\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  (FVF (the (SPreds \\<sigma> p)) \\<inter> V \\<noteq> {} \\<or>\n   (\\<forall>v.\n       v \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n       (\\<forall>va. va \\<notin> V \\<or> v \\<noteq> va))) \\<and>\n  (FVF (the (SPreds \\<sigma> p)) \\<inter> V = {} \\<or>\n   vv V (FVF (the (SPreds \\<sigma> p)))\n   \\<in> FVF (the (SPreds \\<sigma> p)) \\<and>\n   vva V (FVF (the (SPreds \\<sigma> p))) \\<in> V \\<and>\n   vv V (FVF (the (SPreds \\<sigma> p))) =\n   vva V (FVF (the (SPreds \\<sigma> p))))\n\ngoal (1 subgoal):\n 1. FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n    usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n    SPreds \\<sigma> p = undeff", "by (metis Pred.prems(2))"], ["proof (state)\nthis:\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "}"], ["proof (state)\nthis:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "moreover"], ["proof (state)\nthis:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "{"], ["proof (state)\nthis:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "assume \"FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {}\""], ["proof (state)\nthis:\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {}", "have \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "using f6 Pred.prems(2)"], ["proof (prove)\nusing this:\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {}\n  (case usubstappt \\<sigma> U \\<theta> of None \\<Rightarrow> undeff\n   | Some t \\<Rightarrow>\n       case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p t)\n       | Some f \\<Rightarrow>\n           if FVF f \\<inter> U = {} then usubstappf (dotsubstt t) {} f\n           else undeff) =\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} f\n         else undeff)", "by auto"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)", "have \"(if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff) \\<noteq> (case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "using f7"], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n             f\n       else undeff)\n  usubstappt \\<sigma> U \\<theta> = usubstappt \\<sigma> V \\<theta>\n\ngoal (1 subgoal):\n 1. (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff) \\<noteq>\n    (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff)", "by (metis  \\<open>FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {}\\<close>)"], ["proof (state)\nthis:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)", "have \"(case SPreds \\<sigma> p of None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>))) | Some f \\<Rightarrow> if FVF f \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} f else undeff) \\<noteq> (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {} (the (SPreds \\<sigma> p)) else undeff)\""], ["proof (prove)\nusing this:\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff) \\<noteq>\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff)\n\ngoal (1 subgoal):\n 1. (case SPreds \\<sigma> p of\n     None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n     | Some f \\<Rightarrow>\n         if FVF f \\<inter> U = {}\n         then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n               {} f\n         else undeff) \\<noteq>\n    (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n     then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n           (the (SPreds \\<sigma> p))\n     else undeff)", "by simp"], ["proof (state)\nthis:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)", "have \"SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "using f2"], ["proof (prove)\nusing this:\n  (case SPreds \\<sigma> p of\n   None \\<Rightarrow> Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n   | Some f \\<Rightarrow>\n       if FVF f \\<inter> U = {}\n       then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n             f\n       else undeff) \\<noteq>\n  (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n   then usubstappf (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n         (the (SPreds \\<sigma> p))\n   else undeff)\n  \\<forall>z f za.\n     if za = undeff\n     then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) = z\n     else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n          f (the za)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(case SPreds \\<sigma> p of\n              None \\<Rightarrow>\n                Afml (Pred p (the (usubstappt \\<sigma> V \\<theta>)))\n              | Some f \\<Rightarrow>\n                  if FVF f \\<inter> U = {}\n                  then usubstappf\n                        (dotsubstt (the (usubstappt \\<sigma> V \\<theta>)))\n                        {} f\n                  else undeff) \\<noteq>\n             (if FVF (the (SPreds \\<sigma> p)) \\<inter> U = {}\n              then usubstappf\n                    (dotsubstt (the (usubstappt \\<sigma> V \\<theta>))) {}\n                    (the (SPreds \\<sigma> p))\n              else undeff);\n     \\<forall>z f za.\n        if za = undeff\n        then (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n             z\n        else (case za of None \\<Rightarrow> z | Some x \\<Rightarrow> f x) =\n             f (the za)\\<rbrakk>\n    \\<Longrightarrow> SPreds \\<sigma> p = undeff", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff", "by (metis (no_types) Pred.prems(2) \\<open>FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {}\\<close> option.discI option.expand option.sel usubstappf_pred2)"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "}"], ["proof (state)\nthis:\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {} \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "ultimately"], ["proof (chain)\npicking this:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {} \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff", "have \"usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow> SPreds \\<sigma> p = undeff\""], ["proof (prove)\nusing this:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {} \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n    SPreds \\<sigma> p = undeff", "using f9 f1"], ["proof (prove)\nusing this:\n  vv V (FVF (the (SPreds \\<sigma> p)))\n  \\<notin> FVF (the (SPreds \\<sigma> p)) \\<or>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<notin> V \\<or>\n  vv V (FVF (the (SPreds \\<sigma> p))) \\<noteq>\n  vva V (FVF (the (SPreds \\<sigma> p))) \\<Longrightarrow>\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U = {} \\<and>\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  FVF (the (SPreds \\<sigma> p)) \\<inter> U \\<noteq> {} \\<Longrightarrow>\n  SPreds \\<sigma> p = undeff\n  \\<forall>V Va.\n     (V \\<inter> Va \\<noteq> {} \\<or>\n      (\\<forall>v.\n          v \\<notin> V \\<or>\n          (\\<forall>va. va \\<notin> Va \\<or> v \\<noteq> va))) \\<and>\n     (V \\<inter> Va = {} \\<or>\n      vv Va V \\<in> V \\<and> vva Va V \\<in> Va \\<and> vv Va V = vva Va V)\n  \\<forall>v. v \\<notin> V \\<or> v \\<in> U\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n    SPreds \\<sigma> p = undeff", "by meson"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n     \\<And>V U \\<sigma> \\<theta>.\n        \\<lbrakk>V \\<subseteq> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> usubstappt \\<sigma> U \\<theta> =\n                          usubstappt \\<sigma> V \\<theta>;\n     \\<And>\\<sigma> p r U \\<theta> \\<sigma>\\<theta>.\n        \\<lbrakk>SPreds \\<sigma> p = Afml r; FVF r \\<inter> U = {};\n         usubstappt \\<sigma> U \\<theta> = Aterm \\<sigma>\\<theta>\\<rbrakk>\n        \\<Longrightarrow> usubstappf \\<sigma> U (Pred p \\<theta>) =\n                          usubstappf (dotsubstt \\<sigma>\\<theta>) {}\n                           r\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq>\n                      undeff", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff", "show ?thesis"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff", "using f8"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> V (Pred p \\<theta>) = undeff \\<longrightarrow>\n  SPreds \\<sigma> p = undeff\n  SPreds \\<sigma> p = undeff \\<longrightarrow>\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  usubstappf \\<sigma> V (Pred p \\<theta>)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff", "by (metis (full_types) Pred.prems(2))"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (Pred p \\<theta>) \\<noteq> undeff\n\ngoal (13 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 6. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd\n (usubstappp \\<sigma> V x1) \\<noteq>\nundefg;\n         \\<And>U V.\n            \\<lbrakk>V \\<subseteq> U;\n             snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq>\n                              undefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                          undefg\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 6. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd\n (usubstappp \\<sigma> V x1) \\<noteq>\nundefg;\n         \\<And>U V.\n            \\<lbrakk>V \\<subseteq> U;\n             snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq>\n                              undefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                          undefg\nA total of 13 subgoals...", "case (Geq \\<theta> \\<eta>)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n\ngoal (13 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        usubstappf \\<sigma> U (Geq x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Geq x1 x2) \\<noteq> undeff\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 6. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd\n (usubstappp \\<sigma> V x1) \\<noteq>\nundefg;\n         \\<And>U V.\n            \\<lbrakk>V \\<subseteq> U;\n             snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n            \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq>\n                              undefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                          undefg\nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff", "using usubstappt_antimon"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff", "using Geqo_undef"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n  (Geqo ?\\<theta> ?\\<eta> = undeff) =\n  (?\\<theta> = undeft \\<or> ?\\<eta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff", "by auto"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (Geq \\<theta> \\<eta>) \\<noteq> undeff\n\ngoal (12 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 5. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\nundefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 5. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\nundefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\nA total of 12 subgoals...", "case (Not x)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (! x) \\<noteq> undeff\n\ngoal (12 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (! x) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (! x) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 5. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\nundefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (! x) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (! x) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (! x) \\<noteq> undeff", "using Noto_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (! x) \\<noteq> undeff\n  (Noto ?\\<phi> = undeff) = (?\\<phi> = undeff)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (! x) \\<noteq> undeff", "by auto"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (! x) \\<noteq> undeff\n\ngoal (11 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 4. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\nundefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 4. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\nundefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\nA total of 11 subgoals...", "case (And x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x1 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x1 \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\n\ngoal (11 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x1 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x1 \\<noteq>\n                                     undeff;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 4. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 10. \\<And>x U V.\n        \\<lbrakk>\\<And>U V.\n                    \\<lbrakk>V \\<subseteq> U;\n                     snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                    \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\nundefg;\n         V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x1 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x1 \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x1 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x1 \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff", "using Ando_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x1 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x1 \\<noteq> undeff\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (x1 && x2) \\<noteq> undeff\n  (Ando ?\\<phi> ?\\<psi> = undeff) =\n  (?\\<phi> = undeff \\<or> ?\\<psi> = undeff)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff", "by auto"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (x1 && x2) \\<noteq> undeff\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 3. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                          undefg", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 3. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                          undefg", "case (Exists x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\n\ngoal (10 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V (Exists x1 x2) \\<noteq>\n                         undeff\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 3. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 9. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 10. \\<And>x1 x2 U V.\n        \\<lbrakk>V \\<subseteq> U;\n         snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n        \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                          undefg", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff", "using Existso_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (Exists x1 x2) \\<noteq> undeff\n  (Existso ?x ?\\<phi> = undeff) = (?\\<phi> = undeff)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff", "by (metis (no_types, lifting) Un_mono subsetI usubstappf.simps(5))"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (Exists x1 x2) \\<noteq> undeff\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 2. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 2. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "case (Diamond x1 x2)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U x1) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V x1) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n\ngoal (9 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            usubstappf \\<sigma> U x2 \\<noteq> undeff\\<rbrakk>\n           \\<Longrightarrow> usubstappf \\<sigma> V x2 \\<noteq> undeff;\n        V \\<subseteq> U;\n        usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq>\n        undeff\\<rbrakk>\n       \\<Longrightarrow> usubstappf \\<sigma> V\n                          (\\<langle> x1 \\<rangle> x2) \\<noteq>\n                         undeff\n 2. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 8. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 9. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U x1) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V x1) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U x1) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V x1) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff", "using Diamondo_undef usubstappf.simps(6) usubstappp_fst_mon"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U x1) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V x1) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U x2 \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V x2 \\<noteq> undeff\n  V \\<subseteq> U\n  usubstappf \\<sigma> U (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n  (Diamondo ?\\<alpha> ?\\<phi> = undeff) =\n  (?\\<alpha> = undefg \\<or> ?\\<phi> = undeff)\n  usubstappf ?\\<sigma> ?U (\\<langle> ?\\<alpha> \\<rangle> ?\\<phi>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in Diamondo (snd V\\<alpha>)\n       (usubstappf ?\\<sigma> (fst V\\<alpha>) ?\\<phi>))\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff", "by metis"], ["proof (state)\nthis:\n  usubstappf \\<sigma> V (\\<langle> x1 \\<rangle> x2) \\<noteq> undeff\n\ngoal (8 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "case (Game a)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n\ngoal (8 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (Game x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (Game x)) \\<noteq>\n                         undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 5. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 7. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 8. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (Game a)) \\<noteq> undefg", "by (cases \"SGames \\<sigma> a\") (auto)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V (Game a)) \\<noteq> undefg\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "case (Assign x \\<theta>)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n\ngoal (7 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 := x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 := x2)) \\<noteq>\n                         undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 4. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 6. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 7. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (x := \\<theta>)) \\<noteq> undefg", "using usubstappt_antimon"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (x := \\<theta>)) \\<noteq> undefg", "by (metis Assigno_undef snd_conv usubstappp.simps(2))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V (x := \\<theta>)) \\<noteq> undefg\n\ngoal (6 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "case (ODE x \\<theta>)"], ["proof (state)\nthis:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n\ngoal (6 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg\n 6. \\<And>x1 x2 U V.\n       \\<lbrakk>V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (ODE x1 x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (ODE x1 x2)) \\<noteq>\n                         undefg", "then"], ["proof (chain)\npicking this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (ODE x \\<theta>)) \\<noteq> undefg", "using usubstappt_antimon ODEo_undef"], ["proof (prove)\nusing this:\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U ?\\<theta> =\n                    usubstappt ?\\<sigma> ?V ?\\<theta>\n  (ODEo ?x ?\\<theta> = undefg) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (ODE x \\<theta>)) \\<noteq> undefg", "by (metis (no_types, hide_lams) Un_mono order_refl snd_conv usubstappp.simps(8))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V (ODE x \\<theta>)) \\<noteq> undefg\n\ngoal (5 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "case (Test \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V \\<phi> \\<noteq> undeff\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n\ngoal (5 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    usubstappf \\<sigma> U x \\<noteq> undeff\\<rbrakk>\n                   \\<Longrightarrow> usubstappf \\<sigma> V x \\<noteq>\n                                     undeff;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (? x)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (? x)) \\<noteq> undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 3. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 5. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V \\<phi> \\<noteq> undeff\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf \\<sigma> ?U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> ?V \\<phi> \\<noteq> undeff\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (? \\<phi>)) \\<noteq> undefg", "by (metis Testo_undef snd_conv usubstappp.simps(3))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V (? \\<phi>)) \\<noteq> undefg\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "case (Choice \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (4 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 \\<union>\\<union> x2)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V\n                               (x1 \\<union>\\<union> x2)) \\<noteq>\n                         undefg\n 2. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 4. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n    undefg", "using Choiceo_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  (Choiceo ?\\<alpha> ?\\<beta> = undefg) =\n  (?\\<alpha> = undefg \\<or> ?\\<beta> = undefg)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n    undefg", "by auto"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "case (Compose \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (3 subgoals):\n 1. \\<And>x1 x2 U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x1) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x1) \\<noteq>\n                                     undefg;\n        \\<And>U V.\n           \\<lbrakk>V \\<subseteq> U;\n            snd (usubstappp \\<sigma> U x2) \\<noteq> undefg\\<rbrakk>\n           \\<Longrightarrow> snd (usubstappp \\<sigma> V x2) \\<noteq> undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U (x1 ;; x2)) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V (x1 ;; x2)) \\<noteq>\n                         undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 3. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) \\<noteq> undefg", "using usubstappp_compose[where \\<sigma>=\\<sigma> and U=U and \\<alpha>=\\<alpha> and \\<beta>=\\<beta>] usubstappp_compose[where \\<sigma>=\\<sigma> and U=V and \\<alpha>=\\<alpha> and \\<beta>=\\<beta>]\n          Composeo_undef[where \\<alpha>=\\<open>snd (usubstappp \\<sigma> U \\<alpha>)\\<close> and \\<beta>=\\<open>snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\\<close>]\n          Composeo_undef[where \\<alpha>=\\<open>snd (usubstappp \\<sigma> V \\<alpha>)\\<close> and \\<beta>=\\<open>snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> V \\<alpha>)) \\<beta>)\\<close>]\n          snd_conv usubstappp_fst_mon"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<beta>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n  (fst (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>),\n   Composeo (snd (usubstappp \\<sigma> U \\<alpha>))\n    (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n           \\<beta>)))\n  usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>) =\n  (fst (usubstappp \\<sigma> (fst (usubstappp \\<sigma> V \\<alpha>)) \\<beta>),\n   Composeo (snd (usubstappp \\<sigma> V \\<alpha>))\n    (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> V \\<alpha>))\n           \\<beta>)))\n  (Composeo (snd (usubstappp \\<sigma> U \\<alpha>))\n    (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n           \\<beta>)) =\n   undefg) =\n  (snd (usubstappp \\<sigma> U \\<alpha>) = undefg \\<or>\n   snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n         \\<beta>) =\n   undefg)\n  (Composeo (snd (usubstappp \\<sigma> V \\<alpha>))\n    (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> V \\<alpha>))\n           \\<beta>)) =\n   undefg) =\n  (snd (usubstappp \\<sigma> V \\<alpha>) = undefg \\<or>\n   snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> V \\<alpha>))\n         \\<beta>) =\n   undefg)\n  snd (?x1.0, ?x2.0) = ?x2.0\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) \\<noteq> undefg", "by metis"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "(*proof-\n            from Compose have ca: \"snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\" by simp\n            have decU: \"snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) = Composeo (snd(usubstappp \\<sigma> U \\<alpha>)) (snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<beta>))\" using usubstappp_compose by simp\n            have decV: \"snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) = Composeo (snd(usubstappp \\<sigma> V \\<alpha>)) (snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> V \\<alpha>)) \\<beta>))\" using usubstappp_compose by simp\n            from Compose have fact1: \"snd(usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\" using Composeo_undef by auto \n            from Compose have fact2: \"snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<beta>) \\<noteq> undefg\" using Composeo_undef by auto \n            have rel: \"fst(usubstappp \\<sigma> V \\<alpha>) \\<subseteq> fst(usubstappp \\<sigma> U \\<alpha>)\" using \\<open>V\\<subseteq>U\\<close> usubstappp_fst_mon by auto\n            from Compose have fact3: \"snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> V \\<alpha>)) \\<beta>) \\<noteq> undefg\" using fact2 rel by auto \n            then show ?thesis by (simp add: Composeo_undef fact1)\n          qed*)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "case (Loop \\<alpha>)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x**) \\<noteq> undefg\n 2. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V \\<alpha>**) \\<noteq> undefg", "using Loopo_undef snd_conv usubstappp.simps(6) usubstappp_fst_mon"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  (Loopo ?\\<alpha> = undefg) = (?\\<alpha> = undefg)\n  snd (?x1.0, ?x2.0) = ?x2.0\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  ?U \\<subseteq> ?V \\<Longrightarrow>\n  fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V \\<alpha>**) \\<noteq> undefg", "by metis"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "case (Dual \\<alpha>)"], ["proof (state)\nthis:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. \\<And>x U V.\n       \\<lbrakk>\\<And>U V.\n                   \\<lbrakk>V \\<subseteq> U;\n                    snd (usubstappp \\<sigma> U x) \\<noteq> undefg\\<rbrakk>\n                   \\<Longrightarrow> snd (usubstappp \\<sigma> V x) \\<noteq>\n                                     undefg;\n        V \\<subseteq> U;\n        snd (usubstappp \\<sigma> U x^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> snd (usubstappp \\<sigma> V x^d) \\<noteq> undefg", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg\n  V \\<subseteq> U\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> V \\<alpha>^d) \\<noteq> undefg", "by (metis Dualo_undef snd_conv usubstappp.simps(7))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> V \\<alpha>^d) \\<noteq> undefg\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\n  \\<lbrakk>V \\<subseteq> U;\n   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                      usubstappf \\<sigma> V \\<phi>\n 2. \\<lbrakk>V \\<subseteq> U;\n     snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                      snd (usubstappp \\<sigma> V \\<alpha>)", "from this"], ["proof (chain)\npicking this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\n  \\<lbrakk>V \\<subseteq> U;\n   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg", "show \"V\\<subseteq>U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\"\n      and \"V\\<subseteq>U \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\n  \\<lbrakk>V \\<subseteq> U;\n   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>V \\<subseteq> U;\n      usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n     \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                       usubstappf \\<sigma> V \\<phi>) &&&\n    (\\<lbrakk>V \\<subseteq> U;\n      snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n     \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                       snd (usubstappp \\<sigma> V \\<alpha>))", "using usubstappf_and_usubstappp_det"], ["proof (prove)\nusing this:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> V \\<phi> \\<noteq> undeff\n  \\<lbrakk>V \\<subseteq> U;\n   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg\n  \\<lbrakk>usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff;\n   usubstappf ?\\<sigma> ?V ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U ?\\<phi> =\n                    usubstappf ?\\<sigma> ?V ?\\<phi>\n  \\<lbrakk>snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg;\n   snd (usubstappp ?\\<sigma> ?V ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>V \\<subseteq> U;\n      usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n     \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                       usubstappf \\<sigma> V \\<phi>) &&&\n    (\\<lbrakk>V \\<subseteq> U;\n      snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n     \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                       snd (usubstappp \\<sigma> V \\<alpha>))", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>V \\<subseteq> U;\n   usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                    usubstappf \\<sigma> V \\<phi>\n  \\<lbrakk>V \\<subseteq> U;\n   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                    snd (usubstappp \\<sigma> V \\<alpha>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubstappf_antimon: \"V\\<subseteq>U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> = usubstappf \\<sigma> V \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                      usubstappf \\<sigma> V \\<phi>", "using usubstappf_and_usubstappp_antimon"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U ?\\<phi> =\n                    usubstappf ?\\<sigma> ?V ?\\<phi>\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> =\n                      usubstappf \\<sigma> V \\<phi>", "by simp"], ["", "lemma usubstappp_antimon: \"V\\<subseteq>U \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow> snd(usubstappp \\<sigma> U \\<alpha>) = snd(usubstappp \\<sigma> V \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                      snd (usubstappp \\<sigma> V \\<alpha>)", "using usubstappf_and_usubstappp_antimon"], ["proof (prove)\nusing this:\n  \\<lbrakk>?V \\<subseteq> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U ?\\<phi> =\n                    usubstappf ?\\<sigma> ?V ?\\<phi>\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> U;\n     snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) =\n                      snd (usubstappp \\<sigma> V \\<alpha>)", "by simp"], ["", "subsection \\<open>Taboo Lemmas\\<close>"], ["", "lemma usubstappp_loop_conv: \"snd (usubstappp \\<sigma> U (Loop \\<alpha>)) \\<noteq> undefg \\<Longrightarrow>\n  snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n  snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>) \\<noteq> undefg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n    snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "(*using usubstappp_loop Loopo_undef*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n    snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n 2. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "assume a: \"snd (usubstappp \\<sigma> U (Loop \\<alpha>)) \\<noteq> undefg\""], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n 2. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "have fact: \"fst(usubstappp \\<sigma> U \\<alpha>) \\<supseteq> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "using usubst_taboos_mon"], ["proof (prove)\nusing this:\n  ?U \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by simp"], ["proof (state)\nthis:\n  U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (2 subgoals):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n 2. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "show \"snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>) \\<noteq> undefg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "using a usubstappp_loop Loopo_undef"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>),\n   Loopo\n    (snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n           ?\\<alpha>)))\n  (Loopo ?\\<alpha> = undefg) = (?\\<alpha> = undefg)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "by simp"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg", "show \"snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "using a usubstappp_loop Loopo_undef fact usubstappp_antimon"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>),\n   Loopo\n    (snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n           ?\\<alpha>)))\n  (Loopo ?\\<alpha> = undefg) = (?\\<alpha> = undefg)\n  U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  \\<lbrakk>?V \\<subseteq> ?U;\n   snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "by auto"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Lemma 13 of \\<^url>\\<open>http://arxiv.org/abs/1902.07230\\<close>\\<close>"], ["", "lemma usubst_taboos: \"snd(usubstappp \\<sigma> U \\<alpha>)\\<noteq>undefg \\<Longrightarrow> fst(usubstappp \\<sigma> U \\<alpha>) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n    U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "proof (induction \\<alpha> arbitrary: U rule: game_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>a U.\n       snd (usubstappp \\<sigma> U (Game a)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (Game a))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (Game a))\n 2. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 3. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 4. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 6. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 7. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 8. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Game a)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n\ngoal (8 subgoals):\n 1. \\<And>a U.\n       snd (usubstappp \\<sigma> U (Game a)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (Game a))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (Game a))\n 2. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 3. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 4. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 6. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 7. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 8. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (Game a))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (Game a))", "by (cases \"SGames \\<sigma> a\") (auto)"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (Game a))))\n  \\<subseteq> fst (usubstappp \\<sigma> U (Game a))\n\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 2. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 3. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 7. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 2. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 3. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 7. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Assign x \\<theta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n\ngoal (7 subgoals):\n 1. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n 2. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 3. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 5. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 6. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 7. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))", "using BVG_assign Assigno_undef"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  BVG (?x := ?\\<theta>) =\n  (if \\<forall>I \\<omega>. term_sem I ?\\<theta> \\<omega> = \\<omega> ?x\n   then {} else {?x})\n  (Assigno ?x ?\\<theta> = undefg) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))", "by (metis (no_types, lifting) Assigno.elims BVG_assign_other fst_pair option.sel singletonI snd_pair subsetI union_or usubstappp.simps(2))"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n  \\<subseteq> fst (usubstappp \\<sigma> U (x := \\<theta>))\n\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 2. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 6. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 2. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 6. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (ODE x \\<theta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n\ngoal (6 subgoals):\n 1. \\<And>x \\<theta> U.\n       snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n 2. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 4. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 5. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 6. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))", "using BVG_ODE ODEo_undef"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  BVG (ODE ?x ?\\<theta>) \\<subseteq> {RVar ?x, DVar ?x}\n  (ODEo ?x ?\\<theta> = undefg) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))", "by (metis (no_types, lifting) ODEo.elims Un_least fst_pair option.sel snd_conv sup.coboundedI2 usubst_taboos_mon usubstappp.simps(8))"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n  \\<subseteq> fst (usubstappp \\<sigma> U (ODE x \\<theta>))\n\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 5. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 5. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Test p)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (? p)) \\<noteq> undefg\n\ngoal (5 subgoals):\n 1. \\<And>\\<phi> U.\n       snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq>\n       undefg \\<Longrightarrow>\n       U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? \\<phi>))))\n       \\<subseteq> fst (usubstappp \\<sigma> U (? \\<phi>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 3. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 4. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 5. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (? p)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (? p)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? p))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (? p))", "using BVG_test Testo_undef usubst_taboos_mon"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (? p)) \\<noteq> undefg\n  BVG (? ?\\<phi>) = {}\n  (Testo ?\\<phi> = undefg) = (?\\<phi> = undeff)\n  ?U \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? p))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (? p))", "by auto"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (? p))))\n  \\<subseteq> fst (usubstappp \\<sigma> U (? p))\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 4. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 4. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Choice \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> \\<union>\\<union> \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))\n 2. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 3. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 4. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. U \\<union>\n    BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))", "(*using usubstappp.simps Product_Type.fst_conv Product_Type.snd_conv BVG_choice*)"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. U \\<union>\n    BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U\n           (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> \\<union>\\<union> \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> \\<union>\\<union> \\<beta>))", "from Choice"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg", "have IHa: \"fst(usubstappp \\<sigma> U \\<alpha>) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>)))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by (simp add: Choiceo_undef)"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U\n           (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> \\<union>\\<union> \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> \\<union>\\<union> \\<beta>))", "from Choice"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg", "have IHb: \"fst(usubstappp \\<sigma> U \\<beta>) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<beta>)))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)", "by (simp add: Choiceo_undef)"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U\n           (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> \\<union>\\<union> \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> \\<union>\\<union> \\<beta>))", "have fact: \"BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))) \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<beta>))) \\<supseteq> BVG(the (snd(usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))", "using BVG_choice"], ["proof (prove)\nusing this:\n  BVG (?\\<alpha> \\<union>\\<union> ?\\<beta>)\n  \\<subseteq> BVG ?\\<alpha> \\<union> BVG ?\\<beta>\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))", "(*by (smt Choice.prems Choiceo.simps(1) Choiceo_undef option.collapse option.sel snd_pair usubstappp_choice)*)"], ["proof (prove)\nusing this:\n  BVG (?\\<alpha> \\<union>\\<union> ?\\<beta>)\n  \\<subseteq> BVG ?\\<alpha> \\<union> BVG ?\\<beta>\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha> \\<beta>.\n        BVG (\\<alpha> \\<union>\\<union> \\<beta>)\n        \\<subseteq> BVG \\<alpha> \\<union> BVG \\<beta>) \\<Longrightarrow>\n    BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))", "have \"Agame (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union> the (snd (usubstappp \\<sigma> U \\<beta>))) = Choiceo (snd (usubstappp \\<sigma> U \\<alpha>)) (snd (usubstappp \\<sigma> U \\<beta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Agame\n     (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n      the (snd (usubstappp \\<sigma> U \\<beta>))) =\n    Choiceo (snd (usubstappp \\<sigma> U \\<alpha>))\n     (snd (usubstappp \\<sigma> U \\<beta>))", "by (metis (no_types) Choice.prems Choiceo.simps(1) option.collapse usubstappp_choice_conv)"], ["proof (state)\nthis:\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n    the (snd (usubstappp \\<sigma> U \\<beta>))) =\n  Choiceo (snd (usubstappp \\<sigma> U \\<alpha>))\n   (snd (usubstappp \\<sigma> U \\<beta>))\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha> \\<beta>.\n        BVG (\\<alpha> \\<union>\\<union> \\<beta>)\n        \\<subseteq> BVG \\<alpha> \\<union> BVG \\<beta>) \\<Longrightarrow>\n    BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))", "then"], ["proof (chain)\npicking this:\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n    the (snd (usubstappp \\<sigma> U \\<beta>))) =\n  Choiceo (snd (usubstappp \\<sigma> U \\<alpha>))\n   (snd (usubstappp \\<sigma> U \\<beta>))", "show ?thesis"], ["proof (prove)\nusing this:\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n    the (snd (usubstappp \\<sigma> U \\<beta>))) =\n  Choiceo (snd (usubstappp \\<sigma> U \\<alpha>))\n   (snd (usubstappp \\<sigma> U \\<beta>))\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))", "by (metis (no_types) BVG_choice Choice.prems Pair_inject option.collapse option.inject surjective_pairing usubstappp.simps(4))"], ["proof (state)\nthis:\n  BVG (the (snd (usubstappp \\<sigma> U\n                  (\\<alpha> \\<union>\\<union> \\<beta>))))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n              BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  BVG (the (snd (usubstappp \\<sigma> U\n                  (\\<alpha> \\<union>\\<union> \\<beta>))))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n              BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U\n           (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> \\<union>\\<union> \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> \\<union>\\<union> \\<beta>))", "from IHa and IHb"], ["proof (chain)\npicking this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)", "have \"fst(usubstappp \\<sigma> U \\<alpha>) \\<union> fst(usubstappp \\<sigma> U \\<beta>) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))) \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<beta>)))\""], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n    BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n                fst (usubstappp \\<sigma> U \\<beta>)", "by auto"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n              fst (usubstappp \\<sigma> U \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U\n           (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> \\<union>\\<union> \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> \\<union>\\<union> \\<beta>))", "then"], ["proof (chain)\npicking this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n              fst (usubstappp \\<sigma> U \\<beta>)", "have \"fst(usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>)) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))) \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<beta>)))\""], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n              fst (usubstappp \\<sigma> U \\<beta>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n    BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))", "using usubstappp.simps Let_def"], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n              fst (usubstappp \\<sigma> U \\<beta>)\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  Let ?s ?f \\<equiv> ?f ?s\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n    BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))", "by auto"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U\n           (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> \\<union>\\<union> \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> \\<union>\\<union> \\<beta>))", "then"], ["proof (chain)\npicking this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))", "show \"fst(usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>)) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U (Choice \\<alpha> \\<beta>))))\""], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))\n\ngoal (1 subgoal):\n 1. U \\<union>\n    BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))", "using usubstappp.simps fact"], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  BVG (the (snd (usubstappp \\<sigma> U\n                  (\\<alpha> \\<union>\\<union> \\<beta>))))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n              BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n\ngoal (1 subgoal):\n 1. U \\<union>\n    BVG (the (snd (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))", "by auto"], ["proof (state)\nthis:\n  U \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U\n                  (\\<alpha> \\<union>\\<union> \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U \\<union>\n  BVG (the (snd (usubstappp \\<sigma> U\n                  (\\<alpha> \\<union>\\<union> \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma> U\n                    (\\<alpha> \\<union>\\<union> \\<beta>))\n\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 3. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 3. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Compose \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (3 subgoals):\n 1. \\<And>\\<alpha> \\<beta> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        \\<And>U.\n           snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n           undefg \\<Longrightarrow>\n           U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n           \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n        undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U\n   (\\<alpha> ;; \\<beta>))))\n                         \\<subseteq> fst\n(usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n 2. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 3. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "let ?V = \"fst(usubstappp \\<sigma> U \\<alpha>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "let ?W = \"fst(usubstappp \\<sigma> ?V \\<beta>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "from Compose"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg", "have IHa: \"?V \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>)))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by (simp add: Composeo_undef)"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "from Compose"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg", "have IHb: \"?W \\<supseteq> ?V \\<union> BVG(the (snd(usubstappp \\<sigma> ?V \\<beta>)))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> ?U \\<beta>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<beta>)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n    BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n    \\<subseteq> fst (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)", "by (simp add: Composeo_undef)"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "have fact: \"BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))) \\<union> BVG(the (snd(usubstappp \\<sigma> ?V \\<beta>))) \\<supseteq> BVG(the (snd(usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma>\n                                (fst (usubstappp \\<sigma> U \\<alpha>))\n                                \\<beta>)))", "using usubstappp.simps BVG_compose"], ["proof (prove)\nusing this:\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  BVG (?\\<alpha> ;; ?\\<beta>)\n  \\<subseteq> BVG ?\\<alpha> \\<union> BVG ?\\<beta>\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma>\n                                (fst (usubstappp \\<sigma> U \\<alpha>))\n                                \\<beta>)))", "(*by (smt Compose.prems Composeo.simps(1) Composeo_undef option.collapse option.sel snd_pair)*)"], ["proof (prove)\nusing this:\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  BVG (?\\<alpha> ;; ?\\<beta>)\n  \\<subseteq> BVG ?\\<alpha> \\<union> BVG ?\\<beta>\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma>\n                                (fst (usubstappp \\<sigma> U \\<alpha>))\n                                \\<beta>)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<sigma> U a.\n                usubstappp \\<sigma> U (Game a) =\n                (case SGames \\<sigma> a of\n                 None \\<Rightarrow>\n                   (Denotational_Semantics.allvars, Agame (Game a))\n                 | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     \\<And>\\<alpha> \\<beta>.\n        BVG (\\<alpha> ;; \\<beta>)\n        \\<subseteq> BVG \\<alpha> \\<union> BVG \\<beta>\\<rbrakk>\n    \\<Longrightarrow> BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> BVG (the\n  (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                                  BVG (the\n  (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n         \\<beta>)))", "have f1: \"\\<forall>z. z = undefg \\<or> Agame (the z) = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z. z = undefg \\<or> Agame (the z) = z", "using option.collapse"], ["proof (prove)\nusing this:\n  ?option \\<noteq> None \\<Longrightarrow> Some (the ?option) = ?option\n\ngoal (1 subgoal):\n 1. \\<forall>z. z = undefg \\<or> Agame (the z) = z", "by blast"], ["proof (state)\nthis:\n  \\<forall>z. z = undefg \\<or> Agame (the z) = z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<sigma> U a.\n                usubstappp \\<sigma> U (Game a) =\n                (case SGames \\<sigma> a of\n                 None \\<Rightarrow>\n                   (Denotational_Semantics.allvars, Agame (Game a))\n                 | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     \\<And>\\<alpha> \\<beta>.\n        BVG (\\<alpha> ;; \\<beta>)\n        \\<subseteq> BVG \\<alpha> \\<union> BVG \\<beta>\\<rbrakk>\n    \\<Longrightarrow> BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> BVG (the\n  (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                                  BVG (the\n  (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n         \\<beta>)))", "then"], ["proof (chain)\npicking this:\n  \\<forall>z. z = undefg \\<or> Agame (the z) = z", "have \"Agame (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;; the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>))) = snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\""], ["proof (prove)\nusing this:\n  \\<forall>z. z = undefg \\<or> Agame (the z) = z\n\ngoal (1 subgoal):\n 1. Agame\n     (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n      the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<beta>))) =\n    snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))", "using Compose.prems Composeo_undef"], ["proof (prove)\nusing this:\n  \\<forall>z. z = undefg \\<or> Agame (the z) = z\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  (Composeo ?\\<alpha> ?\\<beta> = undefg) =\n  (?\\<alpha> = undefg \\<or> ?\\<beta> = undefg)\n\ngoal (1 subgoal):\n 1. Agame\n     (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n      the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<beta>))) =\n    snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))", "by auto"], ["proof (state)\nthis:\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n    the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n               \\<beta>))) =\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<sigma> U a.\n                usubstappp \\<sigma> U (Game a) =\n                (case SGames \\<sigma> a of\n                 None \\<Rightarrow>\n                   (Denotational_Semantics.allvars, Agame (Game a))\n                 | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     \\<And>\\<alpha> \\<beta>.\n        BVG (\\<alpha> ;; \\<beta>)\n        \\<subseteq> BVG \\<alpha> \\<union> BVG \\<beta>\\<rbrakk>\n    \\<Longrightarrow> BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> BVG (the\n  (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                                  BVG (the\n  (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n         \\<beta>)))", "then"], ["proof (chain)\npicking this:\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n    the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n               \\<beta>))) =\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))", "show ?thesis"], ["proof (prove)\nusing this:\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n    the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n               \\<beta>))) =\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma>\n                                (fst (usubstappp \\<sigma> U \\<alpha>))\n                                \\<beta>)))", "using f1"], ["proof (prove)\nusing this:\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n    the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n               \\<beta>))) =\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n  \\<forall>z. z = undefg \\<or> Agame (the z) = z\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n                BVG (the (snd (usubstappp \\<sigma>\n                                (fst (usubstappp \\<sigma> U \\<alpha>))\n                                \\<beta>)))", "by (metis (no_types) BVG_compose Compose.prems option.inject)"], ["proof (state)\nthis:\n  BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n              BVG (the (snd (usubstappp \\<sigma>\n                              (fst (usubstappp \\<sigma> U \\<alpha>))\n                              \\<beta>)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n              BVG (the (snd (usubstappp \\<sigma>\n                              (fst (usubstappp \\<sigma> U \\<alpha>))\n                              \\<beta>)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "have \"?W \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))) \\<union> BVG(the (snd(usubstappp \\<sigma> ?V \\<beta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n    BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n    \\<subseteq> fst (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)", "using usubstappp.simps Let_def IHa IHb"], ["proof (prove)\nusing this:\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  Let ?s ?f \\<equiv> ?f ?s\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n    BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n    \\<subseteq> fst (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)", "by auto"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "then"], ["proof (chain)\npicking this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)", "have \"?W \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>))))\""], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)", "using fact"], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<beta>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n  BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union>\n              BVG (the (snd (usubstappp \\<sigma>\n                              (fst (usubstappp \\<sigma> U \\<alpha>))\n                              \\<beta>)))\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)", "by auto"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U.\n        snd (usubstappp \\<sigma> U \\<beta>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<beta>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<beta>);\n     snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq>\n     undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U\n(\\<alpha> ;; \\<beta>))))\n                      \\<subseteq> fst (usubstappp \\<sigma> U\n  (\\<alpha> ;; \\<beta>))", "then"], ["proof (chain)\npicking this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)", "show \"fst(usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>)) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>))))\""], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))", "using usubstappp.simps Let_def"], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  Let ?s ?f \\<equiv> ?f ?s\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n    \\<subseteq> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))", "by simp"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n  \\<subseteq> fst (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))\n\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 2. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 2. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Loop \\<alpha>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n 2. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "let ?V = \"fst(usubstappp \\<sigma> U \\<alpha>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "let ?W = \"fst(usubstappp \\<sigma> ?V \\<alpha>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "from Loop"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg", "have def\\<alpha>: \"snd(usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "using usubstappp_loop_conv"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>**) \\<noteq>\n  undefg \\<Longrightarrow>\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n        ?\\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "by simp"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "from Loop"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg", "have IHdef: \"?V \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>)))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "using def\\<alpha> usubstappp_loop[where \\<sigma>=\\<sigma> and U=U and \\<alpha>=\\<alpha>] Loopo_undef[where \\<alpha>=\\<open>snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)\\<close>]"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n  usubstappp \\<sigma> U \\<alpha>** =\n  (fst (usubstappp \\<sigma> U \\<alpha>),\n   Loopo\n    (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n           \\<alpha>)))\n  (Loopo\n    (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n           \\<alpha>)) =\n   undefg) =\n  (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n         \\<alpha>) =\n   undefg)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by auto"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "from Loop"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg", "have IH: \"?W \\<supseteq> ?V \\<union> BVG(the (snd(usubstappp \\<sigma> ?V \\<alpha>)))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n    BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)", "by (simp add: Loopo_undef)"], ["proof (state)\nthis:\n  fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "then"], ["proof (chain)\npicking this:\n  fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)", "have Vfix: \"?V \\<supseteq> BVG(the (snd(usubstappp \\<sigma> ?V \\<alpha>)))\""], ["proof (prove)\nusing this:\n  fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "using usubstappp_det"], ["proof (prove)\nusing this:\n  fst (usubstappp \\<sigma> U \\<alpha>) \\<union>\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)\n  \\<lbrakk>snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg;\n   snd (usubstappp ?\\<sigma> ?V ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by (metis IHdef Loop.prems le_sup_iff usubstappp_loop_conv)"], ["proof (state)\nthis:\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "then"], ["proof (chain)\npicking this:\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "have \"?V \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U (Loop \\<alpha>))))\""], ["proof (prove)\nusing this:\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "using usubstappp.simps Vfix IHdef BVG_loop usubst_taboos_mon usubstappp_loop_conv"], ["proof (prove)\nusing this:\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  BVG ?\\<alpha>** \\<subseteq> BVG ?\\<alpha>\n  ?U \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>**) \\<noteq>\n  undefg \\<Longrightarrow>\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n        ?\\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "(*by (smt Loop.prems Loopo.simps(1) Un_mono option.collapse option.sel snd_pair sup.absorb_iff1)*)"], ["proof (prove)\nusing this:\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  BVG ?\\<alpha>** \\<subseteq> BVG ?\\<alpha>\n  ?U \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>**) \\<noteq>\n  undefg \\<Longrightarrow>\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n        ?\\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>BVG (the (snd (usubstappp \\<sigma>\n                             (fst (usubstappp \\<sigma> U \\<alpha>))\n                             \\<alpha>)))\n             \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U a.\n        usubstappp \\<sigma> U (Game a) =\n        (case SGames \\<sigma> a of\n         None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game a))\n         | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<alpha>. BVG \\<alpha>** \\<subseteq> BVG \\<alpha>;\n     \\<And>U \\<sigma> \\<alpha>.\n        U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq>\n        undefg \\<Longrightarrow>\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n        snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>) \\<noteq>\n        undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>BVG (the (snd (usubstappp \\<sigma>\n                             (fst (usubstappp \\<sigma> U \\<alpha>))\n                             \\<alpha>)))\n             \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U a.\n        usubstappp \\<sigma> U (Game a) =\n        (case SGames \\<sigma> a of\n         None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game a))\n         | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<alpha>. BVG \\<alpha>** \\<subseteq> BVG \\<alpha>;\n     \\<And>U \\<sigma> \\<alpha>.\n        U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq>\n        undefg \\<Longrightarrow>\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n        snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>) \\<noteq>\n        undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "have f1: \"\\<forall>z. z = undefg \\<or> Agame (the z) = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z. z = undefg \\<or> Agame (the z) = z", "using option.collapse"], ["proof (prove)\nusing this:\n  ?option \\<noteq> None \\<Longrightarrow> Some (the ?option) = ?option\n\ngoal (1 subgoal):\n 1. \\<forall>z. z = undefg \\<or> Agame (the z) = z", "by blast"], ["proof (state)\nthis:\n  \\<forall>z. z = undefg \\<or> Agame (the z) = z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>BVG (the (snd (usubstappp \\<sigma>\n                             (fst (usubstappp \\<sigma> U \\<alpha>))\n                             \\<alpha>)))\n             \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U a.\n        usubstappp \\<sigma> U (Game a) =\n        (case SGames \\<sigma> a of\n         None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game a))\n         | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<alpha>. BVG \\<alpha>** \\<subseteq> BVG \\<alpha>;\n     \\<And>U \\<sigma> \\<alpha>.\n        U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq>\n        undefg \\<Longrightarrow>\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n        snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>) \\<noteq>\n        undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "have \"snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and> snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>) \\<noteq> undefg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n    snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "using Loop.prems usubstappp_loop_conv"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>**) \\<noteq>\n  undefg \\<Longrightarrow>\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n        ?\\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n    snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n          \\<alpha>) \\<noteq>\n    undefg", "by blast"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. \\<lbrakk>BVG (the (snd (usubstappp \\<sigma>\n                             (fst (usubstappp \\<sigma> U \\<alpha>))\n                             \\<alpha>)))\n             \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U a.\n        usubstappp \\<sigma> U (Game a) =\n        (case SGames \\<sigma> a of\n         None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game a))\n         | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<alpha>. BVG \\<alpha>** \\<subseteq> BVG \\<alpha>;\n     \\<And>U \\<sigma> \\<alpha>.\n        U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq>\n        undefg \\<Longrightarrow>\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n        snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>) \\<noteq>\n        undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg", "have \"Agame (Loop (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))) = snd (usubstappp \\<sigma> U (Loop \\<alpha>))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. Agame\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))** =\n    snd (usubstappp \\<sigma> U \\<alpha>**)", "by force"], ["proof (state)\nthis:\n  Agame\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))** =\n  snd (usubstappp \\<sigma> U \\<alpha>**)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>BVG (the (snd (usubstappp \\<sigma>\n                             (fst (usubstappp \\<sigma> U \\<alpha>))\n                             \\<alpha>)))\n             \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U a.\n        usubstappp \\<sigma> U (Game a) =\n        (case SGames \\<sigma> a of\n         None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game a))\n         | Some r \\<Rightarrow> (U \\<union> BVG r, Agame r));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (x := \\<theta>) =\n        (U \\<union> {x}, Assigno x (usubstappt \\<sigma> U \\<theta>));\n     \\<And>\\<sigma> U \\<phi>.\n        usubstappp \\<sigma> U (? \\<phi>) =\n        (U, Testo (usubstappf \\<sigma> U \\<phi>));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> U \\<beta>\n         in (fst V\\<alpha> \\<union> fst W\\<beta>,\n             Choiceo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha> \\<beta>.\n        usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>) =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>;\n             W\\<beta> = usubstappp \\<sigma> (fst V\\<alpha>) \\<beta>\n         in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>** =\n        (let V = fst (usubstappp \\<sigma> U \\<alpha>)\n         in (V, Loopo (snd (usubstappp \\<sigma> V \\<alpha>))));\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n         in (fst V\\<alpha>, Dualo (snd V\\<alpha>)));\n     \\<And>\\<sigma> U x \\<theta>.\n        usubstappp \\<sigma> U (ODE x \\<theta>) =\n        (U \\<union> {RVar x, DVar x},\n         ODEo x\n          (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>));\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<alpha>. BVG \\<alpha>** \\<subseteq> BVG \\<alpha>;\n     \\<And>U \\<sigma> \\<alpha>.\n        U \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq>\n        undefg \\<Longrightarrow>\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<and>\n        snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>) \\<noteq>\n        undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "then"], ["proof (chain)\npicking this:\n  Agame\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))** =\n  snd (usubstappp \\<sigma> U \\<alpha>**)", "show ?thesis"], ["proof (prove)\nusing this:\n  Agame\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))** =\n  snd (usubstappp \\<sigma> U \\<alpha>**)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "using f1"], ["proof (prove)\nusing this:\n  Agame\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))** =\n  snd (usubstappp \\<sigma> U \\<alpha>**)\n  \\<forall>z. z = undefg \\<or> Agame (the z) = z\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by (metis (no_types) BVG_loop Loop.prems Vfix option.inject sup.absorb_iff1 sup.mono usubst_taboos_mon)"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "then"], ["proof (chain)\npicking this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "show \"fst(usubstappp \\<sigma> U (Loop \\<alpha>)) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U (Loop \\<alpha>))))\""], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "using usubstappp.simps Let_def"], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  Let ?s ?f \\<equiv> ?f ?s\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)", "by simp"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>**)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>**)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "case (Dual \\<alpha>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> U.\n       \\<lbrakk>\\<And>U.\n                   snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                   undefg \\<Longrightarrow>\n                   U \\<union>\n                   BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                   \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> U \\<union>\n                         BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                         \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "(*using BVG_dual usubstappp.simps Let_def by auto*)"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "let ?V = \"fst(usubstappp \\<sigma> U \\<alpha>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "from Dual"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg", "have IH: \"?V \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>)))\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp \\<sigma> ?U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?U \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by (simp add: Dualo_undef)"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "have fact: \"BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))) \\<supseteq> BVG(the (snd(usubstappp \\<sigma> U (Dual \\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))", "using usubstappp.simps BVG_dual"], ["proof (prove)\nusing this:\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  BVG ?\\<alpha>^d \\<subseteq> BVG ?\\<alpha>\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))", "by (metis (no_types, lifting) Dual.prems Dualo.simps(1) Dualo.simps(2) option.collapse option.sel snd_pair)"], ["proof (state)\nthis:\n  BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))", "have \"?V \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U (Dual \\<alpha>))))\""], ["proof (prove)\nusing this:\n  BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "using IH fact"], ["proof (prove)\nusing this:\n  BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by auto"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>U.\n                snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                undefg \\<Longrightarrow>\n                U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> U \\<union>\n                      BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                      \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "then"], ["proof (chain)\npicking this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "show \"fst(usubstappp \\<sigma> U (Dual \\<alpha>)) \\<supseteq> U \\<union> BVG(the (snd(usubstappp \\<sigma> U (Dual \\<alpha>))))\""], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "using usubstappp.simps Let_def"], ["proof (prove)\nusing this:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  usubstappp ?\\<sigma> ?U (Game ?a) =\n  (case SGames ?\\<sigma> ?a of\n   None \\<Rightarrow> (Denotational_Semantics.allvars, Agame (Game ?a))\n   | Some r \\<Rightarrow> (?U \\<union> BVG r, Agame r))\n  usubstappp ?\\<sigma> ?U (?x := ?\\<theta>) =\n  (?U \\<union> {?x}, Assigno ?x (usubstappt ?\\<sigma> ?U ?\\<theta>))\n  usubstappp ?\\<sigma> ?U (? ?\\<phi>) =\n  (?U, Testo (usubstappf ?\\<sigma> ?U ?\\<phi>))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> \\<union>\\<union> ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> ?U ?\\<beta>\n   in (fst V\\<alpha> \\<union> fst W\\<beta>,\n       Choiceo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U (?\\<alpha> ;; ?\\<beta>) =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>;\n       W\\<beta> = usubstappp ?\\<sigma> (fst V\\<alpha>) ?\\<beta>\n   in (fst W\\<beta>, Composeo (snd V\\<alpha>) (snd W\\<beta>)))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (let V = fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n   in (V, Loopo (snd (usubstappp ?\\<sigma> V ?\\<alpha>))))\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (let V\\<alpha> = usubstappp ?\\<sigma> ?U ?\\<alpha>\n   in (fst V\\<alpha>, Dualo (snd V\\<alpha>)))\n  usubstappp ?\\<sigma> ?U (ODE ?x ?\\<theta>) =\n  (?U \\<union> {RVar ?x, DVar ?x},\n   ODEo ?x\n    (usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>))\n  Let ?s ?f \\<equiv> ?f ?s\n\ngoal (1 subgoal):\n 1. U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)", "by simp"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>^d)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Substitution Adjoints\\<close>"], ["", "text \\<open>Modified interpretation \\<open>repI I f d\\<close> replaces the interpretation of constant function \\<open>f\\<close> in the interpretation \\<open>I\\<close> with \\<open>d\\<close>\\<close>"], ["", "definition repc :: \" interp \\<Rightarrow> ident \\<Rightarrow> real \\<Rightarrow> interp\"\n  where \"repc I f d \\<equiv>  mkinterp((\\<lambda>c. if c = f then d else Consts I c), Funcs I, Preds I, Games I)\""], ["", "lemma repc_consts [simp]: \"Consts (repc I f d) c = (if (c=f) then d else Consts I c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Consts (repc I f d) c = (if c = f then d else Consts I c)", "unfolding repc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Consts\n     (mkinterp\n       (\\<lambda>c. if c = f then d else Consts I c, Funcs I, Preds I,\n        Games I))\n     c =\n    (if c = f then d else Consts I c)", "by auto"], ["", "lemma repc_funcs [simp]: \"Funcs (repc I f d) = Funcs I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Funcs (repc I f d) = Funcs I", "unfolding repc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Funcs\n     (mkinterp\n       (\\<lambda>c. if c = f then d else Consts I c, Funcs I, Preds I,\n        Games I)) =\n    Funcs I", "by simp"], ["", "lemma repc_preds [simp]: \"Preds (repc I f d) = Preds I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Preds (repc I f d) = Preds I", "unfolding repc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Preds\n     (mkinterp\n       (\\<lambda>c. if c = f then d else Consts I c, Funcs I, Preds I,\n        Games I)) =\n    Preds I", "by simp"], ["", "lemma repc_games [simp]: \"Games (repc I f d) = Games I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Games (repc I f d) = Games I", "unfolding repc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Games\n     (mkinterp\n       (\\<lambda>c. if c = f then d else Consts I c, Funcs I, Preds I,\n        Games I)) =\n    Games I", "by (simp add: mon_mono)"], ["", "lemma adjoint_stays_mon: \"mono (case SGames \\<sigma> a of None \\<Rightarrow> Games I a | Some r \\<Rightarrow> \\<lambda>X. game_sem I r X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mono\n     (case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n      | Some r \\<Rightarrow> game_sem I r)", "using game_sem_mono game_sem.simps(1)"], ["proof (prove)\nusing this:\n  mono (game_sem ?I ?\\<alpha>)\n  game_sem ?I (Game ?a) = Games ?I ?a\n\ngoal (1 subgoal):\n 1. mono\n     (case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n      | Some r \\<Rightarrow> game_sem I r)", "by (metis disjE_realizer2 option.case_distrib)"], ["", "(*proof -\n  have \"\\<forall>z p b i f. (mono (case z of None \\<Rightarrow> f | Some x \\<Rightarrow> game_sem i x) \\<or> \\<not> (case z of None \\<Rightarrow> b | Some x \\<Rightarrow> p x)) \\<or> \\<not> mono f\"\n  by (metis (no_types) disjE_realizer2 game_sem_mono)\n  then show ?thesis\n  by (metis (no_types) game_sem.simps(1) game_sem_mono option.case_distrib)\n  qed*)"], ["", "text \\<open>adjoint interpretation \\<open>adjoint \\<sigma> I \\<omega>\\<close> to \\<open>\\<sigma>\\<close> of interpretation \\<open>I\\<close> in state \\<open>\\<omega>\\<close>\\<close>"], ["", "definition adjoint:: \"usubst \\<Rightarrow> (interp \\<Rightarrow> state \\<Rightarrow> interp)\"\nwhere \"adjoint \\<sigma> I \\<omega> = mkinterp(\n         (\\<lambda>f. (case SConst \\<sigma> f of None \\<Rightarrow> Consts I f| Some r \\<Rightarrow> term_sem I r \\<omega>)),\n         (\\<lambda>f. (case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f | Some r \\<Rightarrow> \\<lambda>d. term_sem (repc I dotid d) r \\<omega>)),\n         (\\<lambda>p. (case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p | Some r \\<Rightarrow> \\<lambda>d. \\<omega>\\<in>fml_sem (repc I dotid d) r)),\n         (\\<lambda>a. (case SGames \\<sigma> a of None \\<Rightarrow> Games I a | Some r \\<Rightarrow> \\<lambda>X. game_sem I r X))\n  )\""], ["", "paragraph \\<open>Simple Observations about Adjoints\\<close>"], ["", "lemma adjoint_consts: \"Consts (adjoint \\<sigma> I \\<omega>) f = term_sem I (case SConst \\<sigma> f of Some r \\<Rightarrow> r | None \\<Rightarrow> Const f) \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Consts (USubst.adjoint \\<sigma> I \\<omega>) f =\n    term_sem I\n     (case SConst \\<sigma> f of None \\<Rightarrow> Const f\n      | Some r \\<Rightarrow> r)\n     \\<omega>", "unfolding adjoint_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Consts\n     (mkinterp\n       (\\<lambda>f.\n           case SConst \\<sigma> f of None \\<Rightarrow> Consts I f\n           | Some r \\<Rightarrow> term_sem I r \\<omega>,\n        \\<lambda>f.\n           case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f\n           | Some r \\<Rightarrow>\n               \\<lambda>d. term_sem (repc I dotid d) r \\<omega>,\n        \\<lambda>p.\n           case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p\n           | Some r \\<Rightarrow>\n               \\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r,\n        \\<lambda>a.\n           case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n           | Some x \\<Rightarrow> game_sem I x))\n     f =\n    term_sem I\n     (case SConst \\<sigma> f of None \\<Rightarrow> Const f\n      | Some r \\<Rightarrow> r)\n     \\<omega>", "by (cases \"SConst \\<sigma> f=None\") (auto)"], ["", "lemma adjoint_funcs: \"Funcs (adjoint \\<sigma> I \\<omega>) f = (case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f | Some r \\<Rightarrow> \\<lambda>d. term_sem (repc I dotid d) r \\<omega>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Funcs (USubst.adjoint \\<sigma> I \\<omega>) f =\n    (case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f\n     | Some r \\<Rightarrow>\n         \\<lambda>d. term_sem (repc I dotid d) r \\<omega>)", "unfolding adjoint_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Funcs\n     (mkinterp\n       (\\<lambda>f.\n           case SConst \\<sigma> f of None \\<Rightarrow> Consts I f\n           | Some r \\<Rightarrow> term_sem I r \\<omega>,\n        \\<lambda>f.\n           case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f\n           | Some r \\<Rightarrow>\n               \\<lambda>d. term_sem (repc I dotid d) r \\<omega>,\n        \\<lambda>p.\n           case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p\n           | Some r \\<Rightarrow>\n               \\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r,\n        \\<lambda>a.\n           case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n           | Some x \\<Rightarrow> game_sem I x))\n     f =\n    (case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f\n     | Some r \\<Rightarrow>\n         \\<lambda>d. term_sem (repc I dotid d) r \\<omega>)", "by auto"], ["", "lemma adjoint_funcs_match: \"SFuncs \\<sigma> f=Some r \\<Longrightarrow> Funcs (adjoint \\<sigma> I \\<omega>) f = (\\<lambda>d. term_sem (repc I dotid d) r \\<omega>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f = Aterm r \\<Longrightarrow>\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f =\n    (\\<lambda>d. term_sem (repc I dotid d) r \\<omega>)", "using adjoint_funcs"], ["proof (prove)\nusing this:\n  Funcs (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  (case SFuncs ?\\<sigma> ?f of None \\<Rightarrow> Funcs ?I ?f\n   | Some r \\<Rightarrow>\n       \\<lambda>d. term_sem (repc ?I dotid d) r ?\\<omega>)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f = Aterm r \\<Longrightarrow>\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f =\n    (\\<lambda>d. term_sem (repc I dotid d) r \\<omega>)", "by auto"], ["", "lemma adjoint_funcs_skip: \"SFuncs \\<sigma> f=None \\<Longrightarrow> Funcs (adjoint \\<sigma> I \\<omega>) f = Funcs I f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f = undeft \\<Longrightarrow>\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f = Funcs I f", "using adjoint_funcs"], ["proof (prove)\nusing this:\n  Funcs (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  (case SFuncs ?\\<sigma> ?f of None \\<Rightarrow> Funcs ?I ?f\n   | Some r \\<Rightarrow>\n       \\<lambda>d. term_sem (repc ?I dotid d) r ?\\<omega>)\n\ngoal (1 subgoal):\n 1. SFuncs \\<sigma> f = undeft \\<Longrightarrow>\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f = Funcs I f", "by auto"], ["", "lemma adjoint_preds: \"Preds (adjoint \\<sigma> I \\<omega>) p = (case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p | Some r \\<Rightarrow> \\<lambda>d. \\<omega>\\<in>fml_sem (repc I dotid d) r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Preds (USubst.adjoint \\<sigma> I \\<omega>) p =\n    (case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p\n     | Some r \\<Rightarrow>\n         \\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r)", "unfolding adjoint_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Preds\n     (mkinterp\n       (\\<lambda>f.\n           case SConst \\<sigma> f of None \\<Rightarrow> Consts I f\n           | Some r \\<Rightarrow> term_sem I r \\<omega>,\n        \\<lambda>f.\n           case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f\n           | Some r \\<Rightarrow>\n               \\<lambda>d. term_sem (repc I dotid d) r \\<omega>,\n        \\<lambda>p.\n           case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p\n           | Some r \\<Rightarrow>\n               \\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r,\n        \\<lambda>a.\n           case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n           | Some x \\<Rightarrow> game_sem I x))\n     p =\n    (case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p\n     | Some r \\<Rightarrow>\n         \\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r)", "by auto"], ["", "lemma adjoint_preds_skip: \"SPreds \\<sigma> p=None \\<Longrightarrow> Preds (adjoint \\<sigma> I \\<omega>) p = Preds I p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff \\<Longrightarrow>\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p", "using adjoint_preds"], ["proof (prove)\nusing this:\n  Preds (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?p =\n  (case SPreds ?\\<sigma> ?p of None \\<Rightarrow> Preds ?I ?p\n   | Some r \\<Rightarrow>\n       \\<lambda>d. ?\\<omega> \\<in> fml_sem (repc ?I dotid d) r)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = undeff \\<Longrightarrow>\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p", "by simp"], ["", "lemma adjoint_preds_match: \"SPreds \\<sigma> p=Some r \\<Longrightarrow> Preds (adjoint \\<sigma> I \\<omega>) p = (\\<lambda>d. \\<omega>\\<in>fml_sem (repc I dotid d) r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = Afml r \\<Longrightarrow>\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p =\n    (\\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r)", "using adjoint_preds"], ["proof (prove)\nusing this:\n  Preds (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?p =\n  (case SPreds ?\\<sigma> ?p of None \\<Rightarrow> Preds ?I ?p\n   | Some r \\<Rightarrow>\n       \\<lambda>d. ?\\<omega> \\<in> fml_sem (repc ?I dotid d) r)\n\ngoal (1 subgoal):\n 1. SPreds \\<sigma> p = Afml r \\<Longrightarrow>\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p =\n    (\\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r)", "by simp"], ["", "lemma adjoint_games [simp]: \"Games (adjoint \\<sigma> I \\<omega>) a = (case SGames \\<sigma> a of None \\<Rightarrow> Games I a | Some r \\<Rightarrow> \\<lambda>X. game_sem I r X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Games (USubst.adjoint \\<sigma> I \\<omega>) a =\n    (case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n     | Some r \\<Rightarrow> game_sem I r)", "unfolding adjoint_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Games\n     (mkinterp\n       (\\<lambda>f.\n           case SConst \\<sigma> f of None \\<Rightarrow> Consts I f\n           | Some r \\<Rightarrow> term_sem I r \\<omega>,\n        \\<lambda>f.\n           case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f\n           | Some r \\<Rightarrow>\n               \\<lambda>d. term_sem (repc I dotid d) r \\<omega>,\n        \\<lambda>p.\n           case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p\n           | Some r \\<Rightarrow>\n               \\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r,\n        \\<lambda>a.\n           case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n           | Some x \\<Rightarrow> game_sem I x))\n     a =\n    (case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n     | Some r \\<Rightarrow> game_sem I r)", "using adjoint_stays_mon Games_mkinterp"], ["proof (prove)\nusing this:\n  mono\n   (case SGames ?\\<sigma> ?a of None \\<Rightarrow> Games ?I ?a\n    | Some r \\<Rightarrow> game_sem ?I r)\n  (\\<And>a. mono (?G a)) \\<Longrightarrow>\n  Games (mkinterp (?C, ?F, ?P, ?G)) = ?G\n\ngoal (1 subgoal):\n 1. Games\n     (mkinterp\n       (\\<lambda>f.\n           case SConst \\<sigma> f of None \\<Rightarrow> Consts I f\n           | Some r \\<Rightarrow> term_sem I r \\<omega>,\n        \\<lambda>f.\n           case SFuncs \\<sigma> f of None \\<Rightarrow> Funcs I f\n           | Some r \\<Rightarrow>\n               \\<lambda>d. term_sem (repc I dotid d) r \\<omega>,\n        \\<lambda>p.\n           case SPreds \\<sigma> p of None \\<Rightarrow> Preds I p\n           | Some r \\<Rightarrow>\n               \\<lambda>d. \\<omega> \\<in> fml_sem (repc I dotid d) r,\n        \\<lambda>a.\n           case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n           | Some x \\<Rightarrow> game_sem I x))\n     a =\n    (case SGames \\<sigma> a of None \\<Rightarrow> Games I a\n     | Some r \\<Rightarrow> game_sem I r)", "by simp"], ["", "lemma adjoint_dotsubstt: \"adjoint (dotsubstt \\<theta>) I \\<omega> = repc I dotid (term_sem I \\<theta> \\<omega>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "(*unfolding adjoint_def dotsubstt_def adjoint_consts adjoint_funcs_skip adjoint_preds adjoint_games*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "let ?lhs = \"adjoint (dotsubstt \\<theta>) I \\<omega>\""], ["proof (state)\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "let ?rhs = \"repc I dotid (term_sem I \\<theta> \\<omega>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "have feq: \"Funcs ?lhs = Funcs ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Funcs (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Funcs (repc I dotid (term_sem I \\<theta> \\<omega>))", "using repc_funcs adjoint_funcs dotsubstt_def"], ["proof (prove)\nusing this:\n  Funcs (repc ?I ?f ?d) = Funcs ?I\n  Funcs (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  (case SFuncs ?\\<sigma> ?f of None \\<Rightarrow> Funcs ?I ?f\n   | Some r \\<Rightarrow>\n       \\<lambda>d. term_sem (repc ?I dotid d) r ?\\<omega>)\n  dotsubstt ?\\<theta> =\n  (\\<lambda>f. if f = dotid then Aterm ?\\<theta> else undeft, Map.empty,\n   Map.empty, Map.empty)\n\ngoal (1 subgoal):\n 1. Funcs (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Funcs (repc I dotid (term_sem I \\<theta> \\<omega>))", "by auto"], ["proof (state)\nthis:\n  Funcs (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Funcs (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "moreover"], ["proof (state)\nthis:\n  Funcs (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Funcs (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "have peq: \"Preds ?lhs = Preds ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Preds (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Preds (repc I dotid (term_sem I \\<theta> \\<omega>))", "using repc_preds adjoint_preds dotsubstt_def"], ["proof (prove)\nusing this:\n  Preds (repc ?I ?f ?d) = Preds ?I\n  Preds (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?p =\n  (case SPreds ?\\<sigma> ?p of None \\<Rightarrow> Preds ?I ?p\n   | Some r \\<Rightarrow>\n       \\<lambda>d. ?\\<omega> \\<in> fml_sem (repc ?I dotid d) r)\n  dotsubstt ?\\<theta> =\n  (\\<lambda>f. if f = dotid then Aterm ?\\<theta> else undeft, Map.empty,\n   Map.empty, Map.empty)\n\ngoal (1 subgoal):\n 1. Preds (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Preds (repc I dotid (term_sem I \\<theta> \\<omega>))", "by auto"], ["proof (state)\nthis:\n  Preds (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Preds (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "moreover"], ["proof (state)\nthis:\n  Preds (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Preds (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "have geq: \"Games ?lhs = Games ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Games (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Games (repc I dotid (term_sem I \\<theta> \\<omega>))", "using repc_games adjoint_games dotsubstt_def"], ["proof (prove)\nusing this:\n  Games (repc ?I ?f ?d) = Games ?I\n  Games (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?a =\n  (case SGames ?\\<sigma> ?a of None \\<Rightarrow> Games ?I ?a\n   | Some r \\<Rightarrow> game_sem ?I r)\n  dotsubstt ?\\<theta> =\n  (\\<lambda>f. if f = dotid then Aterm ?\\<theta> else undeft, Map.empty,\n   Map.empty, Map.empty)\n\ngoal (1 subgoal):\n 1. Games (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Games (repc I dotid (term_sem I \\<theta> \\<omega>))", "by auto"], ["proof (state)\nthis:\n  Games (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Games (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "moreover"], ["proof (state)\nthis:\n  Games (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Games (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "have ceq: \"Consts ?lhs = Consts ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Consts (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Consts (repc I dotid (term_sem I \\<theta> \\<omega>))", "using repc_consts  adjoint_consts dotsubstt_def"], ["proof (prove)\nusing this:\n  Consts (repc ?I ?f ?d) ?c = (if ?c = ?f then ?d else Consts ?I ?c)\n  Consts (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  term_sem ?I\n   (case SConst ?\\<sigma> ?f of None \\<Rightarrow> Const ?f\n    | Some r \\<Rightarrow> r)\n   ?\\<omega>\n  dotsubstt ?\\<theta> =\n  (\\<lambda>f. if f = dotid then Aterm ?\\<theta> else undeft, Map.empty,\n   Map.empty, Map.empty)\n\ngoal (1 subgoal):\n 1. Consts (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n    Consts (repc I dotid (term_sem I \\<theta> \\<omega>))", "by auto"], ["proof (state)\nthis:\n  Consts (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Consts (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "using mkinterp_eq[where I=\\<open>?lhs\\<close> and J=\\<open>?rhs\\<close>] feq peq geq ceq"], ["proof (prove)\nusing this:\n  (Consts (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n   Consts (repc I dotid (term_sem I \\<theta> \\<omega>)) \\<and>\n   Funcs (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n   Funcs (repc I dotid (term_sem I \\<theta> \\<omega>)) \\<and>\n   Preds (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n   Preds (repc I dotid (term_sem I \\<theta> \\<omega>)) \\<and>\n   Games (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n   Games (repc I dotid (term_sem I \\<theta> \\<omega>))) =\n  (USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n   repc I dotid (term_sem I \\<theta> \\<omega>))\n  Funcs (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Funcs (repc I dotid (term_sem I \\<theta> \\<omega>))\n  Preds (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Preds (repc I dotid (term_sem I \\<theta> \\<omega>))\n  Games (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Games (repc I dotid (term_sem I \\<theta> \\<omega>))\n  Consts (USubst.adjoint (dotsubstt \\<theta>) I \\<omega>) =\n  Consts (repc I dotid (term_sem I \\<theta> \\<omega>))\n\ngoal (1 subgoal):\n 1. USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n    repc I dotid (term_sem I \\<theta> \\<omega>)", "by simp"], ["proof (state)\nthis:\n  USubst.adjoint (dotsubstt \\<theta>) I \\<omega> =\n  repc I dotid (term_sem I \\<theta> \\<omega>)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Uniform Substitution for Terms\\<close>"], ["", "text \\<open>Lemma 15 of \\<^url>\\<open>http://arxiv.org/abs/1902.07230\\<close>\\<close>"], ["", "theorem usubst_term: \"Uvariation \\<nu> \\<omega> U \\<Longrightarrow> usubstappt \\<sigma> U \\<theta>\\<noteq>undeft \\<Longrightarrow>\n    term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n                       \\<nu>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n                       \\<nu>", "assume vaouter: \"Uvariation \\<nu> \\<omega> U\""], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n                       \\<nu>", "assume defouter: \"usubstappt \\<sigma> U \\<theta>\\<noteq>undeft\""], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n                       \\<nu>", "show \"usubstappt \\<sigma> U \\<theta>\\<noteq>undeft \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\" for \\<sigma> \\<theta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n    term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "using vaouter"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n    term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "proof (induction arbitrary: \\<nu> \\<omega> rule: usubstappt_induct)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<sigma> U x \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Var x) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Var x)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Var x) \\<nu>\n 2. \\<And>\\<sigma> U r \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Number r) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Number r)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Number r) \\<nu>\n 3. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 4. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 6. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 7. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "case (Var \\<sigma> U x)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (7 subgoals):\n 1. \\<And>\\<sigma> U x \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Var x) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Var x)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Var x) \\<nu>\n 2. \\<And>\\<sigma> U r \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Number r) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Number r)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Number r) \\<nu>\n 3. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 4. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 6. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 7. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Var x) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Var x))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Var x) \\<nu>", "by simp"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Var x))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Var x) \\<nu>\n\ngoal (6 subgoals):\n 1. \\<And>\\<sigma> U r \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Number r) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Number r)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Number r) \\<nu>\n 2. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 3. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 6. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<sigma> U r \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Number r) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Number r)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Number r) \\<nu>\n 2. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 3. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 6. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "case (Number \\<sigma> U r)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Number r) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (6 subgoals):\n 1. \\<And>\\<sigma> U r \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Number r) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Number r)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Number r) \\<nu>\n 2. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 3. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 6. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Number r) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Number r) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Number r))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Number r) \\<nu>", "by simp"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Number r))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Number r) \\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 2. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 2. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "case (Const \\<sigma> U f)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U f \\<nu> \\<omega>.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>\n 2. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 5. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>", "proof (cases \"SConst \\<sigma> f\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                       (Const f) \\<nu>\n 2. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "case None"], ["proof (state)\nthis:\n  SConst \\<sigma> f = undeft\n\ngoal (2 subgoals):\n 1. \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n     Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                       (Const f) \\<nu>\n 2. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f = undeft", "show ?thesis"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = undeft\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>", "using adjoint_consts"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = undeft\n  Consts (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  term_sem ?I\n   (case SConst ?\\<sigma> ?f of None \\<Rightarrow> Const ?f\n    | Some r \\<Rightarrow> r)\n   ?\\<omega>\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>", "by (simp add: usappconst_def)"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "case (Some r)"], ["proof (state)\nthis:\n  SConst \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "then"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f = Aterm r", "have varcond: \"FVT(r)\\<inter>U={}\""], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. FVT r \\<inter> U = {}", "using Const usubstappt_const usubstappt_const_conv"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = Aterm r\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>SConst ?\\<sigma> ?f = Aterm ?r; FVT ?r \\<inter> ?U = {}\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (Const ?f) = Aterm ?r\n  usubstappt ?\\<sigma> ?U (Const ?f) \\<noteq> undeft \\<Longrightarrow>\n  SConst ?\\<sigma> ?f = undeft \\<or>\n  (\\<exists>r. SConst ?\\<sigma> ?f = Aterm r \\<and> FVT r \\<inter> ?U = {})\n\ngoal (1 subgoal):\n 1. FVT r \\<inter> U = {}", "by (metis option.inject option.simps(3))"], ["proof (state)\nthis:\n  FVT r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "from Some"], ["proof (chain)\npicking this:\n  SConst \\<sigma> f = Aterm r", "have \"term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> = term_sem I r \\<nu>\""], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n    term_sem I r \\<nu>", "by (simp add: varcond)"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n  term_sem I r \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n  term_sem I r \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "have \"... = term_sem I r \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem I r \\<nu> = term_sem I r \\<omega>", "using Const coincidence_term_cor[of \\<nu> \\<omega> U r] varcond"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U (Const f) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation \\<nu> \\<omega> U; FVT r \\<inter> U = {}\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I r \\<nu> = term_sem ?I r \\<omega>\n  FVT r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. term_sem I r \\<nu> = term_sem I r \\<omega>", "by simp"], ["proof (state)\nthis:\n  term_sem I r \\<nu> = term_sem I r \\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem I r \\<nu> = term_sem I r \\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "have \"... = Consts (adjoint \\<sigma> I \\<omega>) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem I r \\<omega> = Consts (USubst.adjoint \\<sigma> I \\<omega>) f", "using Some adjoint_consts"], ["proof (prove)\nusing this:\n  SConst \\<sigma> f = Aterm r\n  Consts (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  term_sem ?I\n   (case SConst ?\\<sigma> ?f of None \\<Rightarrow> Const ?f\n    | Some r \\<Rightarrow> r)\n   ?\\<omega>\n\ngoal (1 subgoal):\n 1. term_sem I r \\<omega> = Consts (USubst.adjoint \\<sigma> I \\<omega>) f", "by simp"], ["proof (state)\nthis:\n  term_sem I r \\<omega> = Consts (USubst.adjoint \\<sigma> I \\<omega>) f\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem I r \\<omega> = Consts (USubst.adjoint \\<sigma> I \\<omega>) f\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "have \"... = term_sem (adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Consts (USubst.adjoint \\<sigma> I \\<omega>) f =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>", "by auto"], ["proof (state)\nthis:\n  Consts (USubst.adjoint \\<sigma> I \\<omega>) f =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>usubstappt \\<sigma> U (Const f) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U; SConst \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U (Const f)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Const f) \\<nu>", "finally"], ["proof (chain)\npicking this:\n  term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>", "show \"term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>\""], ["proof (prove)\nusing this:\n  term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>", "."], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Const f))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Const f) \\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "case (FuncMatch \\<sigma> U f \\<theta>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "have va: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U f \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>x2 x2a \\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n            SFuncs \\<sigma> f = Aterm x2a; FVT x2a \\<inter> U = {};\n            usubstappt (dotsubstt x2) {} x2a \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n           \\<Longrightarrow> term_sem I\n                              (the (usubstappt (dotsubstt x2) {} x2a))\n                              \\<nu> =\n                             term_sem\n                              (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a\n                              \\<nu>;\n        usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 4. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>)\n     \\<nu>", "proof (cases \"SFuncs \\<sigma> f\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     SFuncs \\<sigma> f = undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I\n                       (the (usubstappt \\<sigma> U (trm.Func f \\<theta>)))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                       (trm.Func f \\<theta>) \\<nu>\n 2. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "case None"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f = undeft\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     SFuncs \\<sigma> f = undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I\n                       (the (usubstappt \\<sigma> U (trm.Func f \\<theta>)))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                       (trm.Func f \\<theta>) \\<nu>\n 2. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "from FuncMatch and None"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = undeft", "have IHsubterm: \"term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = undeft\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "using va"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "by (simp add: FuncMatch.IH(1) usubstappt_func_conv)"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     SFuncs \\<sigma> f = undeft\\<rbrakk>\n    \\<Longrightarrow> term_sem I\n                       (the (usubstappt \\<sigma> U (trm.Func f \\<theta>)))\n                       \\<nu> =\n                      term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                       (trm.Func f \\<theta>) \\<nu>\n 2. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "from None"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f = undeft", "show ?thesis"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f = undeft\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>)\n     \\<nu>", "using usubstappt_func IHsubterm adjoint_funcs"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f = undeft\n  \\<lbrakk>SFuncs ?\\<sigma> ?f = Aterm ?r; FVT ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n                    usubstappt (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n  term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n  Funcs (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  (case SFuncs ?\\<sigma> ?f of None \\<Rightarrow> Funcs ?I ?f\n   | Some r \\<Rightarrow>\n       \\<lambda>d. term_sem (repc ?I dotid d) r ?\\<omega>)\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>)\n     \\<nu>", "by (metis (no_types, lifting) FuncMatch.prems(1) option.case_eq_if option.sel term_sem.simps(4) usubstappt.simps(4))"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>) \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "case (Some r)"], ["proof (state)\nthis:\n  SFuncs \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f = Aterm r", "have varcond: \"FVT(r)\\<inter>U={}\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. FVT r \\<inter> U = {}", "using FuncMatch usubstappt_func usubstappt_func2 usubstappt_func_conv"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f = Aterm r\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>SFuncs ?\\<sigma> ?f = Aterm ?r; FVT ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) =\n                    usubstappt (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n  \\<lbrakk>SFuncs ?\\<sigma> ?f = Aterm ?r;\n   FVT ?r \\<inter> ?U \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) = undeft\n  usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) \\<noteq>\n  undeft \\<Longrightarrow>\n  usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft \\<and>\n  (SFuncs ?\\<sigma> ?f = undeft \\<or>\n   (\\<exists>r.\n       SFuncs ?\\<sigma> ?f = Aterm r \\<and> FVT r \\<inter> ?U = {}))\n\ngoal (1 subgoal):\n 1. FVT r \\<inter> U = {}", "by meson"], ["proof (state)\nthis:\n  FVT r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "from FuncMatch"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "have subdef: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using usubstappt_func_conv"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  usubstappt ?\\<sigma> ?U (trm.Func ?f ?\\<theta>) \\<noteq>\n  undeft \\<Longrightarrow>\n  usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft \\<and>\n  (SFuncs ?\\<sigma> ?f = undeft \\<or>\n   (\\<exists>r.\n       SFuncs ?\\<sigma> ?f = Aterm r \\<and> FVT r \\<inter> ?U = {}))\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "from FuncMatch and Some"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = Aterm r", "have IHsubterm: \"term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "using va subdef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = Aterm r\n  Uvariation \\<nu> \\<omega> U\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "by blast"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "from FuncMatch and Some"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = Aterm r", "have IHsubsubst: \"\\<And>\\<nu> \\<omega>. Uvariation \\<nu> \\<omega> {} \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} r)) \\<nu> = term_sem (adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<omega>) r \\<nu>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega>.\n       Uvariation \\<nu> \\<omega> {} \\<Longrightarrow>\n       term_sem I\n        (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} r))\n        \\<nu> =\n       term_sem\n        (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n          \\<omega>)\n        r \\<nu>", "using subdef varcond"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SFuncs \\<sigma> f = Aterm ?x2a; FVT ?x2a \\<inter> U = {};\n   usubstappt (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt (dotsubstt ?x2.0) {} ?x2a))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                     ?x2a ?\\<nu>\n  usubstappt \\<sigma> U (trm.Func f \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  SFuncs \\<sigma> f = Aterm r\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  FVT r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega>.\n       Uvariation \\<nu> \\<omega> {} \\<Longrightarrow>\n       term_sem I\n        (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n               {} r))\n        \\<nu> =\n       term_sem\n        (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n          \\<omega>)\n        r \\<nu>", "by fastforce"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> ?\\<omega> {} \\<Longrightarrow>\n  term_sem I\n   (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n          r))\n   ?\\<nu> =\n  term_sem\n   (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n     ?\\<omega>)\n   r ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "let ?d = \"term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "have deq: \"?d = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "by (rule IHsubterm)"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "let ?dotIa = \"adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<nu>\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "from Some"], ["proof (chain)\npicking this:\n  SFuncs \\<sigma> f = Aterm r", "have \"term_sem I (the (usubstappt \\<sigma> U (Func f \\<theta>))) \\<nu> = term_sem I (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} r)) \\<nu>\""], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n    term_sem I\n     (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n            r))\n     \\<nu>", "using subdef varcond"], ["proof (prove)\nusing this:\n  SFuncs \\<sigma> f = Aterm r\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  FVT r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n    term_sem I\n     (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n            r))\n     \\<nu>", "by force"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n  term_sem I\n   (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n          r))\n   \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n  term_sem I\n   (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n          r))\n   \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "have \"... = term_sem ?dotIa r \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem I\n     (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n            r))\n     \\<nu> =\n    term_sem\n     (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n       \\<nu>)\n     r \\<nu>", "using IHsubsubst[where \\<nu>=\\<nu> and \\<omega>=\\<nu>] Uvariation_empty"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<nu> {} \\<Longrightarrow>\n  term_sem I\n   (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n          r))\n   \\<nu> =\n  term_sem\n   (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n     \\<nu>)\n   r \\<nu>\n  Uvariation ?\\<nu> ?\\<nu>' {} = (?\\<nu> = ?\\<nu>')\n\ngoal (1 subgoal):\n 1. term_sem I\n     (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n            r))\n     \\<nu> =\n    term_sem\n     (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n       \\<nu>)\n     r \\<nu>", "by auto"], ["proof (state)\nthis:\n  term_sem I\n   (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n          r))\n   \\<nu> =\n  term_sem\n   (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n     \\<nu>)\n   r \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem I\n   (the (usubstappt (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n          r))\n   \\<nu> =\n  term_sem\n   (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n     \\<nu>)\n   r \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "have \"... = term_sem (repc I dotid ?d) r \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem\n     (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n       \\<nu>)\n     r \\<nu> =\n    term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<nu>", "using adjoint_dotsubstt[where \\<theta>=\\<open>the (usubstappt \\<sigma> U \\<theta>)\\<close> and I=I and \\<omega>=\\<nu>]"], ["proof (prove)\nusing this:\n  USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n   \\<nu> =\n  repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n\ngoal (1 subgoal):\n 1. term_sem\n     (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n       \\<nu>)\n     r \\<nu> =\n    term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<nu>", "by simp"], ["proof (state)\nthis:\n  term_sem\n   (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n     \\<nu>)\n   r \\<nu> =\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem\n   (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n     \\<nu>)\n   r \\<nu> =\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "have \"... = term_sem (repc I dotid ?d) r \\<omega>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<nu> =\n    term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<omega>", "using coincidence_term_cor[where \\<omega>=\\<nu> and \\<omega>'=\\<omega> and U=U and \\<theta>=r and I=\\<open>repc I dotid ?d\\<close>] va varcond"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation \\<nu> \\<omega> U; FVT r \\<inter> U = {}\\<rbrakk>\n  \\<Longrightarrow> term_sem\n                     (repc I dotid\n                       (term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                         \\<nu>))\n                     r \\<nu> =\n                    term_sem\n                     (repc I dotid\n                       (term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                         \\<nu>))\n                     r \\<omega>\n  Uvariation \\<nu> \\<omega> U\n  FVT r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<nu> =\n    term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<omega>", "by simp"], ["proof (state)\nthis:\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<nu> =\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "(*I.^d\\<omega>\\<lbrakk>\\<sigma>f(\\<cdot>)\\<rbrakk>  also have \"... = term_sem ?dotIa r \\<omega>\" using coincidence_term_cor[of \\<nu> \\<omega> U r ?dotIa] uv varcond by simp*)"], ["proof (state)\nthis:\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<nu> =\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<nu> =\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<omega>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "have \"... = (Funcs (adjoint \\<sigma> I \\<omega>) f)(?d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<omega> =\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)", "using adjoint_funcs_match Some"], ["proof (prove)\nusing this:\n  SFuncs ?\\<sigma> ?f = Aterm ?r \\<Longrightarrow>\n  Funcs (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?f =\n  (\\<lambda>d. term_sem (repc ?I dotid d) ?r ?\\<omega>)\n  SFuncs \\<sigma> f = Aterm r\n\ngoal (1 subgoal):\n 1. term_sem\n     (repc I dotid\n       (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n     r \\<omega> =\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)", "by simp"], ["proof (state)\nthis:\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<omega> =\n  Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem\n   (repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n   r \\<omega> =\n  Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "have \"... = (Funcs (adjoint \\<sigma> I \\<omega>) f)(term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)", "using deq"], ["proof (prove)\nusing this:\n  term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n\ngoal (1 subgoal):\n 1. Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n    Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)", "by simp"], ["proof (state)\nthis:\n  Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n  Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n  Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "have \"... = term_sem (adjoint \\<sigma> I \\<omega>) (Func f \\<theta>) \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>)\n     \\<nu>", "by simp"], ["proof (state)\nthis:\n  Funcs (USubst.adjoint \\<sigma> I \\<omega>) f\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>) \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SFuncs \\<sigma> f = Aterm a\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (trm.Func f \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (trm.Func f \\<theta>) \\<nu>", "finally"], ["proof (chain)\npicking this:\n  term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>) \\<nu>", "show \"term_sem I (the (usubstappt \\<sigma> U (Func f \\<theta>))) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) (Func f \\<theta>) \\<nu>\""], ["proof (prove)\nusing this:\n  term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>) \\<nu>\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>)\n     \\<nu>", "."], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>) \\<nu>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (trm.Func f \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (trm.Func f \\<theta>) \\<nu>\n\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "case (Plus \\<sigma> U \\<theta> \\<eta>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Plus \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Plus \\<theta> \\<eta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 3. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Plus \\<theta> \\<eta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Plus \\<theta> \\<eta>)\n     \\<nu>", "using Pluso_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Plus \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  (Pluso ?\\<theta> ?\\<eta> = undeft) =\n  (?\\<theta> = undeft \\<or> ?\\<eta> = undeft)\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Plus \\<theta> \\<eta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Plus \\<theta> \\<eta>)\n     \\<nu>", "by auto"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Plus \\<theta> \\<eta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Plus \\<theta> \\<eta>) \\<nu>\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "case (Times \\<sigma> U \\<theta> \\<eta>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>))\n                              \\<nu> =\n                             term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<eta> \\<nu>;\n        usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Times \\<theta> \\<eta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Times \\<theta> \\<eta>) \\<nu>\n 2. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Times \\<theta> \\<eta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Times \\<theta> \\<eta>)\n     \\<nu>", "using Timeso_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  \\<lbrakk>usubstappt \\<sigma> U \\<eta> \\<noteq> undeft;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<eta>)) ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<eta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Times \\<theta> \\<eta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  (Timeso ?\\<theta> ?\\<eta> = undeft) =\n  (?\\<theta> = undeft \\<or> ?\\<eta> = undeft)\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Times \\<theta> \\<eta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Times \\<theta> \\<eta>)\n     \\<nu>", "by auto"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Times \\<theta> \\<eta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Times \\<theta> \\<eta>)\n   \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "case (Differential \\<sigma> U \\<theta>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> Denotational_Semantics.allvars\n            \\<theta> \\<noteq>\n           undeft;\n   Uvariation ?\\<nu> ?\\<omega> Denotational_Semantics.allvars\\<rbrakk>\n  \\<Longrightarrow> term_sem I\n                     (the (usubstappt \\<sigma>\n                            Denotational_Semantics.allvars \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "from Differential"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> Denotational_Semantics.allvars\n            \\<theta> \\<noteq>\n           undeft;\n   Uvariation ?\\<nu> ?\\<omega> Denotational_Semantics.allvars\\<rbrakk>\n  \\<Longrightarrow> term_sem I\n                     (the (usubstappt \\<sigma>\n                            Denotational_Semantics.allvars \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "have subdef: \"usubstappt \\<sigma> allvars \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> Denotational_Semantics.allvars\n            \\<theta> \\<noteq>\n           undeft;\n   Uvariation ?\\<nu> ?\\<omega> Denotational_Semantics.allvars\\<rbrakk>\n  \\<Longrightarrow> term_sem I\n                     (the (usubstappt \\<sigma>\n                            Denotational_Semantics.allvars \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta> \\<noteq>\n    undeft", "using usubstappt_differential_conv"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> Denotational_Semantics.allvars\n            \\<theta> \\<noteq>\n           undeft;\n   Uvariation ?\\<nu> ?\\<omega> Denotational_Semantics.allvars\\<rbrakk>\n  \\<Longrightarrow> term_sem I\n                     (the (usubstappt \\<sigma>\n                            Denotational_Semantics.allvars \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  usubstappt ?\\<sigma> ?U (Differential ?\\<theta>) \\<noteq>\n  undeft \\<Longrightarrow>\n  usubstappt ?\\<sigma> Denotational_Semantics.allvars ?\\<theta> \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta> \\<noteq>\n    undeft", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta> \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "from Differential"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> Denotational_Semantics.allvars\n            \\<theta> \\<noteq>\n           undeft;\n   Uvariation ?\\<nu> ?\\<omega> Denotational_Semantics.allvars\\<rbrakk>\n  \\<Longrightarrow> term_sem I\n                     (the (usubstappt \\<sigma>\n                            Denotational_Semantics.allvars \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U", "have IH: \"\\<And>\\<nu>. term_sem I (the (usubstappt \\<sigma> allvars \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> Denotational_Semantics.allvars\n            \\<theta> \\<noteq>\n           undeft;\n   Uvariation ?\\<nu> ?\\<omega> Denotational_Semantics.allvars\\<rbrakk>\n  \\<Longrightarrow> term_sem I\n                     (the (usubstappt \\<sigma>\n                            Denotational_Semantics.allvars \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu>.\n       term_sem I\n        (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>))\n        \\<nu> =\n       term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "using subdef Uvariation_univ"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> Denotational_Semantics.allvars\n            \\<theta> \\<noteq>\n           undeft;\n   Uvariation ?\\<nu> ?\\<omega> Denotational_Semantics.allvars\\<rbrakk>\n  \\<Longrightarrow> term_sem I\n                     (the (usubstappt \\<sigma>\n                            Denotational_Semantics.allvars \\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<theta>\n                     ?\\<nu>\n  usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta> \\<noteq>\n  undeft\n  Uvariation ?\\<nu> ?\\<nu>' Denotational_Semantics.allvars\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu>.\n       term_sem I\n        (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>))\n        \\<nu> =\n       term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "by blast"], ["proof (state)\nthis:\n  term_sem I\n   (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>))\n   ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "(*by auto*)"], ["proof (state)\nthis:\n  term_sem I\n   (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>))\n   ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "have \"term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> = term_sem I (Differential (the (usubstappt \\<sigma> allvars \\<theta>))) \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n    term_sem I\n     (Differential\n       (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)))\n     \\<nu>", "using subdef"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta> \\<noteq>\n  undeft\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n    term_sem I\n     (Differential\n       (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)))\n     \\<nu>", "by force"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n  term_sem I\n   (Differential\n     (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)))\n   \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n  term_sem I\n   (Differential\n     (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)))\n   \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "have \"... = sum(\\<lambda>x. \\<nu>(DVar x)*deriv(\\<lambda>X. term_sem I (the (usubstappt \\<sigma> allvars \\<theta>)) (repv \\<nu> (RVar x) X))(\\<nu>(RVar x)))(allidents)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem I\n     (Differential\n       (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)))\n     \\<nu> =\n    (\\<Sum>x\\<in>allidents.\n       \\<nu> (DVar x) *\n       deriv\n        (\\<lambda>X.\n            term_sem I\n             (the (usubstappt \\<sigma> Denotational_Semantics.allvars\n                    \\<theta>))\n             (repv \\<nu> (RVar x) X))\n        (\\<nu> (RVar x)))", "by simp"], ["proof (state)\nthis:\n  term_sem I\n   (Differential\n     (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)))\n   \\<nu> =\n  (\\<Sum>x\\<in>allidents.\n     \\<nu> (DVar x) *\n     deriv\n      (\\<lambda>X.\n          term_sem I\n           (the (usubstappt \\<sigma> Denotational_Semantics.allvars\n                  \\<theta>))\n           (repv \\<nu> (RVar x) X))\n      (\\<nu> (RVar x)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  term_sem I\n   (Differential\n     (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)))\n   \\<nu> =\n  (\\<Sum>x\\<in>allidents.\n     \\<nu> (DVar x) *\n     deriv\n      (\\<lambda>X.\n          term_sem I\n           (the (usubstappt \\<sigma> Denotational_Semantics.allvars\n                  \\<theta>))\n           (repv \\<nu> (RVar x) X))\n      (\\<nu> (RVar x)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "have \"... = sum(\\<lambda>x. \\<nu>(DVar x)*deriv(\\<lambda>X. term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> (repv \\<nu> (RVar x) X))(\\<nu>(RVar x)))(allidents)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>allidents.\n       \\<nu> (DVar x) *\n       deriv\n        (\\<lambda>X.\n            term_sem I\n             (the (usubstappt \\<sigma> Denotational_Semantics.allvars\n                    \\<theta>))\n             (repv \\<nu> (RVar x) X))\n        (\\<nu> (RVar x))) =\n    (\\<Sum>x\\<in>allidents.\n       \\<nu> (DVar x) *\n       deriv\n        (\\<lambda>X.\n            term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n             (repv \\<nu> (RVar x) X))\n        (\\<nu> (RVar x)))", "using IH"], ["proof (prove)\nusing this:\n  term_sem I\n   (the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>))\n   ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>allidents.\n       \\<nu> (DVar x) *\n       deriv\n        (\\<lambda>X.\n            term_sem I\n             (the (usubstappt \\<sigma> Denotational_Semantics.allvars\n                    \\<theta>))\n             (repv \\<nu> (RVar x) X))\n        (\\<nu> (RVar x))) =\n    (\\<Sum>x\\<in>allidents.\n       \\<nu> (DVar x) *\n       deriv\n        (\\<lambda>X.\n            term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n             (repv \\<nu> (RVar x) X))\n        (\\<nu> (RVar x)))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>allidents.\n     \\<nu> (DVar x) *\n     deriv\n      (\\<lambda>X.\n          term_sem I\n           (the (usubstappt \\<sigma> Denotational_Semantics.allvars\n                  \\<theta>))\n           (repv \\<nu> (RVar x) X))\n      (\\<nu> (RVar x))) =\n  (\\<Sum>x\\<in>allidents.\n     \\<nu> (DVar x) *\n     deriv\n      (\\<lambda>X.\n          term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n           (repv \\<nu> (RVar x) X))\n      (\\<nu> (RVar x)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>allidents.\n     \\<nu> (DVar x) *\n     deriv\n      (\\<lambda>X.\n          term_sem I\n           (the (usubstappt \\<sigma> Denotational_Semantics.allvars\n                  \\<theta>))\n           (repv \\<nu> (RVar x) X))\n      (\\<nu> (RVar x))) =\n  (\\<Sum>x\\<in>allidents.\n     \\<nu> (DVar x) *\n     deriv\n      (\\<lambda>X.\n          term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n           (repv \\<nu> (RVar x) X))\n      (\\<nu> (RVar x)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "have \"... = term_sem (adjoint \\<sigma> I \\<omega>) (Differential \\<theta>) \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>allidents.\n       \\<nu> (DVar x) *\n       deriv\n        (\\<lambda>X.\n            term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n             (repv \\<nu> (RVar x) X))\n        (\\<nu> (RVar x))) =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Differential \\<theta>)\n     \\<nu>", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>allidents.\n     \\<nu> (DVar x) *\n     deriv\n      (\\<lambda>X.\n          term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n           (repv \\<nu> (RVar x) X))\n      (\\<nu> (RVar x))) =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Differential \\<theta>)\n   \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma>\n                             Denotational_Semantics.allvars\n                             \\<theta> \\<noteq>\n                            undeft;\n                    Uvariation \\<nu> \\<omega>\n                     Denotational_Semantics.allvars\\<rbrakk>\n                   \\<Longrightarrow> term_sem I\n(the (usubstappt \\<sigma> Denotational_Semantics.allvars \\<theta>)) \\<nu> =\n                                     term_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n        usubstappt \\<sigma> U (Differential \\<theta>) \\<noteq> undeft;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> term_sem I\n                          (the (usubstappt \\<sigma> U\n                                 (Differential \\<theta>)))\n                          \\<nu> =\n                         term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                          (Differential \\<theta>) \\<nu>", "finally"], ["proof (chain)\npicking this:\n  term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Differential \\<theta>)\n   \\<nu>", "show \"term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) (Differential \\<theta>) \\<nu>\""], ["proof (prove)\nusing this:\n  term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Differential \\<theta>)\n   \\<nu>\n\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Differential \\<theta>)\n     \\<nu>", "."], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U (Differential \\<theta>))) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) (Differential \\<theta>)\n   \\<nu>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappt ?\\<sigma> U ?\\<theta> \\<noteq> undeft \\<Longrightarrow>\n  term_sem I (the (usubstappt ?\\<sigma> U ?\\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint ?\\<sigma> I \\<omega>) ?\\<theta> \\<nu>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Uniform Substitution for Formulas and Games\\<close>"], ["", "paragraph \\<open>Separately Prove Crucial Ingredient for the ODE Case of \\<open>usubst_fml_game\\<close>\\<close>"], ["", "lemma same_ODE_same_sol:\n  \"(\\<And>\\<nu>. Uvariation \\<nu> (F(0)) {RVar x,DVar x} \\<Longrightarrow> term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>)\n  \\<Longrightarrow> solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<nu>.\n        Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n        term_sem I \\<theta> \\<nu> =\n        term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n    solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "using Uvariation_Vagree Vagree_def solves_ODE_def"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> ?\\<nu>' (- ?V) = Vagree ?\\<nu> ?\\<nu>' ?V\n  Vagree ?\\<nu> ?\\<nu>' ?V \\<equiv>\n  \\<forall>i. i \\<in> ?V \\<longrightarrow> ?\\<nu> i = ?\\<nu>' i\n  solves_ODE ?I ?F ?x ?\\<theta> \\<equiv>\n  \\<forall>\\<zeta>.\n     Vagree (?F 0) (?F \\<zeta>) (- {RVar ?x, DVar ?x}) \\<and>\n     ?F \\<zeta> (DVar ?x) =\n     deriv (\\<lambda>t. ?F t (RVar ?x)) \\<zeta> \\<and>\n     ?F \\<zeta> (DVar ?x) = term_sem ?I ?\\<theta> (?F \\<zeta>)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<nu>.\n        Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n        term_sem I \\<theta> \\<nu> =\n        term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n    solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "(*by (smt double_complement)*)"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> ?\\<nu>' (- ?V) = Vagree ?\\<nu> ?\\<nu>' ?V\n  Vagree ?\\<nu> ?\\<nu>' ?V \\<equiv>\n  \\<forall>i. i \\<in> ?V \\<longrightarrow> ?\\<nu> i = ?\\<nu>' i\n  solves_ODE ?I ?F ?x ?\\<theta> \\<equiv>\n  \\<forall>\\<zeta>.\n     Vagree (?F 0) (?F \\<zeta>) (- {RVar ?x, DVar ?x}) \\<and>\n     ?F \\<zeta> (DVar ?x) =\n     deriv (\\<lambda>t. ?F t (RVar ?x)) \\<zeta> \\<and>\n     ?F \\<zeta> (DVar ?x) = term_sem ?I ?\\<theta> (?F \\<zeta>)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<nu>.\n        Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n        term_sem I \\<theta> \\<nu> =\n        term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n    solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<nu>.\n                Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n     \\<And>\\<nu> \\<nu>' V.\n        Uvariation \\<nu> \\<nu>' (- V) = Vagree \\<nu> \\<nu>' V;\n     \\<And>\\<nu> \\<nu>' V.\n        Vagree \\<nu> \\<nu>' V \\<equiv>\n        \\<forall>i. i \\<in> V \\<longrightarrow> \\<nu> i = \\<nu>' i;\n     \\<And>I F x \\<theta>.\n        solves_ODE I F x \\<theta> \\<equiv>\n        \\<forall>\\<zeta>.\n           Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n           F \\<zeta> (DVar x) =\n           deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n           F \\<zeta> (DVar x) = term_sem I \\<theta> (F \\<zeta>)\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "assume va: \"\\<And>\\<nu>. Uvariation \\<nu> (F(0)) {RVar x,DVar x} \\<Longrightarrow> term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>\""], ["proof (state)\nthis:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<nu>.\n                Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n     \\<And>\\<nu> \\<nu>' V.\n        Uvariation \\<nu> \\<nu>' (- V) = Vagree \\<nu> \\<nu>' V;\n     \\<And>\\<nu> \\<nu>' V.\n        Vagree \\<nu> \\<nu>' V \\<equiv>\n        \\<forall>i. i \\<in> V \\<longrightarrow> \\<nu> i = \\<nu>' i;\n     \\<And>I F x \\<theta>.\n        solves_ODE I F x \\<theta> \\<equiv>\n        \\<forall>\\<zeta>.\n           Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n           F \\<zeta> (DVar x) =\n           deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n           F \\<zeta> (DVar x) = term_sem I \\<theta> (F \\<zeta>)\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "then"], ["proof (chain)\npicking this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>", "have va2: \"\\<And>\\<nu>. Uvariation \\<nu> (F(0)) {RVar x,DVar x} \\<Longrightarrow> term_sem J \\<eta> \\<nu> = term_sem I \\<theta> \\<nu>\""], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu>.\n       Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n       term_sem J \\<eta> \\<nu> = term_sem I \\<theta> \\<nu>", "by simp"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem J \\<eta> ?\\<nu> = term_sem I \\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<nu>.\n                Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n     \\<And>\\<nu> \\<nu>' V.\n        Uvariation \\<nu> \\<nu>' (- V) = Vagree \\<nu> \\<nu>' V;\n     \\<And>\\<nu> \\<nu>' V.\n        Vagree \\<nu> \\<nu>' V \\<equiv>\n        \\<forall>i. i \\<in> V \\<longrightarrow> \\<nu> i = \\<nu>' i;\n     \\<And>I F x \\<theta>.\n        solves_ODE I F x \\<theta> \\<equiv>\n        \\<forall>\\<zeta>.\n           Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n           F \\<zeta> (DVar x) =\n           deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n           F \\<zeta> (DVar x) = term_sem I \\<theta> (F \\<zeta>)\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "have one: \"\\<And>I J \\<theta> \\<eta>. (\\<And>\\<nu>. Uvariation \\<nu> (F(0)) {RVar x,DVar x} \\<Longrightarrow> term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>)\n   \\<Longrightarrow> solves_ODE I F x \\<theta> \\<Longrightarrow> solves_ODE J F x \\<eta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>I J \\<theta> \\<eta>.\n       \\<lbrakk>\\<And>\\<nu>.\n                   Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                   term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n        solves_ODE I F x \\<theta>\\<rbrakk>\n       \\<Longrightarrow> solves_ODE J F x \\<eta>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>I J \\<theta> \\<eta>.\n       \\<lbrakk>\\<And>\\<nu>.\n                   Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                   term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n        solves_ODE I F x \\<theta>\\<rbrakk>\n       \\<Longrightarrow> solves_ODE J F x \\<eta>", "fix I J \\<theta> \\<eta>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>I J \\<theta> \\<eta>.\n       \\<lbrakk>\\<And>\\<nu>.\n                   Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                   term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n        solves_ODE I F x \\<theta>\\<rbrakk>\n       \\<Longrightarrow> solves_ODE J F x \\<eta>", "assume vaflow: \"\\<And>\\<nu>. Uvariation \\<nu> (F(0)) {RVar x,DVar x} \\<Longrightarrow> term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>\""], ["proof (state)\nthis:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>I J \\<theta> \\<eta>.\n       \\<lbrakk>\\<And>\\<nu>.\n                   Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                   term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n        solves_ODE I F x \\<theta>\\<rbrakk>\n       \\<Longrightarrow> solves_ODE J F x \\<eta>", "assume sol: \"solves_ODE I F x \\<theta>\""], ["proof (state)\nthis:\n  solves_ODE I F x \\<theta>\n\ngoal (1 subgoal):\n 1. \\<And>I J \\<theta> \\<eta>.\n       \\<lbrakk>\\<And>\\<nu>.\n                   Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                   term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n        solves_ODE I F x \\<theta>\\<rbrakk>\n       \\<Longrightarrow> solves_ODE J F x \\<eta>", "from vaflow and sol"], ["proof (chain)\npicking this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>\n  solves_ODE I F x \\<theta>", "show \"solves_ODE J F x \\<eta>\""], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>\n  solves_ODE I F x \\<theta>\n\ngoal (1 subgoal):\n 1. solves_ODE J F x \\<eta>", "unfolding solves_ODE_def"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>\n  \\<forall>\\<zeta>.\n     Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n     F \\<zeta> (DVar x) = deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n     F \\<zeta> (DVar x) = term_sem I \\<theta> (F \\<zeta>)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<zeta>.\n       Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n       F \\<zeta> (DVar x) = deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n       F \\<zeta> (DVar x) = term_sem J \\<eta> (F \\<zeta>)", "using Uvariation_Vagree coincidence_term"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I \\<theta> ?\\<nu> = term_sem J \\<eta> ?\\<nu>\n  \\<forall>\\<zeta>.\n     Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n     F \\<zeta> (DVar x) = deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n     F \\<zeta> (DVar x) = term_sem I \\<theta> (F \\<zeta>)\n  Uvariation ?\\<nu> ?\\<nu>' (- ?V) = Vagree ?\\<nu> ?\\<nu>' ?V\n  Vagree ?\\<omega> ?\\<omega>' (FVT ?\\<theta>) \\<Longrightarrow>\n  term_sem ?I ?\\<theta> ?\\<omega> = term_sem ?I ?\\<theta> ?\\<omega>'\n\ngoal (1 subgoal):\n 1. \\<forall>\\<zeta>.\n       Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n       F \\<zeta> (DVar x) = deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n       F \\<zeta> (DVar x) = term_sem J \\<eta> (F \\<zeta>)", "by (metis double_complement solves_Vagree sol)"], ["proof (state)\nthis:\n  solves_ODE J F x \\<eta>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>\\<nu>.\n              Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n              term_sem ?I ?\\<theta> \\<nu> = term_sem ?J ?\\<eta> \\<nu>;\n   solves_ODE ?I F x ?\\<theta>\\<rbrakk>\n  \\<Longrightarrow> solves_ODE ?J F x ?\\<eta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>\\<nu>.\n                Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n                term_sem I \\<theta> \\<nu> = term_sem J \\<eta> \\<nu>;\n     \\<And>\\<nu> \\<nu>' V.\n        Uvariation \\<nu> \\<nu>' (- V) = Vagree \\<nu> \\<nu>' V;\n     \\<And>\\<nu> \\<nu>' V.\n        Vagree \\<nu> \\<nu>' V \\<equiv>\n        \\<forall>i. i \\<in> V \\<longrightarrow> \\<nu> i = \\<nu>' i;\n     \\<And>I F x \\<theta>.\n        solves_ODE I F x \\<theta> \\<equiv>\n        \\<forall>\\<zeta>.\n           Vagree (F 0) (F \\<zeta>) (- {RVar x, DVar x}) \\<and>\n           F \\<zeta> (DVar x) =\n           deriv (\\<lambda>t. F t (RVar x)) \\<zeta> \\<and>\n           F \\<zeta> (DVar x) = term_sem I \\<theta> (F \\<zeta>)\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "show \"solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "using one[where \\<theta>=\\<theta> and \\<eta>=\\<eta>, OF va] one[where \\<theta>=\\<eta> and \\<eta>=\\<theta>, OF va2]"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>\\<nu>.\n              Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n              Uvariation \\<nu> (F 0) {RVar x, DVar x};\n   solves_ODE I F x \\<theta>\\<rbrakk>\n  \\<Longrightarrow> solves_ODE J F x \\<eta>\n  \\<lbrakk>\\<And>\\<nu>.\n              Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n              Uvariation \\<nu> (F 0) {RVar x, DVar x};\n   solves_ODE J F x \\<eta>\\<rbrakk>\n  \\<Longrightarrow> solves_ODE I F x \\<theta>\n\ngoal (1 subgoal):\n 1. solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>", "by force"], ["proof (state)\nthis:\n  solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubst_ode:\n  assumes subdef: \"usubstappt \\<sigma> {RVar x,DVar x} \\<theta> \\<noteq> undeft\"\n  shows \"solves_ODE I F x (the (usubstappt \\<sigma> {RVar x,DVar x} \\<theta>)) = solves_ODE (adjoint \\<sigma> I (F(0))) F x \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. solves_ODE I F x (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I (F 0)) F x \\<theta>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. solves_ODE I F x (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I (F 0)) F x \\<theta>", "have vaflow: \"\\<And>F \\<theta> \\<zeta>. solves_ODE I F x \\<theta> \\<Longrightarrow> Uvariation (F(\\<zeta>)) (F(0)) {RVar x,DVar x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>F \\<theta> \\<zeta>.\n       solves_ODE I F x \\<theta> \\<Longrightarrow>\n       Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x}", "using solves_Vagree_trans"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation (?F 0) ?\\<omega> ?U;\n   solves_ODE ?I ?F ?x ?\\<theta>\\<rbrakk>\n  \\<Longrightarrow> Uvariation (?F ?\\<zeta>) ?\\<omega>\n                     (?U \\<union> {RVar ?x, DVar ?x})\n\ngoal (1 subgoal):\n 1. \\<And>F \\<theta> \\<zeta>.\n       solves_ODE I F x \\<theta> \\<Longrightarrow>\n       Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x}", "by simp"], ["proof (state)\nthis:\n  solves_ODE I ?F x ?\\<theta> \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n\ngoal (1 subgoal):\n 1. solves_ODE I F x (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I (F 0)) F x \\<theta>", "from subdef"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> {RVar x, DVar x} \\<theta> \\<noteq> undeft", "have IH: \"\\<And>\\<nu>. Uvariation \\<nu> (F(0)) {RVar x,DVar x} \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> {RVar x,DVar x} \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I (F(0))) \\<theta> \\<nu>\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> {RVar x, DVar x} \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu>.\n       Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n       term_sem I (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>))\n        \\<nu> =\n       term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> \\<nu>", "by (simp add: usubst_term)"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. solves_ODE I F x (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I (F 0)) F x \\<theta>", "then"], ["proof (chain)\npicking this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> ?\\<nu>", "show ?thesis"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. solves_ODE I F x (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I (F 0)) F x \\<theta>", "using IH vaflow solves_ODE_def Uvariation_Vagree same_ODE_same_sol"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> ?\\<nu>\n  Uvariation ?\\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n  term_sem I (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> ?\\<nu>\n  solves_ODE I ?F x ?\\<theta> \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n  solves_ODE ?I ?F ?x ?\\<theta> \\<equiv>\n  \\<forall>\\<zeta>.\n     Vagree (?F 0) (?F \\<zeta>) (- {RVar ?x, DVar ?x}) \\<and>\n     ?F \\<zeta> (DVar ?x) =\n     deriv (\\<lambda>t. ?F t (RVar ?x)) \\<zeta> \\<and>\n     ?F \\<zeta> (DVar ?x) = term_sem ?I ?\\<theta> (?F \\<zeta>)\n  Uvariation ?\\<nu> ?\\<nu>' (- ?V) = Vagree ?\\<nu> ?\\<nu>' ?V\n  (\\<And>\\<nu>.\n      Uvariation \\<nu> (?F 0) {RVar ?x, DVar ?x} \\<Longrightarrow>\n      term_sem ?I ?\\<theta> \\<nu> =\n      term_sem ?J ?\\<eta> \\<nu>) \\<Longrightarrow>\n  solves_ODE ?I ?F ?x ?\\<theta> = solves_ODE ?J ?F ?x ?\\<eta>\n\ngoal (1 subgoal):\n 1. solves_ODE I F x (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I (F 0)) F x \\<theta>", "by blast"], ["proof (state)\nthis:\n  solves_ODE I F x (the (usubstappt \\<sigma> {RVar x, DVar x} \\<theta>)) =\n  solves_ODE (USubst.adjoint \\<sigma> I (F 0)) F x \\<theta>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubst_ode_ext:\n  assumes     uv: \"Uvariation (F(0)) \\<omega> (U\\<union>{RVar x,DVar x})\"\n  assumes subdef: \"usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta> \\<noteq> undeft\"\n  shows \"solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) = solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "(*using usubst_ode usubstappt_det usubstappt_antimon Uvariation_Vagree Uvariation_mon *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "have vaflow1: \"\\<And>F \\<theta> \\<zeta>. solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) \\<Longrightarrow> Uvariation (F(\\<zeta>)) (F(0)) {RVar x,DVar x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>F \\<theta> \\<zeta>.\n       solves_ODE I F x\n        (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n               \\<theta>)) \\<Longrightarrow>\n       Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x}", "using solves_Vagree_trans"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation (?F 0) ?\\<omega> ?U;\n   solves_ODE ?I ?F ?x ?\\<theta>\\<rbrakk>\n  \\<Longrightarrow> Uvariation (?F ?\\<zeta>) ?\\<omega>\n                     (?U \\<union> {RVar ?x, DVar ?x})\n\ngoal (1 subgoal):\n 1. \\<And>F \\<theta> \\<zeta>.\n       solves_ODE I F x\n        (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n               \\<theta>)) \\<Longrightarrow>\n       Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x}", "by simp"], ["proof (state)\nthis:\n  solves_ODE I ?F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n          ?\\<theta>)) \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "have vaflow2: \"\\<And>F \\<theta> \\<zeta>. solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta> \\<Longrightarrow> Uvariation (F(\\<zeta>)) (F(0)) {RVar x,DVar x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>F \\<theta> \\<zeta>.\n       solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n        \\<theta> \\<Longrightarrow>\n       Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x}", "using solves_Vagree_trans"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation (?F 0) ?\\<omega> ?U;\n   solves_ODE ?I ?F ?x ?\\<theta>\\<rbrakk>\n  \\<Longrightarrow> Uvariation (?F ?\\<zeta>) ?\\<omega>\n                     (?U \\<union> {RVar ?x, DVar ?x})\n\ngoal (1 subgoal):\n 1. \\<And>F \\<theta> \\<zeta>.\n       solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n        \\<theta> \\<Longrightarrow>\n       Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x}", "by simp"], ["proof (state)\nthis:\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) ?F x\n   ?\\<theta> \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "from subdef"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft", "have IH: \"\\<And>\\<nu>. Uvariation \\<nu> (F(0)) (U\\<union>{RVar x,DVar x}) \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I (F(0))) \\<theta> \\<nu>\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu>.\n       Uvariation \\<nu> (F 0)\n        (U \\<union> {RVar x, DVar x}) \\<Longrightarrow>\n       term_sem I\n        (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n        \\<nu> =\n       term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> \\<nu>", "using Uvariation_refl Uvariation_trans usubst_term"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n  Uvariation ?\\<nu> ?\\<nu> ?V\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu>.\n       Uvariation \\<nu> (F 0)\n        (U \\<union> {RVar x, DVar x}) \\<Longrightarrow>\n       term_sem I\n        (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n        \\<nu> =\n       term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> \\<nu>", "by blast"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> (F 0) (U \\<union> {RVar x, DVar x}) \\<Longrightarrow>\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   ?\\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I (F 0)) \\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "have l2r: \"solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) \\<Longrightarrow> solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n            \\<theta>)) \\<Longrightarrow>\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "using vaflow1 subdef same_ODE_same_sol Uvariation_trans usubst_term uv"], ["proof (prove)\nusing this:\n  solves_ODE I ?F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n          ?\\<theta>)) \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n  (\\<And>\\<nu>.\n      Uvariation \\<nu> (?F 0) {RVar ?x, DVar ?x} \\<Longrightarrow>\n      term_sem ?I ?\\<theta> \\<nu> =\n      term_sem ?J ?\\<eta> \\<nu>) \\<Longrightarrow>\n  solves_ODE ?I ?F ?x ?\\<theta> = solves_ODE ?J ?F ?x ?\\<eta>\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n  Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n            \\<theta>)) \\<Longrightarrow>\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "(*by (smt sup_commute sup_left_idem)*)"], ["proof (prove)\nusing this:\n  solves_ODE I ?F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n          ?\\<theta>)) \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n  (\\<And>\\<nu>.\n      Uvariation \\<nu> (?F 0) {RVar ?x, DVar ?x} \\<Longrightarrow>\n      term_sem ?I ?\\<theta> \\<nu> =\n      term_sem ?J ?\\<eta> \\<nu>) \\<Longrightarrow>\n  solves_ODE ?I ?F ?x ?\\<theta> = solves_ODE ?J ?F ?x ?\\<eta>\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n  Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n            \\<theta>)) \\<Longrightarrow>\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "assume a1: \"solves_ODE I F x (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\""], ["proof (state)\nthis:\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "obtain rr :: \"trm \\<Rightarrow> interp \\<Rightarrow> trm \\<Rightarrow> interp \\<Rightarrow> char \\<Rightarrow> (real \\<Rightarrow> variable \\<Rightarrow> real) \\<Rightarrow> variable \\<Rightarrow> real\" where\n      f2: \"\\<forall>x0 x1 x2 x3 x4 x5. (\\<exists>v6. Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and> term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) = (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0) {RVar x4, DVar x4} \\<and> term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq> term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>rr.\n        \\<forall>x0 x1 x2 x3 x4 x5.\n           (\\<exists>v6.\n               Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and>\n               term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) =\n           (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0)\n             {RVar x4, DVar x4} \\<and>\n            term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq>\n            term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  \\<forall>x0 x1 x2 x3 x4 x5.\n     (\\<exists>v6.\n         Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and>\n         term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) =\n     (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0) {RVar x4, DVar x4} \\<and>\n      term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq>\n      term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "have f3: \"Uvariation (F 0) \\<omega> (insert (RVar x) (U \\<union> {DVar x}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation (F 0) \\<omega> (insert (RVar x) (U \\<union> {DVar x}))", "using uv"], ["proof (prove)\nusing this:\n  Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\n\ngoal (1 subgoal):\n 1. Uvariation (F 0) \\<omega> (insert (RVar x) (U \\<union> {DVar x}))", "by auto"], ["proof (state)\nthis:\n  Uvariation (F 0) \\<omega> (insert (RVar x) (U \\<union> {DVar x}))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "have f4: \"{DVar x} \\<union> {} \\<union> {DVar x} = insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<longrightarrow> {RVar x} \\<union> {DVar x} \\<union> insert (RVar x) (U \\<union> {DVar x}) = insert (RVar x) (U \\<union> {DVar x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {DVar x} \\<union> {} \\<union> {DVar x} =\n    insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<longrightarrow>\n    {RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x}) =\n    insert (RVar x) (U \\<union> {DVar x})", "by fastforce"], ["proof (state)\nthis:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<longrightarrow>\n  {RVar x} \\<union> {DVar x} \\<union>\n  insert (RVar x) (U \\<union> {DVar x}) =\n  insert (RVar x) (U \\<union> {DVar x})\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "{"], ["proof (state)\nthis:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<longrightarrow>\n  {RVar x} \\<union> {DVar x} \\<union>\n  insert (RVar x) (U \\<union> {DVar x}) =\n  insert (RVar x) (U \\<union> {DVar x})\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "assume \"{DVar x} \\<union> {} \\<union> {DVar x} = insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and> Uvariation (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) \\<omega> ({RVar x} \\<union> {DVar x} \\<union> insert (RVar x) (U \\<union> {DVar x}))\""], ["proof (state)\nthis:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x}))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "then"], ["proof (chain)\npicking this:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x}))", "have \"\\<not> Uvariation (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) (F 0) {RVar x, DVar x} \\<or> term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) = term_sem I (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\""], ["proof (prove)\nusing this:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x}))\n\ngoal (1 subgoal):\n 1. \\<not> Uvariation\n            (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                       \\<theta>))\n              I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n            (F 0) {RVar x, DVar x} \\<or>\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n    term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)", "using f4 subdef usubst_term"], ["proof (prove)\nusing this:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x}))\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<longrightarrow>\n  {RVar x} \\<union> {DVar x} \\<union>\n  insert (RVar x) (U \\<union> {DVar x}) =\n  insert (RVar x) (U \\<union> {DVar x})\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. \\<not> Uvariation\n            (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                       \\<theta>))\n              I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n            (F 0) {RVar x, DVar x} \\<or>\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n    term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)", "by auto"], ["proof (state)\nthis:\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "}"], ["proof (state)\nthis:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x})) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "then"], ["proof (chain)\npicking this:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x})) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)", "have \"\\<not> Uvariation (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) (F 0) {RVar x, DVar x} \\<or> term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) = term_sem I (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\""], ["proof (prove)\nusing this:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x})) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n\ngoal (1 subgoal):\n 1. \\<not> Uvariation\n            (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                       \\<theta>))\n              I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n            (F 0) {RVar x, DVar x} \\<or>\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n    term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)", "using f3"], ["proof (prove)\nusing this:\n  {DVar x} \\<union> {} \\<union> {DVar x} =\n  insert (DVar x) ({DVar x} \\<union> {} \\<union> {}) \\<and>\n  Uvariation\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n   \\<omega>\n   ({RVar x} \\<union> {DVar x} \\<union>\n    insert (RVar x) (U \\<union> {DVar x})) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n  Uvariation (F 0) \\<omega> (insert (RVar x) (U \\<union> {DVar x}))\n\ngoal (1 subgoal):\n 1. \\<not> Uvariation\n            (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                       \\<theta>))\n              I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n            (F 0) {RVar x, DVar x} \\<or>\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n    term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n       I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)", "by (metis (no_types) Uvariation_trans insert_is_Un)"], ["proof (state)\nthis:\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE I F x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>));\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>)) \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n                       \\<theta>", "then"], ["proof (chain)\npicking this:\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n\ngoal (1 subgoal):\n 1. solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "using f2 a1"], ["proof (prove)\nusing this:\n  \\<not> Uvariation\n          (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n            I \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F) =\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n     \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) x F)\n  \\<forall>x0 x1 x2 x3 x4 x5.\n     (\\<exists>v6.\n         Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and>\n         term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) =\n     (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0) {RVar x4, DVar x4} \\<and>\n      term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq>\n      term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5))\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n\ngoal (1 subgoal):\n 1. solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "by (meson same_ODE_same_sol)"], ["proof (state)\nthis:\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n          \\<theta>)) \\<Longrightarrow>\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "have r2l: \"solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta> \\<Longrightarrow> solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n     \\<theta> \\<Longrightarrow>\n    solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))", "using vaflow2 subdef same_ODE_same_sol Uvariation_trans usubst_term uv"], ["proof (prove)\nusing this:\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) ?F x\n   ?\\<theta> \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n  (\\<And>\\<nu>.\n      Uvariation \\<nu> (?F 0) {RVar ?x, DVar ?x} \\<Longrightarrow>\n      term_sem ?I ?\\<theta> \\<nu> =\n      term_sem ?J ?\\<eta> \\<nu>) \\<Longrightarrow>\n  solves_ODE ?I ?F ?x ?\\<theta> = solves_ODE ?J ?F ?x ?\\<eta>\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n  Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\n\ngoal (1 subgoal):\n 1. solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n     \\<theta> \\<Longrightarrow>\n    solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))", "(*by (smt sup_commute sup_left_idem)*)"], ["proof (prove)\nusing this:\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) ?F x\n   ?\\<theta> \\<Longrightarrow>\n  Uvariation (?F ?\\<zeta>) (?F 0) {RVar x, DVar x}\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n  (\\<And>\\<nu>.\n      Uvariation \\<nu> (?F 0) {RVar ?x, DVar ?x} \\<Longrightarrow>\n      term_sem ?I ?\\<theta> \\<nu> =\n      term_sem ?J ?\\<eta> \\<nu>) \\<Longrightarrow>\n  solves_ODE ?I ?F ?x ?\\<theta> = solves_ODE ?J ?F ?x ?\\<eta>\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n  Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\n\ngoal (1 subgoal):\n 1. solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n     \\<theta> \\<Longrightarrow>\n    solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "assume a1: \"solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\""], ["proof (state)\nthis:\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "obtain rr :: \"trm \\<Rightarrow> interp \\<Rightarrow> trm \\<Rightarrow> interp \\<Rightarrow> char \\<Rightarrow> (real \\<Rightarrow> variable \\<Rightarrow> real) \\<Rightarrow> variable \\<Rightarrow> real\" where\n      \"\\<forall>x0 x1 x2 x3 x4 x5. (\\<exists>v6. Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and> term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) = (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0) {RVar x4, DVar x4} \\<and> term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq> term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>rr.\n        \\<forall>x0 x1 x2 x3 x4 x5.\n           (\\<exists>v6.\n               Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and>\n               term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) =\n           (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0)\n             {RVar x4, DVar x4} \\<and>\n            term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq>\n            term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  \\<forall>x0 x1 x2 x3 x4 x5.\n     (\\<exists>v6.\n         Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and>\n         term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) =\n     (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0) {RVar x4, DVar x4} \\<and>\n      term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq>\n      term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "then"], ["proof (chain)\npicking this:\n  \\<forall>x0 x1 x2 x3 x4 x5.\n     (\\<exists>v6.\n         Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and>\n         term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) =\n     (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0) {RVar x4, DVar x4} \\<and>\n      term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq>\n      term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5))", "have f2: \"\\<forall>f c i t ia ta. Uvariation (rr ta ia t i c f) (f 0) {RVar c, DVar c} \\<and> term_sem i t (rr ta ia t i c f) \\<noteq> term_sem ia ta (rr ta ia t i c f) \\<or> solves_ODE i f c t = solves_ODE ia f c ta\""], ["proof (prove)\nusing this:\n  \\<forall>x0 x1 x2 x3 x4 x5.\n     (\\<exists>v6.\n         Uvariation v6 (x5 0) {RVar x4, DVar x4} \\<and>\n         term_sem x3 x2 v6 \\<noteq> term_sem x1 x0 v6) =\n     (Uvariation (rr x0 x1 x2 x3 x4 x5) (x5 0) {RVar x4, DVar x4} \\<and>\n      term_sem x3 x2 (rr x0 x1 x2 x3 x4 x5) \\<noteq>\n      term_sem x1 x0 (rr x0 x1 x2 x3 x4 x5))\n\ngoal (1 subgoal):\n 1. \\<forall>f c i t ia ta.\n       Uvariation (rr ta ia t i c f) (f 0) {RVar c, DVar c} \\<and>\n       term_sem i t (rr ta ia t i c f) \\<noteq>\n       term_sem ia ta (rr ta ia t i c f) \\<or>\n       solves_ODE i f c t = solves_ODE ia f c ta", "by (meson same_ODE_same_sol)"], ["proof (state)\nthis:\n  \\<forall>f c i t ia ta.\n     Uvariation (rr ta ia t i c f) (f 0) {RVar c, DVar c} \\<and>\n     term_sem i t (rr ta ia t i c f) \\<noteq>\n     term_sem ia ta (rr ta ia t i c f) \\<or>\n     solves_ODE i f c t = solves_ODE ia f c ta\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "have f3: \"Uvariation (F 0) \\<omega> ({RVar x, DVar x} \\<union> U)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation (F 0) \\<omega> ({RVar x, DVar x} \\<union> U)", "using uv"], ["proof (prove)\nusing this:\n  Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\n\ngoal (1 subgoal):\n 1. Uvariation (F 0) \\<omega> ({RVar x, DVar x} \\<union> U)", "by force"], ["proof (state)\nthis:\n  Uvariation (F 0) \\<omega> ({RVar x, DVar x} \\<union> U)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "have f4: \"usubstappt \\<sigma> ({RVar x, DVar x} \\<union> U) \\<theta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> ({RVar x, DVar x} \\<union> U) \\<theta> \\<noteq>\n    undeft", "using subdef"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> ({RVar x, DVar x} \\<union> U) \\<theta> \\<noteq>\n    undeft", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> ({RVar x, DVar x} \\<union> U) \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "{"], ["proof (state)\nthis:\n  usubstappt \\<sigma> ({RVar x, DVar x} \\<union> U) \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "assume \"Uvariation (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x F) \\<omega> ({RVar x, DVar x} \\<union> ({RVar x, DVar x} \\<union> U))\""], ["proof (state)\nthis:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega> ({RVar x, DVar x} \\<union> ({RVar x, DVar x} \\<union> U))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "then"], ["proof (chain)\npicking this:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega> ({RVar x, DVar x} \\<union> ({RVar x, DVar x} \\<union> U))", "have \"\\<not> Uvariation (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x F) (F 0) {RVar x, DVar x} \\<or> term_sem I (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x F) = term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>) (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x F)\""], ["proof (prove)\nusing this:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega> ({RVar x, DVar x} \\<union> ({RVar x, DVar x} \\<union> U))\n\ngoal (1 subgoal):\n 1. \\<not> Uvariation\n            (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n              I x F)\n            (F 0) {RVar x, DVar x} \\<or>\n    term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n       x F) =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n     (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n       x F)", "using f4"], ["proof (prove)\nusing this:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega> ({RVar x, DVar x} \\<union> ({RVar x, DVar x} \\<union> U))\n  usubstappt \\<sigma> ({RVar x, DVar x} \\<union> U) \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<not> Uvariation\n            (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>))\n              I x F)\n            (F 0) {RVar x, DVar x} \\<or>\n    term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n       x F) =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n     (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I\n       x F)", "by (simp add: Un_commute usubst_term)"], ["proof (state)\nthis:\n  \\<not> Uvariation\n          (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>))\n            I x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F) =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "}"], ["proof (state)\nthis:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega>\n   ({RVar x, DVar x} \\<union>\n    ({RVar x, DVar x} \\<union> U)) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>))\n            I x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F) =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>;\n     \\<And>F \\<theta> \\<zeta>.\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n         \\<theta> \\<Longrightarrow>\n        Uvariation (F \\<zeta>) (F 0) {RVar x, DVar x};\n     usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n     undeft;\n     \\<And>F x I \\<theta> J \\<eta>.\n        (\\<And>\\<nu>.\n            Uvariation \\<nu> (F 0) {RVar x, DVar x} \\<Longrightarrow>\n            term_sem I \\<theta> \\<nu> =\n            term_sem J \\<eta> \\<nu>) \\<Longrightarrow>\n        solves_ODE I F x \\<theta> = solves_ODE J F x \\<eta>;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\\<rbrakk>\n    \\<Longrightarrow> solves_ODE I F x\n                       (the (usubstappt \\<sigma>\n                              (U \\<union> {RVar x, DVar x}) \\<theta>))", "then"], ["proof (chain)\npicking this:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega>\n   ({RVar x, DVar x} \\<union>\n    ({RVar x, DVar x} \\<union> U)) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>))\n            I x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F) =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)", "show ?thesis"], ["proof (prove)\nusing this:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega>\n   ({RVar x, DVar x} \\<union>\n    ({RVar x, DVar x} \\<union> U)) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>))\n            I x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F) =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))", "using f3 f2 a1"], ["proof (prove)\nusing this:\n  Uvariation\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n   \\<omega>\n   ({RVar x, DVar x} \\<union>\n    ({RVar x, DVar x} \\<union> U)) \\<Longrightarrow>\n  \\<not> Uvariation\n          (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>))\n            I x F)\n          (F 0) {RVar x, DVar x} \\<or>\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F) =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta>\n   (rr \\<theta> (USubst.adjoint \\<sigma> I \\<omega>)\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) I x\n     F)\n  Uvariation (F 0) \\<omega> ({RVar x, DVar x} \\<union> U)\n  \\<forall>f c i t ia ta.\n     Uvariation (rr ta ia t i c f) (f 0) {RVar c, DVar c} \\<and>\n     term_sem i t (rr ta ia t i c f) \\<noteq>\n     term_sem ia ta (rr ta ia t i c f) \\<or>\n     solves_ODE i f c t = solves_ODE ia f c ta\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))", "by (meson Uvariation_trans)"], ["proof (state)\nthis:\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n   \\<theta> \\<Longrightarrow>\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "from l2r and r2l"], ["proof (chain)\npicking this:\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n          \\<theta>)) \\<Longrightarrow>\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n   \\<theta> \\<Longrightarrow>\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))", "show ?thesis"], ["proof (prove)\nusing this:\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n          \\<theta>)) \\<Longrightarrow>\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x\n   \\<theta> \\<Longrightarrow>\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "by auto"], ["proof (state)\nthis:\n  solves_ODE I F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n  solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubst_ode_ext2:\n  assumes subdef: \"usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta> \\<noteq> undeft\"\n  assumes     uv: \"Uvariation (F(0)) \\<omega> (U\\<union>{RVar x,DVar x})\"\n  shows \"solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) = solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "using usubst_ode_ext subdef uv"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation (?F 0) ?\\<omega> (?U \\<union> {RVar ?x, DVar ?x});\n   usubstappt ?\\<sigma> (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta> \\<noteq>\n   undeft\\<rbrakk>\n  \\<Longrightarrow> solves_ODE ?I ?F ?x\n                     (the (usubstappt ?\\<sigma>\n                            (?U \\<union> {RVar ?x, DVar ?x}) ?\\<theta>)) =\n                    solves_ODE (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?F ?x\n                     ?\\<theta>\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n  Uvariation (F 0) \\<omega> (U \\<union> {RVar x, DVar x})\n\ngoal (1 subgoal):\n 1. solves_ODE I F x\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n    solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>", "by blast"], ["", "paragraph \\<open>Separately Prove the Loop Case of \\<open>usubst_fml_game\\<close>\\<close>"], ["", "lemma union_comm: \"A\\<union>B=B\\<union>A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<union> B = B \\<union> A", "by auto"], ["", "definition loopfp\\<tau>:: \"game \\<Rightarrow> interp \\<Rightarrow> (state set \\<Rightarrow> state set)\"\n  where \"loopfp\\<tau> \\<alpha> I X = lfp(\\<lambda>Z. X \\<union> game_sem I \\<alpha> Z)\""], ["", "lemma usubst_game_loop:\n  assumes  uv: \"Uvariation \\<nu> \\<omega> U\"\n    and  IH\\<alpha>rec: \"\\<And>\\<nu> \\<omega> X. Uvariation \\<nu> \\<omega> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow> snd (usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)\\<noteq>undefg \\<Longrightarrow> \n         (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\"\n  shows \"snd (usubstappp \\<sigma> U (Loop \\<alpha>))\\<noteq>undefg \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Loop \\<alpha>)))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (Loop \\<alpha>) X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "assume def: \"snd (usubstappp \\<sigma> U (Loop \\<alpha>))\\<noteq>undefg\""], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have loopfix: \"\\<And>\\<alpha> I X. loopfp\\<tau> \\<alpha> I X = game_sem I (Loop \\<alpha>) X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> I X. loopfp\\<tau> \\<alpha> I X = game_sem I \\<alpha>** X", "unfolding loopfp\\<tau>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> I X.\n       lfp (\\<lambda>Z. X \\<union> game_sem I \\<alpha> Z) =\n       game_sem I \\<alpha>** X", "using game_sem_loop"], ["proof (prove)\nusing this:\n  game_sem ?I ?\\<alpha>** =\n  (\\<lambda>X. lfp (\\<lambda>Z. X \\<union> game_sem ?I ?\\<alpha> Z))\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> I X.\n       lfp (\\<lambda>Z. X \\<union> game_sem I \\<alpha> Z) =\n       game_sem I \\<alpha>** X", "by metis"], ["proof (state)\nthis:\n  loopfp\\<tau> ?\\<alpha> ?I ?X = game_sem ?I ?\\<alpha>** ?X\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "let ?\\<sigma>\\<alpha>loopoff = \"the (snd (usubstappp \\<sigma> U (Loop \\<alpha>)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "let ?\\<sigma>\\<alpha> = \"the (snd(usubstappp \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))\""], ["proof (state)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "let ?\\<sigma>\\<alpha>loop = \"Loop ?\\<sigma>\\<alpha>\""], ["proof (state)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have loopform: \"?\\<sigma>\\<alpha>loopoff = ?\\<sigma>\\<alpha>loop\""], ["proof (prove)\ngoal (1 subgoal):\n 1. the (snd (usubstappp \\<sigma> U \\<alpha>**)) =\n    the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n               \\<alpha>))**", "using usubstappp_loop"], ["proof (prove)\nusing this:\n  usubstappp ?\\<sigma> ?U ?\\<alpha>** =\n  (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>),\n   Loopo\n    (snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n           ?\\<alpha>)))\n\ngoal (1 subgoal):\n 1. the (snd (usubstappp \\<sigma> U \\<alpha>**)) =\n    the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n               \\<alpha>))**", "by (metis (mono_tags, lifting) Loopo.simps(1) def option.exhaust_sel option.inject snd_conv usubstappp_loop_conv)"], ["proof (state)\nthis:\n  the (snd (usubstappp \\<sigma> U \\<alpha>**)) =\n  the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>))**\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "let ?\\<tau> = \"loopfp\\<tau> ?\\<sigma>\\<alpha>loop I\""], ["proof (state)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "let ?\\<rho> = \"loopfp\\<tau> \\<alpha> (adjoint \\<sigma> I \\<omega>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "let ?V = \"fst(usubstappp \\<sigma> U \\<alpha>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have fact1: \"\\<And>V. snd(usubstappp \\<sigma> V \\<alpha>)\\<noteq>undefg \\<Longrightarrow>  fst(usubstappp \\<sigma> V \\<alpha>) \\<supseteq> BVG(the (snd(usubstappp \\<sigma> V \\<alpha>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>V.\n       snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq>\n       undefg \\<Longrightarrow>\n       BVG (the (snd (usubstappp \\<sigma> V \\<alpha>)))\n       \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>)", "using usubst_taboos"], ["proof (prove)\nusing this:\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<And>V.\n       snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq>\n       undefg \\<Longrightarrow>\n       BVG (the (snd (usubstappp \\<sigma> V \\<alpha>)))\n       \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>)", "by simp"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  BVG (the (snd (usubstappp \\<sigma> ?V \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have fact2: \"\\<And>V W. snd(usubstappp \\<sigma> V \\<alpha>)\\<noteq>undefg \\<Longrightarrow> snd(usubstappp \\<sigma> W \\<alpha>)\\<noteq>undefg \\<Longrightarrow> (fst(usubstappp \\<sigma> V \\<alpha>) \\<supseteq> BVG(the (snd(usubstappp \\<sigma> W \\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>V W.\n       \\<lbrakk>snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> W \\<alpha>) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> BVG (the (snd (usubstappp \\<sigma> W \\<alpha>)))\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>)", "using fact1 usubst_taboos usubstappp_det"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  BVG (the (snd (usubstappp \\<sigma> ?V \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<lbrakk>snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg;\n   snd (usubstappp ?\\<sigma> ?V ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) =\n                    snd (usubstappp ?\\<sigma> ?V ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<And>V W.\n       \\<lbrakk>snd (usubstappp \\<sigma> V \\<alpha>) \\<noteq> undefg;\n        snd (usubstappp \\<sigma> W \\<alpha>) \\<noteq> undefg\\<rbrakk>\n       \\<Longrightarrow> BVG (the (snd (usubstappp \\<sigma> W \\<alpha>)))\n                         \\<subseteq> fst (usubstappp \\<sigma> V \\<alpha>)", "by metis"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?W \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> BVG (the (snd (usubstappp \\<sigma> ?W \\<alpha>)))\n                    \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have VgeqBV: \"?V \\<supseteq> BVG(?\\<sigma>\\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "using usubst_taboos fact2 def usubstappp_loop_conv"], ["proof (prove)\nusing this:\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<lbrakk>snd (usubstappp \\<sigma> ?V \\<alpha>) \\<noteq> undefg;\n   snd (usubstappp \\<sigma> ?W \\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> BVG (the (snd (usubstappp \\<sigma> ?W \\<alpha>)))\n                    \\<subseteq> fst (usubstappp \\<sigma> ?V \\<alpha>)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>**) \\<noteq>\n  undefg \\<Longrightarrow>\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n        ?\\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. BVG (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n    \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)", "by simp"], ["proof (state)\nthis:\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have uvV: \"Vagree \\<nu> \\<omega> (-?V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vagree \\<nu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "using uv"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Vagree \\<nu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "by (metis Uvariation_Vagree Uvariation_mon double_compl usubst_taboos_mon)"], ["proof (state)\nthis:\n  Vagree \\<nu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have \\<tau>eq: \"?\\<tau>(X) = game_sem I ?\\<sigma>\\<alpha>loop X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. loopfp\\<tau>\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))**\n     I X =\n    game_sem I\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))**\n     X", "using loopfix"], ["proof (prove)\nusing this:\n  loopfp\\<tau> ?\\<alpha> ?I ?X = game_sem ?I ?\\<alpha>** ?X\n\ngoal (1 subgoal):\n 1. loopfp\\<tau>\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))**\n     I X =\n    game_sem I\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))**\n     X", "by auto"], ["proof (state)\nthis:\n  loopfp\\<tau>\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))**\n   I X =\n  game_sem I\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))**\n   X\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have \\<rho>eq: \"?\\<rho>(X) = game_sem (adjoint \\<sigma> I \\<omega>) (Loop \\<alpha>) X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X =\n    game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X", "using loopfix"], ["proof (prove)\nusing this:\n  loopfp\\<tau> ?\\<alpha> ?I ?X = game_sem ?I ?\\<alpha>** ?X\n\ngoal (1 subgoal):\n 1. loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X =\n    game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X", "by auto"], ["proof (state)\nthis:\n  loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X =\n  game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "have \\<tau>is\\<rho>: \"selectlike (?\\<tau>(X)) \\<omega> (-?V)= selectlike (?\\<rho>(X)) \\<omega> (-?V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "let ?f = \"\\<lambda>Z. X \\<union> game_sem I ?\\<sigma>\\<alpha> Z\""], ["proof (state)\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "let ?g = \"\\<lambda>Y. X \\<union> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> Y\""], ["proof (state)\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "let ?R = \"\\<lambda>Z Y. selectlike Z \\<omega> (-?V) = selectlike Y \\<omega> (-?V)\""], ["proof (state)\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "have \"?R (lfp ?f) (lfp ?g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. selectlike\n     (lfp (\\<lambda>Z.\n              X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               Z))\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (lfp (\\<lambda>Y.\n              X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y))\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "proof (induction rule: lfp_lockstep_induct[where f=\\<open>?f\\<close> and g=\\<open>?g\\<close> and R=\\<open>?R\\<close>])"], ["proof (state)\ngoal (4 subgoals):\n 1. mono\n     (\\<lambda>Z.\n         X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          Z)\n 2. mono\n     (\\<lambda>Y.\n         X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)\n 3. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 4. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "case monof"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. mono\n     (\\<lambda>Z.\n         X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          Z)\n 2. mono\n     (\\<lambda>Y.\n         X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)\n 3. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 4. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. mono\n     (\\<lambda>Z.\n         X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          Z)", "using game_sem_loop_fixpoint_mono"], ["proof (prove)\nusing this:\n  mono (\\<lambda>Z. ?X \\<union> game_sem ?I ?\\<alpha> Z)\n\ngoal (1 subgoal):\n 1. mono\n     (\\<lambda>Z.\n         X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          Z)", "by simp"], ["proof (state)\nthis:\n  mono\n   (\\<lambda>Z.\n       X \\<union>\n       game_sem I\n        (the (snd (usubstappp \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n        Z)\n\ngoal (3 subgoals):\n 1. mono\n     (\\<lambda>Y.\n         X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)\n 2. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 3. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. mono\n     (\\<lambda>Y.\n         X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)\n 2. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 3. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "case monog"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. mono\n     (\\<lambda>Y.\n         X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)\n 2. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 3. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. mono\n     (\\<lambda>Y.\n         X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)", "using game_sem_loop_fixpoint_mono"], ["proof (prove)\nusing this:\n  mono (\\<lambda>Z. ?X \\<union> game_sem ?I ?\\<alpha> Z)\n\ngoal (1 subgoal):\n 1. mono\n     (\\<lambda>Y.\n         X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)", "by simp"], ["proof (state)\nthis:\n  mono\n   (\\<lambda>Y.\n       X \\<union> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y)\n\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 2. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 2. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "case (step A B)"], ["proof (state)\nthis:\n  A \\<subseteq> lfp (\\<lambda>Z.\n                        X \\<union>\n                        game_sem I\n                         (the (snd (usubstappp \\<sigma>\n                                     (fst (usubstappp \\<sigma> U \\<alpha>))\n                                     \\<alpha>)))\n                         Z)\n  B \\<subseteq> lfp (\\<lambda>Y.\n                        X \\<union>\n                        game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                         \\<alpha> Y)\n  selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 2. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "then"], ["proof (chain)\npicking this:\n  A \\<subseteq> lfp (\\<lambda>Z.\n                        X \\<union>\n                        game_sem I\n                         (the (snd (usubstappp \\<sigma>\n                                     (fst (usubstappp \\<sigma> U \\<alpha>))\n                                     \\<alpha>)))\n                         Z)\n  B \\<subseteq> lfp (\\<lambda>Y.\n                        X \\<union>\n                        game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                         \\<alpha> Y)\n  selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "have IHfp: \"selectlike A \\<omega> (-?V) = selectlike B \\<omega> (-?V)\""], ["proof (prove)\nusing this:\n  A \\<subseteq> lfp (\\<lambda>Z.\n                        X \\<union>\n                        game_sem I\n                         (the (snd (usubstappp \\<sigma>\n                                     (fst (usubstappp \\<sigma> U \\<alpha>))\n                                     \\<alpha>)))\n                         Z)\n  B \\<subseteq> lfp (\\<lambda>Y.\n                        X \\<union>\n                        game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                         \\<alpha> Y)\n  selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "by simp"], ["proof (state)\nthis:\n  selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (2 subgoals):\n 1. \\<And>A B.\n       \\<lbrakk>A \\<subseteq> lfp (\\<lambda>Z.\nX \\<union>\ngame_sem I\n (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n             \\<alpha>)))\n Z);\n        B \\<subseteq> lfp (\\<lambda>Y.\n                              X \\<union>\n                              game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                               \\<alpha> Y);\n        selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n        selectlike B \\<omega>\n         (- fst (usubstappp \\<sigma> U \\<alpha>))\\<rbrakk>\n       \\<Longrightarrow> selectlike\n                          (X \\<union>\n                           game_sem I\n                            (the (snd (usubstappp \\<sigma>\n  (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n                            A)\n                          \\<omega>\n                          (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n                         selectlike\n                          (X \\<union>\n                           game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                            \\<alpha> B)\n                          \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n 2. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "show \"selectlike (X \\<union> game_sem I ?\\<sigma>\\<alpha> A) \\<omega> (-?V) = selectlike (X \\<union> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> B) \\<omega> (-?V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. selectlike\n     (X \\<union>\n      game_sem I\n       (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<alpha>)))\n       A)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (X \\<union> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "proof (rule selectlike_equal_cocond_corule\n          (*[where \\<nu>=\\<omega> and V=\\<open>?V\\<close> and X=\\<open>X \\<union> game_sem I ?\\<sigma>\\<alpha> A\\<close> and Y=\\<open>X \\<union> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> B\\<close>]*))"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "fix \\<mu>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "assume muvar: \"Uvariation \\<mu> \\<omega> ?V\""], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "have forw: \"(\\<mu> \\<in> X \\<union> game_sem I ?\\<sigma>\\<alpha> A) = (\\<mu> \\<in> X \\<union> game_sem I ?\\<sigma>\\<alpha> (selectlike A \\<mu> (-BVG(?\\<sigma>\\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            A) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            (selectlike A \\<mu>\n              (- BVG (the (snd (usubstappp \\<sigma>\n                                 (fst (usubstappp \\<sigma> U \\<alpha>))\n                                 \\<alpha>))))))", "using boundeffect"], ["proof (prove)\nusing this:\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            A) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            (selectlike A \\<mu>\n              (- BVG (the (snd (usubstappp \\<sigma>\n                                 (fst (usubstappp \\<sigma> U \\<alpha>))\n                                 \\<alpha>))))))", "by auto"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          A) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike A \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "have \"(\\<mu> \\<in> X \\<union> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> B) = (\\<mu> \\<in> X \\<union> game_sem I ?\\<sigma>\\<alpha> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            B)", "using IH\\<alpha>rec[OF muvar]"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg \\<Longrightarrow>\n  (\\<mu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          ?X) =\n  (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            B)", "using def usubstappp_loop_conv"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n        \\<alpha>) \\<noteq>\n  undefg \\<Longrightarrow>\n  (\\<mu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          ?X) =\n  (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>**) \\<noteq>\n  undefg \\<Longrightarrow>\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<and>\n  snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n        ?\\<alpha>) \\<noteq>\n  undefg\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            B)", "by auto"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          B)\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "also"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          B)\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "have \"... = (\\<mu> \\<in> X \\<union> game_sem I ?\\<sigma>\\<alpha> (selectlike B \\<mu> (-BVG(?\\<sigma>\\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            B) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            (selectlike B \\<mu>\n              (- BVG (the (snd (usubstappp \\<sigma>\n                                 (fst (usubstappp \\<sigma> U \\<alpha>))\n                                 \\<alpha>))))))", "using boundeffect"], ["proof (prove)\nusing this:\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            B) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            (selectlike B \\<mu>\n              (- BVG (the (snd (usubstappp \\<sigma>\n                                 (fst (usubstappp \\<sigma> U \\<alpha>))\n                                 \\<alpha>))))))", "by simp"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike B \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "finally"], ["proof (chain)\npicking this:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike B \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))", "have backw: \"(\\<mu> \\<in>  X \\<union> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> B) =  (\\<mu> \\<in> X \\<union> game_sem I ?\\<sigma>\\<alpha> (selectlike B \\<mu> (-BVG(?\\<sigma>\\<alpha>))))\""], ["proof (prove)\nusing this:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike B \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            (selectlike B \\<mu>\n              (- BVG (the (snd (usubstappp \\<sigma>\n                                 (fst (usubstappp \\<sigma> U \\<alpha>))\n                                 \\<alpha>))))))", "."], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike B \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "have samewin: \"selectlike A \\<mu> (-BVG(?\\<sigma>\\<alpha>)) = selectlike B \\<mu> (-BVG(?\\<sigma>\\<alpha>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. selectlike A \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>))\n                        \\<alpha>)))) =\n    selectlike B \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))", "using IHfp selectlike_antimon VgeqBV muvar Uvariation_trans selectlike_equal_cocond"], ["proof (prove)\nusing this:\n  selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n  ?V \\<subseteq> ?W \\<Longrightarrow>\n  selectlike ?X ?\\<nu> ?W \\<subseteq> selectlike ?X ?\\<nu> ?V\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  (selectlike ?X ?\\<nu> (- ?V) = selectlike ?Y ?\\<nu> (- ?V)) =\n  (\\<forall>\\<mu>.\n      Uvariation \\<mu> ?\\<nu> ?V \\<longrightarrow>\n      (\\<mu> \\<in> ?X) = (\\<mu> \\<in> ?Y))\n\ngoal (1 subgoal):\n 1. selectlike A \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>))\n                        \\<alpha>)))) =\n    selectlike B \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))", "(*by (smt le_iff_sup)*)"], ["proof (prove)\nusing this:\n  selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n  ?V \\<subseteq> ?W \\<Longrightarrow>\n  selectlike ?X ?\\<nu> ?W \\<subseteq> selectlike ?X ?\\<nu> ?V\n  BVG (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>)))\n  \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>)\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  (selectlike ?X ?\\<nu> (- ?V) = selectlike ?Y ?\\<nu> (- ?V)) =\n  (\\<forall>\\<mu>.\n      Uvariation \\<mu> ?\\<nu> ?V \\<longrightarrow>\n      (\\<mu> \\<in> ?X) = (\\<mu> \\<in> ?Y))\n\ngoal (1 subgoal):\n 1. selectlike A \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>))\n                        \\<alpha>)))) =\n    selectlike B \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>selectlike A \\<omega>\n              (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n             selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>));\n     \\<And>V W X \\<nu>.\n        V \\<subseteq> W \\<Longrightarrow>\n        selectlike X \\<nu> W \\<subseteq> selectlike X \\<nu> V;\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>));\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>X \\<nu> V Y.\n        (selectlike X \\<nu> (- V) = selectlike Y \\<nu> (- V)) =\n        (\\<forall>\\<mu>.\n            Uvariation \\<mu> \\<nu> V \\<longrightarrow>\n            (\\<mu> \\<in> X) = (\\<mu> \\<in> Y))\\<rbrakk>\n    \\<Longrightarrow> selectlike A \\<mu>\n                       (- BVG (the (snd (usubstappp \\<sigma>\n    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))) =\n                      selectlike B \\<mu>\n                       (- BVG (the (snd (usubstappp \\<sigma>\n    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))", "have \"Vagree \\<mu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vagree \\<mu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "by (metis Uvariation_Vagree double_complement muvar)"], ["proof (state)\nthis:\n  Vagree \\<mu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>selectlike A \\<omega>\n              (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n             selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>));\n     \\<And>V W X \\<nu>.\n        V \\<subseteq> W \\<Longrightarrow>\n        selectlike X \\<nu> W \\<subseteq> selectlike X \\<nu> V;\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>));\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>X \\<nu> V Y.\n        (selectlike X \\<nu> (- V) = selectlike Y \\<nu> (- V)) =\n        (\\<forall>\\<mu>.\n            Uvariation \\<mu> \\<nu> V \\<longrightarrow>\n            (\\<mu> \\<in> X) = (\\<mu> \\<in> Y))\\<rbrakk>\n    \\<Longrightarrow> selectlike A \\<mu>\n                       (- BVG (the (snd (usubstappp \\<sigma>\n    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))) =\n                      selectlike B \\<mu>\n                       (- BVG (the (snd (usubstappp \\<sigma>\n    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))", "then"], ["proof (chain)\npicking this:\n  Vagree \\<mu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "have \"selectlike A \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>)) = selectlike B \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>))\""], ["proof (prove)\nusing this:\n  Vagree \\<mu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. selectlike A \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike B \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>))", "using IHfp selectlike_Vagree"], ["proof (prove)\nusing this:\n  Vagree \\<mu> \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n  selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n  Vagree ?\\<nu> ?\\<omega> ?V \\<Longrightarrow>\n  selectlike ?X ?\\<nu> ?V = selectlike ?X ?\\<omega> ?V\n\ngoal (1 subgoal):\n 1. selectlike A \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike B \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>))", "by presburger"], ["proof (state)\nthis:\n  selectlike A \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>selectlike A \\<omega>\n              (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n             selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>));\n     \\<And>V W X \\<nu>.\n        V \\<subseteq> W \\<Longrightarrow>\n        selectlike X \\<nu> W \\<subseteq> selectlike X \\<nu> V;\n     BVG (the (snd (usubstappp \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n     \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>));\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>X \\<nu> V Y.\n        (selectlike X \\<nu> (- V) = selectlike Y \\<nu> (- V)) =\n        (\\<forall>\\<mu>.\n            Uvariation \\<mu> \\<nu> V \\<longrightarrow>\n            (\\<mu> \\<in> X) = (\\<mu> \\<in> Y))\\<rbrakk>\n    \\<Longrightarrow> selectlike A \\<mu>\n                       (- BVG (the (snd (usubstappp \\<sigma>\n    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))) =\n                      selectlike B \\<mu>\n                       (- BVG (the (snd (usubstappp \\<sigma>\n    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))", "then"], ["proof (chain)\npicking this:\n  selectlike A \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>))", "show ?thesis"], ["proof (prove)\nusing this:\n  selectlike A \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike B \\<mu> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. selectlike A \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>))\n                        \\<alpha>)))) =\n    selectlike B \\<mu>\n     (- BVG (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))", "by (metis (no_types) Compl_subset_Compl_iff VgeqBV selectlike_compose sup.absorb_iff2)"], ["proof (state)\nthis:\n  selectlike A \\<mu>\n   (- BVG (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))) =\n  selectlike B \\<mu>\n   (- BVG (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  selectlike A \\<mu>\n   (- BVG (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))) =\n  selectlike B \\<mu>\n   (- BVG (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               A) =\n       (\\<mu>\n        \\<in> X \\<union>\n              game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "from forw and backw"], ["proof (chain)\npicking this:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          A) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike A \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike B \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))", "show \"(\\<mu> \\<in> X \\<union> game_sem I ?\\<sigma>\\<alpha> A) = (\\<mu> \\<in> X \\<union> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> B)\""], ["proof (prove)\nusing this:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          A) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike A \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike B \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            A) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "using samewin"], ["proof (prove)\nusing this:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          A) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike A \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          (selectlike B \\<mu>\n            (- BVG (the (snd (usubstappp \\<sigma>\n                               (fst (usubstappp \\<sigma> U \\<alpha>))\n                               \\<alpha>))))))\n  selectlike A \\<mu>\n   (- BVG (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))) =\n  selectlike B \\<mu>\n   (- BVG (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>))))\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> X \\<union>\n           game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n            A) =\n    (\\<mu>\n     \\<in> X \\<union>\n           game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)", "by auto"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          A) =\n  (\\<mu>\n   \\<in> X \\<union>\n         game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  selectlike\n   (X \\<union>\n    game_sem I\n     (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<alpha>)))\n     A)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike\n   (X \\<union> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> B)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "case (union M)"], ["proof (state)\nthis:\n  \\<forall>(A, B)\\<in>M.\n     selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n     selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>(A, B)\\<in>M.\n          selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n          selectlike B \\<omega>\n           (- fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       selectlike (\\<Union> (fst_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n       selectlike (\\<Union> (snd_proj M)) \\<omega>\n        (- fst (usubstappp \\<sigma> U \\<alpha>))", "then"], ["proof (chain)\npicking this:\n  \\<forall>(A, B)\\<in>M.\n     selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n     selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>(A, B)\\<in>M.\n     selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n     selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. selectlike (\\<Union> (fst_proj M)) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike (\\<Union> (snd_proj M)) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "using selectlike_Sup[where \\<nu>=\\<omega> and V=\\<open>-?V\\<close>] fst_proj_def snd_proj_def"], ["proof (prove)\nusing this:\n  \\<forall>(A, B)\\<in>M.\n     selectlike A \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n     selectlike B \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n  selectlike (\\<Union> ?M) \\<omega>\n   (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  \\<Union>\n   {selectlike X \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) |X.\n    X \\<in> ?M}\n  fst_proj ?M \\<equiv> {A. \\<exists>B. (A, B) \\<in> ?M}\n  snd_proj ?M \\<equiv> {B. \\<exists>A. (A, B) \\<in> ?M}\n\ngoal (1 subgoal):\n 1. selectlike (\\<Union> (fst_proj M)) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike (\\<Union> (snd_proj M)) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "by (simp) (blast)"], ["proof (state)\nthis:\n  selectlike (\\<Union> (fst_proj M)) \\<omega>\n   (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike (\\<Union> (snd_proj M)) \\<omega>\n   (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  selectlike\n   (lfp (\\<lambda>Z.\n            X \\<union>\n            game_sem I\n             (the (snd (usubstappp \\<sigma>\n                         (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n             Z))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike\n   (lfp (\\<lambda>Y.\n            X \\<union>\n            game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "then"], ["proof (chain)\npicking this:\n  selectlike\n   (lfp (\\<lambda>Z.\n            X \\<union>\n            game_sem I\n             (the (snd (usubstappp \\<sigma>\n                         (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n             Z))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike\n   (lfp (\\<lambda>Y.\n            X \\<union>\n            game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))", "show ?thesis"], ["proof (prove)\nusing this:\n  selectlike\n   (lfp (\\<lambda>Z.\n            X \\<union>\n            game_sem I\n             (the (snd (usubstappp \\<sigma>\n                         (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n             Z))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike\n   (lfp (\\<lambda>Y.\n            X \\<union>\n            game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "using \\<tau>eq loopfix loopfp\\<tau>_def"], ["proof (prove)\nusing this:\n  selectlike\n   (lfp (\\<lambda>Z.\n            X \\<union>\n            game_sem I\n             (the (snd (usubstappp \\<sigma>\n                         (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n             Z))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike\n   (lfp (\\<lambda>Y.\n            X \\<union>\n            game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> Y))\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n  loopfp\\<tau>\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))**\n   I X =\n  game_sem I\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))**\n   X\n  loopfp\\<tau> ?\\<alpha> ?I ?X = game_sem ?I ?\\<alpha>** ?X\n  loopfp\\<tau> ?\\<alpha> ?I ?X =\n  lfp (\\<lambda>Z. ?X \\<union> game_sem ?I ?\\<alpha> Z)\n\ngoal (1 subgoal):\n 1. selectlike\n     (loopfp\\<tau>\n       the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<alpha>))**\n       I X)\n     \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n    selectlike\n     (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X) \\<omega>\n     (- fst (usubstappp \\<sigma> U \\<alpha>))", "by auto"], ["proof (state)\nthis:\n  selectlike\n   (loopfp\\<tau>\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))**\n     I X)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  selectlike\n   (loopfp\\<tau>\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))**\n     I X)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "using \\<tau>eq \\<rho>eq \\<tau>is\\<rho> similar_selectlike_mem[OF uvV]"], ["proof (prove)\nusing this:\n  loopfp\\<tau>\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))**\n   I X =\n  game_sem I\n   the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<alpha>))**\n   X\n  loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X =\n  game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X\n  selectlike\n   (loopfp\\<tau>\n     the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                \\<alpha>))**\n     I X)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>)) =\n  selectlike (loopfp\\<tau> \\<alpha> (USubst.adjoint \\<sigma> I \\<omega>) X)\n   \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))\n  (\\<nu>\n   \\<in> selectlike ?X \\<omega> (- fst (usubstappp \\<sigma> U \\<alpha>))) =\n  (\\<nu> \\<in> ?X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "by (metis loopform)"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubst_fml_game: \n  assumes vaouter: \"Uvariation \\<nu> \\<omega> U\"\n  shows \"usubstappf \\<sigma> U \\<phi>\\<noteq>undeff \\<Longrightarrow> (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\"\n    and \"snd (usubstappp \\<sigma> U \\<alpha>)\\<noteq>undefg \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow>\n     (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n     (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) &&&\n    (snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n     (\\<nu>\n      \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n     (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X))", "proof-"], ["proof (state)\ngoal (2 subgoals):\n 1. usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow>\n    (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n    (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n 2. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X)", "show \"usubstappf \\<sigma> U \\<phi>\\<noteq>undeff \\<Longrightarrow> (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\" \n    and \"snd (usubstappp \\<sigma> U \\<alpha>)\\<noteq>undefg \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\" for \\<sigma> \\<phi> \\<alpha>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow>\n     (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n     (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) &&&\n    (snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n     (\\<nu>\n      \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n     (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X))", "using vaouter"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow>\n     (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n     (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) &&&\n    (snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n     (\\<nu>\n      \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n     (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X))", "proof (induction \\<phi> and \\<alpha> arbitrary: \\<nu> \\<omega> and \\<nu> \\<omega> X rule: usubstappfp_induct)"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>\\<sigma> U p \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>x2 x2a \\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n                    SPreds \\<sigma> p = Afml x2a; FVF x2a \\<inter> U = {};\n                    usubstappf (dotsubstt x2) {} x2a \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf (dotsubstt x2) {} x2a))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a);\n        usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 3. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 4. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 5. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 6. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 7. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 8. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 9. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> U\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U\n               (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n         undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> \\<union>\\<union> \\<beta>) X)\nA total of 14 subgoals...", "case (Pred \\<sigma> U p \\<theta>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (14 subgoals):\n 1. \\<And>\\<sigma> U p \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>x2 x2a \\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n                    SPreds \\<sigma> p = Afml x2a; FVF x2a \\<inter> U = {};\n                    usubstappf (dotsubstt x2) {} x2a \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf (dotsubstt x2) {} x2a))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a);\n        usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 3. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 4. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 5. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 6. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 7. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 8. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 9. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> U\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U\n               (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n         undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> \\<union>\\<union> \\<beta>) X)\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U", "have va: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (14 subgoals):\n 1. \\<And>\\<sigma> U p \\<theta> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>x2 x2a \\<nu> \\<omega>.\n                   \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm x2;\n                    SPreds \\<sigma> p = Afml x2a; FVF x2a \\<inter> U = {};\n                    usubstappf (dotsubstt x2) {} x2a \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> {}\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf (dotsubstt x2) {} x2a))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint (dotsubstt x2) I \\<omega>) x2a);\n        usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))\n 2. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 3. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 4. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 5. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 6. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 7. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 8. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 9. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> U\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U\n               (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n         undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> \\<union>\\<union> \\<beta>) X)\nA total of 14 subgoals...", "then"], ["proof (chain)\npicking this:\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "proof (cases \"SPreds \\<sigma> p\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     SPreds \\<sigma> p = undeff\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))\n 2. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "case None"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = undeff\n\ngoal (2 subgoals):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     SPreds \\<sigma> p = undeff\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))\n 2. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "then"], ["proof (chain)\npicking this:\n  SPreds \\<sigma> p = undeff", "show ?thesis"], ["proof (prove)\nusing this:\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "using usubst_term[OF va] adjoint_preds_skip"], ["proof (prove)\nusing this:\n  SPreds \\<sigma> p = undeff\n  usubstappt ?\\<sigma> U ?\\<theta> \\<noteq> undeft \\<Longrightarrow>\n  term_sem ?I (the (usubstappt ?\\<sigma> U ?\\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint ?\\<sigma> ?I \\<omega>) ?\\<theta> \\<nu>\n  SPreds ?\\<sigma> ?p = undeff \\<Longrightarrow>\n  Preds (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?p = Preds ?I ?p\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "(*by (smt Pred.prems(1) fml_sem.simps(1) mem_Collect_eq option.case_eq_if option.sel usubstappf.simps(1))*)"], ["proof (prove)\nusing this:\n  SPreds \\<sigma> p = undeff\n  usubstappt ?\\<sigma> U ?\\<theta> \\<noteq> undeft \\<Longrightarrow>\n  term_sem ?I (the (usubstappt ?\\<sigma> U ?\\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint ?\\<sigma> ?I \\<omega>) ?\\<theta> \\<nu>\n  SPreds ?\\<sigma> ?p = undeff \\<Longrightarrow>\n  Preds (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?p = Preds ?I ?p\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = undeff;\n     \\<And>\\<sigma> \\<theta> I.\n        usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n        term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n        term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n     \\<And>\\<sigma> p I \\<omega>.\n        SPreds \\<sigma> p = undeff \\<Longrightarrow>\n        Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = undeff;\n     \\<And>\\<sigma> \\<theta> I.\n        usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n        term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n        term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n     \\<And>\\<sigma> p I \\<omega>.\n        SPreds \\<sigma> p = undeff \\<Longrightarrow>\n        Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))", "have \"\\<forall>p V c t. usubstappf p V (Pred c t) = (if usubstappt p V t = undeft then undeff else case SPreds p c of None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t))) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt p V t))) {} f else undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>p V c t.\n       usubstappf p V (Pred c t) =\n       (if usubstappt p V t = undeft then undeff\n        else case SPreds p c of\n             None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n             | Some f \\<Rightarrow>\n                 if FVF f \\<inter> V = {}\n                 then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n                 else undeff)", "by (simp add: option.case_eq_if)"], ["proof (state)\nthis:\n  \\<forall>p V c t.\n     usubstappf p V (Pred c t) =\n     (if usubstappt p V t = undeft then undeff\n      else case SPreds p c of\n           None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n           | Some f \\<Rightarrow>\n               if FVF f \\<inter> V = {}\n               then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n               else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = undeff;\n     \\<And>\\<sigma> \\<theta> I.\n        usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n        term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n        term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n     \\<And>\\<sigma> p I \\<omega>.\n        SPreds \\<sigma> p = undeff \\<Longrightarrow>\n        Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))", "then"], ["proof (chain)\npicking this:\n  \\<forall>p V c t.\n     usubstappf p V (Pred c t) =\n     (if usubstappt p V t = undeft then undeff\n      else case SPreds p c of\n           None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n           | Some f \\<Rightarrow>\n               if FVF f \\<inter> V = {}\n               then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n               else undeff)", "have f1: \"\\<forall>p V c t. if usubstappt p V t = undeft then usubstappf p V (Pred c t) = undeff else usubstappf p V (Pred c t) = (case SPreds p c of None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t))) | Some f \\<Rightarrow> if FVF f \\<inter> V = {} then usubstappf (dotsubstt (the (usubstappt p V t))) {} f else undeff)\""], ["proof (prove)\nusing this:\n  \\<forall>p V c t.\n     usubstappf p V (Pred c t) =\n     (if usubstappt p V t = undeft then undeff\n      else case SPreds p c of\n           None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n           | Some f \\<Rightarrow>\n               if FVF f \\<inter> V = {}\n               then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n               else undeff)\n\ngoal (1 subgoal):\n 1. \\<forall>p V c t.\n       if usubstappt p V t = undeft then usubstappf p V (Pred c t) = undeff\n       else usubstappf p V (Pred c t) =\n            (case SPreds p c of\n             None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n             | Some f \\<Rightarrow>\n                 if FVF f \\<inter> V = {}\n                 then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n                 else undeff)", "by presburger"], ["proof (state)\nthis:\n  \\<forall>p V c t.\n     if usubstappt p V t = undeft then usubstappf p V (Pred c t) = undeff\n     else usubstappf p V (Pred c t) =\n          (case SPreds p c of\n           None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n           | Some f \\<Rightarrow>\n               if FVF f \\<inter> V = {}\n               then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n               else undeff)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = undeff;\n     \\<And>\\<sigma> \\<theta> I.\n        usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n        term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n        term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n     \\<And>\\<sigma> p I \\<omega>.\n        SPreds \\<sigma> p = undeff \\<Longrightarrow>\n        Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))", "then"], ["proof (chain)\npicking this:\n  \\<forall>p V c t.\n     if usubstappt p V t = undeft then usubstappf p V (Pred c t) = undeff\n     else usubstappf p V (Pred c t) =\n          (case SPreds p c of\n           None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n           | Some f \\<Rightarrow>\n               if FVF f \\<inter> V = {}\n               then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n               else undeff)", "have \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  \\<forall>p V c t.\n     if usubstappt p V t = undeft then usubstappf p V (Pred c t) = undeff\n     else usubstappf p V (Pred c t) =\n          (case SPreds p c of\n           None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n           | Some f \\<Rightarrow>\n               if FVF f \\<inter> V = {}\n               then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n               else undeff)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by (meson Pred.prems(1))"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = undeff;\n     \\<And>\\<sigma> \\<theta> I.\n        usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n        term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n        term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n     \\<And>\\<sigma> p I \\<omega>.\n        SPreds \\<sigma> p = undeff \\<Longrightarrow>\n        Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "have f2: \"usubstappf \\<sigma> U (Pred p \\<theta>) = Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\""], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))", "using None"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  SPreds \\<sigma> p = undeff\n\ngoal (1 subgoal):\n 1. usubstappf \\<sigma> U (Pred p \\<theta>) =\n    Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))", "by force"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = undeff;\n     \\<And>\\<sigma> \\<theta> I.\n        usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n        term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n        term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n     \\<And>\\<sigma> p I \\<omega>.\n        SPreds \\<sigma> p = undeff \\<Longrightarrow>\n        Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))", "have \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using f1"], ["proof (prove)\nusing this:\n  \\<forall>p V c t.\n     if usubstappt p V t = undeft then usubstappf p V (Pred c t) = undeff\n     else usubstappf p V (Pred c t) =\n          (case SPreds p c of\n           None \\<Rightarrow> Afml (Pred c (the (usubstappt p V t)))\n           | Some f \\<Rightarrow>\n               if FVF f \\<inter> V = {}\n               then usubstappf (dotsubstt (the (usubstappt p V t))) {} f\n               else undeff)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by (meson Pred.prems(1))"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>SPreds \\<sigma> p = undeff;\n     \\<And>\\<sigma> \\<theta> I.\n        usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow>\n        term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n        term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>;\n     \\<And>\\<sigma> p I \\<omega>.\n        SPreds \\<sigma> p = undeff \\<Longrightarrow>\n        Preds (USubst.adjoint \\<sigma> I \\<omega>) p = Preds I p\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U\n                                     (Pred p \\<theta>)))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (Pred p \\<theta>))", "then"], ["proof (chain)\npicking this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "show ?thesis"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "using f2"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  usubstappf \\<sigma> U (Pred p \\<theta>) =\n  Afml (Pred p (the (usubstappt \\<sigma> U \\<theta>)))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "by (simp add: None \\<open>\\<And>\\<theta> \\<sigma> I. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> = term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\\<close> adjoint_preds_skip)"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "case (Some r)"], ["proof (state)\nthis:\n  SPreds \\<sigma> p = Afml r\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "then"], ["proof (chain)\npicking this:\n  SPreds \\<sigma> p = Afml r", "have varcond: \"FVF(r)\\<inter>U={}\""], ["proof (prove)\nusing this:\n  SPreds \\<sigma> p = Afml r\n\ngoal (1 subgoal):\n 1. FVF r \\<inter> U = {}", "using Pred usubstappf_pred usubstappf_pred2 usubstappf_pred_conv"], ["proof (prove)\nusing this:\n  SPreds \\<sigma> p = Afml r\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>SPreds ?\\<sigma> ?p = Afml ?r; FVF ?r \\<inter> ?U = {};\n   usubstappt ?\\<sigma> ?U ?\\<theta> = Aterm ?\\<sigma>\\<theta>\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) =\n                    usubstappf (dotsubstt ?\\<sigma>\\<theta>) {} ?r\n  \\<lbrakk>SPreds ?\\<sigma> ?p = Afml ?r;\n   FVF ?r \\<inter> ?U \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) = undeff\n  usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft \\<and>\n  (SPreds ?\\<sigma> ?p = undeff \\<or>\n   (\\<exists>r. SPreds ?\\<sigma> ?p = Afml r \\<and> FVF r \\<inter> ?U = {}))\n\ngoal (1 subgoal):\n 1. FVF r \\<inter> U = {}", "by meson"], ["proof (state)\nthis:\n  FVF r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "from Pred"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U", "have subdef: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using usubstappf_pred_conv"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  usubstappf ?\\<sigma> ?U (Pred ?p ?\\<theta>) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft \\<and>\n  (SPreds ?\\<sigma> ?p = undeff \\<or>\n   (\\<exists>r. SPreds ?\\<sigma> ?p = Afml r \\<and> FVF r \\<inter> ?U = {}))\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "from Pred and Some"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  SPreds \\<sigma> p = Afml r", "have IHsubsubst: \"\\<And>\\<nu> \\<omega>. Uvariation \\<nu> \\<omega> {} \\<Longrightarrow> (\\<nu> \\<in> fml_sem I (the (usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} r))) = (\\<nu> \\<in> fml_sem (adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<omega>) r)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  SPreds \\<sigma> p = Afml r\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega>.\n       Uvariation \\<nu> \\<omega> {} \\<Longrightarrow>\n       (\\<nu>\n        \\<in> fml_sem I\n               (the (usubstappf\n                      (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                      r))) =\n       (\\<nu>\n        \\<in> fml_sem\n               (USubst.adjoint\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n                 \\<omega>)\n               r)", "using subdef varcond"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappt \\<sigma> U \\<theta> = Aterm ?x2.0;\n   SPreds \\<sigma> p = Afml ?x2a; FVF ?x2a \\<inter> U = {};\n   usubstappf (dotsubstt ?x2.0) {} ?x2a \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> {}\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf (dotsubstt ?x2.0) {} ?x2a))) =\n                    (?\\<nu>\n                     \\<in> fml_sem\n                            (USubst.adjoint (dotsubstt ?x2.0) I ?\\<omega>)\n                            ?x2a)\n  usubstappf \\<sigma> U (Pred p \\<theta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  SPreds \\<sigma> p = Afml r\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  FVF r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega>.\n       Uvariation \\<nu> \\<omega> {} \\<Longrightarrow>\n       (\\<nu>\n        \\<in> fml_sem I\n               (the (usubstappf\n                      (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                      r))) =\n       (\\<nu>\n        \\<in> fml_sem\n               (USubst.adjoint\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n                 \\<omega>)\n               r)", "by fastforce"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> ?\\<omega> {} \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                 r))) =\n  (?\\<nu>\n   \\<in> fml_sem\n          (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n            I ?\\<omega>)\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "let ?d = \"term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "have deq: \"?d = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "by (rule usubst_term[OF va subdef])"], ["proof (state)\nthis:\n  term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "let ?dotIa = \"adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<nu>\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "from Some"], ["proof (chain)\npicking this:\n  SPreds \\<sigma> p = Afml r", "have \"(\\<nu>\\<in>fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) = (\\<nu>\\<in>fml_sem I (the (usubstappf (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} r)))\""], ["proof (prove)\nusing this:\n  SPreds \\<sigma> p = Afml r\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf\n                   (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                   r)))", "using subdef varcond"], ["proof (prove)\nusing this:\n  SPreds \\<sigma> p = Afml r\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  FVF r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf\n                   (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                   r)))", "by force"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} r)))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "also"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {} r)))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "have \"... = (\\<nu>\\<in>fml_sem ?dotIa r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf\n                   (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                   r))) =\n    (\\<nu>\n     \\<in> fml_sem\n            (USubst.adjoint\n              (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<nu>)\n            r)", "using IHsubsubst[where \\<nu>=\\<nu> and \\<omega>=\\<nu>] Uvariation_empty"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<nu> {} \\<Longrightarrow>\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                 r))) =\n  (\\<nu>\n   \\<in> fml_sem\n          (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n            I \\<nu>)\n          r)\n  Uvariation ?\\<nu> ?\\<nu>' {} = (?\\<nu> = ?\\<nu>')\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf\n                   (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                   r))) =\n    (\\<nu>\n     \\<in> fml_sem\n            (USubst.adjoint\n              (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<nu>)\n            r)", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                 r))) =\n  (\\<nu>\n   \\<in> fml_sem\n          (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n            I \\<nu>)\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf\n                 (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) {}\n                 r))) =\n  (\\<nu>\n   \\<in> fml_sem\n          (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n            I \\<nu>)\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "have \"... = (\\<nu>\\<in>fml_sem (repc I dotid ?d) r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem\n            (USubst.adjoint\n              (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<nu>)\n            r) =\n    (\\<nu>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r)", "using adjoint_dotsubstt[where \\<theta>=\\<open>the (usubstappt \\<sigma> U \\<theta>)\\<close> and I=I and \\<omega>=\\<nu>]"], ["proof (prove)\nusing this:\n  USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I\n   \\<nu> =\n  repc I dotid (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem\n            (USubst.adjoint\n              (dotsubstt (the (usubstappt \\<sigma> U \\<theta>))) I \\<nu>)\n            r) =\n    (\\<nu>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r)", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem\n          (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n            I \\<nu>)\n          r) =\n  (\\<nu>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem\n          (USubst.adjoint (dotsubstt (the (usubstappt \\<sigma> U \\<theta>)))\n            I \\<nu>)\n          r) =\n  (\\<nu>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "have \"... = (\\<omega>\\<in>fml_sem (repc I dotid ?d) r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r) =\n    (\\<omega>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r)", "using coincidence_formula_cor[where \\<omega>=\\<nu> and \\<omega>'=\\<omega> and U=U and \\<phi>=r and I=\\<open>repc I dotid ?d\\<close>] va varcond"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation \\<nu> \\<omega> U; FVF r \\<inter> U = {}\\<rbrakk>\n  \\<Longrightarrow> (\\<nu>\n                     \\<in> fml_sem\n                            (repc I dotid\n                              (term_sem I\n                                (the (usubstappt \\<sigma> U \\<theta>))\n                                \\<nu>))\n                            r) =\n                    (\\<omega>\n                     \\<in> fml_sem\n                            (repc I dotid\n                              (term_sem I\n                                (the (usubstappt \\<sigma> U \\<theta>))\n                                \\<nu>))\n                            r)\n  Uvariation \\<nu> \\<omega> U\n  FVF r \\<inter> U = {}\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r) =\n    (\\<omega>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r)", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r) =\n  (\\<omega>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "(*I.^d\\<omega>\\<lbrakk>\\<sigma>f(\\<cdot>)\\<rbrakk>  also have \"... = term_sem ?dotIa r \\<omega>\" using coincidence_term_cor[of \\<nu> \\<omega> U r ?dotIa] uv varcond by simp*)"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r) =\n  (\\<omega>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r) =\n  (\\<omega>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "have \"... = (Preds (adjoint \\<sigma> I \\<omega>) p)(?d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<omega>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r) =\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)", "using adjoint_preds_match Some"], ["proof (prove)\nusing this:\n  SPreds ?\\<sigma> ?p = Afml ?r \\<Longrightarrow>\n  Preds (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?p =\n  (\\<lambda>d. ?\\<omega> \\<in> fml_sem (repc ?I dotid d) ?r)\n  SPreds \\<sigma> p = Afml r\n\ngoal (1 subgoal):\n 1. (\\<omega>\n     \\<in> fml_sem\n            (repc I dotid\n              (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n            r) =\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)", "by simp"], ["proof (state)\nthis:\n  (\\<omega>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r) =\n  Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "also"], ["proof (state)\nthis:\n  (\\<omega>\n   \\<in> fml_sem\n          (repc I dotid\n            (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>))\n          r) =\n  Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "have \"... = (Preds (adjoint \\<sigma> I \\<omega>) p)(term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)", "using deq"], ["proof (prove)\nusing this:\n  term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n\ngoal (1 subgoal):\n 1. Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n     (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n    Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)", "by simp"], ["proof (state)\nthis:\n  Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n  Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "also"], ["proof (state)\nthis:\n  Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n   (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) =\n  Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "have \"... = (\\<nu>\\<in>fml_sem (adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "by simp"], ["proof (state)\nthis:\n  Preds (USubst.adjoint \\<sigma> I \\<omega>) p\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n        SPreds \\<sigma> p = Afml a\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Pred p \\<theta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Pred p \\<theta>))", "finally"], ["proof (chain)\npicking this:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "show \"(\\<nu>\\<in>fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) = (\\<nu>\\<in>fml_sem (adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\""], ["proof (prove)\nusing this:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))", "."], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Pred p \\<theta>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Pred p \\<theta>))\n\ngoal (13 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 3. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 4. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 5. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 6. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 8. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> (fst x) \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> ;; \\<beta>) X)\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 3. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 4. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 5. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 6. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 8. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> (fst x) \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> ;; \\<beta>) X)\nA total of 13 subgoals...", "case (Geq \\<sigma> U \\<theta> \\<eta>)"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (13 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 3. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 4. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 5. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 6. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 8. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> (fst x) \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> ;; \\<beta>) X)\nA total of 13 subgoals...", "(* then show ?case using usubst_term usubstappf_geq usubstappf_geq_conv\n          by (smt fml_sem.simps(2) mem_Collect_eq option.sel)*)"], ["proof (state)\nthis:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (13 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 3. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 4. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 5. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 6. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 8. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> (fst x) \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> ;; \\<beta>) X)\nA total of 13 subgoals...", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U", "have def1: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using usubstappf_geq_conv"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  usubstappf ?\\<sigma> ?U (Geq ?\\<theta> ?\\<eta>) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft \\<and>\n  usubstappt ?\\<sigma> ?U ?\\<eta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by simp"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (13 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 3. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 4. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 5. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 6. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 8. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> (fst x) \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> ;; \\<beta>) X)\nA total of 13 subgoals...", "moreover"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (13 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 3. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 4. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 5. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 6. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 8. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> (fst x) \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> ;; \\<beta>) X)\nA total of 13 subgoals...", "have def2: \"usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<eta> \\<noteq> undeft", "using usubstappf_geq_conv Geq.prems(1)"], ["proof (prove)\nusing this:\n  usubstappf ?\\<sigma> ?U (Geq ?\\<theta> ?\\<eta>) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft \\<and>\n  usubstappt ?\\<sigma> ?U ?\\<eta> \\<noteq> undeft\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<eta> \\<noteq> undeft", "by blast"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<eta> \\<noteq> undeft\n\ngoal (13 subgoals):\n 1. \\<And>\\<sigma> U \\<theta> \\<eta> \\<nu> \\<omega>.\n       \\<lbrakk>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Geq \\<theta> \\<eta>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Geq \\<theta> \\<eta>))\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 3. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 4. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 5. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 6. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 8. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n             snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> (fst x) \\<beta>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n         snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (\\<alpha> ;; \\<beta>) X)\nA total of 13 subgoals...", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Geq \\<theta> \\<eta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (Geq \\<theta> \\<eta>))", "using usubst_term[OF \\<open>Uvariation \\<nu> \\<omega> U\\<close>, OF def1] usubst_term[OF \\<open>Uvariation \\<nu> \\<omega> U\\<close>,OF def2] usubstappf_geqr[OF \\<open>usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) \\<noteq> undeff\\<close>]"], ["proof (prove)\nusing this:\n  term_sem ?I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> ?I \\<omega>) \\<theta> \\<nu>\n  term_sem ?I (the (usubstappt \\<sigma> U \\<eta>)) \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> ?I \\<omega>) \\<eta> \\<nu>\n  usubstappf \\<sigma> U (Geq \\<theta> \\<eta>) =\n  Afml\n   (Geq (the (usubstappt \\<sigma> U \\<theta>))\n     (the (usubstappt \\<sigma> U \\<eta>)))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Geq \\<theta> \\<eta>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (Geq \\<theta> \\<eta>))", "by force"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I (the (usubstappf \\<sigma> U (Geq \\<theta> \\<eta>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Geq \\<theta> \\<eta>))\n\ngoal (12 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 2. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 3. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 4. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 5. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 6. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 7. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n             snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> x\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> x \\<alpha>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U \\<alpha>**)))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  \\<alpha>** X)\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 2. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 3. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 4. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 5. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 6. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 7. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n             snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> x\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> x \\<alpha>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U \\<alpha>**)))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  \\<alpha>** X)\nA total of 12 subgoals...", "case (Not \\<sigma> U \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (12 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (! \\<phi>))\n 2. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 3. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 4. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 5. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 6. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 7. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         \\<And>x \\<nu> \\<omega> X.\n            \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n             snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n             Uvariation \\<nu> \\<omega> x\\<rbrakk>\n            \\<Longrightarrow> (\\<nu>\n                               \\<in> game_sem I\n(the (snd (usubstappp \\<sigma> x \\<alpha>))) X) =\n                              (\\<nu>\n                               \\<in> game_sem\n(USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U \\<alpha>**)))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  \\<alpha>** X)\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n    (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (! \\<phi>))", "using Noto_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (! \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  (Noto ?\\<phi> = undeff) = (?\\<phi> = undeff)\n\ngoal (1 subgoal):\n 1. (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n    (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (! \\<phi>))", "by auto"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (! \\<phi>)))) =\n  (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (! \\<phi>))\n\ngoal (11 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 2. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 3. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 4. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 6. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U \\<alpha>^d)))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  \\<alpha>^d X)\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 2. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 3. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 4. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 6. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U \\<alpha>^d)))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  \\<alpha>^d X)\nA total of 11 subgoals...", "case (And \\<sigma> U \\<phi> \\<psi>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<psi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<psi>)\n  usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (11 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<psi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        \\<And>\\<nu> \\<omega>.\n           \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the (usubstappf \\<sigma> U \\<psi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<psi>);\n        usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<phi> && \\<psi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<phi> && \\<psi>))\n 2. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 3. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 4. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 6. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 10. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n        \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                    \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                             undefg;\n                     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                    \\<Longrightarrow> (\\<nu>\n \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n(\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n         snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U \\<alpha>^d)))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  \\<alpha>^d X)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<psi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<psi>)\n  usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<psi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<psi>)\n  usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (\\<phi> && \\<psi>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<phi> && \\<psi>))", "using Ando_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  \\<lbrakk>usubstappf \\<sigma> U \\<psi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<psi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<psi>)\n  usubstappf \\<sigma> U (\\<phi> && \\<psi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n  (Ando ?\\<phi> ?\\<psi> = undeff) =\n  (?\\<phi> = undeff \\<or> ?\\<psi> = undeff)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (\\<phi> && \\<psi>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<phi> && \\<psi>))", "by auto"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (\\<phi> && \\<psi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<phi> && \\<psi>))\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "case (Exists \\<sigma> U x \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x}) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (U \\<union> {x})\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (U \\<union> {x})\n                                   \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x}) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (U \\<union> {x})\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (U \\<union> {x})\n                                   \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U", "have IH: \"\\<And>\\<nu> \\<omega>. Uvariation \\<nu> \\<omega> (U\\<union>{x}) \\<Longrightarrow> (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> (U\\<union>{x}) \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x}) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (U \\<union> {x})\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (U \\<union> {x})\n                                   \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega>.\n       Uvariation \\<nu> \\<omega> (U \\<union> {x}) \\<Longrightarrow>\n       (\\<nu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n       (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "by force"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> ?\\<omega> (U \\<union> {x}) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<phi>)\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "from Exists"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x}) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (U \\<union> {x})\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (U \\<union> {x})\n                                   \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U", "have \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x}) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (U \\<union> {x})\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (U \\<union> {x})\n                                   \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "(*from Exists have subdef: \"usubstappt \\<sigma> (U\\<union>{x}) \\<theta> \\<noteq> undeft\" by auto*)"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  Uvariation \\<nu> \\<omega> U", "have Uvar: \"\\<And>d. Uvariation (repv \\<nu> x d) \\<omega> (U\\<union>{x})\""], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>d. Uvariation (repv \\<nu> x d) \\<omega> (U \\<union> {x})", "using Uvariation_repv Uvariation_trans Uvariation_sym"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n  Uvariation ?\\<omega> (repv ?\\<omega> ?x ?d) {?x}\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  Uvariation ?\\<omega> ?\\<nu> ?U = Uvariation ?\\<nu> ?\\<omega> ?U\n\ngoal (1 subgoal):\n 1. \\<And>d. Uvariation (repv \\<nu> x d) \\<omega> (U \\<union> {x})", "using Exists.prems(2) Uvariation_def"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U\n  Uvariation ?\\<omega> (repv ?\\<omega> ?x ?d) {?x}\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  Uvariation ?\\<omega> ?\\<nu> ?U = Uvariation ?\\<nu> ?\\<omega> ?U\n  Uvariation \\<nu> \\<omega> U\n  Uvariation ?\\<nu> ?\\<nu>' ?U \\<equiv>\n  \\<forall>i. i \\<notin> ?U \\<longrightarrow> ?\\<nu> i = ?\\<nu>' i\n\ngoal (1 subgoal):\n 1. \\<And>d. Uvariation (repv \\<nu> x d) \\<omega> (U \\<union> {x})", "by auto"], ["proof (state)\nthis:\n  Uvariation (repv \\<nu> x ?d) \\<omega> (U \\<union> {x})\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "have \"(\\<nu>\\<in>fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) = (\\<nu>\\<in>fml_sem I (Exists x (the (usubstappf \\<sigma> (U\\<union>{x}) \\<phi>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n    (\\<nu>\n     \\<in> fml_sem I\n            (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))))", "using usubstappf_exists Exists.prems(1)"], ["proof (prove)\nusing this:\n  usubstappf ?\\<sigma> ?U (Exists ?x ?\\<phi>) \\<noteq>\n  undeff \\<Longrightarrow>\n  usubstappf ?\\<sigma> ?U (Exists ?x ?\\<phi>) =\n  Afml (Exists ?x (the (usubstappf ?\\<sigma> (?U \\<union> {?x}) ?\\<phi>)))\n  usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n    (\\<nu>\n     \\<in> fml_sem I\n            (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))))", "by fastforce"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))))\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))))\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "have \"... = (\\<exists>d. (repv \\<nu> x d)\\<in>fml_sem I (the (usubstappf \\<sigma> (U\\<union>{x}) \\<phi>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (Exists x\n              (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))) =\n    (\\<exists>d.\n        repv \\<nu> x d\n        \\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))) =\n  (\\<exists>d.\n      repv \\<nu> x d\n      \\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (Exists x (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))) =\n  (\\<exists>d.\n      repv \\<nu> x d\n      \\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>)))\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "have \"... = (\\<exists>d. (repv \\<nu> x d)\\<in>fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d.\n        repv \\<nu> x d\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n    (\\<exists>d.\n        repv \\<nu> x d\n        \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "using IH Uvar"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> ?\\<omega> (U \\<union> {x}) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<phi>)\n  Uvariation (repv \\<nu> x ?d) \\<omega> (U \\<union> {x})\n\ngoal (1 subgoal):\n 1. (\\<exists>d.\n        repv \\<nu> x d\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n    (\\<exists>d.\n        repv \\<nu> x d\n        \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "by auto"], ["proof (state)\nthis:\n  (\\<exists>d.\n      repv \\<nu> x d\n      \\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n  (\\<exists>d.\n      repv \\<nu> x d\n      \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<exists>d.\n      repv \\<nu> x d\n      \\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n  (\\<exists>d.\n      repv \\<nu> x d\n      \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "have \"... = (\\<nu>\\<in>fml_sem (adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>d.\n        repv \\<nu> x d\n        \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))", "by auto"], ["proof (state)\nthis:\n  (\\<exists>d.\n      repv \\<nu> x d\n      \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "finally"], ["proof (chain)\npicking this:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))", "have \"(\\<nu>\\<in>fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =  (\\<nu>\\<in>fml_sem (adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))\""], ["proof (prove)\nusing this:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))", "."], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))\n\ngoal (10 subgoals):\n 1. \\<And>\\<sigma> U x \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> (U \\<union> {x})\n                             \\<phi> \\<noteq>\n                            undeff;\n                    Uvariation \\<nu> \\<omega> (U \\<union> {x})\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> (U \\<union> {x}) \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        usubstappf \\<sigma> U (Exists x \\<phi>) \\<noteq> undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (Exists x \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Exists x \\<phi>))\n 2. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 3. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 5. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 9. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 10. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n        \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                 undefg;\n         Uvariation \\<nu> \\<omega> U\\<rbrakk>\n        \\<Longrightarrow> (\\<nu>\n                           \\<in> game_sem I\n                                  (the (snd\n   (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                  X) =\n                          (\\<nu>\n                           \\<in> game_sem\n                                  (USubst.adjoint \\<sigma> I \\<omega>)\n                                  (ODE x \\<theta>) X)", "from this"], ["proof (chain)\npicking this:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))", "show ?case"], ["proof (prove)\nusing this:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))", "by simp"], ["proof (state)\nthis:\n  (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Exists x \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) (Exists x \\<phi>))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Diamond \\<sigma> U \\<alpha> \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   usubstappf \\<sigma> (fst ?x) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (fst ?x) \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n  undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "let ?V = \"fst(usubstappp \\<sigma> U \\<alpha>)\""], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Diamond"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   usubstappf \\<sigma> (fst ?x) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (fst ?x) \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n  undeff\n  Uvariation \\<nu> \\<omega> U", "have IH\\<alpha>: \"\\<And>X. Uvariation \\<nu> \\<omega> U \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   usubstappf \\<sigma> (fst ?x) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (fst ?x) \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n  undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n       (\\<nu>\n        \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n       (\\<nu>\n        \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X)", "by fastforce"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Diamond"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   usubstappf \\<sigma> (fst ?x) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (fst ?x) \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n  undeff\n  Uvariation \\<nu> \\<omega> U", "have IH\\<phi>: \"\\<And>\\<nu> \\<omega>. Uvariation \\<nu> \\<omega> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow> (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   usubstappf \\<sigma> (fst ?x) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (fst ?x) \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n  undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega>.\n       Uvariation \\<nu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<nu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) =\n       (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "by (simp add: Diamondo_undef)"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> ?\\<omega>\n   (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<phi>)\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Diamond"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   usubstappf \\<sigma> (fst ?x) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (fst ?x) \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n  undeff\n  Uvariation \\<nu> \\<omega> U", "have uv: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   usubstappf \\<sigma> (fst ?x) \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I\n                            (the (usubstappf \\<sigma> (fst ?x) \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n  undeff\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"(\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Diamond \\<alpha> \\<phi>)))) = (\\<nu> \\<in> fml_sem I (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha> in Diamond (the (snd V\\<alpha>)) (the (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf \\<sigma> U\n                   (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n    (\\<nu>\n     \\<in> fml_sem I\n            (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n             in \\<langle> the (snd V\\<alpha>) \\<rangle> the\n                   (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>)))", "by (metis Diamond.prems(1) Diamondo.elims option.sel usubstappf.simps(6))"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n           in \\<langle> the (snd V\\<alpha>) \\<rangle> the\n                 (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>)))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n           in \\<langle> the (snd V\\<alpha>) \\<rangle> the\n                 (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>)))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> fml_sem I (Diamond (the (snd(usubstappp \\<sigma> U \\<alpha>))) (the (usubstappf \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<phi>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n             in \\<langle> the (snd V\\<alpha>) \\<rangle> the\n                   (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>))) =\n    (\\<nu>\n     \\<in> fml_sem I\n            (\\<langle> the (snd (usubstappp \\<sigma> U\n                                  \\<alpha>)) \\<rangle> the\n                  (usubstappf \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n           in \\<langle> the (snd V\\<alpha>) \\<rangle> the\n                 (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (\\<langle> the (snd (usubstappp \\<sigma> U\n                                \\<alpha>)) \\<rangle> the\n                (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<phi>)))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (let V\\<alpha> = usubstappp \\<sigma> U \\<alpha>\n           in \\<langle> the (snd V\\<alpha>) \\<rangle> the\n                 (usubstappf \\<sigma> (fst V\\<alpha>) \\<phi>))) =\n  (\\<nu>\n   \\<in> fml_sem I\n          (\\<langle> the (snd (usubstappp \\<sigma> U\n                                \\<alpha>)) \\<rangle> the\n                (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<phi>)))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (fml_sem I (the (usubstappf \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<phi>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (\\<langle> the (snd (usubstappp \\<sigma> U\n                                  \\<alpha>)) \\<rangle> the\n                  (usubstappf \\<sigma>\n                    (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (\\<langle> the (snd (usubstappp \\<sigma> U\n                                \\<alpha>)) \\<rangle> the\n                (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<phi>))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (fml_sem I\n            (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<phi>))))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (\\<langle> the (snd (usubstappp \\<sigma> U\n                                \\<alpha>)) \\<rangle> the\n                (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                  \\<phi>))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (fml_sem I\n            (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<phi>))))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike (fml_sem I (the (usubstappf \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) \\<nu> (-BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (fml_sem I\n                (the (usubstappf \\<sigma>\n                       (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "using boundeffect"], ["proof (prove)\nusing this:\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (fml_sem I\n                (the (usubstappf \\<sigma>\n                       (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (fml_sem I\n            (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<phi>)))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "finally"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "have forw: \"(\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Diamond \\<alpha> \\<phi>)))) = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike (fml_sem I (the (usubstappf \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) \\<nu> (-BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf \\<sigma> U\n                   (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (fml_sem I\n                (the (usubstappf \\<sigma>\n                       (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "."], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"(\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) (Diamond \\<alpha> \\<phi>)) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> (fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n            (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n            (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>))", "using IH\\<alpha> uv"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n            (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike (fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu> (-BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu>\n              (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "using boundeffect"], ["proof (prove)\nusing this:\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu>\n              (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "finally"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "have backw: \"(\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) (Diamond \\<alpha> \\<phi>)) = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike (fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu> (-BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu>\n              (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "."], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have samewin: \"selectlike (fml_sem I (the (usubstappf \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) \\<nu> (-BVG(the (snd(usubstappp \\<sigma> U \\<alpha>)))) = selectlike (fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu> (-BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. selectlike\n     (fml_sem I\n       (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n              \\<phi>)))\n     \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) =\n    selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu>\n     (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))", "proof (rule selectlike_equal_cocond_corule)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) =\n       (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "fix \\<mu>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) =\n       (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "assume muvar: \"Uvariation \\<mu> \\<nu> (BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))\""], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) =\n       (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "have U\\<mu>\\<omega>: \"Uvariation \\<mu> \\<omega> ?V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "using muvar uv Uvariation_trans union_comm usubst_taboos Uvariation_mon"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  ?A \\<union> ?B = ?B \\<union> ?A\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "(*by (smt Diamond.prems(1) Diamondo.simps(2) usubstappf.simps(6))*)"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  ?A \\<union> ?B = ?B \\<union> ?A\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<mu> \\<nu>\n              (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))));\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>A B. A \\<union> B = B \\<union> A;\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U V \\<omega> \\<nu>.\n        \\<lbrakk>U \\<subseteq> V; Uvariation \\<omega> \\<nu> U\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<nu> V\\<rbrakk>\n    \\<Longrightarrow> Uvariation \\<mu> \\<omega>\n                       (fst (usubstappp \\<sigma> U \\<alpha>))", "have U\\<mu>\\<nu>: \"Uvariation \\<mu> \\<nu> (BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<nu>\n     (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))", "by (rule muvar)"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<mu> \\<nu>\n              (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))));\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>A B. A \\<union> B = B \\<union> A;\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U V \\<omega> \\<nu>.\n        \\<lbrakk>U \\<subseteq> V; Uvariation \\<omega> \\<nu> U\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<nu> V\\<rbrakk>\n    \\<Longrightarrow> Uvariation \\<mu> \\<omega>\n                       (fst (usubstappp \\<sigma> U \\<alpha>))", "have U\\<nu>\\<omega>: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by (rule uv)"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<mu> \\<nu>\n              (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))));\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>A B. A \\<union> B = B \\<union> A;\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U V \\<omega> \\<nu>.\n        \\<lbrakk>U \\<subseteq> V; Uvariation \\<omega> \\<nu> U\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<nu> V\\<rbrakk>\n    \\<Longrightarrow> Uvariation \\<mu> \\<omega>\n                       (fst (usubstappp \\<sigma> U \\<alpha>))", "have \"Uvariation \\<mu> \\<omega> (U \\<union> BVG(the (snd(usubstappp \\<sigma> U \\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega>\n     (U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))", "using Uvariation_trans[OF U\\<mu>\\<nu> U\\<nu>\\<omega>] union_comm"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<omega>\n   (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union> U)\n  ?A \\<union> ?B = ?B \\<union> ?A\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega>\n     (U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))", "by (rule HOL.back_subst)"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega>\n   (U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<mu> \\<nu>\n              (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))));\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>A B. A \\<union> B = B \\<union> A;\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U V \\<omega> \\<nu>.\n        \\<lbrakk>U \\<subseteq> V; Uvariation \\<omega> \\<nu> U\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<nu> V\\<rbrakk>\n    \\<Longrightarrow> Uvariation \\<mu> \\<omega>\n                       (fst (usubstappp \\<sigma> U \\<alpha>))", "thus ?thesis"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<omega>\n   (U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "using usubst_taboos Uvariation_mon"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<omega>\n   (U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "by (metis (mono_tags, lifting) Diamond.prems(1) Diamondo_undef Uvariation_mon usubst_taboos usubstappf.simps(6))"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) =\n       (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "have \"(\\<mu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>) = (\\<mu> \\<in> fml_sem I (the (usubstappf \\<sigma> (fst(usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n    (\\<mu>\n     \\<in> fml_sem I\n            (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<phi>)))", "using muvar Uvariation_trans uv IH\\<phi> boundeffect Uvariation_mon usubst_taboos U\\<mu>\\<omega>"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  Uvariation \\<nu> \\<omega> U\n  Uvariation ?\\<nu> ?\\<omega>\n   (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<phi>)\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n    (\\<mu>\n     \\<in> fml_sem I\n            (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<phi>)))", "by auto"], ["proof (state)\nthis:\n  (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n  (\\<mu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<phi>)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) =\n       (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "then"], ["proof (chain)\npicking this:\n  (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n  (\\<mu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<phi>)))", "show \"(\\<mu> \\<in> fml_sem I (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>))) = (\\<mu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\""], ["proof (prove)\nusing this:\n  (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n  (\\<mu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<phi>)))\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> fml_sem I\n            (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<phi>))) =\n    (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "by simp"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<phi>))) =\n  (\\<mu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  selectlike\n   (fml_sem I\n     (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n            \\<phi>)))\n   \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) =\n  selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu>\n   (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (9 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<phi> \\<nu> \\<omega>.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega>.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            usubstappf \\<sigma> (fst x) \\<phi> \\<noteq> undeff;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> fml_sem I\n                                     (the\n (usubstappf \\<sigma> (fst x) \\<phi>))) =\n                             (\\<nu>\n                              \\<in> fml_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<phi>);\n        usubstappf \\<sigma> U (\\<langle> \\<alpha> \\<rangle> \\<phi>) \\<noteq>\n        undeff;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> fml_sem I\n                                 (the (usubstappf \\<sigma> U\n  (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n                         (\\<nu>\n                          \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n 2. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 4. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 8. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 9. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from forw and backw"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "show \"(\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U (Diamond \\<alpha> \\<phi>)))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) (Diamond \\<alpha> \\<phi>))\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf \\<sigma> U\n                   (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<langle> \\<alpha> \\<rangle> \\<phi>))", "using samewin"], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (fml_sem I\n              (the (usubstappf \\<sigma>\n                     (fst (usubstappp \\<sigma> U \\<alpha>)) \\<phi>)))\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  selectlike\n   (fml_sem I\n     (the (usubstappf \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n            \\<phi>)))\n   \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) =\n  selectlike (fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) \\<nu>\n   (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> fml_sem I\n            (the (usubstappf \\<sigma> U\n                   (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n    (\\<nu>\n     \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<langle> \\<alpha> \\<rangle> \\<phi>))", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> fml_sem I\n          (the (usubstappf \\<sigma> U\n                 (\\<langle> \\<alpha> \\<rangle> \\<phi>)))) =\n  (\\<nu>\n   \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<langle> \\<alpha> \\<rangle> \\<phi>))\n\ngoal (8 subgoals):\n 1. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 3. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 8. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 3. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 8. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "(* games *)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 3. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 8. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Game \\<sigma> U a)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (8 subgoals):\n 1. \\<And>\\<sigma> U a \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (Game a))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (Game a) X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 3. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 7. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 8. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Game a)))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (Game a) X)", "using adjoint_games usubstappp_game"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (Game a)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n  Games (USubst.adjoint ?\\<sigma> ?I ?\\<omega>) ?a =\n  (case SGames ?\\<sigma> ?a of None \\<Rightarrow> Games ?I ?a\n   | Some r \\<Rightarrow> game_sem ?I r)\n  SGames ?\\<sigma> ?a = Agame ?r \\<Longrightarrow>\n  usubstappp ?\\<sigma> ?U (Game ?a) = (?U \\<union> BVG ?r, Agame ?r)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Game a)))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (Game a) X)", "by (cases \"SGames \\<sigma> a\") auto"], ["proof (state)\nthis:\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Game a)))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (Game a) X)\n\ngoal (7 subgoals):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Assign \\<sigma> U x \\<theta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (7 subgoals):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (x := \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (x := \\<theta>) X)\n 2. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 6. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 7. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "using usubst_term Assigno_undef"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n  (Assigno ?x ?\\<theta> = undefg) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "(*by (smt Assigno.elims game_sem.simps(2) mem_Collect_eq option.sel snd_pair usubstappp.simps(2))*)"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n  (Assigno ?x ?\\<theta> = undefg) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "(*sledgehammer*)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "have f1: \"usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "using Assign.prems(1) Assigno_undef"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg\n  (Assigno ?x ?\\<theta> = undefg) = (?\\<theta> = undeft)\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> U \\<theta> \\<noteq> undeft", "by auto"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "{"], ["proof (state)\nthis:\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "assume \"repv \\<nu> x (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) \\<in> X\""], ["proof (state)\nthis:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X", "have \"repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) \\<in> X\""], ["proof (prove)\nusing this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X\n\ngoal (1 subgoal):\n 1. repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n    \\<in> X", "using f1 Assign.prems(2) usubst_term"], ["proof (prove)\nusing this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n    \\<in> X", "by auto"], ["proof (state)\nthis:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<in> X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<in> X", "have \"repv \\<nu> x (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) \\<in> X \\<longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) = (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\""], ["proof (prove)\nusing this:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<in> X\n\ngoal (1 subgoal):\n 1. repv \\<nu> x\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n    \\<in> X \\<longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "using f1"], ["proof (prove)\nusing this:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<in> X\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. repv \\<nu> x\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n    \\<in> X \\<longrightarrow>\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "by force"], ["proof (state)\nthis:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "}"], ["proof (state)\nthis:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<Longrightarrow>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "moreover"], ["proof (state)\nthis:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<Longrightarrow>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "{"], ["proof (state)\nthis:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<Longrightarrow>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "assume \"repv \\<nu> x (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) \\<notin> X\""], ["proof (state)\nthis:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X", "have \"repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>) \\<notin> X \\<and> repv \\<nu> x (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>) \\<notin> X\""], ["proof (prove)\nusing this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X\n\ngoal (1 subgoal):\n 1. repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n    \\<notin> X \\<and>\n    repv \\<nu> x\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n    \\<notin> X", "using f1 Assign.prems(2) usubst_term"], ["proof (prove)\nusing this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappt ?\\<sigma> ?U ?\\<theta> \\<noteq> undeft\\<rbrakk>\n  \\<Longrightarrow> term_sem ?I (the (usubstappt ?\\<sigma> ?U ?\\<theta>))\n                     ?\\<nu> =\n                    term_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                     ?\\<theta> ?\\<nu>\n\ngoal (1 subgoal):\n 1. repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n    \\<notin> X \\<and>\n    repv \\<nu> x\n     (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n    \\<notin> X", "by presburger"], ["proof (state)\nthis:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<notin> X \\<and>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<notin> X \\<and>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X", "have ?thesis"], ["proof (prove)\nusing this:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<notin> X \\<and>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "using f1"], ["proof (prove)\nusing this:\n  repv \\<nu> x (term_sem I (the (usubstappt \\<sigma> U \\<theta>)) \\<nu>)\n  \\<notin> X \\<and>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X\n  usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "by force"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "}"], ["proof (state)\nthis:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X \\<Longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>snd (usubstappp \\<sigma> U (x := \\<theta>)) \\<noteq> undefg;\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<nu> \\<omega> U \\<sigma> \\<theta> I.\n        \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n         usubstappt \\<sigma> U \\<theta> \\<noteq> undeft\\<rbrakk>\n        \\<Longrightarrow> term_sem I (the (usubstappt \\<sigma> U \\<theta>))\n                           \\<nu> =\n                          term_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                           \\<theta> \\<nu>;\n     \\<And>x \\<theta>.\n        (Assigno x \\<theta> = undefg) = (\\<theta> = undeft)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (x := \\<theta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (x := \\<theta>) X)", "ultimately"], ["proof (chain)\npicking this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<Longrightarrow>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X \\<Longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "show ?thesis"], ["proof (prove)\nusing this:\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<Longrightarrow>\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<in> X \\<longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n  repv \\<nu> x\n   (term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>)\n  \\<notin> X \\<Longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)", "by fastforce"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (x := \\<theta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (x := \\<theta>) X)\n\ngoal (6 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 6. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 6. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Test \\<sigma> U \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (6 subgoals):\n 1. \\<And>\\<sigma> U \\<phi> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega>.\n                   \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                                     (\\<nu>\n\\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>);\n        snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (? \\<phi>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (? \\<phi>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 5. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 6. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (? \\<phi>)))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (? \\<phi>) X)", "using Testo_undef"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstappf \\<sigma> U \\<phi> \\<noteq> undeff;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<phi>)\n  snd (usubstappp \\<sigma> U (? \\<phi>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n  (Testo ?\\<phi> = undefg) = (?\\<phi> = undeff)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (? \\<phi>)))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (? \\<phi>) X)", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (? \\<phi>)))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (? \\<phi>) X)\n\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Choice \\<sigma> U \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Choice"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  Uvariation \\<nu> \\<omega> U", "have IH\\<alpha>: \"\\<And>X. Uvariation \\<nu> \\<omega> U \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n       (\\<nu>\n        \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n       (\\<nu>\n        \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X)", "by (simp add: Choiceo_undef)"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Choice"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  Uvariation \\<nu> \\<omega> U", "have IH\\<beta>: \"\\<And>X. Uvariation \\<nu> \\<omega> U \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<beta> X)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n       (\\<nu>\n        \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n       (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "by (simp add: Choiceo_undef)"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> ?X)\n\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Choice"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  Uvariation \\<nu> \\<omega> U", "have uv: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n  undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (5 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> U \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> U\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> U \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U\n              (\\<alpha> \\<union>\\<union> \\<beta>)) \\<noteq>\n        undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> \\<union>\\<union> \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 4. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 5. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U\n                        (\\<alpha> \\<union>\\<union> \\<beta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X)", "using IH\\<alpha> IH\\<beta> uv"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> ?X)\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U\n                        (\\<alpha> \\<union>\\<union> \\<beta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X)", "(*by (smt Choice.prems(1) Choiceo.elims game_sem.simps(4) option.sel snd_pair union_or usubstappp_choice) *)"], ["proof (prove)\nusing this:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> ?X)\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U\n                        (\\<alpha> \\<union>\\<union> \\<beta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "have f1: \"Agame (the (snd (usubstappp \\<sigma> U \\<alpha>))) = snd (usubstappp \\<sigma> U \\<alpha>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Agame (the (snd (usubstappp \\<sigma> U \\<alpha>))) =\n    snd (usubstappp \\<sigma> U \\<alpha>)", "by (meson Choice(3) option.collapse usubstappp_choice_conv)"], ["proof (state)\nthis:\n  Agame (the (snd (usubstappp \\<sigma> U \\<alpha>))) =\n  snd (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "have \"Agame (the (snd (usubstappp \\<sigma> U \\<beta>))) = snd (usubstappp \\<sigma> U \\<beta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Agame (the (snd (usubstappp \\<sigma> U \\<beta>))) =\n    snd (usubstappp \\<sigma> U \\<beta>)", "by (meson Choice(3) option.collapse usubstappp_choice_conv)"], ["proof (state)\nthis:\n  Agame (the (snd (usubstappp \\<sigma> U \\<beta>))) =\n  snd (usubstappp \\<sigma> U \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "then"], ["proof (chain)\npicking this:\n  Agame (the (snd (usubstappp \\<sigma> U \\<beta>))) =\n  snd (usubstappp \\<sigma> U \\<beta>)", "have \"snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) = Agame (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union> the (snd (usubstappp \\<sigma> U \\<beta>)))\""], ["proof (prove)\nusing this:\n  Agame (the (snd (usubstappp \\<sigma> U \\<beta>))) =\n  snd (usubstappp \\<sigma> U \\<beta>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) =\n    Agame\n     (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n      the (snd (usubstappp \\<sigma> U \\<beta>)))", "using f1"], ["proof (prove)\nusing this:\n  Agame (the (snd (usubstappp \\<sigma> U \\<beta>))) =\n  snd (usubstappp \\<sigma> U \\<beta>)\n  Agame (the (snd (usubstappp \\<sigma> U \\<alpha>))) =\n  snd (usubstappp \\<sigma> U \\<alpha>)\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) =\n    Agame\n     (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n      the (snd (usubstappp \\<sigma> U \\<beta>)))", "by (metis Choiceo.simps(1) snd_conv usubstappp.simps(4))"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) =\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n    the (snd (usubstappp \\<sigma> U \\<beta>)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) =\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n    the (snd (usubstappp \\<sigma> U \\<beta>)))", "have f2: \"game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X = game_sem I (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)) =\n  Agame\n   (the (snd (usubstappp \\<sigma> U \\<alpha>)) \\<union>\\<union>\n    the (snd (usubstappp \\<sigma> U \\<beta>)))\n\ngoal (1 subgoal):\n 1. game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n    game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n    game_sem I\n     (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>))))\n     X", "by simp"], ["proof (state)\nthis:\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "moreover"], ["proof (state)\nthis:\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "{"], ["proof (state)\nthis:\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "assume \"\\<nu> \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X\""], ["proof (state)\nthis:\n  \\<nu> \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "have \"(\\<nu> \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (\\<alpha> \\<union>\\<union> \\<beta>) X) \\<longrightarrow> \\<nu> \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X \\<and> \\<nu> \\<notin> game_sem (adjoint \\<sigma> I \\<omega>) (\\<alpha> \\<union>\\<union> \\<beta>) X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<notin> game_sem I\n               (the (snd (usubstappp \\<sigma> U\n                           (\\<alpha> \\<union>\\<union> \\<beta>))))\n               X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X) \\<longrightarrow>\n    \\<nu>\n    \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X \\<and>\n    \\<nu>\n    \\<notin> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n              (\\<alpha> \\<union>\\<union> \\<beta>) X", "using f2 Choice(4) IH\\<alpha> IH\\<beta>"], ["proof (prove)\nusing this:\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n  Uvariation \\<nu> \\<omega> U\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> ?X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<notin> game_sem I\n               (the (snd (usubstappp \\<sigma> U\n                           (\\<alpha> \\<union>\\<union> \\<beta>))))\n               X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X) \\<longrightarrow>\n    \\<nu>\n    \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X \\<and>\n    \\<nu>\n    \\<notin> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n              (\\<alpha> \\<union>\\<union> \\<beta>) X", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X) \\<longrightarrow>\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X \\<and>\n  \\<nu>\n  \\<notin> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "then"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X) \\<longrightarrow>\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X \\<and>\n  \\<nu>\n  \\<notin> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X", "have \"(\\<nu> \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X) \\<noteq> (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (\\<alpha> \\<union>\\<union> \\<beta>) X)\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X) \\<longrightarrow>\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X \\<and>\n  \\<nu>\n  \\<notin> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<notin> game_sem I\n               (the (snd (usubstappp \\<sigma> U\n                           (\\<alpha> \\<union>\\<union> \\<beta>))))\n               X) \\<noteq>\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X)", "using f2 Choice(4) IH\\<alpha>"], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X) \\<longrightarrow>\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X \\<and>\n  \\<nu>\n  \\<notin> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n  Uvariation \\<nu> \\<omega> U\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<notin> game_sem I\n               (the (snd (usubstappp \\<sigma> U\n                           (\\<alpha> \\<union>\\<union> \\<beta>))))\n               X) \\<noteq>\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X)", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) \\<noteq>\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "}"], ["proof (state)\nthis:\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>)))\n            X \\<Longrightarrow>\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) \\<noteq>\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>X.\n                Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n                (\\<nu>\n                 \\<in> game_sem I\n                        (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                (\\<nu>\n                 \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                        \\<alpha> X);\n     \\<And>X.\n        Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n        (\\<nu>\n         \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X) =\n        (\\<nu>\n         \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X);\n     Uvariation \\<nu> \\<omega> U\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U\n    (\\<alpha> \\<union>\\<union> \\<beta>))))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              (\\<alpha> \\<union>\\<union> \\<beta>) X)", "ultimately"], ["proof (chain)\npicking this:\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>)))\n            X \\<Longrightarrow>\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) \\<noteq>\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X)", "show ?thesis"], ["proof (prove)\nusing this:\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>)))\n            X \\<Longrightarrow>\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) \\<noteq>\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U\n                        (\\<alpha> \\<union>\\<union> \\<beta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X)", "using Choice(4) IH\\<beta>"], ["proof (prove)\nusing this:\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X \\<union>\n  game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) X =\n  game_sem I\n   (the (snd (usubstappp \\<sigma> U (\\<alpha> \\<union>\\<union> \\<beta>)))) X\n  \\<nu>\n  \\<notin> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>)))\n            X \\<Longrightarrow>\n  (\\<nu>\n   \\<notin> game_sem I\n             (the (snd (usubstappp \\<sigma> U\n                         (\\<alpha> \\<union>\\<union> \\<beta>))))\n             X) \\<noteq>\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X)\n  Uvariation \\<nu> \\<omega> U\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<beta>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> ?X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U\n                        (\\<alpha> \\<union>\\<union> \\<beta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> \\<union>\\<union> \\<beta>) X)", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))))\n          X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U\n                      (\\<alpha> \\<union>\\<union> \\<beta>))))\n          X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n          (\\<alpha> \\<union>\\<union> \\<beta>) X)\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Compose \\<sigma> U \\<alpha> \\<beta>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> (fst ?x) \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> (fst ?x)\n  \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "let ?V = \"fst(usubstappp \\<sigma> U \\<alpha>)\""], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Compose"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> (fst ?x) \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> (fst ?x)\n  \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have IH\\<alpha>: \"\\<And>X. Uvariation \\<nu> \\<omega> U \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> (fst ?x) \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> (fst ?x)\n  \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n       (\\<nu>\n        \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n       (\\<nu>\n        \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X)", "by (simp add: Composeo_undef)"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Compose"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> (fst ?x) \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> (fst ?x)\n  \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have IH\\<beta>: \"\\<And>\\<nu> \\<omega> X. Uvariation \\<nu> \\<omega> ?V \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> ?V \\<beta>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<beta> X)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> (fst ?x) \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> (fst ?x)\n  \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega> X.\n       Uvariation \\<nu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<nu>\n        \\<in> game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n               X) =\n       (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "by (simp add: Composeo_undef)"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> ?\\<omega>\n   (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          ?X) =\n  (?\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<beta> ?X)\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Compose"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> (fst ?x) \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> (fst ?x)\n  \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have uv: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = usubstappp \\<sigma> U \\<alpha>;\n   snd (usubstappp \\<sigma> (fst ?x) \\<beta>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> (fst ?x)\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> (fst ?x)\n  \\<beta>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<beta> ?X)\n  snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"(\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>)))) X) = (\\<nu> \\<in> game_sem I (Compose (the (snd(usubstappp \\<sigma> U \\<alpha>))) (the (snd(usubstappp \\<sigma> ?V \\<beta>)))) X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n    (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n             the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X)", "by (metis (no_types, lifting) Compose.prems(1) Composeo.elims option.sel snd_pair usubstappp.simps(5))"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n           the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X)\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n           the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X)\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (game_sem I (the (snd(usubstappp \\<sigma> ?V \\<beta>))) X))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n             the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n           the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U \\<alpha>)) ;;\n           the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike (game_sem I (the (snd(usubstappp \\<sigma> ?V \\<beta>))) X) \\<nu> (-BVG(the(snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (game_sem I\n                (the (snd (usubstappp \\<sigma>\n                            (fst (usubstappp \\<sigma> U \\<alpha>))\n                            \\<beta>)))\n                X)\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "using boundeffect"], ["proof (prove)\nusing this:\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (game_sem I\n                (the (snd (usubstappp \\<sigma>\n                            (fst (usubstappp \\<sigma> U \\<alpha>))\n                            \\<beta>)))\n                X)\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "finally"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "have forw: \"(\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>)))) X) = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike (game_sem I (the (snd(usubstappp \\<sigma> ?V \\<beta>))) X) \\<nu> (-BVG(the(snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (game_sem I\n                (the (snd (usubstappp \\<sigma>\n                            (fst (usubstappp \\<sigma> U \\<alpha>))\n                            \\<beta>)))\n                X)\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "."], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"(\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (Compose \\<alpha> \\<beta>) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> ((game_sem (adjoint \\<sigma> I \\<omega>) \\<beta>) X))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> ;; \\<beta>) X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) ((game_sem (adjoint \\<sigma> I \\<omega>) \\<beta>) X))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X))", "using IH\\<alpha>[OF uv]"], ["proof (prove)\nusing this:\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X))", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>\n          (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike ((game_sem (adjoint \\<sigma> I \\<omega>) \\<beta>) X) \\<nu> (-BVG(the(snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "using boundeffect"], ["proof (prove)\nusing this:\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n            (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "finally"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n            (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "have backw: \"(\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (Compose \\<alpha> \\<beta>) X) = (\\<nu> \\<in> game_sem I (the (snd(usubstappp \\<sigma> U \\<alpha>))) (selectlike ((game_sem (adjoint \\<sigma> I \\<omega>) \\<beta>) X) \\<nu> (-BVG(the(snd(usubstappp \\<sigma> U \\<alpha>))))))\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n            (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> ;; \\<beta>) X) =\n    (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n            (selectlike\n              (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)\n              \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "."], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n            (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have samewin: \"selectlike (game_sem I (the (snd(usubstappp \\<sigma> ?V \\<beta>))) X) \\<nu> (-BVG(the(snd(usubstappp \\<sigma> U \\<alpha>)))) = selectlike ((game_sem (adjoint \\<sigma> I \\<omega>) \\<beta>) X) \\<nu> (-BVG(the(snd(usubstappp \\<sigma> U \\<alpha>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. selectlike\n     (game_sem I\n       (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                   \\<beta>)))\n       X)\n     \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) =\n    selectlike (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)\n     \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))", "proof (rule selectlike_equal_cocond_corule)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n               X) =\n       (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "fix \\<mu>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n               X) =\n       (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "assume muvar: \"Uvariation \\<mu> \\<nu> (BVG(the(snd(usubstappp \\<sigma> U \\<alpha>))))\""], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n               X) =\n       (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "have U\\<mu>\\<omega>: \"Uvariation \\<mu> \\<omega> ?V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "using muvar uv Uvariation_trans union_comm usubst_taboos Uvariation_mon"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  ?A \\<union> ?B = ?B \\<union> ?A\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "(*by (smt Compose.prems(1) Composeo_undef snd_pair usubstappp.simps(5))*)"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  ?A \\<union> ?B = ?B \\<union> ?A\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<mu> \\<nu>\n              (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))));\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>A B. A \\<union> B = B \\<union> A;\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U V \\<omega> \\<nu>.\n        \\<lbrakk>U \\<subseteq> V; Uvariation \\<omega> \\<nu> U\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<nu> V\\<rbrakk>\n    \\<Longrightarrow> Uvariation \\<mu> \\<omega>\n                       (fst (usubstappp \\<sigma> U \\<alpha>))", "have \"Uvariation \\<mu> \\<omega> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union> U)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega>\n     (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union> U)", "by (meson Uvariation_trans muvar uv)"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega>\n   (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union> U)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<mu> \\<nu>\n              (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))));\n     Uvariation \\<nu> \\<omega> U;\n     \\<And>\\<omega> \\<nu> U \\<mu> V.\n        \\<lbrakk>Uvariation \\<omega> \\<nu> U;\n         Uvariation \\<nu> \\<mu> V\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<mu> (U \\<union> V);\n     \\<And>A B. A \\<union> B = B \\<union> A;\n     \\<And>\\<sigma> U \\<alpha>.\n        snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n        undefg \\<Longrightarrow>\n        U \\<union> BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n        \\<subseteq> fst (usubstappp \\<sigma> U \\<alpha>);\n     \\<And>U V \\<omega> \\<nu>.\n        \\<lbrakk>U \\<subseteq> V; Uvariation \\<omega> \\<nu> U\\<rbrakk>\n        \\<Longrightarrow> Uvariation \\<omega> \\<nu> V\\<rbrakk>\n    \\<Longrightarrow> Uvariation \\<mu> \\<omega>\n                       (fst (usubstappp \\<sigma> U \\<alpha>))", "then"], ["proof (chain)\npicking this:\n  Uvariation \\<mu> \\<omega>\n   (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union> U)", "show ?thesis"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<omega>\n   (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union> U)\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "using Uvariation_mon union_comm usubst_taboos"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<omega>\n   (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))) \\<union> U)\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n  ?A \\<union> ?B = ?B \\<union> ?A\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n\ngoal (1 subgoal):\n 1. Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))", "by (metis (no_types, lifting) Compose.prems(1) Composeo_undef Pair_inject prod.collapse usubstappp_compose)"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal:\nNo subgoals!", "(*by (metis (no_types) Uvariation_mon union_comm usubst_taboos)*)"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n               X) =\n       (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "have \"(\\<mu> \\<in> game_sem I (the(snd(usubstappp \\<sigma> ?V \\<beta>))) X) = (\\<mu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<beta> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X) =\n    (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "using muvar Uvariation_trans uv IH\\<beta> boundeffect Uvariation_mon usubst_taboos U\\<mu>\\<omega>"], ["proof (prove)\nusing this:\n  Uvariation \\<mu> \\<nu> (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  Uvariation \\<nu> \\<omega> U\n  Uvariation ?\\<nu> ?\\<omega>\n   (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          ?X) =\n  (?\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<beta> ?X)\n  (?\\<omega> \\<in> game_sem ?I ?\\<alpha> ?X) =\n  (?\\<omega>\n   \\<in> game_sem ?I ?\\<alpha> (selectlike ?X ?\\<omega> (- BVG ?\\<alpha>)))\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n  snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  ?U \\<union> BVG (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  \\<subseteq> fst (usubstappp ?\\<sigma> ?U ?\\<alpha>)\n  Uvariation \\<mu> \\<omega> (fst (usubstappp \\<sigma> U \\<alpha>))\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X) =\n    (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "by auto"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X) =\n  (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       Uvariation \\<mu> \\<nu>\n        (BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) \\<Longrightarrow>\n       (\\<mu>\n        \\<in> game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n               X) =\n       (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "then"], ["proof (chain)\npicking this:\n  (\\<mu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X) =\n  (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "show \"(\\<mu> \\<in> game_sem I (the(snd(usubstappp \\<sigma> ?V \\<beta>))) X) = (\\<mu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<beta> X)\""], ["proof (prove)\nusing this:\n  (\\<mu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X) =\n  (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)\n\ngoal (1 subgoal):\n 1. (\\<mu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma>\n                        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n            X) =\n    (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)", "by simp"], ["proof (state)\nthis:\n  (\\<mu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n          X) =\n  (\\<mu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  selectlike\n   (game_sem I\n     (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<beta>)))\n     X)\n   \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) =\n  selectlike (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n   (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (4 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<beta> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = usubstappp \\<sigma> U \\<alpha>;\n            snd (usubstappp \\<sigma> (fst x) \\<beta>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> (fst x)\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> (fst x) \\<beta>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<beta> X);\n        snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (\\<alpha> ;; \\<beta>) X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 3. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 4. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from forw and backw"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n            (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))", "show \"(\\<nu> \\<in> game_sem I (the(snd (usubstappp \\<sigma> U (Compose \\<alpha> \\<beta>)))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (Compose \\<alpha> \\<beta>) X)\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n            (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> ;; \\<beta>) X)", "using samewin"], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem I\n              (the (snd (usubstappp \\<sigma>\n                          (fst (usubstappp \\<sigma> U \\<alpha>)) \\<beta>)))\n              X)\n            \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X) =\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n          (selectlike\n            (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n            (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))))\n  selectlike\n   (game_sem I\n     (the (snd (usubstappp \\<sigma> (fst (usubstappp \\<sigma> U \\<alpha>))\n                 \\<beta>)))\n     X)\n   \\<nu> (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>)))) =\n  selectlike (game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<beta> X) \\<nu>\n   (- BVG (the (snd (usubstappp \\<sigma> U \\<alpha>))))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n            (\\<alpha> ;; \\<beta>) X)", "by auto"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma> U (\\<alpha> ;; \\<beta>)))) X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha> ;; \\<beta>)\n          X)\n\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Loop \\<sigma> U \\<alpha>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = fst (usubstappp \\<sigma> U \\<alpha>);\n   snd (usubstappp \\<sigma> ?x \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> ?x\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> ?x \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "let ?V = \"fst(usubstappp \\<sigma> U \\<alpha>)\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Loop"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = fst (usubstappp \\<sigma> U \\<alpha>);\n   snd (usubstappp \\<sigma> ?x \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> ?x\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> ?x \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have selfdef: \"snd (usubstappp \\<sigma> U (Loop \\<alpha>)) \\<noteq> undefg\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = fst (usubstappp \\<sigma> U \\<alpha>);\n   snd (usubstappp \\<sigma> ?x \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> ?x\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> ?x \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg", "by auto"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Loop"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = fst (usubstappp \\<sigma> U \\<alpha>);\n   snd (usubstappp \\<sigma> ?x \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> ?x\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> ?x \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have IH\\<alpha>rec: \"\\<And>\\<nu> \\<omega> X. Uvariation \\<nu> \\<omega> ?V \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> ?V \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = fst (usubstappp \\<sigma> U \\<alpha>);\n   snd (usubstappp \\<sigma> ?x \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> ?x\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> ?x \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<nu> \\<omega> X.\n       Uvariation \\<nu> \\<omega>\n        (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n       (\\<nu>\n        \\<in> game_sem I\n               (the (snd (usubstappp \\<sigma>\n                           (fst (usubstappp \\<sigma> U \\<alpha>))\n                           \\<alpha>)))\n               X) =\n       (\\<nu>\n        \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X)", "by fastforce"], ["proof (state)\nthis:\n  Uvariation ?\\<nu> ?\\<omega>\n   (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          ?X) =\n  (?\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<alpha> ?X)\n\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Loop"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = fst (usubstappp \\<sigma> U \\<alpha>);\n   snd (usubstappp \\<sigma> ?x \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> ?x\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> ?x \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have uv: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  \\<lbrakk>?x = fst (usubstappp \\<sigma> U \\<alpha>);\n   snd (usubstappp \\<sigma> ?x \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> ?x\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> ?x \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (3 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        \\<And>x \\<nu> \\<omega> X.\n           \\<lbrakk>x = fst (usubstappp \\<sigma> U \\<alpha>);\n            snd (usubstappp \\<sigma> x \\<alpha>) \\<noteq> undefg;\n            Uvariation \\<nu> \\<omega> x\\<rbrakk>\n           \\<Longrightarrow> (\\<nu>\n                              \\<in> game_sem I\n                                     (the\n (snd (usubstappp \\<sigma> x \\<alpha>)))\n                                     X) =\n                             (\\<nu>\n                              \\<in> game_sem\n                                     (USubst.adjoint \\<sigma> I \\<omega>)\n                                     \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>**)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>** X)\n 2. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 3. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "show \"(\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (Loop \\<alpha>)))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (Loop \\<alpha>) X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "using usubst_game_loop IH\\<alpha>rec Loop.prems(2) selfdef"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   \\<And>\\<nu> \\<omega> X.\n      \\<lbrakk>Uvariation \\<nu> \\<omega>\n                (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>));\n       snd (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n             ?\\<alpha>) \\<noteq>\n       undefg\\<rbrakk>\n      \\<Longrightarrow> (\\<nu>\n                         \\<in> game_sem ?I\n                                (the (snd\n (usubstappp ?\\<sigma> (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>))\n   ?\\<alpha>)))\n                                X) =\n                        (\\<nu>\n                         \\<in> game_sem\n                                (USubst.adjoint ?\\<sigma> ?I \\<omega>)\n                                ?\\<alpha> X);\n   snd (usubstappp ?\\<sigma> ?U ?\\<alpha>**) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem ?I\n                            (the (snd (usubstappp ?\\<sigma> ?U\n  ?\\<alpha>**)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<alpha>** ?X)\n  Uvariation ?\\<nu> ?\\<omega>\n   (fst (usubstappp \\<sigma> U \\<alpha>)) \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> game_sem I\n          (the (snd (usubstappp \\<sigma>\n                      (fst (usubstappp \\<sigma> U \\<alpha>)) \\<alpha>)))\n          ?X) =\n  (?\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>) \\<alpha> ?X)\n  Uvariation \\<nu> \\<omega> U\n  snd (usubstappp \\<sigma> U \\<alpha>**) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)", "by blast"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "(*by (rule usubst_game_loop[OF uv (*IH\\<alpha>*) IH\\<alpha>rec])*)"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>**))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>** X)\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (Dual \\<sigma> U \\<alpha>)"], ["proof (state)\nthis:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Dual"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have IH\\<alpha>: \"\\<And>X. Uvariation \\<nu> \\<omega> U \\<Longrightarrow> (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>X.\n       Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n       (\\<nu>\n        \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n       (\\<nu>\n        \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X)", "by force"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U \\<Longrightarrow>\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Dual"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have uv: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from Dual"], ["proof (chain)\npicking this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have def: \"snd (usubstappp \\<sigma> U (\\<alpha>^d)) \\<noteq> undefg\""], ["proof (prove)\nusing this:\n  \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg;\n   Uvariation ?\\<nu> ?\\<omega> U\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem I\n                            (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint \\<sigma> I ?\\<omega>)\n                            \\<alpha> ?X)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg", "by simp"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "(*show ?case using IH\\<alpha>[OF uv]\n    by (smt Compl_iff Dual.prems(1) Dualo.elims game_sem.simps(7) option.sel snd_pair usubstappp.simps(7))*)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"(\\<nu> \\<in> -game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) (-X)) = (\\<nu> \\<in> -game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> (-X))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> - game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n              (- X)) =\n    (\\<nu>\n     \\<in> - game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> (- X))", "using IH\\<alpha>[OF uv]"], ["proof (prove)\nusing this:\n  (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) ?X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> ?X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> - game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n              (- X)) =\n    (\\<nu>\n     \\<in> - game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> (- X))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> - game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) (- X)) =\n  (\\<nu>\n   \\<in> - game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> (- X))\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> - game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) (- X)) =\n  (\\<nu>\n   \\<in> - game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> (- X))", "have \"(\\<nu> \\<in> game_sem I ((the (snd (usubstappp \\<sigma> U \\<alpha>)))^d) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (\\<alpha>^d) X)\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> - game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) (- X)) =\n  (\\<nu>\n   \\<in> - game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> (- X))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)", "using game_sem.simps(7)"], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> - game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) (- X)) =\n  (\\<nu>\n   \\<in> - game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> (- X))\n  game_sem ?I ?\\<alpha>^d = (\\<lambda>X. - game_sem ?I ?\\<alpha> (- X))\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)", "by auto"], ["proof (state)\nthis:\n  (\\<nu> \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)\n\ngoal (2 subgoals):\n 1. \\<And>\\<sigma> U \\<alpha> \\<nu> \\<omega> X.\n       \\<lbrakk>\\<And>\\<nu> \\<omega> X.\n                   \\<lbrakk>snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq>\n                            undefg;\n                    Uvariation \\<nu> \\<omega> U\\<rbrakk>\n                   \\<Longrightarrow> (\\<nu>\n\\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) =\n                                     (\\<nu>\n\\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha> X);\n        snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U \\<alpha>^d)))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 \\<alpha>^d X)\n 2. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  (\\<nu> \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<nu> \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>^d))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)", "using usubstappp_dual Dualo_undef"], ["proof (prove)\nusing this:\n  (\\<nu> \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)\n  usubstappp ?\\<sigma> ?U ?\\<alpha>^d =\n  (fst (usubstappp ?\\<sigma> ?U ?\\<alpha>),\n   Dualo (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n  (Dualo ?\\<alpha> = undefg) = (?\\<alpha> = undefg)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>^d))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<nu>\n              \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d\n                     X) =\n             (\\<nu>\n              \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d\n                     X);\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (fst (usubstappp \\<sigma> U \\<alpha>),\n         Dualo (snd (usubstappp \\<sigma> U \\<alpha>)));\n     \\<And>\\<alpha>.\n        (Dualo \\<alpha> = undefg) = (\\<alpha> = undefg)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<alpha>^d X)", "have \"\\<And>\\<sigma> V \\<alpha>. snd (usubstappp \\<sigma> U (\\<alpha>^d)) = Dualo (snd (usubstappp \\<sigma> U \\<alpha>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> V \\<alpha>.\n       snd (usubstappp \\<sigma> U \\<alpha>^d) =\n       Dualo (snd (usubstappp \\<sigma> U \\<alpha>))", "by simp"], ["proof (state)\nthis:\n  snd (usubstappp ?\\<sigma> U ?\\<alpha>^d) =\n  Dualo (snd (usubstappp ?\\<sigma> U ?\\<alpha>))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<nu>\n              \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d\n                     X) =\n             (\\<nu>\n              \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d\n                     X);\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (fst (usubstappp \\<sigma> U \\<alpha>),\n         Dualo (snd (usubstappp \\<sigma> U \\<alpha>)));\n     \\<And>\\<alpha>.\n        (Dualo \\<alpha> = undefg) = (\\<alpha> = undefg)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<alpha>^d X)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp ?\\<sigma> U ?\\<alpha>^d) =\n  Dualo (snd (usubstappp ?\\<sigma> U ?\\<alpha>))", "have \"snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\""], ["proof (prove)\nusing this:\n  snd (usubstappp ?\\<sigma> U ?\\<alpha>^d) =\n  Dualo (snd (usubstappp ?\\<sigma> U ?\\<alpha>))\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "using Dualo_undef def"], ["proof (prove)\nusing this:\n  snd (usubstappp ?\\<sigma> U ?\\<alpha>^d) =\n  Dualo (snd (usubstappp ?\\<sigma> U ?\\<alpha>))\n  (Dualo ?\\<alpha> = undefg) = (?\\<alpha> = undefg)\n  snd (usubstappp \\<sigma> U \\<alpha>^d) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "by presburger"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<nu>\n              \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d\n                     X) =\n             (\\<nu>\n              \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d\n                     X);\n     \\<And>\\<sigma> U \\<alpha>.\n        usubstappp \\<sigma> U \\<alpha>^d =\n        (fst (usubstappp \\<sigma> U \\<alpha>),\n         Dualo (snd (usubstappp \\<sigma> U \\<alpha>)));\n     \\<And>\\<alpha>.\n        (Dualo \\<alpha> = undefg) = (\\<alpha> = undefg)\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U \\<alpha>^d)))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<alpha>^d X)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg", "show ?thesis"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>^d))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)", "using \\<open>(\\<nu> \\<in> game_sem I ((the (snd (usubstappp \\<sigma> U \\<alpha>)))^d) X) = (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (\\<alpha>^d) X)\\<close>"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\n  (\\<nu> \\<in> game_sem I the (snd (usubstappp \\<sigma> U \\<alpha>))^d X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>^d))) X) =\n    (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)", "by force"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>^d))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>^d))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<alpha>^d X)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "case (ODE \\<sigma> U x \\<theta>)"], ["proof (state)\nthis:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "then"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have va: \"Uvariation \\<nu> \\<omega> U\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. Uvariation \\<nu> \\<omega> U", "by simp"], ["proof (state)\nthis:\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from ODE"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have subdef: \"usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta> \\<noteq> undeft\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq>\n    undeft", "by (simp add: ODEo_undef)"], ["proof (state)\nthis:\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "from ODE"], ["proof (chain)\npicking this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U", "have IH: \"term_sem I (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)) \\<nu> = term_sem (adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\""], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "using va"], ["proof (prove)\nusing this:\n  snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq> undefg\n  Uvariation \\<nu> \\<omega> U\n  Uvariation \\<nu> \\<omega> U\n\ngoal (1 subgoal):\n 1. term_sem I\n     (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n     \\<nu> =\n    term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>", "by (metis ODEo_undef fst_pair snd_conv usubst_taboos_mon usubst_term usubstappp.simps(8) usubstappt_antimon)"], ["proof (state)\nthis:\n  term_sem I\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))\n   \\<nu> =\n  term_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<theta> \\<nu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"(\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>)))) X) = (\\<nu> \\<in> game_sem I (the (ODEo x (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>))) X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem I\n            (the (ODEo x\n                   (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>)))\n            X)", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n          X) =\n  (\\<nu>\n   \\<in> game_sem I\n          (the (ODEo x\n                 (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n          X) =\n  (\\<nu>\n   \\<in> game_sem I\n          (the (ODEo x\n                 (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem I (ODE x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>))) X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (ODEo x\n                   (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>)))\n            X) =\n    (\\<nu>\n     \\<in> game_sem I\n            (ODE x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>)))\n            X)", "using subdef"], ["proof (prove)\nusing this:\n  usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta> \\<noteq> undeft\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (the (ODEo x\n                   (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>)))\n            X) =\n    (\\<nu>\n     \\<in> game_sem I\n            (ODE x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>)))\n            X)", "by force"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (ODEo x\n                 (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X) =\n  (\\<nu>\n   \\<in> game_sem I\n          (ODE x\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (the (ODEo x\n                 (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X) =\n  (\\<nu>\n   \\<in> game_sem I\n          (ODE x\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<exists>F T. Vagree \\<nu> (F(0)) (-{DVar x}) \\<and> F(T) \\<in> X \\<and> solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I\n            (ODE x\n              (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                     \\<theta>)))\n            X) =\n    (\\<exists>F T.\n        Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)))", "by simp"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (ODE x\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X) =\n  (\\<exists>F T.\n      Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I\n          (ODE x\n            (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                   \\<theta>)))\n          X) =\n  (\\<exists>F T.\n      Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<exists>F T. Uvariation \\<nu> (F(0)) {DVar x} \\<and> F(T) \\<in> X \\<and> solves_ODE I F x (the (usubstappt \\<sigma> (U\\<union>{RVar x,DVar x}) \\<theta>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>))) =\n    (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)))", "using Uvariation_Vagree"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> ?\\<nu>' (- ?V) = Vagree ?\\<nu> ?\\<nu>' ?V\n\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>))) =\n    (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)))", "by (metis double_compl)"], ["proof (state)\nthis:\n  (\\<exists>F T.\n      Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))) =\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<exists>F T.\n      Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))) =\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)))\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<exists>F T. Uvariation \\<nu> (F(0)) {DVar x} \\<and> F(T) \\<in> X \\<and> solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>))) =\n    (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)", "using usubst_ode_ext2[OF subdef] va solves_Vagree_trans Uvariation_trans Uvariation_sym_rel Uvariation_mon"], ["proof (prove)\nusing this:\n  Uvariation (?F 0) ?\\<omega>\n   (U \\<union> {RVar x, DVar x}) \\<Longrightarrow>\n  solves_ODE ?I ?F x\n   (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>)) =\n  solves_ODE (USubst.adjoint \\<sigma> ?I ?\\<omega>) ?F x \\<theta>\n  Uvariation \\<nu> \\<omega> U\n  \\<lbrakk>Uvariation (?F 0) ?\\<omega> ?U;\n   solves_ODE ?I ?F ?x ?\\<theta>\\<rbrakk>\n  \\<Longrightarrow> Uvariation (?F ?\\<zeta>) ?\\<omega>\n                     (?U \\<union> {RVar ?x, DVar ?x})\n  \\<lbrakk>Uvariation ?\\<omega> ?\\<nu> ?U;\n   Uvariation ?\\<nu> ?\\<mu> ?V\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<mu> (?U \\<union> ?V)\n  Uvariation ?\\<omega> ?\\<nu> ?U \\<Longrightarrow>\n  Uvariation ?\\<nu> ?\\<omega> ?U\n  \\<lbrakk>?U \\<subseteq> ?V; Uvariation ?\\<omega> ?\\<nu> ?U\\<rbrakk>\n  \\<Longrightarrow> Uvariation ?\\<omega> ?\\<nu> ?V\n\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE I F x\n         (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x})\n                \\<theta>))) =\n    (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)", "by (meson subset_insertI)"], ["proof (state)\nthis:\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))) =\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE I F x\n       (the (usubstappt \\<sigma> (U \\<union> {RVar x, DVar x}) \\<theta>))) =\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<exists>F T. Vagree \\<nu> (F(0)) (-{DVar x}) \\<and> F(T) \\<in> X \\<and> solves_ODE (adjoint \\<sigma> I \\<omega>) F x \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>) =\n    (\\<exists>F T.\n        Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)", "using Uvariation_Vagree"], ["proof (prove)\nusing this:\n  Uvariation ?\\<nu> ?\\<nu>' (- ?V) = Vagree ?\\<nu> ?\\<nu>' ?V\n\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Uvariation \\<nu> (F 0) {DVar x} \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>) =\n    (\\<exists>F T.\n        Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)", "by (metis double_compl)"], ["proof (state)\nthis:\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>) =\n  (\\<exists>F T.\n      Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "also"], ["proof (state)\nthis:\n  (\\<exists>F T.\n      Uvariation \\<nu> (F 0) {DVar x} \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>) =\n  (\\<exists>F T.\n      Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "have \"... = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)", "using solves_ODE_def"], ["proof (prove)\nusing this:\n  solves_ODE ?I ?F ?x ?\\<theta> \\<equiv>\n  \\<forall>\\<zeta>.\n     Vagree (?F 0) (?F \\<zeta>) (- {RVar ?x, DVar ?x}) \\<and>\n     ?F \\<zeta> (DVar ?x) =\n     deriv (\\<lambda>t. ?F t (RVar ?x)) \\<zeta> \\<and>\n     ?F \\<zeta> (DVar ?x) = term_sem ?I ?\\<theta> (?F \\<zeta>)\n\ngoal (1 subgoal):\n 1. (\\<exists>F T.\n        Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n        F T \\<in> X \\<and>\n        solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)", "by simp"], ["proof (state)\nthis:\n  (\\<exists>F T.\n      Vagree \\<nu> (F 0) (- {DVar x}) \\<and>\n      F T \\<in> X \\<and>\n      solves_ODE (USubst.adjoint \\<sigma> I \\<omega>) F x \\<theta>) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)\n\ngoal (1 subgoal):\n 1. \\<And>\\<sigma> U x \\<theta> \\<nu> \\<omega> X.\n       \\<lbrakk>snd (usubstappp \\<sigma> U (ODE x \\<theta>)) \\<noteq>\n                undefg;\n        Uvariation \\<nu> \\<omega> U\\<rbrakk>\n       \\<Longrightarrow> (\\<nu>\n                          \\<in> game_sem I\n                                 (the (snd\n  (usubstappp \\<sigma> U (ODE x \\<theta>))))\n                                 X) =\n                         (\\<nu>\n                          \\<in> game_sem\n                                 (USubst.adjoint \\<sigma> I \\<omega>)\n                                 (ODE x \\<theta>) X)", "finally"], ["proof (chain)\npicking this:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n          X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)", "show \"(\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>)))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)\""], ["proof (prove)\nusing this:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n          X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)\n\ngoal (1 subgoal):\n 1. (\\<nu>\n     \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n            X) =\n    (\\<nu>\n     \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)", "."], ["proof (state)\nthis:\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp \\<sigma> U (ODE x \\<theta>))))\n          X) =\n  (\\<nu>\n   \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>) (ODE x \\<theta>) X)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  usubstappf ?\\<sigma> U ?\\<phi> \\<noteq> undeff \\<Longrightarrow>\n  (\\<nu> \\<in> fml_sem I (the (usubstappf ?\\<sigma> U ?\\<phi>))) =\n  (\\<nu> \\<in> fml_sem (USubst.adjoint ?\\<sigma> I \\<omega>) ?\\<phi>)\n  snd (usubstappp ?\\<sigma> U ?\\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n  (\\<nu>\n   \\<in> game_sem I (the (snd (usubstappp ?\\<sigma> U ?\\<alpha>))) X) =\n  (\\<nu> \\<in> game_sem (USubst.adjoint ?\\<sigma> I \\<omega>) ?\\<alpha> X)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Lemma 16 of \\<^url>\\<open>http://arxiv.org/abs/1902.07230\\<close>\\<close>"], ["", "theorem usubst_fml: \"Uvariation \\<nu> \\<omega> U \\<Longrightarrow> usubstappf \\<sigma> U \\<phi> \\<noteq> undeff \\<Longrightarrow>\n    (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> U \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U \\<phi>))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<phi>)", "using usubst_fml_game"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem ?I\n                            (the (usubstappf ?\\<sigma> ?U ?\\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<phi>)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem ?I\n                            (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<alpha> ?X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     usubstappf \\<sigma> U \\<phi> \\<noteq> undeff\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> fml_sem I\n                              (the (usubstappf \\<sigma> U \\<phi>))) =\n                      (\\<nu>\n                       \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<phi>)", "by simp"], ["", "text \\<open>Lemma 17 of \\<^url>\\<open>http://arxiv.org/abs/1902.07230\\<close>\\<close>"], ["", "theorem usubst_game: \"Uvariation \\<nu> \\<omega> U \\<Longrightarrow> snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg \\<Longrightarrow>\n    (\\<nu> \\<in> game_sem I (the (snd (usubstappp \\<sigma> U \\<alpha>))) X) = (\\<nu> \\<in> game_sem (adjoint \\<sigma> I \\<omega>) \\<alpha> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<alpha> X)", "using usubst_fml_game"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem ?I\n                            (the (usubstappf ?\\<sigma> ?U ?\\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<phi>)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   snd (usubstappp ?\\<sigma> ?U ?\\<alpha>) \\<noteq> undefg\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> game_sem ?I\n                            (the (snd (usubstappp ?\\<sigma> ?U ?\\<alpha>)))\n                            ?X) =\n                    (?\\<nu>\n                     \\<in> game_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<alpha> ?X)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>Uvariation \\<nu> \\<omega> U;\n     snd (usubstappp \\<sigma> U \\<alpha>) \\<noteq> undefg\\<rbrakk>\n    \\<Longrightarrow> (\\<nu>\n                       \\<in> game_sem I\n                              (the (snd (usubstappp \\<sigma> U \\<alpha>)))\n                              X) =\n                      (\\<nu>\n                       \\<in> game_sem (USubst.adjoint \\<sigma> I \\<omega>)\n                              \\<alpha> X)", "by simp"], ["", "subsection \\<open>Soundness of Uniform Substitution of Formulas\\<close>"], ["", "abbreviation usubsta:: \"usubst \\<Rightarrow> fml \\<Rightarrow> fmlo\"\n  where \"usubsta \\<sigma> \\<phi> \\<equiv> usubstappf \\<sigma> {} \\<phi>\""], ["", "text \\<open>Theorem 18 of \\<^url>\\<open>http://arxiv.org/abs/1902.07230\\<close>\\<close>"], ["", "theorem usubst_sound: \"usubsta \\<sigma> \\<phi> \\<noteq> undeff \\<Longrightarrow> valid \\<phi> \\<Longrightarrow> valid (the (usubsta \\<sigma> \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubsta \\<sigma> \\<phi> \\<noteq> undeff; valid \\<phi>\\<rbrakk>\n    \\<Longrightarrow> valid (the (usubsta \\<sigma> \\<phi>))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubsta \\<sigma> \\<phi> \\<noteq> undeff; valid \\<phi>\\<rbrakk>\n    \\<Longrightarrow> valid (the (usubsta \\<sigma> \\<phi>))", "assume def: \"usubsta \\<sigma> \\<phi> \\<noteq> undeff\""], ["proof (state)\nthis:\n  usubsta \\<sigma> \\<phi> \\<noteq> undeff\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubsta \\<sigma> \\<phi> \\<noteq> undeff; valid \\<phi>\\<rbrakk>\n    \\<Longrightarrow> valid (the (usubsta \\<sigma> \\<phi>))", "assume prem: \"valid \\<phi>\""], ["proof (state)\nthis:\n  valid \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubsta \\<sigma> \\<phi> \\<noteq> undeff; valid \\<phi>\\<rbrakk>\n    \\<Longrightarrow> valid (the (usubsta \\<sigma> \\<phi>))", "from prem"], ["proof (chain)\npicking this:\n  valid \\<phi>", "have premc: \"\\<And>I \\<omega>. \\<omega> \\<in> fml_sem I \\<phi>\""], ["proof (prove)\nusing this:\n  valid \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>. \\<omega> \\<in> fml_sem I \\<phi>", "using valid_def"], ["proof (prove)\nusing this:\n  valid \\<phi>\n  valid ?\\<phi> \\<equiv>\n  \\<forall>I \\<omega>. \\<omega> \\<in> fml_sem I ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>. \\<omega> \\<in> fml_sem I \\<phi>", "by auto"], ["proof (state)\nthis:\n  ?\\<omega> \\<in> fml_sem ?I \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubsta \\<sigma> \\<phi> \\<noteq> undeff; valid \\<phi>\\<rbrakk>\n    \\<Longrightarrow> valid (the (usubsta \\<sigma> \\<phi>))", "show \"valid (the (usubsta \\<sigma> \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. valid (the (usubsta \\<sigma> \\<phi>))", "unfolding valid_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>I \\<omega>.\n       \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "proof (clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>.\n       \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "fix I \\<omega>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>.\n       \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "have \"(\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = (\\<omega> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) =\n    (\\<omega> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "using usubst_fml"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem ?I\n                            (the (usubstappf ?\\<sigma> ?U ?\\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<phi>)\n\ngoal (1 subgoal):\n 1. (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) =\n    (\\<omega> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "by (simp add: usubst_fml def)"], ["proof (state)\nthis:\n  (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) =\n  (\\<omega> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>.\n       \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "also"], ["proof (state)\nthis:\n  (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) =\n  (\\<omega> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>.\n       \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "have \"... = True\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<omega> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n    True", "using premc"], ["proof (prove)\nusing this:\n  ?\\<omega> \\<in> fml_sem ?I \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<omega> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n    True", "by simp"], ["proof (state)\nthis:\n  (\\<omega> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>) =\n  True\n\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>.\n       \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "finally"], ["proof (chain)\npicking this:\n  (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = True", "have \"(\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = True\""], ["proof (prove)\nusing this:\n  (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = True\n\ngoal (1 subgoal):\n 1. (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = True", "."], ["proof (state)\nthis:\n  (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = True\n\ngoal (1 subgoal):\n 1. \\<And>I \\<omega>.\n       \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "from this"], ["proof (chain)\npicking this:\n  (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = True", "show \"\\<omega> \\<in> fml_sem I (the (usubstappf \\<sigma> {} \\<phi>))\""], ["proof (prove)\nusing this:\n  (\\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))) = True\n\ngoal (1 subgoal):\n 1. \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))", "by simp"], ["proof (state)\nthis:\n  \\<omega> \\<in> fml_sem I (the (usubsta \\<sigma> \\<phi>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  valid (the (usubsta \\<sigma> \\<phi>))\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Soundness of Uniform Substitution of Rules\\<close>"], ["", "text \\<open>Uniform Substitution applied to a rule or inference\\<close>"], ["", "definition usubstr:: \"usubst \\<Rightarrow> inference \\<Rightarrow> inference option\"\n  where \"usubstr \\<sigma> R \\<equiv> if (usubstappf \\<sigma> allvars (snd R) \\<noteq> undeff \\<and> (\\<forall>\\<phi>\\<in>set (fst R). usubstappf \\<sigma> allvars \\<phi> \\<noteq> undeff)) then\n    Some(map(the o (usubstappf \\<sigma> allvars))(fst R), the (usubstappf \\<sigma> allvars (snd R)))\n  else\n    None\""], ["", "text \\<open>Simple observations about applying uniform substitutions to a rule\\<close>"], ["", "lemma usubstr_conv: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow>\n  usubstappf \\<sigma> allvars (snd R) \\<noteq> undeff \\<and>\n  (\\<forall>\\<phi>\\<in>set (fst R). usubstappf \\<sigma> allvars \\<phi> \\<noteq> undeff)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow>\n    usubstappf \\<sigma> Denotational_Semantics.allvars (snd R) \\<noteq>\n    undeff \\<and>\n    (\\<forall>\\<phi>\\<in>set (fst R).\n        usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n        undeff)", "by (metis usubstr_def)"], ["", "lemma usubstr_union_undef: \"(usubstr \\<sigma> ((append A B), C) \\<noteq> None) = (usubstr \\<sigma> (A, C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n    (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n     usubstr \\<sigma> (B, C) \\<noteq> None)", "using usubstr_def"], ["proof (prove)\nusing this:\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n    (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n     usubstr \\<sigma> (B, C) \\<noteq> None)", "by auto"], ["", "lemma usubstr_union_undef2: \"(usubstr \\<sigma> ((append A B), C) \\<noteq> None) \\<Longrightarrow> (usubstr \\<sigma> (A, C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n    usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n    usubstr \\<sigma> (B, C) \\<noteq> None", "using usubstr_union_undef"], ["proof (prove)\nusing this:\n  (usubstr ?\\<sigma> (?A @ ?B, ?C) \\<noteq> None) =\n  (usubstr ?\\<sigma> (?A, ?C) \\<noteq> None \\<and>\n   usubstr ?\\<sigma> (?B, ?C) \\<noteq> None)\n\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n    usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n    usubstr \\<sigma> (B, C) \\<noteq> None", "by blast"], ["", "lemma usubstr_cons_undef: \"(usubstr \\<sigma> ((Cons A B), C) \\<noteq> None) = (usubstr \\<sigma> ([A], C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (usubstr \\<sigma> (A # B, C) \\<noteq> None) =\n    (usubstr \\<sigma> ([A], C) \\<noteq> None \\<and>\n     usubstr \\<sigma> (B, C) \\<noteq> None)", "using usubstr_def"], ["proof (prove)\nusing this:\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. (usubstr \\<sigma> (A # B, C) \\<noteq> None) =\n    (usubstr \\<sigma> ([A], C) \\<noteq> None \\<and>\n     usubstr \\<sigma> (B, C) \\<noteq> None)", "by auto"], ["", "lemma usubstr_cons_undef2: \"(usubstr \\<sigma> ((Cons A B), C) \\<noteq> None) \\<Longrightarrow> (usubstr \\<sigma> ([A], C) \\<noteq> None \\<and> usubstr \\<sigma> (B, C) \\<noteq> None)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A # B, C) \\<noteq> None \\<Longrightarrow>\n    usubstr \\<sigma> ([A], C) \\<noteq> None \\<and>\n    usubstr \\<sigma> (B, C) \\<noteq> None", "using usubstr_cons_undef"], ["proof (prove)\nusing this:\n  (usubstr ?\\<sigma> (?A # ?B, ?C) \\<noteq> None) =\n  (usubstr ?\\<sigma> ([?A], ?C) \\<noteq> None \\<and>\n   usubstr ?\\<sigma> (?B, ?C) \\<noteq> None)\n\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A # B, C) \\<noteq> None \\<Longrightarrow>\n    usubstr \\<sigma> ([A], C) \\<noteq> None \\<and>\n    usubstr \\<sigma> (B, C) \\<noteq> None", "by blast"], ["", "lemma usubstr_cons: \"(usubstr \\<sigma> ((Cons A B), C) \\<noteq> None) \\<Longrightarrow>\n  the (usubstr \\<sigma> ((Cons A B), C)) = (Cons (the (usubstappf \\<sigma> allvars A)) (fst (the (usubstr \\<sigma> (B, C)))), snd (the (usubstr \\<sigma> ([A], C))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A # B, C) \\<noteq> None \\<Longrightarrow>\n    the (usubstr \\<sigma> (A # B, C)) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> ([A], C))))", "using usubstr_union_undef map_cons usubstr_def"], ["proof (prove)\nusing this:\n  (usubstr ?\\<sigma> (?A @ ?B, ?C) \\<noteq> None) =\n  (usubstr ?\\<sigma> (?A, ?C) \\<noteq> None \\<and>\n   usubstr ?\\<sigma> (?B, ?C) \\<noteq> None)\n  map ?f (?x # ?xs) = ?f ?x # map ?f ?xs\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A # B, C) \\<noteq> None \\<Longrightarrow>\n    the (usubstr \\<sigma> (A # B, C)) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> ([A], C))))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "assume def: \"(usubstr \\<sigma> ((Cons A B), C) \\<noteq> None)\""], ["proof (state)\nthis:\n  usubstr \\<sigma> (A # B, C) \\<noteq> None\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "let ?R = \"((Cons A B), C)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "have \"the (usubstr \\<sigma> ?R) = (map(the o (usubstappf \\<sigma> allvars))(fst ?R) , the (usubstappf \\<sigma> allvars (snd ?R)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. the (usubstr \\<sigma> (A # B, C)) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A # B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C))))", "using def usubstr_def"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> (A # B, C) \\<noteq> None\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. the (usubstr \\<sigma> (A # B, C)) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A # B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C))))", "by (metis option.sel)"], ["proof (state)\nthis:\n  the (usubstr \\<sigma> (A # B, C)) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A # B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "also"], ["proof (state)\nthis:\n  the (usubstr \\<sigma> (A # B, C)) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A # B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "have \"... = (Cons (the (usubstappf \\<sigma> allvars A)) (map(the o (usubstappf \\<sigma> allvars))(B)) , the (usubstappf \\<sigma> allvars (snd ?R)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A # B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C)))) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C))))", "using map_cons"], ["proof (prove)\nusing this:\n  map ?f (?x # ?xs) = ?f ?x # map ?f ?xs\n\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A # B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C)))) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C))))", "by auto"], ["proof (state)\nthis:\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A # B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C)))) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "also"], ["proof (state)\nthis:\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A # B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C)))) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "have \"... = (Cons (the (usubstappf \\<sigma> allvars A)) (fst (the (usubstr \\<sigma> (B, C)))) , the (usubstappf \\<sigma> allvars (snd ?R)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C)))) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C))))", "using usubstr_cons_undef2[OF def] usubstr_def"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> ([A], C) \\<noteq> None \\<and>\n  usubstr \\<sigma> (B, C) \\<noteq> None\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C)))) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C))))", "by (metis (no_types, lifting) fst_conv option.sel)"], ["proof (state)\nthis:\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C)))) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "also"], ["proof (state)\nthis:\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C)))) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "have \"... = (Cons (the (usubstappf \\<sigma> allvars A)) (fst (the (usubstr \\<sigma> (B, C)))) , snd (the (usubstr \\<sigma> ([A], C))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C)))) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> ([A], C))))", "using def usubstr_def"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> (A # B, C) \\<noteq> None\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A # B, C)))) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> ([A], C))))", "by auto"], ["proof (state)\nthis:\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C)))) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> ([A], C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A # B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        (usubstr \\<sigma> (A @ B, C) \\<noteq> None) =\n        (usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n         usubstr \\<sigma> (B, C) \\<noteq> None);\n     \\<And>f x xs. map f (x # xs) = f x # map f xs;\n     \\<And>\\<sigma> R.\n        usubstr \\<sigma> R \\<equiv>\n        if usubstappf \\<sigma> Denotational_Semantics.allvars\n            (snd R) \\<noteq>\n           undeff \\<and>\n           (\\<forall>\\<phi>\\<in>set (fst R).\n               usubstappf \\<sigma> Denotational_Semantics.allvars\n                \\<phi> \\<noteq>\n               undeff)\n        then Some\n              (map (the \\<circ>\n                    usubstappf \\<sigma> Denotational_Semantics.allvars)\n                (fst R),\n               the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                     (snd R)))\n        else None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A # B, C)) =\n                      (the (usubstappf \\<sigma>\n                             Denotational_Semantics.allvars A) #\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> ([A], C))))", "ultimately"], ["proof (chain)\npicking this:\n  the (usubstr \\<sigma> (A # B, C)) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C)))) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> ([A], C))))", "show \"the (usubstr \\<sigma> ((Cons A B), C)) = (Cons (the (usubstappf \\<sigma> allvars A)) (fst (the (usubstr \\<sigma> (B, C)))) , snd (the (usubstr \\<sigma> ([A], C))))\""], ["proof (prove)\nusing this:\n  the (usubstr \\<sigma> (A # B, C)) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C))))\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A # B, C)))) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> ([A], C))))\n\ngoal (1 subgoal):\n 1. the (usubstr \\<sigma> (A # B, C)) =\n    (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> ([A], C))))", "by simp"], ["proof (state)\nthis:\n  the (usubstr \\<sigma> (A # B, C)) =\n  (the (usubstappf \\<sigma> Denotational_Semantics.allvars A) #\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> ([A], C))))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubstr_union: \"(usubstr \\<sigma> ((append A B), C) \\<noteq> None) \\<Longrightarrow>\n  the (usubstr \\<sigma> ((append A B), C)) = (append (fst (the (usubstr \\<sigma> (A, C)))) (fst (the (usubstr \\<sigma> (B, C)))), snd (the (usubstr \\<sigma> (A, C))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n    the (usubstr \\<sigma> (A @ B, C)) =\n    (fst (the (usubstr \\<sigma> (A, C))) @\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> (A, C))))", "using usubstr_union_undef2"], ["proof (prove)\nusing this:\n  usubstr ?\\<sigma> (?A @ ?B, ?C) \\<noteq> None \\<Longrightarrow>\n  usubstr ?\\<sigma> (?A, ?C) \\<noteq> None \\<and>\n  usubstr ?\\<sigma> (?B, ?C) \\<noteq> None\n\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n    the (usubstr \\<sigma> (A @ B, C)) =\n    (fst (the (usubstr \\<sigma> (A, C))) @\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> (A, C))))", "(*by (smt fst_pair map_append option.sel snd_pair usubstr_def)*)"], ["proof (prove)\nusing this:\n  usubstr ?\\<sigma> (?A @ ?B, ?C) \\<noteq> None \\<Longrightarrow>\n  usubstr ?\\<sigma> (?A, ?C) \\<noteq> None \\<and>\n  usubstr ?\\<sigma> (?B, ?C) \\<noteq> None\n\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n    the (usubstr \\<sigma> (A @ B, C)) =\n    (fst (the (usubstr \\<sigma> (A, C))) @\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> (A, C))))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "assume def: \"(usubstr \\<sigma> ((append A B), C) \\<noteq> None)\""], ["proof (state)\nthis:\n  usubstr \\<sigma> (A @ B, C) \\<noteq> None\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "let ?R = \"((append A B), C)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "have \"the (usubstr \\<sigma> ?R) = (map(the o (usubstappf \\<sigma> allvars))(fst ?R) , the (usubstappf \\<sigma> allvars (snd ?R)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. the (usubstr \\<sigma> (A @ B, C)) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A @ B, C))))", "using def usubstr_def"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> (A @ B, C) \\<noteq> None\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. the (usubstr \\<sigma> (A @ B, C)) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A @ B, C))))", "by (metis option.sel)"], ["proof (state)\nthis:\n  the (usubstr \\<sigma> (A @ B, C)) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A @ B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "also"], ["proof (state)\nthis:\n  the (usubstr \\<sigma> (A @ B, C)) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A @ B, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "have \"... = (map(the o (usubstappf \\<sigma> allvars))(fst ?R) , snd (the (usubstr \\<sigma> (A, C))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A @ B, C)))) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     snd (the (usubstr \\<sigma> (A, C))))", "using usubstr_union_undef2[OF def] usubstr_def"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n  usubstr \\<sigma> (B, C) \\<noteq> None\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     the (usubstappf \\<sigma> Denotational_Semantics.allvars\n           (snd (A @ B, C)))) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     snd (the (usubstr \\<sigma> (A, C))))", "by (metis option.sel sndI)"], ["proof (state)\nthis:\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A @ B, C)))) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   snd (the (usubstr \\<sigma> (A, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "also"], ["proof (state)\nthis:\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   the (usubstappf \\<sigma> Denotational_Semantics.allvars\n         (snd (A @ B, C)))) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   snd (the (usubstr \\<sigma> (A, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "have \"... = (append (map(the o (usubstappf \\<sigma> allvars))(A)) (map(the o (usubstappf \\<sigma> allvars))(B)) , snd (the (usubstr \\<sigma> (A, C))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     snd (the (usubstr \\<sigma> (A, C)))) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      A @\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     snd (the (usubstr \\<sigma> (A, C))))", "using usubstr_union_undef2[OF def] map_append"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n  usubstr \\<sigma> (B, C) \\<noteq> None\n  map ?f (?xs @ ?ys) = map ?f ?xs @ map ?f ?ys\n\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      (fst (A @ B, C)),\n     snd (the (usubstr \\<sigma> (A, C)))) =\n    (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      A @\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     snd (the (usubstr \\<sigma> (A, C))))", "by simp"], ["proof (state)\nthis:\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   snd (the (usubstr \\<sigma> (A, C)))) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) A @\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   snd (the (usubstr \\<sigma> (A, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "also"], ["proof (state)\nthis:\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n    (fst (A @ B, C)),\n   snd (the (usubstr \\<sigma> (A, C)))) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) A @\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   snd (the (usubstr \\<sigma> (A, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "have \"... = (append (fst (the (usubstr \\<sigma> (A, C)))) (fst (the (usubstr \\<sigma> (B, C)))), snd (the (usubstr \\<sigma> (A, C))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      A @\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     snd (the (usubstr \\<sigma> (A, C)))) =\n    (fst (the (usubstr \\<sigma> (A, C))) @\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> (A, C))))", "using usubstr_union_undef2[OF def] usubstr_def"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n  usubstr \\<sigma> (B, C) \\<noteq> None\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n\ngoal (1 subgoal):\n 1. (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars)\n      A @\n     map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n     snd (the (usubstr \\<sigma> (A, C)))) =\n    (fst (the (usubstr \\<sigma> (A, C))) @\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> (A, C))))", "by (metis (no_types, lifting) fst_conv option.sel)"], ["proof (state)\nthis:\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) A @\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   snd (the (usubstr \\<sigma> (A, C)))) =\n  (fst (the (usubstr \\<sigma> (A, C))) @\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> (A, C))))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> (A @ B, C) \\<noteq> None;\n     \\<And>\\<sigma> A B C.\n        usubstr \\<sigma> (A @ B, C) \\<noteq> None \\<Longrightarrow>\n        usubstr \\<sigma> (A, C) \\<noteq> None \\<and>\n        usubstr \\<sigma> (B, C) \\<noteq> None\\<rbrakk>\n    \\<Longrightarrow> the (usubstr \\<sigma> (A @ B, C)) =\n                      (fst (the (usubstr \\<sigma> (A, C))) @\n                       fst (the (usubstr \\<sigma> (B, C))),\n                       snd (the (usubstr \\<sigma> (A, C))))", "ultimately"], ["proof (chain)\npicking this:\n  the (usubstr \\<sigma> (A @ B, C)) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) A @\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   snd (the (usubstr \\<sigma> (A, C))))\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) A @\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   snd (the (usubstr \\<sigma> (A, C)))) =\n  (fst (the (usubstr \\<sigma> (A, C))) @\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> (A, C))))", "show \"the (usubstr \\<sigma> ((append A B), C)) = (append (fst (the (usubstr \\<sigma> (A, C)))) (fst (the (usubstr \\<sigma> (B, C)))), snd (the (usubstr \\<sigma> (A, C))))\""], ["proof (prove)\nusing this:\n  the (usubstr \\<sigma> (A @ B, C)) =\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) A @\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   snd (the (usubstr \\<sigma> (A, C))))\n  (map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) A @\n   map (the \\<circ> usubstappf \\<sigma> Denotational_Semantics.allvars) B,\n   snd (the (usubstr \\<sigma> (A, C)))) =\n  (fst (the (usubstr \\<sigma> (A, C))) @\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> (A, C))))\n\ngoal (1 subgoal):\n 1. the (usubstr \\<sigma> (A @ B, C)) =\n    (fst (the (usubstr \\<sigma> (A, C))) @\n     fst (the (usubstr \\<sigma> (B, C))),\n     snd (the (usubstr \\<sigma> (A, C))))", "by simp"], ["proof (state)\nthis:\n  the (usubstr \\<sigma> (A @ B, C)) =\n  (fst (the (usubstr \\<sigma> (A, C))) @\n   fst (the (usubstr \\<sigma> (B, C))),\n   snd (the (usubstr \\<sigma> (A, C))))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma usubstr_length: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow> length (fst (the (usubstr \\<sigma> R))) = length (fst R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow>\n    length (fst (the (usubstr \\<sigma> R))) = length (fst R)", "by (metis fst_pair length_map option.sel usubstr_def)"], ["", "lemma usubstr_nth: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow> 0\\<le>k \\<Longrightarrow> k<length (fst R) \\<Longrightarrow>\n   nth (fst (the (usubstr \\<sigma> R))) k = the (usubstappf \\<sigma> allvars (nth (fst R) k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; 0 \\<le> k;\n     k < length (fst R)\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> R)) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars (fst R ! k))", "(*unfolding usubstr_def using usubstr_length\n  by (smt comp_apply fst_pair nth_map option.sel)*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; 0 \\<le> k;\n     k < length (fst R)\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> R)) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars (fst R ! k))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; 0 \\<le> k;\n     k < length (fst R)\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> R)) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars (fst R ! k))", "assume a1: \"usubstr \\<sigma> R \\<noteq> None\""], ["proof (state)\nthis:\n  usubstr \\<sigma> R \\<noteq> None\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; 0 \\<le> k;\n     k < length (fst R)\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> R)) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars (fst R ! k))", "assume a2: \"0\\<le>k\""], ["proof (state)\nthis:\n  0 \\<le> k\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; 0 \\<le> k;\n     k < length (fst R)\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> R)) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars (fst R ! k))", "assume a3: \"k<length (fst R)\""], ["proof (state)\nthis:\n  k < length (fst R)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; 0 \\<le> k;\n     k < length (fst R)\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> R)) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars (fst R ! k))", "show \"nth (fst (the (usubstr \\<sigma> R))) k = the (usubstappf \\<sigma> allvars (nth (fst R) k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> R)) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst R ! k))", "using a1 a2 a3"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> R \\<noteq> None\n  0 \\<le> k\n  k < length (fst R)\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> R)) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst R ! k))", "proof (induction R arbitrary: k)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b k.\n       \\<lbrakk>usubstr \\<sigma> (a, b) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a, b))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a, b))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a, b) ! k))", "case (Pair A C)"], ["proof (state)\nthis:\n  usubstr \\<sigma> (A, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (A, C))\n\ngoal (1 subgoal):\n 1. \\<And>a b k.\n       \\<lbrakk>usubstr \\<sigma> (a, b) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a, b))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a, b))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a, b) ! k))", "then"], ["proof (chain)\npicking this:\n  usubstr \\<sigma> (A, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (A, C))", "show ?case"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> (A, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (A, C))\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (A, C))) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (A, C) ! k))", "proof (induction A arbitrary: k)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>usubstr \\<sigma> ([], C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst ([], C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> ([], C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst ([], C) ! k))\n 2. \\<And>a A k.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (A, C) \\<noteq> None;\n                    0 \\<le> k; k < length (fst (A, C))\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (A, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (fst (A, C) ! k));\n        usubstr \\<sigma> (a # A, C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a # A, C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a # A, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a # A, C) ! k))", "case Nil"], ["proof (state)\nthis:\n  usubstr \\<sigma> ([], C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst ([], C))\n\ngoal (2 subgoals):\n 1. \\<And>k.\n       \\<lbrakk>usubstr \\<sigma> ([], C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst ([], C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> ([], C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst ([], C) ! k))\n 2. \\<And>a A k.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (A, C) \\<noteq> None;\n                    0 \\<le> k; k < length (fst (A, C))\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (A, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (fst (A, C) ! k));\n        usubstr \\<sigma> (a # A, C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a # A, C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a # A, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a # A, C) ! k))", "then"], ["proof (chain)\npicking this:\n  usubstr \\<sigma> ([], C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst ([], C))", "show ?case"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> ([], C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst ([], C))\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> ([], C))) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst ([], C) ! k))", "by simp"], ["proof (state)\nthis:\n  fst (the (usubstr \\<sigma> ([], C))) ! k =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst ([], C) ! k))\n\ngoal (1 subgoal):\n 1. \\<And>a A k.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (A, C) \\<noteq> None;\n                    0 \\<le> k; k < length (fst (A, C))\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (A, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (fst (A, C) ! k));\n        usubstr \\<sigma> (a # A, C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a # A, C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a # A, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a # A, C) ! k))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a A k.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (A, C) \\<noteq> None;\n                    0 \\<le> k; k < length (fst (A, C))\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (A, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (fst (A, C) ! k));\n        usubstr \\<sigma> (a # A, C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a # A, C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a # A, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a # A, C) ! k))", "case (Cons D E)"], ["proof (state)\nthis:\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length (fst (E, C))\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (fst (E, C) ! ?k))\n  usubstr \\<sigma> (D # E, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (D # E, C))\n\ngoal (1 subgoal):\n 1. \\<And>a A k.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (A, C) \\<noteq> None;\n                    0 \\<le> k; k < length (fst (A, C))\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (A, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (fst (A, C) ! k));\n        usubstr \\<sigma> (a # A, C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a # A, C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a # A, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a # A, C) ! k))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length (fst (E, C))\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (fst (E, C) ! ?k))\n  usubstr \\<sigma> (D # E, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (D # E, C))", "have IH: \"\\<And>k. usubstr \\<sigma> (E, C) \\<noteq> None \\<Longrightarrow> 0 \\<le> k \\<Longrightarrow> k < length E \\<Longrightarrow> nth (fst (the (usubstr \\<sigma> (E, C)))) k = the (usubstappf \\<sigma> allvars (nth E k))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length (fst (E, C))\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (fst (E, C) ! ?k))\n  usubstr \\<sigma> (D # E, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (D # E, C))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> k;\n        k < length E\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars (E ! k))", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length E\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (E ! ?k))\n\ngoal (1 subgoal):\n 1. \\<And>a A k.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (A, C) \\<noteq> None;\n                    0 \\<le> k; k < length (fst (A, C))\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (A, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (fst (A, C) ! k));\n        usubstr \\<sigma> (a # A, C) \\<noteq> None; 0 \\<le> k;\n        k < length (fst (a # A, C))\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (a # A, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (a # A, C) ! k))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length E\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (E ! ?k))", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length E\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (E ! ?k))\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (D # E, C) ! k))", "proof (cases k)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k.\n                \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> k;\n                 k < length E\\<rbrakk>\n                \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! k =\n                                  the (usubstappf \\<sigma>\n  Denotational_Semantics.allvars (E ! k));\n     k = 0\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars\n                            (fst (D # E, C) ! k))\n 2. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "case 0"], ["proof (state)\nthis:\n  k = 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>k.\n                \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> k;\n                 k < length E\\<rbrakk>\n                \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! k =\n                                  the (usubstappf \\<sigma>\n  Denotational_Semantics.allvars (E ! k));\n     k = 0\\<rbrakk>\n    \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                      the (usubstappf \\<sigma>\n                            Denotational_Semantics.allvars\n                            (fst (D # E, C) ! k))\n 2. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "then"], ["proof (chain)\npicking this:\n  k = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  k = 0\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (D # E, C) ! k))", "using Cons usubstr_cons"], ["proof (prove)\nusing this:\n  k = 0\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length (fst (E, C))\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (fst (E, C) ! ?k))\n  usubstr \\<sigma> (D # E, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (D # E, C))\n  usubstr ?\\<sigma> (?A # ?B, ?C) \\<noteq> None \\<Longrightarrow>\n  the (usubstr ?\\<sigma> (?A # ?B, ?C)) =\n  (the (usubstappf ?\\<sigma> Denotational_Semantics.allvars ?A) #\n   fst (the (usubstr ?\\<sigma> (?B, ?C))),\n   snd (the (usubstr ?\\<sigma> ([?A], ?C))))\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (D # E, C) ! k))", "by simp"], ["proof (state)\nthis:\n  fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars\n        (fst (D # E, C) ! k))\n\ngoal (1 subgoal):\n 1. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "case (Suc n)"], ["proof (state)\nthis:\n  k = Suc n\n\ngoal (1 subgoal):\n 1. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "then"], ["proof (chain)\npicking this:\n  k = Suc n", "have smaller: \"n<length E\""], ["proof (prove)\nusing this:\n  k = Suc n\n\ngoal (1 subgoal):\n 1. n < length E", "using Cons.prems(3)"], ["proof (prove)\nusing this:\n  k = Suc n\n  k < length (fst (D # E, C))\n\ngoal (1 subgoal):\n 1. n < length E", "by auto"], ["proof (state)\nthis:\n  n < length E\n\ngoal (1 subgoal):\n 1. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "have nati: \"0\\<le>n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> n", "by simp"], ["proof (state)\nthis:\n  0 \\<le> n\n\ngoal (1 subgoal):\n 1. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "have def: \"usubstr \\<sigma> (E, C) \\<noteq> None\""], ["proof (prove)\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (E, C) \\<noteq> None", "using usubstr_cons_undef2[OF Cons.prems(1)]"], ["proof (prove)\nusing this:\n  usubstr \\<sigma> ([D], C) \\<noteq> None \\<and>\n  usubstr \\<sigma> (E, C) \\<noteq> None\n\ngoal (1 subgoal):\n 1. usubstr \\<sigma> (E, C) \\<noteq> None", "by blast"], ["proof (state)\nthis:\n  usubstr \\<sigma> (E, C) \\<noteq> None\n\ngoal (1 subgoal):\n 1. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "have \"nth (fst (the (usubstr \\<sigma> (E, C)))) n = the (usubstappf \\<sigma> allvars (nth (fst (E,C)) n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (E, C))) ! n =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (E, C) ! n))", "using IH[OF def, OF nati, OF smaller]"], ["proof (prove)\nusing this:\n  fst (the (usubstr \\<sigma> (E, C))) ! n =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (E ! n))\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (E, C))) ! n =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (E, C) ! n))", "by simp"], ["proof (state)\nthis:\n  fst (the (usubstr \\<sigma> (E, C))) ! n =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst (E, C) ! n))\n\ngoal (1 subgoal):\n 1. \\<And>nat.\n       \\<lbrakk>\\<And>k.\n                   \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None;\n                    0 \\<le> k; k < length E\\<rbrakk>\n                   \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) !\n                                     k =\n                                     the\n(usubstappf \\<sigma> Denotational_Semantics.allvars (E ! k));\n        k = Suc nat\\<rbrakk>\n       \\<Longrightarrow> fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n                         the (usubstappf \\<sigma>\n                               Denotational_Semantics.allvars\n                               (fst (D # E, C) ! k))", "then"], ["proof (chain)\npicking this:\n  fst (the (usubstr \\<sigma> (E, C))) ! n =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst (E, C) ! n))", "show ?thesis"], ["proof (prove)\nusing this:\n  fst (the (usubstr \\<sigma> (E, C))) ! n =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst (E, C) ! n))\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (D # E, C) ! k))", "using Cons usubstr_cons"], ["proof (prove)\nusing this:\n  fst (the (usubstr \\<sigma> (E, C))) ! n =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst (E, C) ! n))\n  \\<lbrakk>usubstr \\<sigma> (E, C) \\<noteq> None; 0 \\<le> ?k;\n   ?k < length (fst (E, C))\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr \\<sigma> (E, C))) ! ?k =\n                    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                          (fst (E, C) ! ?k))\n  usubstr \\<sigma> (D # E, C) \\<noteq> None\n  0 \\<le> k\n  k < length (fst (D # E, C))\n  usubstr ?\\<sigma> (?A # ?B, ?C) \\<noteq> None \\<Longrightarrow>\n  the (usubstr ?\\<sigma> (?A # ?B, ?C)) =\n  (the (usubstappf ?\\<sigma> Denotational_Semantics.allvars ?A) #\n   fst (the (usubstr ?\\<sigma> (?B, ?C))),\n   snd (the (usubstr ?\\<sigma> ([?A], ?C))))\n\ngoal (1 subgoal):\n 1. fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n    the (usubstappf \\<sigma> Denotational_Semantics.allvars\n          (fst (D # E, C) ! k))", "by (simp add: Suc)"], ["proof (state)\nthis:\n  fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars\n        (fst (D # E, C) ! k))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  fst (the (usubstr \\<sigma> (D # E, C))) ! k =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars\n        (fst (D # E, C) ! k))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  fst (the (usubstr \\<sigma> (A, C))) ! k =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst (A, C) ! k))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  fst (the (usubstr \\<sigma> R)) ! k =\n  the (usubstappf \\<sigma> Denotational_Semantics.allvars (fst R ! k))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Theorem 19 of \\<^url>\\<open>http://arxiv.org/abs/1902.07230\\<close>\\<close>"], ["", "theorem usubst_rule_sound: \"usubstr \\<sigma> R \\<noteq> None \\<Longrightarrow> locally_sound R \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "assume def: \"usubstr \\<sigma> R \\<noteq> None\""], ["proof (state)\nthis:\n  usubstr \\<sigma> R \\<noteq> None\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "assume prem: \"locally_sound R\""], ["proof (state)\nthis:\n  locally_sound R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "let ?\\<sigma>D = \"usubstr \\<sigma> R\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "fix \\<omega>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "from usubst_fml"], ["proof (chain)\npicking this:\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem ?I\n                            (the (usubstappf ?\\<sigma> ?U ?\\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<phi>)", "have substeq: \"\\<And>I \\<nu> \\<phi>. usubstappf \\<sigma> allvars \\<phi> \\<noteq> undeff \\<Longrightarrow> (\\<nu> \\<in> fml_sem I (the (usubstappf \\<sigma> allvars \\<phi>))) = (\\<nu> \\<in> fml_sem (adjoint \\<sigma> I \\<omega>) \\<phi>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem ?I\n                            (the (usubstappf ?\\<sigma> ?U ?\\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<phi>)\n\ngoal (1 subgoal):\n 1. \\<And>I \\<nu> \\<phi>.\n       usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n       undeff \\<Longrightarrow>\n       (\\<nu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                      \\<phi>))) =\n       (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "using Uvariation_univ"], ["proof (prove)\nusing this:\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem ?I\n                            (the (usubstappf ?\\<sigma> ?U ?\\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<phi>)\n  Uvariation ?\\<nu> ?\\<nu>' Denotational_Semantics.allvars\n\ngoal (1 subgoal):\n 1. \\<And>I \\<nu> \\<phi>.\n       usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n       undeff \\<Longrightarrow>\n       (\\<nu>\n        \\<in> fml_sem I\n               (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                      \\<phi>))) =\n       (\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "by blast"], ["proof (state)\nthis:\n  usubstappf \\<sigma> Denotational_Semantics.allvars ?\\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem ?I\n          (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                 ?\\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> ?I \\<omega>) ?\\<phi>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "then"], ["proof (chain)\npicking this:\n  usubstappf \\<sigma> Denotational_Semantics.allvars ?\\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem ?I\n          (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                 ?\\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> ?I \\<omega>) ?\\<phi>)", "have substval: \"\\<And>I. usubstappf \\<sigma> allvars \\<phi> \\<noteq> undeff \\<Longrightarrow> valid_in I (the (usubstappf \\<sigma> allvars \\<phi>)) = valid_in (adjoint \\<sigma> I \\<omega>) \\<phi>\""], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> Denotational_Semantics.allvars ?\\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem ?I\n          (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                 ?\\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> ?I \\<omega>) ?\\<phi>)\n\ngoal (1 subgoal):\n 1. \\<And>I.\n       usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n       undeff \\<Longrightarrow>\n       valid_in I\n        (the (usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi>)) =\n       valid_in (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>", "unfolding valid_in_def"], ["proof (prove)\nusing this:\n  usubstappf \\<sigma> Denotational_Semantics.allvars ?\\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem ?I\n          (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                 ?\\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> ?I \\<omega>) ?\\<phi>)\n\ngoal (1 subgoal):\n 1. \\<And>I.\n       usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n       undeff \\<Longrightarrow>\n       (\\<forall>\\<omega>.\n           \\<omega>\n           \\<in> fml_sem I\n                  (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                         \\<phi>))) =\n       (\\<forall>\\<omega>'.\n           \\<omega>'\n           \\<in> fml_sem (USubst.adjoint \\<sigma> I \\<omega>) \\<phi>)", "by auto"], ["proof (state)\nthis:\n  usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  valid_in ?I\n   (the (usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi>)) =\n  valid_in (USubst.adjoint \\<sigma> ?I \\<omega>) \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>usubstr \\<sigma> R \\<noteq> None; locally_sound R\\<rbrakk>\n    \\<Longrightarrow> locally_sound (the (usubstr \\<sigma> R))", "show \"locally_sound (the (usubstr \\<sigma> R))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. locally_sound (the (usubstr \\<sigma> R))", "unfolding locally_sound_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>I.\n       (\\<forall>k\\<ge>0.\n           k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n           valid_in I\n            (fst (the (usubstr \\<sigma> R)) ! k)) \\<longrightarrow>\n       valid_in I (snd (the (usubstr \\<sigma> R)))", "proof (clarify)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>I.\n       \\<forall>k\\<ge>0.\n          k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n          valid_in I (fst (the (usubstr \\<sigma> R)) ! k) \\<Longrightarrow>\n       valid_in I (snd (the (usubstr \\<sigma> R)))", "fix I"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>I.\n       \\<forall>k\\<ge>0.\n          k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n          valid_in I (fst (the (usubstr \\<sigma> R)) ! k) \\<Longrightarrow>\n       valid_in I (snd (the (usubstr \\<sigma> R)))", "assume \"\\<forall>k\\<ge>0. k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow> valid_in I (nth (fst (the (usubstr \\<sigma> R))) k)\""], ["proof (state)\nthis:\n  \\<forall>k\\<ge>0.\n     k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n     valid_in I (fst (the (usubstr \\<sigma> R)) ! k)\n\ngoal (1 subgoal):\n 1. \\<And>I.\n       \\<forall>k\\<ge>0.\n          k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n          valid_in I (fst (the (usubstr \\<sigma> R)) ! k) \\<Longrightarrow>\n       valid_in I (snd (the (usubstr \\<sigma> R)))", "then"], ["proof (chain)\npicking this:\n  \\<forall>k\\<ge>0.\n     k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n     valid_in I (fst (the (usubstr \\<sigma> R)) ! k)", "have \"\\<forall>k\\<ge>0. k < length (fst R) \\<longrightarrow> valid_in (adjoint \\<sigma> I \\<omega>) (nth (fst R) k)\""], ["proof (prove)\nusing this:\n  \\<forall>k\\<ge>0.\n     k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n     valid_in I (fst (the (usubstr \\<sigma> R)) ! k)\n\ngoal (1 subgoal):\n 1. \\<forall>k\\<ge>0.\n       k < length (fst R) \\<longrightarrow>\n       valid_in (USubst.adjoint \\<sigma> I \\<omega>) (fst R ! k)", "using substval usubstr_nth usubstr_length substeq valid_in_def"], ["proof (prove)\nusing this:\n  \\<forall>k\\<ge>0.\n     k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n     valid_in I (fst (the (usubstr \\<sigma> R)) ! k)\n  usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  valid_in ?I\n   (the (usubstappf \\<sigma> Denotational_Semantics.allvars \\<phi>)) =\n  valid_in (USubst.adjoint \\<sigma> ?I \\<omega>) \\<phi>\n  \\<lbrakk>usubstr ?\\<sigma> ?R \\<noteq> None; 0 \\<le> ?k;\n   ?k < length (fst ?R)\\<rbrakk>\n  \\<Longrightarrow> fst (the (usubstr ?\\<sigma> ?R)) ! ?k =\n                    the (usubstappf ?\\<sigma> Denotational_Semantics.allvars\n                          (fst ?R ! ?k))\n  usubstr ?\\<sigma> ?R \\<noteq> None \\<Longrightarrow>\n  length (fst (the (usubstr ?\\<sigma> ?R))) = length (fst ?R)\n  usubstappf \\<sigma> Denotational_Semantics.allvars ?\\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem ?I\n          (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                 ?\\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> ?I \\<omega>) ?\\<phi>)\n  valid_in ?I ?\\<phi> \\<equiv>\n  \\<forall>\\<omega>. \\<omega> \\<in> fml_sem ?I ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<forall>k\\<ge>0.\n       k < length (fst R) \\<longrightarrow>\n       valid_in (USubst.adjoint \\<sigma> I \\<omega>) (fst R ! k)", "by (metis def nth_mem usubstr_def)"], ["proof (state)\nthis:\n  \\<forall>k\\<ge>0.\n     k < length (fst R) \\<longrightarrow>\n     valid_in (USubst.adjoint \\<sigma> I \\<omega>) (fst R ! k)\n\ngoal (1 subgoal):\n 1. \\<And>I.\n       \\<forall>k\\<ge>0.\n          k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n          valid_in I (fst (the (usubstr \\<sigma> R)) ! k) \\<Longrightarrow>\n       valid_in I (snd (the (usubstr \\<sigma> R)))", "then"], ["proof (chain)\npicking this:\n  \\<forall>k\\<ge>0.\n     k < length (fst R) \\<longrightarrow>\n     valid_in (USubst.adjoint \\<sigma> I \\<omega>) (fst R ! k)", "have \"valid_in (adjoint \\<sigma> I \\<omega>) (snd R)\""], ["proof (prove)\nusing this:\n  \\<forall>k\\<ge>0.\n     k < length (fst R) \\<longrightarrow>\n     valid_in (USubst.adjoint \\<sigma> I \\<omega>) (fst R ! k)\n\ngoal (1 subgoal):\n 1. valid_in (USubst.adjoint \\<sigma> I \\<omega>) (snd R)", "using prem"], ["proof (prove)\nusing this:\n  \\<forall>k\\<ge>0.\n     k < length (fst R) \\<longrightarrow>\n     valid_in (USubst.adjoint \\<sigma> I \\<omega>) (fst R ! k)\n  locally_sound R\n\ngoal (1 subgoal):\n 1. valid_in (USubst.adjoint \\<sigma> I \\<omega>) (snd R)", "unfolding locally_sound_def"], ["proof (prove)\nusing this:\n  \\<forall>k\\<ge>0.\n     k < length (fst R) \\<longrightarrow>\n     valid_in (USubst.adjoint \\<sigma> I \\<omega>) (fst R ! k)\n  \\<forall>I.\n     (\\<forall>k\\<ge>0.\n         k < length (fst R) \\<longrightarrow>\n         valid_in I (fst R ! k)) \\<longrightarrow>\n     valid_in I (snd R)\n\ngoal (1 subgoal):\n 1. valid_in (USubst.adjoint \\<sigma> I \\<omega>) (snd R)", "by simp"], ["proof (state)\nthis:\n  valid_in (USubst.adjoint \\<sigma> I \\<omega>) (snd R)\n\ngoal (1 subgoal):\n 1. \\<And>I.\n       \\<forall>k\\<ge>0.\n          k < length (fst (the (usubstr \\<sigma> R))) \\<longrightarrow>\n          valid_in I (fst (the (usubstr \\<sigma> R)) ! k) \\<Longrightarrow>\n       valid_in I (snd (the (usubstr \\<sigma> R)))", "from this"], ["proof (chain)\npicking this:\n  valid_in (USubst.adjoint \\<sigma> I \\<omega>) (snd R)", "show \"valid_in I (snd (the (usubstr \\<sigma> R)))\""], ["proof (prove)\nusing this:\n  valid_in (USubst.adjoint \\<sigma> I \\<omega>) (snd R)\n\ngoal (1 subgoal):\n 1. valid_in I (snd (the (usubstr \\<sigma> R)))", "using usubst_fml substeq usubstr_def valid_in_def"], ["proof (prove)\nusing this:\n  valid_in (USubst.adjoint \\<sigma> I \\<omega>) (snd R)\n  \\<lbrakk>Uvariation ?\\<nu> ?\\<omega> ?U;\n   usubstappf ?\\<sigma> ?U ?\\<phi> \\<noteq> undeff\\<rbrakk>\n  \\<Longrightarrow> (?\\<nu>\n                     \\<in> fml_sem ?I\n                            (the (usubstappf ?\\<sigma> ?U ?\\<phi>))) =\n                    (?\\<nu>\n                     \\<in> fml_sem (USubst.adjoint ?\\<sigma> ?I ?\\<omega>)\n                            ?\\<phi>)\n  usubstappf \\<sigma> Denotational_Semantics.allvars ?\\<phi> \\<noteq>\n  undeff \\<Longrightarrow>\n  (?\\<nu>\n   \\<in> fml_sem ?I\n          (the (usubstappf \\<sigma> Denotational_Semantics.allvars\n                 ?\\<phi>))) =\n  (?\\<nu> \\<in> fml_sem (USubst.adjoint \\<sigma> ?I \\<omega>) ?\\<phi>)\n  usubstr ?\\<sigma> ?R \\<equiv>\n  if usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R) \\<noteq>\n     undeff \\<and>\n     (\\<forall>\\<phi>\\<in>set (fst ?R).\n         usubstappf ?\\<sigma> Denotational_Semantics.allvars \\<phi> \\<noteq>\n         undeff)\n  then Some\n        (map (the \\<circ>\n              usubstappf ?\\<sigma> Denotational_Semantics.allvars)\n          (fst ?R),\n         the (usubstappf ?\\<sigma> Denotational_Semantics.allvars (snd ?R)))\n  else None\n  valid_in ?I ?\\<phi> \\<equiv>\n  \\<forall>\\<omega>. \\<omega> \\<in> fml_sem ?I ?\\<phi>\n\ngoal (1 subgoal):\n 1. valid_in I (snd (the (usubstr \\<sigma> R)))", "by (metis def option.sel snd_conv)"], ["proof (state)\nthis:\n  valid_in I (snd (the (usubstr \\<sigma> R)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  locally_sound (the (usubstr \\<sigma> R))\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}