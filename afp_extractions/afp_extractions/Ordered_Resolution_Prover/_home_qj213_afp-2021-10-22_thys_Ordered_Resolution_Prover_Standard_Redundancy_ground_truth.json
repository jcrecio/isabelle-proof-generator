{"file_name": "/home/qj213/afp-2021-10-22/thys/Ordered_Resolution_Prover/Standard_Redundancy.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Ordered_Resolution_Prover", "problem_names": ["lemma tautology_Rf:\n  assumes \"Pos A \\<in># C\"\n  assumes \"Neg A \\<in># C\"\n  shows \"C \\<in> Rf N\"", "lemma tautology_redundant_infer:\n  assumes\n    pos: \"Pos A \\<in># concl_of \\<iota>\" and\n    neg: \"Neg A \\<in># concl_of \\<iota>\"\n  shows \"redundant_infer N \\<iota>\"", "lemma contradiction_Rf: \"{#} \\<in> N \\<Longrightarrow> Rf N = UNIV - {{#}}\"", "lemma Rf_mono: \"N \\<subseteq> N' \\<Longrightarrow> Rf N \\<subseteq> Rf N'\"", "lemma wlog_non_Rf:\n  assumes ex: \"\\<exists>DD. set_mset DD \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)\"\n  shows \"\\<exists>DD. set_mset DD \\<subseteq> N - Rf N \\<and> (\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)\"", "lemma Rf_imp_ex_non_Rf:\n  assumes \"C \\<in> Rf N\"\n  shows \"\\<exists>CC. set_mset CC \\<subseteq> N - Rf N \\<and> (\\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C) \\<and> (\\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C)\"", "lemma Rf_subs_Rf_diff_Rf: \"Rf N \\<subseteq> Rf (N - Rf N)\"", "lemma Rf_eq_Rf_diff_Rf: \"Rf N = Rf (N - Rf N)\"", "lemma Ri_mono: \"N \\<subseteq> N' \\<Longrightarrow> Ri N \\<subseteq> Ri N'\"", "lemma Ri_subs_Ri_diff_Rf: \"Ri N \\<subseteq> Ri (N - Rf N)\"", "lemma Ri_eq_Ri_diff_Rf: \"Ri N = Ri (N - Rf N)\"", "lemma Ri_subset_\\<Gamma>: \"Ri N \\<subseteq> \\<Gamma>\"", "lemma Rf_indep: \"N' \\<subseteq> Rf N \\<Longrightarrow> Rf N \\<subseteq> Rf (N - N')\"", "lemma Ri_indep: \"N' \\<subseteq> Rf N \\<Longrightarrow> Ri N \\<subseteq> Ri (N - N')\"", "lemma Rf_model:\n  assumes \"I \\<Turnstile>s N - Rf N\"\n  shows \"I \\<Turnstile>s N\"", "lemma Rf_sat: \"satisfiable (N - Rf N) \\<Longrightarrow> satisfiable N\"", "lemma Ri_effective:\n  assumes\n    in_\\<gamma>: \"\\<gamma> \\<in> \\<Gamma>\" and\n    concl_of_in_n_un_rf_n: \"concl_of \\<gamma> \\<in> N \\<union> Rf N\"\n  shows \"\\<gamma> \\<in> Ri N\"", "lemma contradiction_Rf: \"{#} \\<in> N \\<Longrightarrow> Ri N = \\<Gamma>\"", "lemma saturated_upto_complete_if:\n  assumes\n    satur: \"saturated_upto N\" and\n    unsat: \"\\<not> satisfiable N\"\n  shows \"{#} \\<in> N\"", "theorem saturated_upto_complete:\n  assumes \"saturated_upto N\"\n  shows \"\\<not> satisfiable N \\<longleftrightarrow> {#} \\<in> N\""], "translations": [["", "lemma tautology_Rf:\n  assumes \"Pos A \\<in># C\"\n  assumes \"Neg A \\<in># C\"\n  shows \"C \\<in> Rf N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C \\<in> Rf N", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. C \\<in> Rf N", "have \"set_mset {#} \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m {#} \\<longrightarrow> I \\<Turnstile> C) \\<and> (\\<forall>D. D \\<in># {#} \\<longrightarrow> D < C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset {#} \\<subseteq> N \\<and>\n    (\\<forall>I.\n        I \\<Turnstile>m {#} \\<longrightarrow> I \\<Turnstile> C) \\<and>\n    (\\<forall>D. D \\<in># {#} \\<longrightarrow> D < C)", "using assms"], ["proof (prove)\nusing this:\n  Pos A \\<in># C\n  Neg A \\<in># C\n\ngoal (1 subgoal):\n 1. set_mset {#} \\<subseteq> N \\<and>\n    (\\<forall>I.\n        I \\<Turnstile>m {#} \\<longrightarrow> I \\<Turnstile> C) \\<and>\n    (\\<forall>D. D \\<in># {#} \\<longrightarrow> D < C)", "by auto"], ["proof (state)\nthis:\n  set_mset {#} \\<subseteq> N \\<and>\n  (\\<forall>I.\n      I \\<Turnstile>m {#} \\<longrightarrow> I \\<Turnstile> C) \\<and>\n  (\\<forall>D. D \\<in># {#} \\<longrightarrow> D < C)\n\ngoal (1 subgoal):\n 1. C \\<in> Rf N", "then"], ["proof (chain)\npicking this:\n  set_mset {#} \\<subseteq> N \\<and>\n  (\\<forall>I.\n      I \\<Turnstile>m {#} \\<longrightarrow> I \\<Turnstile> C) \\<and>\n  (\\<forall>D. D \\<in># {#} \\<longrightarrow> D < C)", "show \"C \\<in> Rf N\""], ["proof (prove)\nusing this:\n  set_mset {#} \\<subseteq> N \\<and>\n  (\\<forall>I.\n      I \\<Turnstile>m {#} \\<longrightarrow> I \\<Turnstile> C) \\<and>\n  (\\<forall>D. D \\<in># {#} \\<longrightarrow> D < C)\n\ngoal (1 subgoal):\n 1. C \\<in> Rf N", "unfolding Rf_def"], ["proof (prove)\nusing this:\n  set_mset {#} \\<subseteq> N \\<and>\n  (\\<forall>I.\n      I \\<Turnstile>m {#} \\<longrightarrow> I \\<Turnstile> C) \\<and>\n  (\\<forall>D. D \\<in># {#} \\<longrightarrow> D < C)\n\ngoal (1 subgoal):\n 1. C \\<in> {C. \\<exists>DD.\n                   set_mset DD \\<subseteq> N \\<and>\n                   (\\<forall>I.\n                       I \\<Turnstile>m DD \\<longrightarrow>\n                       I \\<Turnstile> C) \\<and>\n                   (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}", "by blast"], ["proof (state)\nthis:\n  C \\<in> Rf N\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tautology_redundant_infer:\n  assumes\n    pos: \"Pos A \\<in># concl_of \\<iota>\" and\n    neg: \"Neg A \\<in># concl_of \\<iota>\"\n  shows \"redundant_infer N \\<iota>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. redundant_infer N \\<iota>", "by (metis empty_iff empty_subsetI neg pos pos_neg_in_imp_true redundant_infer_def set_mset_empty)"], ["", "lemma contradiction_Rf: \"{#} \\<in> N \\<Longrightarrow> Rf N = UNIV - {{#}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {#} \\<in> N \\<Longrightarrow> Rf N = UNIV - {{#}}", "unfolding Rf_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {#} \\<in> N \\<Longrightarrow>\n    {C. \\<exists>DD.\n           set_mset DD \\<subseteq> N \\<and>\n           (\\<forall>I.\n               I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> C) \\<and>\n           (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)} =\n    UNIV - {{#}}", "by force"], ["", "text \\<open>\nThe following results correspond to Lemma 4.5. The lemma \\<open>wlog_non_Rf\\<close> generalizes the core of\nthe argument.\n\\<close>"], ["", "lemma Rf_mono: \"N \\<subseteq> N' \\<Longrightarrow> Rf N \\<subseteq> Rf N'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<subseteq> N' \\<Longrightarrow> Rf N \\<subseteq> Rf N'", "unfolding Rf_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<subseteq> N' \\<Longrightarrow>\n    {C. \\<exists>DD.\n           set_mset DD \\<subseteq> N \\<and>\n           (\\<forall>I.\n               I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> C) \\<and>\n           (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n    \\<subseteq> {C. \\<exists>DD.\n                       set_mset DD \\<subseteq> N' \\<and>\n                       (\\<forall>I.\n                           I \\<Turnstile>m DD \\<longrightarrow>\n                           I \\<Turnstile> C) \\<and>\n                       (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}", "by auto"], ["", "lemma wlog_non_Rf:\n  assumes ex: \"\\<exists>DD. set_mset DD \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)\"\n  shows \"\\<exists>DD. set_mset DD \\<subseteq> N - Rf N \\<and> (\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "from ex"], ["proof (chain)\npicking this:\n  \\<exists>DD.\n     set_mset DD \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "obtain DD0 where\n    dd0: \"DD0 \\<in> {DD. set_mset DD \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)}\""], ["proof (prove)\nusing this:\n  \\<exists>DD.\n     set_mset DD \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)\n\ngoal (1 subgoal):\n 1. (\\<And>DD0.\n        DD0\n        \\<in> {DD.\n               set_mset DD \\<subseteq> N \\<and>\n               (\\<forall>I.\n                   I \\<Turnstile>m DD + CC \\<longrightarrow>\n                   I \\<Turnstile> E) \\<and>\n               (\\<forall>D'.\n                   D' \\<in># DD \\<longrightarrow> D' < D)} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  DD0\n  \\<in> {DD.\n         set_mset DD \\<subseteq> N \\<and>\n         (\\<forall>I.\n             I \\<Turnstile>m DD + CC \\<longrightarrow>\n             I \\<Turnstile> E) \\<and>\n         (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)}\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "have \"\\<exists>DD. set_mset DD \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D) \\<and>\n      (\\<forall>DD'. set_mset DD' \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n    DD \\<le> DD')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D) \\<and>\n       (\\<forall>DD'.\n           set_mset DD' \\<subseteq> N \\<and>\n           (\\<forall>I.\n               I \\<Turnstile>m DD' + CC \\<longrightarrow>\n               I \\<Turnstile> E) \\<and>\n           (\\<forall>D'.\n               D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n           DD \\<le> DD')", "using wf_eq_minimal[THEN iffD1, rule_format, OF wf_less_multiset dd0]"], ["proof (prove)\nusing this:\n  \\<exists>z\\<in>{DD.\n                  set_mset DD \\<subseteq> N \\<and>\n                  (\\<forall>I.\n                      I \\<Turnstile>m DD + CC \\<longrightarrow>\n                      I \\<Turnstile> E) \\<and>\n                  (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)}.\n     \\<forall>y.\n        (y, z) \\<in> {(M, N). M < N} \\<longrightarrow>\n        y \\<notin> {DD.\n                    set_mset DD \\<subseteq> N \\<and>\n                    (\\<forall>I.\n                        I \\<Turnstile>m DD + CC \\<longrightarrow>\n                        I \\<Turnstile> E) \\<and>\n                    (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)}\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D) \\<and>\n       (\\<forall>DD'.\n           set_mset DD' \\<subseteq> N \\<and>\n           (\\<forall>I.\n               I \\<Turnstile>m DD' + CC \\<longrightarrow>\n               I \\<Turnstile> E) \\<and>\n           (\\<forall>D'.\n               D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n           DD \\<le> DD')", "unfolding not_le[symmetric]"], ["proof (prove)\nusing this:\n  \\<exists>z\\<in>{DD.\n                  set_mset DD \\<subseteq> N \\<and>\n                  (\\<forall>I.\n                      I \\<Turnstile>m DD + CC \\<longrightarrow>\n                      I \\<Turnstile> E) \\<and>\n                  (\\<forall>D'.\n                      D' \\<in># DD \\<longrightarrow> \\<not> D \\<le> D')}.\n     \\<forall>y.\n        (y, z) \\<in> {(M, N). \\<not> N \\<le> M} \\<longrightarrow>\n        y \\<notin> {DD.\n                    set_mset DD \\<subseteq> N \\<and>\n                    (\\<forall>I.\n                        I \\<Turnstile>m DD + CC \\<longrightarrow>\n                        I \\<Turnstile> E) \\<and>\n                    (\\<forall>D'.\n                        D' \\<in># DD \\<longrightarrow> \\<not> D \\<le> D')}\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'.\n           D' \\<in># DD \\<longrightarrow> \\<not> D \\<le> D') \\<and>\n       (\\<forall>DD'.\n           set_mset DD' \\<subseteq> N \\<and>\n           (\\<forall>I.\n               I \\<Turnstile>m DD' + CC \\<longrightarrow>\n               I \\<Turnstile> E) \\<and>\n           (\\<forall>D'.\n               D' \\<in># DD' \\<longrightarrow>\n               \\<not> D \\<le> D') \\<longrightarrow>\n           DD \\<le> DD')", "by blast"], ["proof (state)\nthis:\n  \\<exists>DD.\n     set_mset DD \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D) \\<and>\n     (\\<forall>DD'.\n         set_mset DD' \\<subseteq> N \\<and>\n         (\\<forall>I.\n             I \\<Turnstile>m DD' + CC \\<longrightarrow>\n             I \\<Turnstile> E) \\<and>\n         (\\<forall>D'.\n             D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n         DD \\<le> DD')\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "then"], ["proof (chain)\npicking this:\n  \\<exists>DD.\n     set_mset DD \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D) \\<and>\n     (\\<forall>DD'.\n         set_mset DD' \\<subseteq> N \\<and>\n         (\\<forall>I.\n             I \\<Turnstile>m DD' + CC \\<longrightarrow>\n             I \\<Turnstile> E) \\<and>\n         (\\<forall>D'.\n             D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n         DD \\<le> DD')", "obtain DD where\n    dd_subs_n: \"set_mset DD \\<subseteq> N\" and\n    ddcc_imp_e: \"\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\" and\n    dd_lt_d: \"\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D\" and\n    d_min: \"\\<forall>DD'. set_mset DD' \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E) \\<and> (\\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n      DD \\<le> DD'\""], ["proof (prove)\nusing this:\n  \\<exists>DD.\n     set_mset DD \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D) \\<and>\n     (\\<forall>DD'.\n         set_mset DD' \\<subseteq> N \\<and>\n         (\\<forall>I.\n             I \\<Turnstile>m DD' + CC \\<longrightarrow>\n             I \\<Turnstile> E) \\<and>\n         (\\<forall>D'.\n             D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n         DD \\<le> DD')\n\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> N;\n         \\<forall>I.\n            I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D;\n         \\<forall>DD'.\n            set_mset DD' \\<subseteq> N \\<and>\n            (\\<forall>I.\n                I \\<Turnstile>m DD' + CC \\<longrightarrow>\n                I \\<Turnstile> E) \\<and>\n            (\\<forall>D'.\n                D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n            DD \\<le> DD'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D\n  \\<forall>DD'.\n     set_mset DD' \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n     DD \\<le> DD'\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "have \"\\<forall>Da. Da \\<in># DD \\<longrightarrow> Da \\<notin> Rf N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da \\<notin> Rf N", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "fix Da"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "assume\n      da_in_dd: \"Da \\<in># DD\" and\n      da_rf: \"Da \\<in> Rf N\""], ["proof (state)\nthis:\n  Da \\<in># DD\n  Da \\<in> Rf N\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "from da_rf"], ["proof (chain)\npicking this:\n  Da \\<in> Rf N", "obtain DD' where\n      dd'_subs_n: \"set_mset DD' \\<subseteq> N\" and\n      dd'_imp_da: \"\\<forall>I. I \\<Turnstile>m DD' \\<longrightarrow> I \\<Turnstile> Da\" and\n      dd'_lt_da: \"\\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < Da\""], ["proof (prove)\nusing this:\n  Da \\<in> Rf N\n\ngoal (1 subgoal):\n 1. (\\<And>DD'.\n        \\<lbrakk>set_mset DD' \\<subseteq> N;\n         \\<forall>I.\n            I \\<Turnstile>m DD' \\<longrightarrow> I \\<Turnstile> Da;\n         \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < Da\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding Rf_def"], ["proof (prove)\nusing this:\n  Da \\<in> {C. \\<exists>DD.\n                  set_mset DD \\<subseteq> N \\<and>\n                  (\\<forall>I.\n                      I \\<Turnstile>m DD \\<longrightarrow>\n                      I \\<Turnstile> C) \\<and>\n                  (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n\ngoal (1 subgoal):\n 1. (\\<And>DD'.\n        \\<lbrakk>set_mset DD' \\<subseteq> N;\n         \\<forall>I.\n            I \\<Turnstile>m DD' \\<longrightarrow> I \\<Turnstile> Da;\n         \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < Da\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  set_mset DD' \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD' \\<longrightarrow> I \\<Turnstile> Da\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < Da\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "define DDa where\n      \"DDa = DD - {#Da#} + DD'\""], ["proof (state)\nthis:\n  DDa = remove1_mset Da DD + DD'\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "have \"set_mset DDa \\<subseteq> N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset DDa \\<subseteq> N", "unfolding DDa_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset (remove1_mset Da DD + DD') \\<subseteq> N", "using dd_subs_n dd'_subs_n"], ["proof (prove)\nusing this:\n  set_mset DD \\<subseteq> N\n  set_mset DD' \\<subseteq> N\n\ngoal (1 subgoal):\n 1. set_mset (remove1_mset Da DD + DD') \\<subseteq> N", "by (meson contra_subsetD in_diffD subsetI union_iff)"], ["proof (state)\nthis:\n  set_mset DDa \\<subseteq> N\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  set_mset DDa \\<subseteq> N\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "have \"\\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E", "using dd'_imp_da ddcc_imp_e da_in_dd"], ["proof (prove)\nusing this:\n  \\<forall>I. I \\<Turnstile>m DD' \\<longrightarrow> I \\<Turnstile> Da\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  Da \\<in># DD\n\ngoal (1 subgoal):\n 1. \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E", "unfolding DDa_def true_cls_mset_def"], ["proof (prove)\nusing this:\n  \\<forall>I.\n     Multiset.Ball DD' ((\\<Turnstile>) I) \\<longrightarrow>\n     I \\<Turnstile> Da\n  \\<forall>I.\n     Multiset.Ball (DD + CC) ((\\<Turnstile>) I) \\<longrightarrow>\n     I \\<Turnstile> E\n  Da \\<in># DD\n\ngoal (1 subgoal):\n 1. \\<forall>I.\n       Multiset.Ball (remove1_mset Da DD + DD' + CC)\n        ((\\<Turnstile>) I) \\<longrightarrow>\n       I \\<Turnstile> E", "by (metis in_remove1_mset_neq union_iff)"], ["proof (state)\nthis:\n  \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "have \"\\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D", "using dd_lt_d dd'_lt_da da_in_dd"], ["proof (prove)\nusing this:\n  \\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < Da\n  Da \\<in># DD\n\ngoal (1 subgoal):\n 1. \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D", "unfolding DDa_def"], ["proof (prove)\nusing this:\n  \\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < Da\n  Da \\<in># DD\n\ngoal (1 subgoal):\n 1. \\<forall>D'. D' \\<in># remove1_mset Da DD + DD' \\<longrightarrow> D' < D", "by (metis insert_DiffM2 order.strict_trans union_iff)"], ["proof (state)\nthis:\n  \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "have \"DDa < DD\""], ["proof (prove)\ngoal (1 subgoal):\n 1. DDa < DD", "unfolding DDa_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. remove1_mset Da DD + DD' < DD", "by (meson da_in_dd dd'_lt_da mset_lt_single_right_iff single_subset_iff union_le_diff_plus)"], ["proof (state)\nthis:\n  DDa < DD\n\ngoal (1 subgoal):\n 1. \\<And>Da.\n       \\<lbrakk>Da \\<in># DD; Da \\<in> Rf N\\<rbrakk> \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  set_mset DDa \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D\n  DDa < DD", "show False"], ["proof (prove)\nusing this:\n  set_mset DDa \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D\n  DDa < DD\n\ngoal (1 subgoal):\n 1. False", "using d_min"], ["proof (prove)\nusing this:\n  set_mset DDa \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D\n  DDa < DD\n  \\<forall>DD'.\n     set_mset DD' \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n     DD \\<le> DD'\n\ngoal (1 subgoal):\n 1. False", "unfolding less_eq_multiset_def"], ["proof (prove)\nusing this:\n  set_mset DDa \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DDa + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DDa \\<longrightarrow> D' < D\n  DDa < DD\n  \\<forall>DD'.\n     set_mset DD' \\<subseteq> N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D) \\<longrightarrow>\n     DD < DD' \\<or> DD = DD'\n\ngoal (1 subgoal):\n 1. False", "by (auto intro!: antisym)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da \\<notin> Rf N\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "then"], ["proof (chain)\npicking this:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da \\<notin> Rf N", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da \\<notin> Rf N\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "using dd_subs_n ddcc_imp_e dd_lt_d"], ["proof (prove)\nusing this:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da \\<notin> Rf N\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D\n\ngoal (1 subgoal):\n 1. \\<exists>DD.\n       set_mset DD \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m DD + CC \\<longrightarrow>\n           I \\<Turnstile> E) \\<and>\n       (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)", "by auto"], ["proof (state)\nthis:\n  \\<exists>DD.\n     set_mset DD \\<subseteq> N - Rf N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < D)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Rf_imp_ex_non_Rf:\n  assumes \"C \\<in> Rf N\"\n  shows \"\\<exists>CC. set_mset CC \\<subseteq> N - Rf N \\<and> (\\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C) \\<and> (\\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>CC.\n       set_mset CC \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C) \\<and>\n       (\\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C)", "using assms"], ["proof (prove)\nusing this:\n  C \\<in> Rf N\n\ngoal (1 subgoal):\n 1. \\<exists>CC.\n       set_mset CC \\<subseteq> N - Rf N \\<and>\n       (\\<forall>I.\n           I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C) \\<and>\n       (\\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C)", "by (auto simp: Rf_def intro: wlog_non_Rf[of _ \"{#}\", simplified])"], ["", "lemma Rf_subs_Rf_diff_Rf: \"Rf N \\<subseteq> Rf (N - Rf N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Rf N \\<subseteq> Rf (N - Rf N)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "fix C"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "assume c_rf: \"C \\<in> Rf N\""], ["proof (state)\nthis:\n  C \\<in> Rf N\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "then"], ["proof (chain)\npicking this:\n  C \\<in> Rf N", "obtain CC where\n    cc_subs: \"set_mset CC \\<subseteq> N - Rf N\" and\n    cc_imp_c: \"\\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C\" and\n    cc_lt_c: \"\\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C\""], ["proof (prove)\nusing this:\n  C \\<in> Rf N\n\ngoal (1 subgoal):\n 1. (\\<And>CC.\n        \\<lbrakk>set_mset CC \\<subseteq> N - Rf N;\n         \\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C;\n         \\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Rf_imp_ex_non_Rf"], ["proof (prove)\nusing this:\n  C \\<in> Rf N\n  ?C \\<in> Rf ?N \\<Longrightarrow>\n  \\<exists>CC.\n     set_mset CC \\<subseteq> ?N - Rf ?N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> ?C) \\<and>\n     (\\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < ?C)\n\ngoal (1 subgoal):\n 1. (\\<And>CC.\n        \\<lbrakk>set_mset CC \\<subseteq> N - Rf N;\n         \\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C;\n         \\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  set_mset CC \\<subseteq> N - Rf N\n  \\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C\n  \\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "have \"\\<forall>D. D \\<in># CC \\<longrightarrow> D \\<notin> Rf N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>D. D \\<in># CC \\<longrightarrow> D \\<notin> Rf N", "using cc_subs"], ["proof (prove)\nusing this:\n  set_mset CC \\<subseteq> N - Rf N\n\ngoal (1 subgoal):\n 1. \\<forall>D. D \\<in># CC \\<longrightarrow> D \\<notin> Rf N", "by (simp add: subset_iff)"], ["proof (state)\nthis:\n  \\<forall>D. D \\<in># CC \\<longrightarrow> D \\<notin> Rf N\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "then"], ["proof (chain)\npicking this:\n  \\<forall>D. D \\<in># CC \\<longrightarrow> D \\<notin> Rf N", "have cc_nr:\n    \"\\<And>C DD. C \\<in># CC \\<Longrightarrow> set_mset DD \\<subseteq> N \\<Longrightarrow> \\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> C \\<Longrightarrow> \\<exists>D. D \\<in># DD \\<and> \\<not> D < C\""], ["proof (prove)\nusing this:\n  \\<forall>D. D \\<in># CC \\<longrightarrow> D \\<notin> Rf N\n\ngoal (1 subgoal):\n 1. \\<And>C DD.\n       \\<lbrakk>C \\<in># CC; set_mset DD \\<subseteq> N;\n        \\<forall>I.\n           I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>D. D \\<in># DD \\<and> \\<not> D < C", "unfolding Rf_def"], ["proof (prove)\nusing this:\n  \\<forall>D.\n     D \\<in># CC \\<longrightarrow>\n     D \\<notin> {C. \\<exists>DD.\n                       set_mset DD \\<subseteq> N \\<and>\n                       (\\<forall>I.\n                           I \\<Turnstile>m DD \\<longrightarrow>\n                           I \\<Turnstile> C) \\<and>\n                       (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n\ngoal (1 subgoal):\n 1. \\<And>C DD.\n       \\<lbrakk>C \\<in># CC; set_mset DD \\<subseteq> N;\n        \\<forall>I.\n           I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>D. D \\<in># DD \\<and> \\<not> D < C", "by auto metis"], ["proof (state)\nthis:\n  \\<lbrakk>?C \\<in># CC; set_mset ?DD \\<subseteq> N;\n   \\<forall>I.\n      I \\<Turnstile>m ?DD \\<longrightarrow> I \\<Turnstile> ?C\\<rbrakk>\n  \\<Longrightarrow> \\<exists>D. D \\<in># ?DD \\<and> \\<not> D < ?C\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "have \"set_mset CC \\<subseteq> N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set_mset CC \\<subseteq> N", "using cc_subs"], ["proof (prove)\nusing this:\n  set_mset CC \\<subseteq> N - Rf N\n\ngoal (1 subgoal):\n 1. set_mset CC \\<subseteq> N", "by auto"], ["proof (state)\nthis:\n  set_mset CC \\<subseteq> N\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "then"], ["proof (chain)\npicking this:\n  set_mset CC \\<subseteq> N", "have \"set_mset CC \\<subseteq>\n    N - {C. \\<exists>DD. set_mset DD \\<subseteq> N \\<and> (\\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> C) \\<and> (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\""], ["proof (prove)\nusing this:\n  set_mset CC \\<subseteq> N\n\ngoal (1 subgoal):\n 1. set_mset CC\n    \\<subseteq> N -\n                {C. \\<exists>DD.\n                       set_mset DD \\<subseteq> N \\<and>\n                       (\\<forall>I.\n                           I \\<Turnstile>m DD \\<longrightarrow>\n                           I \\<Turnstile> C) \\<and>\n                       (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}", "using cc_nr"], ["proof (prove)\nusing this:\n  set_mset CC \\<subseteq> N\n  \\<lbrakk>?C \\<in># CC; set_mset ?DD \\<subseteq> N;\n   \\<forall>I.\n      I \\<Turnstile>m ?DD \\<longrightarrow> I \\<Turnstile> ?C\\<rbrakk>\n  \\<Longrightarrow> \\<exists>D. D \\<in># ?DD \\<and> \\<not> D < ?C\n\ngoal (1 subgoal):\n 1. set_mset CC\n    \\<subseteq> N -\n                {C. \\<exists>DD.\n                       set_mset DD \\<subseteq> N \\<and>\n                       (\\<forall>I.\n                           I \\<Turnstile>m DD \\<longrightarrow>\n                           I \\<Turnstile> C) \\<and>\n                       (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}", "by auto"], ["proof (state)\nthis:\n  set_mset CC\n  \\<subseteq> N -\n              {C. \\<exists>DD.\n                     set_mset DD \\<subseteq> N \\<and>\n                     (\\<forall>I.\n                         I \\<Turnstile>m DD \\<longrightarrow>\n                         I \\<Turnstile> C) \\<and>\n                     (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Rf N \\<Longrightarrow> x \\<in> Rf (N - Rf N)", "then"], ["proof (chain)\npicking this:\n  set_mset CC\n  \\<subseteq> N -\n              {C. \\<exists>DD.\n                     set_mset DD \\<subseteq> N \\<and>\n                     (\\<forall>I.\n                         I \\<Turnstile>m DD \\<longrightarrow>\n                         I \\<Turnstile> C) \\<and>\n                     (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}", "show \"C \\<in> Rf (N - Rf N)\""], ["proof (prove)\nusing this:\n  set_mset CC\n  \\<subseteq> N -\n              {C. \\<exists>DD.\n                     set_mset DD \\<subseteq> N \\<and>\n                     (\\<forall>I.\n                         I \\<Turnstile>m DD \\<longrightarrow>\n                         I \\<Turnstile> C) \\<and>\n                     (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n\ngoal (1 subgoal):\n 1. C \\<in> Rf (N - Rf N)", "using cc_imp_c cc_lt_c"], ["proof (prove)\nusing this:\n  set_mset CC\n  \\<subseteq> N -\n              {C. \\<exists>DD.\n                     set_mset DD \\<subseteq> N \\<and>\n                     (\\<forall>I.\n                         I \\<Turnstile>m DD \\<longrightarrow>\n                         I \\<Turnstile> C) \\<and>\n                     (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n  \\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C\n  \\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C\n\ngoal (1 subgoal):\n 1. C \\<in> Rf (N - Rf N)", "unfolding Rf_def"], ["proof (prove)\nusing this:\n  set_mset CC\n  \\<subseteq> N -\n              {C. \\<exists>DD.\n                     set_mset DD \\<subseteq> N \\<and>\n                     (\\<forall>I.\n                         I \\<Turnstile>m DD \\<longrightarrow>\n                         I \\<Turnstile> C) \\<and>\n                     (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n  \\<forall>I. I \\<Turnstile>m CC \\<longrightarrow> I \\<Turnstile> C\n  \\<forall>C'. C' \\<in># CC \\<longrightarrow> C' < C\n\ngoal (1 subgoal):\n 1. C \\<in> {C. \\<exists>DD.\n                   set_mset DD\n                   \\<subseteq> N -\n                               {C. \\<exists>DD.\nset_mset DD \\<subseteq> N \\<and>\n(\\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> C) \\<and>\n(\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)} \\<and>\n                   (\\<forall>I.\n                       I \\<Turnstile>m DD \\<longrightarrow>\n                       I \\<Turnstile> C) \\<and>\n                   (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}", "by auto"], ["proof (state)\nthis:\n  C \\<in> Rf (N - Rf N)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Rf_eq_Rf_diff_Rf: \"Rf N = Rf (N - Rf N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Rf N = Rf (N - Rf N)", "by (metis Diff_subset Rf_mono Rf_subs_Rf_diff_Rf subset_antisym)"], ["", "text \\<open>\nThe following results correspond to Lemma 4.6.\n\\<close>"], ["", "lemma Ri_mono: \"N \\<subseteq> N' \\<Longrightarrow> Ri N \\<subseteq> Ri N'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<subseteq> N' \\<Longrightarrow> Ri N \\<subseteq> Ri N'", "unfolding Ri_def redundant_infer_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<subseteq> N' \\<Longrightarrow>\n    {\\<gamma> \\<in> \\<Gamma>.\n     \\<exists>DD.\n        set_mset DD \\<subseteq> N \\<and>\n        (\\<forall>I.\n            I \\<Turnstile>m DD + side_prems_of \\<gamma> \\<longrightarrow>\n            I \\<Turnstile> concl_of \\<gamma>) \\<and>\n        (\\<forall>D.\n            D \\<in># DD \\<longrightarrow> D < main_prem_of \\<gamma>)}\n    \\<subseteq> {\\<gamma> \\<in> \\<Gamma>.\n                 \\<exists>DD.\n                    set_mset DD \\<subseteq> N' \\<and>\n                    (\\<forall>I.\n                        I \\<Turnstile>m\n                        DD + side_prems_of \\<gamma> \\<longrightarrow>\n                        I \\<Turnstile> concl_of \\<gamma>) \\<and>\n                    (\\<forall>D.\n                        D \\<in># DD \\<longrightarrow>\n                        D < main_prem_of \\<gamma>)}", "by auto"], ["", "lemma Ri_subs_Ri_diff_Rf: \"Ri N \\<subseteq> Ri (N - Rf N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ri N \\<subseteq> Ri (N - Rf N)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Ri N \\<Longrightarrow> x \\<in> Ri (N - Rf N)", "fix \\<gamma>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Ri N \\<Longrightarrow> x \\<in> Ri (N - Rf N)", "assume \\<gamma>_ri: \"\\<gamma> \\<in> Ri N\""], ["proof (state)\nthis:\n  \\<gamma> \\<in> Ri N\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Ri N \\<Longrightarrow> x \\<in> Ri (N - Rf N)", "then"], ["proof (chain)\npicking this:\n  \\<gamma> \\<in> Ri N", "obtain CC D E where \\<gamma>: \"\\<gamma> = Infer CC D E\""], ["proof (prove)\nusing this:\n  \\<gamma> \\<in> Ri N\n\ngoal (1 subgoal):\n 1. (\\<And>CC D E.\n        \\<gamma> = Infer CC D E \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases \\<gamma>)"], ["proof (state)\nthis:\n  \\<gamma> = Infer CC D E\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Ri N \\<Longrightarrow> x \\<in> Ri (N - Rf N)", "have cc: \"CC = side_prems_of \\<gamma>\" and d: \"D = main_prem_of \\<gamma>\" and e: \"E = concl_of \\<gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CC = side_prems_of \\<gamma> &&&\n    D = main_prem_of \\<gamma> &&& E = concl_of \\<gamma>", "unfolding \\<gamma>"], ["proof (prove)\ngoal (1 subgoal):\n 1. CC = side_prems_of (Infer CC D E) &&&\n    D = main_prem_of (Infer CC D E) &&& E = concl_of (Infer CC D E)", "by simp_all"], ["proof (state)\nthis:\n  CC = side_prems_of \\<gamma>\n  D = main_prem_of \\<gamma>\n  E = concl_of \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Ri N \\<Longrightarrow> x \\<in> Ri (N - Rf N)", "obtain DD where\n    \"set_mset DD \\<subseteq> N\" and \"\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\" and \"\\<forall>C. C \\<in># DD \\<longrightarrow> C < D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> N;\n         \\<forall>I.\n            I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<gamma>_ri"], ["proof (prove)\nusing this:\n  \\<gamma> \\<in> Ri N\n\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> N;\n         \\<forall>I.\n            I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding Ri_def redundant_infer_def cc d e"], ["proof (prove)\nusing this:\n  \\<gamma>\n  \\<in> {\\<gamma> \\<in> \\<Gamma>.\n         \\<exists>DD.\n            set_mset DD \\<subseteq> N \\<and>\n            (\\<forall>I.\n                I \\<Turnstile>m\n                DD + side_prems_of \\<gamma> \\<longrightarrow>\n                I \\<Turnstile> concl_of \\<gamma>) \\<and>\n            (\\<forall>D.\n                D \\<in># DD \\<longrightarrow> D < main_prem_of \\<gamma>)}\n\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> N;\n         \\<forall>I.\n            I \\<Turnstile>m DD + side_prems_of \\<gamma> \\<longrightarrow>\n            I \\<Turnstile> concl_of \\<gamma>;\n         \\<forall>C.\n            C \\<in># DD \\<longrightarrow> C < main_prem_of \\<gamma>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Ri N \\<Longrightarrow> x \\<in> Ri (N - Rf N)", "then"], ["proof (chain)\npicking this:\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D", "obtain DD' where\n    \"set_mset DD' \\<subseteq> N - Rf N\" and \"\\<forall>I. I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E\" and \"\\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D\""], ["proof (prove)\nusing this:\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\n\ngoal (1 subgoal):\n 1. (\\<And>DD'.\n        \\<lbrakk>set_mset DD' \\<subseteq> N - Rf N;\n         \\<forall>I.\n            I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using wlog_non_Rf"], ["proof (prove)\nusing this:\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\n  \\<exists>DD.\n     set_mset DD \\<subseteq> ?N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + ?CC \\<longrightarrow>\n         I \\<Turnstile> ?E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < ?D) \\<Longrightarrow>\n  \\<exists>DD.\n     set_mset DD \\<subseteq> ?N - Rf ?N \\<and>\n     (\\<forall>I.\n         I \\<Turnstile>m DD + ?CC \\<longrightarrow>\n         I \\<Turnstile> ?E) \\<and>\n     (\\<forall>D'. D' \\<in># DD \\<longrightarrow> D' < ?D)\n\ngoal (1 subgoal):\n 1. (\\<And>DD'.\n        \\<lbrakk>set_mset DD' \\<subseteq> N - Rf N;\n         \\<forall>I.\n            I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by atomize_elim blast"], ["proof (state)\nthis:\n  set_mset DD' \\<subseteq> N - Rf N\n  \\<forall>I. I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Ri N \\<Longrightarrow> x \\<in> Ri (N - Rf N)", "then"], ["proof (chain)\npicking this:\n  set_mset DD' \\<subseteq> N - Rf N\n  \\<forall>I. I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D", "show \"\\<gamma> \\<in> Ri (N - Rf N)\""], ["proof (prove)\nusing this:\n  set_mset DD' \\<subseteq> N - Rf N\n  \\<forall>I. I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri (N - Rf N)", "using \\<gamma>_ri"], ["proof (prove)\nusing this:\n  set_mset DD' \\<subseteq> N - Rf N\n  \\<forall>I. I \\<Turnstile>m DD' + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < D\n  \\<gamma> \\<in> Ri N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri (N - Rf N)", "unfolding Ri_def redundant_infer_def d cc e"], ["proof (prove)\nusing this:\n  set_mset DD' \\<subseteq> N - Rf N\n  \\<forall>I.\n     I \\<Turnstile>m DD' + side_prems_of \\<gamma> \\<longrightarrow>\n     I \\<Turnstile> concl_of \\<gamma>\n  \\<forall>D'. D' \\<in># DD' \\<longrightarrow> D' < main_prem_of \\<gamma>\n  \\<gamma>\n  \\<in> {\\<gamma> \\<in> \\<Gamma>.\n         \\<exists>DD.\n            set_mset DD \\<subseteq> N \\<and>\n            (\\<forall>I.\n                I \\<Turnstile>m\n                DD + side_prems_of \\<gamma> \\<longrightarrow>\n                I \\<Turnstile> concl_of \\<gamma>) \\<and>\n            (\\<forall>D.\n                D \\<in># DD \\<longrightarrow> D < main_prem_of \\<gamma>)}\n\ngoal (1 subgoal):\n 1. \\<gamma>\n    \\<in> {\\<gamma> \\<in> \\<Gamma>.\n           \\<exists>DD.\n              set_mset DD \\<subseteq> N - Rf N \\<and>\n              (\\<forall>I.\n                  I \\<Turnstile>m\n                  DD + side_prems_of \\<gamma> \\<longrightarrow>\n                  I \\<Turnstile> concl_of \\<gamma>) \\<and>\n              (\\<forall>D.\n                  D \\<in># DD \\<longrightarrow> D < main_prem_of \\<gamma>)}", "by blast"], ["proof (state)\nthis:\n  \\<gamma> \\<in> Ri (N - Rf N)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Ri_eq_Ri_diff_Rf: \"Ri N = Ri (N - Rf N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ri N = Ri (N - Rf N)", "by (metis Diff_subset Ri_mono Ri_subs_Ri_diff_Rf subset_antisym)"], ["", "lemma Ri_subset_\\<Gamma>: \"Ri N \\<subseteq> \\<Gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ri N \\<subseteq> \\<Gamma>", "unfolding Ri_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<gamma> \\<in> \\<Gamma>. redundant_infer N \\<gamma>}\n    \\<subseteq> \\<Gamma>", "by blast"], ["", "lemma Rf_indep: \"N' \\<subseteq> Rf N \\<Longrightarrow> Rf N \\<subseteq> Rf (N - N')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N' \\<subseteq> Rf N \\<Longrightarrow> Rf N \\<subseteq> Rf (N - N')", "by (metis Diff_cancel Diff_eq_empty_iff Diff_mono Rf_eq_Rf_diff_Rf Rf_mono)"], ["", "lemma Ri_indep: \"N' \\<subseteq> Rf N \\<Longrightarrow> Ri N \\<subseteq> Ri (N - N')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N' \\<subseteq> Rf N \\<Longrightarrow> Ri N \\<subseteq> Ri (N - N')", "by (metis Diff_mono Ri_eq_Ri_diff_Rf Ri_mono order_refl)"], ["", "lemma Rf_model:\n  assumes \"I \\<Turnstile>s N - Rf N\"\n  shows \"I \\<Turnstile>s N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I \\<Turnstile>s N", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. I \\<Turnstile>s N", "have \"I \\<Turnstile>s Rf (N - Rf N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I \\<Turnstile>s Rf (N - Rf N)", "unfolding true_clss_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ball (Rf (N - Rf N)) ((\\<Turnstile>) I)", "by (subst Rf_def, simp add: true_cls_mset_def, metis assms subset_eq true_clss_def)"], ["proof (state)\nthis:\n  I \\<Turnstile>s Rf (N - Rf N)\n\ngoal (1 subgoal):\n 1. I \\<Turnstile>s N", "then"], ["proof (chain)\npicking this:\n  I \\<Turnstile>s Rf (N - Rf N)", "have \"I \\<Turnstile>s Rf N\""], ["proof (prove)\nusing this:\n  I \\<Turnstile>s Rf (N - Rf N)\n\ngoal (1 subgoal):\n 1. I \\<Turnstile>s Rf N", "using Rf_subs_Rf_diff_Rf true_clss_mono"], ["proof (prove)\nusing this:\n  I \\<Turnstile>s Rf (N - Rf N)\n  Rf ?N \\<subseteq> Rf (?N - Rf ?N)\n  \\<lbrakk>?DD \\<subseteq> ?CC; ?I \\<Turnstile>s ?CC\\<rbrakk>\n  \\<Longrightarrow> ?I \\<Turnstile>s ?DD\n\ngoal (1 subgoal):\n 1. I \\<Turnstile>s Rf N", "by blast"], ["proof (state)\nthis:\n  I \\<Turnstile>s Rf N\n\ngoal (1 subgoal):\n 1. I \\<Turnstile>s N", "then"], ["proof (chain)\npicking this:\n  I \\<Turnstile>s Rf N", "show ?thesis"], ["proof (prove)\nusing this:\n  I \\<Turnstile>s Rf N\n\ngoal (1 subgoal):\n 1. I \\<Turnstile>s N", "using assms"], ["proof (prove)\nusing this:\n  I \\<Turnstile>s Rf N\n  I \\<Turnstile>s N - Rf N\n\ngoal (1 subgoal):\n 1. I \\<Turnstile>s N", "by (metis Un_Diff_cancel true_clss_union)"], ["proof (state)\nthis:\n  I \\<Turnstile>s N\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Rf_sat: \"satisfiable (N - Rf N) \\<Longrightarrow> satisfiable N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. satisfiable (N - Rf N) \\<Longrightarrow> satisfiable N", "by (metis Rf_model)"], ["", "text \\<open>\nThe following corresponds to Theorem 4.7:\n\\<close>"], ["", "sublocale redundancy_criterion \\<Gamma> Rf Ri"], ["proof (prove)\ngoal (1 subgoal):\n 1. redundancy_criterion \\<Gamma> Rf Ri", "by unfold_locales (rule Ri_subset_\\<Gamma>, (elim Rf_mono Ri_mono Rf_indep Ri_indep Rf_sat)+)"], ["", "end"], ["", "locale standard_redundancy_criterion_reductive =\n  standard_redundancy_criterion + reductive_inference_system\nbegin"], ["", "text \\<open>\nThe following corresponds to Theorem 4.8:\n\\<close>"], ["", "lemma Ri_effective:\n  assumes\n    in_\\<gamma>: \"\\<gamma> \\<in> \\<Gamma>\" and\n    concl_of_in_n_un_rf_n: \"concl_of \\<gamma> \\<in> N \\<union> Rf N\"\n  shows \"\\<gamma> \\<in> Ri N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "obtain CC D E where\n    \\<gamma>: \"\\<gamma> = Infer CC D E\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>CC D E.\n        \\<gamma> = Infer CC D E \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases \\<gamma>)"], ["proof (state)\nthis:\n  \\<gamma> = Infer CC D E\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "then"], ["proof (chain)\npicking this:\n  \\<gamma> = Infer CC D E", "have cc: \"CC = side_prems_of \\<gamma>\" and d: \"D = main_prem_of \\<gamma>\" and e: \"E = concl_of \\<gamma>\""], ["proof (prove)\nusing this:\n  \\<gamma> = Infer CC D E\n\ngoal (1 subgoal):\n 1. CC = side_prems_of \\<gamma> &&&\n    D = main_prem_of \\<gamma> &&& E = concl_of \\<gamma>", "unfolding \\<gamma>"], ["proof (prove)\nusing this:\n  Infer CC D E = Infer CC D E\n\ngoal (1 subgoal):\n 1. CC = side_prems_of (Infer CC D E) &&&\n    D = main_prem_of (Infer CC D E) &&& E = concl_of (Infer CC D E)", "by simp_all"], ["proof (state)\nthis:\n  CC = side_prems_of \\<gamma>\n  D = main_prem_of \\<gamma>\n  E = concl_of \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "note e_in_n_un_rf_n = concl_of_in_n_un_rf_n[folded e]"], ["proof (state)\nthis:\n  E \\<in> N \\<union> Rf N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "{"], ["proof (state)\nthis:\n  E \\<in> N \\<union> Rf N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "assume \"E \\<in> N\""], ["proof (state)\nthis:\n  E \\<in> N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "moreover"], ["proof (state)\nthis:\n  E \\<in> N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "have \"E < D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. E < D", "using \\<Gamma>_reductive e d in_\\<gamma>"], ["proof (prove)\nusing this:\n  ?\\<gamma> \\<in> \\<Gamma> \\<Longrightarrow>\n  concl_of ?\\<gamma> < main_prem_of ?\\<gamma>\n  E = concl_of \\<gamma>\n  D = main_prem_of \\<gamma>\n  \\<gamma> \\<in> \\<Gamma>\n\ngoal (1 subgoal):\n 1. E < D", "by auto"], ["proof (state)\nthis:\n  E < D\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "ultimately"], ["proof (chain)\npicking this:\n  E \\<in> N\n  E < D", "have\n      \"set_mset {#E#} \\<subseteq> N\" and \"\\<forall>I. I \\<Turnstile>m {#E#} + CC \\<longrightarrow> I \\<Turnstile> E\" and \"\\<forall>D'. D' \\<in># {#E#} \\<longrightarrow> D' < D\""], ["proof (prove)\nusing this:\n  E \\<in> N\n  E < D\n\ngoal (1 subgoal):\n 1. set_mset {#E#} \\<subseteq> N &&&\n    \\<forall>I.\n       I \\<Turnstile>m {#E#} + CC \\<longrightarrow> I \\<Turnstile> E &&&\n    \\<forall>D'. D' \\<in># {#E#} \\<longrightarrow> D' < D", "by simp_all"], ["proof (state)\nthis:\n  set_mset {#E#} \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m {#E#} + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># {#E#} \\<longrightarrow> D' < D\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "then"], ["proof (chain)\npicking this:\n  set_mset {#E#} \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m {#E#} + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># {#E#} \\<longrightarrow> D' < D", "have \"redundant_infer N \\<gamma>\""], ["proof (prove)\nusing this:\n  set_mset {#E#} \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m {#E#} + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># {#E#} \\<longrightarrow> D' < D\n\ngoal (1 subgoal):\n 1. redundant_infer N \\<gamma>", "using redundant_infer_def cc d e"], ["proof (prove)\nusing this:\n  set_mset {#E#} \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m {#E#} + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>D'. D' \\<in># {#E#} \\<longrightarrow> D' < D\n  redundant_infer ?N ?\\<gamma> =\n  (\\<exists>DD.\n      set_mset DD \\<subseteq> ?N \\<and>\n      (\\<forall>I.\n          I \\<Turnstile>m DD + side_prems_of ?\\<gamma> \\<longrightarrow>\n          I \\<Turnstile> concl_of ?\\<gamma>) \\<and>\n      (\\<forall>D.\n          D \\<in># DD \\<longrightarrow> D < main_prem_of ?\\<gamma>))\n  CC = side_prems_of \\<gamma>\n  D = main_prem_of \\<gamma>\n  E = concl_of \\<gamma>\n\ngoal (1 subgoal):\n 1. redundant_infer N \\<gamma>", "by blast"], ["proof (state)\nthis:\n  redundant_infer N \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "}"], ["proof (state)\nthis:\n  E \\<in> N \\<Longrightarrow> redundant_infer N \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "moreover"], ["proof (state)\nthis:\n  E \\<in> N \\<Longrightarrow> redundant_infer N \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "{"], ["proof (state)\nthis:\n  E \\<in> N \\<Longrightarrow> redundant_infer N \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "assume \"E \\<in> Rf N\""], ["proof (state)\nthis:\n  E \\<in> Rf N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "then"], ["proof (chain)\npicking this:\n  E \\<in> Rf N", "obtain DD where\n      dd_sset: \"set_mset DD \\<subseteq> N\" and\n      dd_imp_e: \"\\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> E\" and\n      dd_lt_e: \"\\<forall>C'. C' \\<in># DD \\<longrightarrow> C' < E\""], ["proof (prove)\nusing this:\n  E \\<in> Rf N\n\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> N;\n         \\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>C'. C' \\<in># DD \\<longrightarrow> C' < E\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding Rf_def"], ["proof (prove)\nusing this:\n  E \\<in> {C. \\<exists>DD.\n                 set_mset DD \\<subseteq> N \\<and>\n                 (\\<forall>I.\n                     I \\<Turnstile>m DD \\<longrightarrow>\n                     I \\<Turnstile> C) \\<and>\n                 (\\<forall>D. D \\<in># DD \\<longrightarrow> D < C)}\n\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> N;\n         \\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>C'. C' \\<in># DD \\<longrightarrow> C' < E\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>C'. C' \\<in># DD \\<longrightarrow> C' < E\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "from dd_lt_e"], ["proof (chain)\npicking this:\n  \\<forall>C'. C' \\<in># DD \\<longrightarrow> C' < E", "have \"\\<forall>Da. Da \\<in># DD \\<longrightarrow> Da < D\""], ["proof (prove)\nusing this:\n  \\<forall>C'. C' \\<in># DD \\<longrightarrow> C' < E\n\ngoal (1 subgoal):\n 1. \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da < D", "using d e in_\\<gamma> \\<Gamma>_reductive less_trans"], ["proof (prove)\nusing this:\n  \\<forall>C'. C' \\<in># DD \\<longrightarrow> C' < E\n  D = main_prem_of \\<gamma>\n  E = concl_of \\<gamma>\n  \\<gamma> \\<in> \\<Gamma>\n  ?\\<gamma> \\<in> \\<Gamma> \\<Longrightarrow>\n  concl_of ?\\<gamma> < main_prem_of ?\\<gamma>\n  \\<lbrakk>?x < ?y; ?y < ?z\\<rbrakk> \\<Longrightarrow> ?x < ?z\n\ngoal (1 subgoal):\n 1. \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da < D", "by blast"], ["proof (state)\nthis:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da < D\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "then"], ["proof (chain)\npicking this:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da < D", "have \"redundant_infer N \\<gamma>\""], ["proof (prove)\nusing this:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da < D\n\ngoal (1 subgoal):\n 1. redundant_infer N \\<gamma>", "using redundant_infer_def dd_sset dd_imp_e cc d e"], ["proof (prove)\nusing this:\n  \\<forall>Da. Da \\<in># DD \\<longrightarrow> Da < D\n  redundant_infer ?N ?\\<gamma> =\n  (\\<exists>DD.\n      set_mset DD \\<subseteq> ?N \\<and>\n      (\\<forall>I.\n          I \\<Turnstile>m DD + side_prems_of ?\\<gamma> \\<longrightarrow>\n          I \\<Turnstile> concl_of ?\\<gamma>) \\<and>\n      (\\<forall>D.\n          D \\<in># DD \\<longrightarrow> D < main_prem_of ?\\<gamma>))\n  set_mset DD \\<subseteq> N\n  \\<forall>I. I \\<Turnstile>m DD \\<longrightarrow> I \\<Turnstile> E\n  CC = side_prems_of \\<gamma>\n  D = main_prem_of \\<gamma>\n  E = concl_of \\<gamma>\n\ngoal (1 subgoal):\n 1. redundant_infer N \\<gamma>", "by blast"], ["proof (state)\nthis:\n  redundant_infer N \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "}"], ["proof (state)\nthis:\n  E \\<in> Rf N \\<Longrightarrow> redundant_infer N \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "ultimately"], ["proof (chain)\npicking this:\n  E \\<in> N \\<Longrightarrow> redundant_infer N \\<gamma>\n  E \\<in> Rf N \\<Longrightarrow> redundant_infer N \\<gamma>", "show \"\\<gamma> \\<in> Ri N\""], ["proof (prove)\nusing this:\n  E \\<in> N \\<Longrightarrow> redundant_infer N \\<gamma>\n  E \\<in> Rf N \\<Longrightarrow> redundant_infer N \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "using in_\\<gamma> e_in_n_un_rf_n"], ["proof (prove)\nusing this:\n  E \\<in> N \\<Longrightarrow> redundant_infer N \\<gamma>\n  E \\<in> Rf N \\<Longrightarrow> redundant_infer N \\<gamma>\n  \\<gamma> \\<in> \\<Gamma>\n  E \\<in> N \\<union> Rf N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "unfolding Ri_def"], ["proof (prove)\nusing this:\n  E \\<in> N \\<Longrightarrow> redundant_infer N \\<gamma>\n  E \\<in> Rf N \\<Longrightarrow> redundant_infer N \\<gamma>\n  \\<gamma> \\<in> \\<Gamma>\n  E \\<in> N \\<union> Rf N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> {\\<gamma> \\<in> \\<Gamma>. redundant_infer N \\<gamma>}", "by blast"], ["proof (state)\nthis:\n  \\<gamma> \\<in> Ri N\n\ngoal:\nNo subgoals!", "qed"], ["", "sublocale effective_redundancy_criterion \\<Gamma> Rf Ri"], ["proof (prove)\ngoal (1 subgoal):\n 1. effective_redundancy_criterion \\<Gamma> Rf Ri", "unfolding effective_redundancy_criterion_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. redundancy_criterion \\<Gamma> Rf Ri \\<and>\n    effective_redundancy_criterion_axioms \\<Gamma> Rf Ri", "by (intro conjI redundancy_criterion_axioms, unfold_locales, rule Ri_effective)"], ["", "lemma contradiction_Rf: \"{#} \\<in> N \\<Longrightarrow> Ri N = \\<Gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {#} \\<in> N \\<Longrightarrow> Ri N = \\<Gamma>", "unfolding Ri_def redundant_infer_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {#} \\<in> N \\<Longrightarrow>\n    {\\<gamma> \\<in> \\<Gamma>.\n     \\<exists>DD.\n        set_mset DD \\<subseteq> N \\<and>\n        (\\<forall>I.\n            I \\<Turnstile>m DD + side_prems_of \\<gamma> \\<longrightarrow>\n            I \\<Turnstile> concl_of \\<gamma>) \\<and>\n        (\\<forall>D.\n            D \\<in># DD \\<longrightarrow> D < main_prem_of \\<gamma>)} =\n    \\<Gamma>", "using \\<Gamma>_reductive le_multiset_empty_right"], ["proof (prove)\nusing this:\n  ?\\<gamma> \\<in> \\<Gamma> \\<Longrightarrow>\n  concl_of ?\\<gamma> < main_prem_of ?\\<gamma>\n  \\<not> ?M < {#}\n\ngoal (1 subgoal):\n 1. {#} \\<in> N \\<Longrightarrow>\n    {\\<gamma> \\<in> \\<Gamma>.\n     \\<exists>DD.\n        set_mset DD \\<subseteq> N \\<and>\n        (\\<forall>I.\n            I \\<Turnstile>m DD + side_prems_of \\<gamma> \\<longrightarrow>\n            I \\<Turnstile> concl_of \\<gamma>) \\<and>\n        (\\<forall>D.\n            D \\<in># DD \\<longrightarrow> D < main_prem_of \\<gamma>)} =\n    \\<Gamma>", "by (force intro: exI[of _ \"{#{#}#}\"] le_multiset_empty_left)"], ["", "end"], ["", "locale standard_redundancy_criterion_counterex_reducing =\n  standard_redundancy_criterion + counterex_reducing_inference_system\nbegin"], ["", "text \\<open>\nThe following result corresponds to Theorem 4.9.\n\\<close>"], ["", "lemma saturated_upto_complete_if:\n  assumes\n    satur: \"saturated_upto N\" and\n    unsat: \"\\<not> satisfiable N\"\n  shows \"{#} \\<in> N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {#} \\<in> N", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. {#} \\<notin> N \\<Longrightarrow> False", "assume ec_ni_n: \"{#} \\<notin> N\""], ["proof (state)\nthis:\n  {#} \\<notin> N\n\ngoal (1 subgoal):\n 1. {#} \\<notin> N \\<Longrightarrow> False", "define M where\n    \"M = N - Rf N\""], ["proof (state)\nthis:\n  M = N - Rf N\n\ngoal (1 subgoal):\n 1. {#} \\<notin> N \\<Longrightarrow> False", "have ec_ni_m: \"{#} \\<notin> M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {#} \\<notin> M", "unfolding M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {#} \\<notin> N - Rf N", "using ec_ni_n"], ["proof (prove)\nusing this:\n  {#} \\<notin> N\n\ngoal (1 subgoal):\n 1. {#} \\<notin> N - Rf N", "by fast"], ["proof (state)\nthis:\n  {#} \\<notin> M\n\ngoal (1 subgoal):\n 1. {#} \\<notin> N \\<Longrightarrow> False", "have \"I_of M \\<Turnstile>s M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. I_of M \\<Turnstile>s M", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "assume \"\\<not> I_of M \\<Turnstile>s M\""], ["proof (state)\nthis:\n  \\<not> I_of M \\<Turnstile>s M\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> I_of M \\<Turnstile>s M", "obtain D where\n      d_in_m: \"D \\<in> M\" and\n      d_cex: \"\\<not> I_of M \\<Turnstile> D\" and\n      d_min: \"\\<And>C. C \\<in> M \\<Longrightarrow> C < D \\<Longrightarrow> I_of M \\<Turnstile> C\""], ["proof (prove)\nusing this:\n  \\<not> I_of M \\<Turnstile>s M\n\ngoal (1 subgoal):\n 1. (\\<And>D.\n        \\<lbrakk>D \\<in> M; \\<not> I_of M \\<Turnstile> D;\n         \\<And>C.\n            \\<lbrakk>C \\<in> M; C < D\\<rbrakk>\n            \\<Longrightarrow> I_of M \\<Turnstile> C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using ex_min_counterex"], ["proof (prove)\nusing this:\n  \\<not> I_of M \\<Turnstile>s M\n  \\<not> ?I \\<Turnstile>s ?N \\<Longrightarrow>\n  \\<exists>C\\<in>?N.\n     \\<not> ?I \\<Turnstile> C \\<and>\n     (\\<forall>D\\<in>?N. D < C \\<longrightarrow> ?I \\<Turnstile> D)\n\ngoal (1 subgoal):\n 1. (\\<And>D.\n        \\<lbrakk>D \\<in> M; \\<not> I_of M \\<Turnstile> D;\n         \\<And>C.\n            \\<lbrakk>C \\<in> M; C < D\\<rbrakk>\n            \\<Longrightarrow> I_of M \\<Turnstile> C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  D \\<in> M\n  \\<not> I_of M \\<Turnstile> D\n  \\<lbrakk>?C \\<in> M; ?C < D\\<rbrakk>\n  \\<Longrightarrow> I_of M \\<Turnstile> ?C\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  D \\<in> M\n  \\<not> I_of M \\<Turnstile> D\n  \\<lbrakk>?C \\<in> M; ?C < D\\<rbrakk>\n  \\<Longrightarrow> I_of M \\<Turnstile> ?C", "obtain \\<gamma> CC E where\n      \\<gamma>: \"\\<gamma> = Infer CC D E\" and\n      cc_subs_m: \"set_mset CC \\<subseteq> M\" and\n      cc_true: \"I_of M \\<Turnstile>m CC\" and\n      \\<gamma>_in: \"\\<gamma> \\<in> \\<Gamma>\" and\n      e_cex: \"\\<not> I_of M \\<Turnstile> E\" and\n      e_lt_d: \"E < D\""], ["proof (prove)\nusing this:\n  D \\<in> M\n  \\<not> I_of M \\<Turnstile> D\n  \\<lbrakk>?C \\<in> M; ?C < D\\<rbrakk>\n  \\<Longrightarrow> I_of M \\<Turnstile> ?C\n\ngoal (1 subgoal):\n 1. (\\<And>\\<gamma> CC E.\n        \\<lbrakk>\\<gamma> = Infer CC D E; set_mset CC \\<subseteq> M;\n         I_of M \\<Turnstile>m CC; \\<gamma> \\<in> \\<Gamma>;\n         \\<not> I_of M \\<Turnstile> E; E < D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<Gamma>_counterex_reducing[OF ec_ni_m] not_less"], ["proof (prove)\nusing this:\n  D \\<in> M\n  \\<not> I_of M \\<Turnstile> D\n  \\<lbrakk>?C \\<in> M; ?C < D\\<rbrakk>\n  \\<Longrightarrow> I_of M \\<Turnstile> ?C\n  \\<lbrakk>?D \\<in> M; \\<not> I_of M \\<Turnstile> ?D;\n   \\<And>C.\n      \\<lbrakk>C \\<in> M; \\<not> I_of M \\<Turnstile> C\\<rbrakk>\n      \\<Longrightarrow> ?D \\<le> C\\<rbrakk>\n  \\<Longrightarrow> \\<exists>CC E.\n                       set_mset CC \\<subseteq> M \\<and>\n                       I_of M \\<Turnstile>m CC \\<and>\n                       Infer CC ?D E \\<in> \\<Gamma> \\<and>\n                       \\<not> I_of M \\<Turnstile> E \\<and> E < ?D\n  (\\<not> ?x < ?y) = (?y \\<le> ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<gamma> CC E.\n        \\<lbrakk>\\<gamma> = Infer CC D E; set_mset CC \\<subseteq> M;\n         I_of M \\<Turnstile>m CC; \\<gamma> \\<in> \\<Gamma>;\n         \\<not> I_of M \\<Turnstile> E; E < D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<gamma> = Infer CC D E\n  set_mset CC \\<subseteq> M\n  I_of M \\<Turnstile>m CC\n  \\<gamma> \\<in> \\<Gamma>\n  \\<not> I_of M \\<Turnstile> E\n  E < D\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "have cc: \"CC = side_prems_of \\<gamma>\" and d: \"D = main_prem_of \\<gamma>\" and e: \"E = concl_of \\<gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. CC = side_prems_of \\<gamma> &&&\n    D = main_prem_of \\<gamma> &&& E = concl_of \\<gamma>", "unfolding \\<gamma>"], ["proof (prove)\ngoal (1 subgoal):\n 1. CC = side_prems_of (Infer CC D E) &&&\n    D = main_prem_of (Infer CC D E) &&& E = concl_of (Infer CC D E)", "by simp_all"], ["proof (state)\nthis:\n  CC = side_prems_of \\<gamma>\n  D = main_prem_of \\<gamma>\n  E = concl_of \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "have \"\\<gamma> \\<in> Ri N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri N", "by (rule subsetD[OF satur[unfolded saturated_upto_def inferences_from_def infer_from_def]])\n        (simp add: \\<gamma>_in d_in_m cc_subs_m cc[symmetric] d[symmetric] M_def[symmetric])"], ["proof (state)\nthis:\n  \\<gamma> \\<in> Ri N\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<gamma> \\<in> Ri N", "have \"\\<gamma> \\<in> Ri M\""], ["proof (prove)\nusing this:\n  \\<gamma> \\<in> Ri N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri M", "unfolding M_def"], ["proof (prove)\nusing this:\n  \\<gamma> \\<in> Ri N\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri (N - Rf N)", "using Ri_indep"], ["proof (prove)\nusing this:\n  \\<gamma> \\<in> Ri N\n  ?N' \\<subseteq> Rf ?N \\<Longrightarrow> Ri ?N \\<subseteq> Ri (?N - ?N')\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<in> Ri (N - Rf N)", "by fast"], ["proof (state)\nthis:\n  \\<gamma> \\<in> Ri M\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<gamma> \\<in> Ri M", "obtain DD where\n      dd_subs_m: \"set_mset DD \\<subseteq> M\" and\n      dd_cc_imp_d: \"\\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\" and\n      dd_lt_d: \"\\<forall>C. C \\<in># DD \\<longrightarrow> C < D\""], ["proof (prove)\nusing this:\n  \\<gamma> \\<in> Ri M\n\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> M;\n         \\<forall>I.\n            I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E;\n         \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding Ri_def redundant_infer_def cc d e"], ["proof (prove)\nusing this:\n  \\<gamma>\n  \\<in> {\\<gamma> \\<in> \\<Gamma>.\n         \\<exists>DD.\n            set_mset DD \\<subseteq> M \\<and>\n            (\\<forall>I.\n                I \\<Turnstile>m\n                DD + side_prems_of \\<gamma> \\<longrightarrow>\n                I \\<Turnstile> concl_of \\<gamma>) \\<and>\n            (\\<forall>D.\n                D \\<in># DD \\<longrightarrow> D < main_prem_of \\<gamma>)}\n\ngoal (1 subgoal):\n 1. (\\<And>DD.\n        \\<lbrakk>set_mset DD \\<subseteq> M;\n         \\<forall>I.\n            I \\<Turnstile>m DD + side_prems_of \\<gamma> \\<longrightarrow>\n            I \\<Turnstile> concl_of \\<gamma>;\n         \\<forall>C.\n            C \\<in># DD \\<longrightarrow> C < main_prem_of \\<gamma>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  set_mset DD \\<subseteq> M\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "from dd_subs_m dd_lt_d"], ["proof (chain)\npicking this:\n  set_mset DD \\<subseteq> M\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D", "have \"I_of M \\<Turnstile>m DD\""], ["proof (prove)\nusing this:\n  set_mset DD \\<subseteq> M\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\n\ngoal (1 subgoal):\n 1. I_of M \\<Turnstile>m DD", "using d_min"], ["proof (prove)\nusing this:\n  set_mset DD \\<subseteq> M\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\n  \\<lbrakk>?C \\<in> M; ?C < D\\<rbrakk>\n  \\<Longrightarrow> I_of M \\<Turnstile> ?C\n\ngoal (1 subgoal):\n 1. I_of M \\<Turnstile>m DD", "unfolding true_cls_mset_def"], ["proof (prove)\nusing this:\n  set_mset DD \\<subseteq> M\n  \\<forall>C. C \\<in># DD \\<longrightarrow> C < D\n  \\<lbrakk>?C \\<in> M; ?C < D\\<rbrakk>\n  \\<Longrightarrow> I_of M \\<Turnstile> ?C\n\ngoal (1 subgoal):\n 1. Multiset.Ball DD ((\\<Turnstile>) (I_of M))", "by (metis contra_subsetD)"], ["proof (state)\nthis:\n  I_of M \\<Turnstile>m DD\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  I_of M \\<Turnstile>m DD", "have \"I_of M \\<Turnstile> E\""], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile>m DD\n\ngoal (1 subgoal):\n 1. I_of M \\<Turnstile> E", "using dd_cc_imp_d cc_true"], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile>m DD\n  \\<forall>I. I \\<Turnstile>m DD + CC \\<longrightarrow> I \\<Turnstile> E\n  I_of M \\<Turnstile>m CC\n\ngoal (1 subgoal):\n 1. I_of M \\<Turnstile> E", "by auto"], ["proof (state)\nthis:\n  I_of M \\<Turnstile> E\n\ngoal (1 subgoal):\n 1. \\<not> I_of M \\<Turnstile>s M \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  I_of M \\<Turnstile> E", "show False"], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile> E\n\ngoal (1 subgoal):\n 1. False", "using e_cex"], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile> E\n  \\<not> I_of M \\<Turnstile> E\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  I_of M \\<Turnstile>s M\n\ngoal (1 subgoal):\n 1. {#} \\<notin> N \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  I_of M \\<Turnstile>s M", "have \"I_of M \\<Turnstile>s N\""], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile>s M\n\ngoal (1 subgoal):\n 1. I_of M \\<Turnstile>s N", "using M_def Rf_model"], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile>s M\n  M = N - Rf N\n  ?I \\<Turnstile>s ?N - Rf ?N \\<Longrightarrow> ?I \\<Turnstile>s ?N\n\ngoal (1 subgoal):\n 1. I_of M \\<Turnstile>s N", "by blast"], ["proof (state)\nthis:\n  I_of M \\<Turnstile>s N\n\ngoal (1 subgoal):\n 1. {#} \\<notin> N \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  I_of M \\<Turnstile>s N", "show False"], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile>s N\n\ngoal (1 subgoal):\n 1. False", "using unsat"], ["proof (prove)\nusing this:\n  I_of M \\<Turnstile>s N\n  \\<not> satisfiable N\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem saturated_upto_complete:\n  assumes \"saturated_upto N\"\n  shows \"\\<not> satisfiable N \\<longleftrightarrow> {#} \\<in> N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<not> satisfiable N) = ({#} \\<in> N)", "using assms saturated_upto_complete_if true_clss_def"], ["proof (prove)\nusing this:\n  saturated_upto N\n  \\<lbrakk>saturated_upto ?N; \\<not> satisfiable ?N\\<rbrakk>\n  \\<Longrightarrow> {#} \\<in> ?N\n  (?I \\<Turnstile>s ?CC) = (\\<forall>C\\<in>?CC. ?I \\<Turnstile> C)\n\ngoal (1 subgoal):\n 1. (\\<not> satisfiable N) = ({#} \\<in> N)", "by auto"], ["", "end"], ["", "end"]]}