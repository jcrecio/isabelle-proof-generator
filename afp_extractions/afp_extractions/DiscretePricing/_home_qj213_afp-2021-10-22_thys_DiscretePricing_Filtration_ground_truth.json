{"file_name": "/home/qj213/afp-2021-10-22/thys/DiscretePricing/Filtration.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/DiscretePricing", "problem_names": ["lemma filtrationI:\n  assumes \"\\<forall>t. subalgebra M (F t)\"\n  and \"\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)\"\nshows \"filtration M F\"", "lemma filtrationE1:\n  assumes \"filtration M F\"\n  shows \"subalgebra M (F t)\"", "lemma filtrationE2:\n  assumes \"filtration M F\"\n  shows \"s\\<le> t \\<Longrightarrow> subalgebra (F t) (F s)\"", "lemma (in filtrated_prob_space) filtration_space:\n  assumes \"s \\<le> t\"\n  shows \"space (F s) = space (F t)\"", "lemma (in filtrated_prob_space) filtration_measurable:\n  assumes \"f\\<in> measurable (F t) N\"\nshows \"f\\<in> measurable M N\"", "lemma (in filtrated_prob_space) increasing_measurable_info:\n  assumes \"f\\<in> measurable (F s) N\"\n  and \"s \\<le> t\"\n  shows \"f\\<in> measurable (F t) N\"", "lemma (in disc_filtr_prob_space) subalgebra_filtration:\n  assumes \"subalgebra N M\"\n  and \"filtration M F\"\nshows \"filtration N F\"", "lemma (in filtrated_prob_space) adapted_is_dsp:\n  assumes \"adapt_stoch_proc F X N\"\n  shows \"X \\<in> stoch_procs M N\"", "lemma (in filtrated_prob_space) adapt_stoch_proc_borel_measurable:\n  assumes \"adapt_stoch_proc F X N\"\n  shows \"\\<forall>n. (X n) \\<in> measurable M N\"", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_borel_measurable:\n  assumes \"borel_adapt_stoch_proc F X\"\n  shows \"\\<forall>n. (X n) \\<in> borel_measurable M\"", "lemma (in filtrated_prob_space) constant_process_borel_adapted:\n  shows \"borel_adapt_stoch_proc F (\\<lambda> n w. c)\"", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_add:\n  fixes X::\"'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_monoid_add})\"\n  assumes \"borel_adapt_stoch_proc F X\"\n  and \"borel_adapt_stoch_proc F Y\"\nshows \"borel_adapt_stoch_proc F (\\<lambda>t w. X t w + Y t w)\"", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_sum:\n  fixes A::\"'d \\<Rightarrow> 'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_comm_monoid_add})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_adapt_stoch_proc F (A i)\"\nshows \"borel_adapt_stoch_proc F (\\<lambda> t w. (\\<Sum> i\\<in> S. A i t w))\"", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_times:\n  fixes X::\"'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_algebra})\"\n  assumes \"borel_adapt_stoch_proc F X\"\n  and \"borel_adapt_stoch_proc F Y\"\nshows \"borel_adapt_stoch_proc F (\\<lambda>t w. X t w * Y t w)\"", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_prod:\n  fixes A::\"'d \\<Rightarrow> 'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_field})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_adapt_stoch_proc F (A i)\"\nshows \"borel_adapt_stoch_proc F (\\<lambda> t w. (\\<Prod> i\\<in> S. A i t w))\"", "lemma (in disc_filtr_prob_space) predict_imp_adapt:\n  assumes \"predict_stoch_proc F X N\"\n  shows \"adapt_stoch_proc F X N\"", "lemma (in disc_filtr_prob_space) predictable_is_dsp:\n  assumes \"predict_stoch_proc F X N\"\n  shows \"X \\<in> stoch_procs M N\"", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_borel_measurable:\n  assumes \"borel_predict_stoch_proc F X\"\n  shows \"\\<forall>n. (X n) \\<in> borel_measurable M\"", "lemma (in disc_filtr_prob_space) constant_process_borel_predictable:\n  shows \"borel_predict_stoch_proc F (\\<lambda> n w. c)\"", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_add:\n  fixes X::\"nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_monoid_add})\"\n  assumes \"borel_predict_stoch_proc F X\"\n  and \"borel_predict_stoch_proc F Y\"\nshows \"borel_predict_stoch_proc F (\\<lambda>t w. X t w + Y t w)\"", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_sum:\n  fixes A::\"'d \\<Rightarrow> nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_comm_monoid_add})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A i)\"\nshows \"borel_predict_stoch_proc F (\\<lambda> t w. (\\<Sum> i\\<in> S. A i t w))\"", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_times:\n  fixes X::\"nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_algebra})\"\n  assumes \"borel_predict_stoch_proc F X\"\n  and \"borel_predict_stoch_proc F Y\"\nshows \"borel_predict_stoch_proc F (\\<lambda>t w. X t w * Y t w)\"", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_prod:\n  fixes A::\"'d \\<Rightarrow> nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_field})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A i)\"\nshows \"borel_predict_stoch_proc F (\\<lambda> t w. (\\<Prod> i\\<in> S. A i t w))\"", "lemma (in prob_space) constant_imageI:\n  assumes \"\\<exists>c::'b::{t2_space}. \\<forall>x\\<in> space M. f x = c\"\n  shows \"\\<forall>x\\<in> space M. f x = (constant_image f)\"", "lemma (in prob_space) constant_image_pos:\n  assumes \"\\<forall>x\\<in> space M. (0::real) < f x\"\n  and \"\\<exists>c::real. \\<forall>x\\<in> space M. f x = c\"\nshows \"0 < (constant_image f)\"", "lemma open_exceptI:\n  assumes \"(x::'b::{t1_space}) \\<noteq> y\"\n  shows \"open (open_except x y)\" and \"x\\<in> open_except x y\" and  \"y\\<notin> open_except x y\"", "lemma open_except_set:\n  assumes \"finite A\"\n  and \"(x::'b::{t1_space}) \\<notin> A\"\nshows \"\\<exists>U. open U \\<and> x\\<in> U \\<and> U\\<inter> A = {}\"", "lemma open_exclude_setI:\n  assumes \"\\<exists>U. open U \\<and> U\\<inter> A = {x}\"\nshows \"open (open_exclude_set x A)\" and \"(open_exclude_set x A) \\<inter> A = {x}\"", "lemma open_exclude_finite:\n  assumes \"finite A\"\n  and \"(x::'b::{t1_space})\\<in> A\"\nshows open_set: \"open (open_exclude_set x A)\" and inter_x:\"(open_exclude_set x A) \\<inter> A = {x}\"", "lemma triv_measurable_cst:\n  fixes f::\"'a\\<Rightarrow>'b::{t2_space}\"\n  assumes \"space N = space M\"\n  and \"space M \\<noteq> {}\"\n  and \"sets N = {{}, space M}\"\n  and \"f\\<in> measurable N borel\"\nshows \"\\<exists> c::'b. \\<forall>x\\<in> space N. f x = c\"", "lemma (in triv_init_disc_filtr_prob_space) adapted_init:\n  assumes \"borel_adapt_stoch_proc F x\"\n  shows \"\\<exists>c. \\<forall>w \\<in> space M. ((x 0 w)::real) = c\"", "lemma filt_equiv_space:\n  assumes \"filt_equiv F M N\"\n  shows \"space M = space N\"", "lemma filt_equiv_sets:\n  assumes \"filt_equiv F M N\"\n  shows \"sets M = sets N\"", "lemma filt_equiv_filtration:\n  assumes \"filt_equiv F M N\"\n  shows \"filtration N F\"", "lemma (in filtrated_prob_space) AE_borel_eq:\nfixes f::\"'a\\<Rightarrow>real\"\nassumes \"f\\<in> borel_measurable (F t)\"\nand \"g\\<in> borel_measurable (F t)\"\nand \"AE w in M. f w = g w\"\nshows \"{w\\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and> emeasure M {w\\<in> space M. f w \\<noteq> g w} = 0\"", "lemma (in prob_space) filt_equiv_borel_AE_eq:\n  fixes f::\"'a\\<Rightarrow> real\"\n  assumes \"filt_equiv F M N\"\nand \"f\\<in> borel_measurable (F t)\"\nand \"g\\<in> borel_measurable (F t)\"\nand \"AE w in M. f w = g w\"\nshows \"AE w in N. f w = g w\"", "lemma filt_equiv_prob_space_subalgebra:\n  assumes \"prob_space N\"\n  and \"filt_equiv F M N\"\n  and \"sigma_finite_subalgebra M G\"\nshows \"sigma_finite_subalgebra N G\"", "lemma filt_equiv_measurable:\n  assumes \"filt_equiv F M N\"\n  and \"f\\<in> measurable M P\"\nshows \"f\\<in> measurable N P\"", "lemma filt_equiv_imp_subalgebra:\n  assumes \"filt_equiv F M N\"\nshows \"subalgebra N M\""], "translations": [["", "lemma filtrationI:\n  assumes \"\\<forall>t. subalgebra M (F t)\"\n  and \"\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)\"\nshows \"filtration M F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Filtration.filtration M F", "unfolding filtration_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>t. subalgebra M (F t)) \\<and>\n    (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>t. subalgebra M (F t)\n  \\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)\n\ngoal (1 subgoal):\n 1. (\\<forall>t. subalgebra M (F t)) \\<and>\n    (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))", "by simp"], ["", "lemma filtrationE1:\n  assumes \"filtration M F\"\n  shows \"subalgebra M (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subalgebra M (F t)", "using assms"], ["proof (prove)\nusing this:\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. subalgebra M (F t)", "unfolding filtration_def"], ["proof (prove)\nusing this:\n  (\\<forall>t. subalgebra M (F t)) \\<and>\n  (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))\n\ngoal (1 subgoal):\n 1. subalgebra M (F t)", "by simp"], ["", "lemma filtrationE2:\n  assumes \"filtration M F\"\n  shows \"s\\<le> t \\<Longrightarrow> subalgebra (F t) (F s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<le> t \\<Longrightarrow> subalgebra (F t) (F s)", "using assms"], ["proof (prove)\nusing this:\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. s \\<le> t \\<Longrightarrow> subalgebra (F t) (F s)", "unfolding filtration_def"], ["proof (prove)\nusing this:\n  (\\<forall>t. subalgebra M (F t)) \\<and>\n  (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))\n\ngoal (1 subgoal):\n 1. s \\<le> t \\<Longrightarrow> subalgebra (F t) (F s)", "by simp"], ["", "locale filtrated_prob_space = prob_space +\n  fixes F\n  assumes filtration: \"filtration M F\""], ["", "lemma (in filtrated_prob_space) filtration_space:\n  assumes \"s \\<le> t\"\n  shows \"space (F s) = space (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space (F s) = space (F t)", "by (metis filtration filtration_def subalgebra_def)"], ["", "lemma (in filtrated_prob_space) filtration_measurable:\n  assumes \"f\\<in> measurable (F t) N\"\nshows \"f\\<in> measurable M N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. random_variable N f", "unfolding measurable_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> {f \\<in> space M \\<rightarrow> space N.\n             \\<forall>y\\<in>sets N. f -` y \\<inter> space M \\<in> events}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<in> space M \\<rightarrow> space N \\<and>\n    (\\<forall>y\\<in>sets N. f -` y \\<inter> space M \\<in> events)", "show \"f \\<in> space M \\<rightarrow> space N \\<and> (\\<forall>y\\<in>sets N. f -` y \\<inter> space M \\<in> sets M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> space M \\<rightarrow> space N \\<and>\n    (\\<forall>y\\<in>sets N. f -` y \\<inter> space M \\<in> events)", "proof (intro conjI ballI)"], ["proof (state)\ngoal (2 subgoals):\n 1. f \\<in> space M \\<rightarrow> space N\n 2. \\<And>y.\n       y \\<in> sets N \\<Longrightarrow> f -` y \\<inter> space M \\<in> events", "have \"space (F t) = space M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space (F t) = space M", "using assms filtration"], ["proof (prove)\nusing this:\n  f \\<in> F t \\<rightarrow>\\<^sub>M N\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. space (F t) = space M", "unfolding filtration_def subalgebra_def"], ["proof (prove)\nusing this:\n  f \\<in> F t \\<rightarrow>\\<^sub>M N\n  (\\<forall>t.\n      space (F t) = space M \\<and> sets (F t) \\<subseteq> events) \\<and>\n  (\\<forall>s t.\n      s \\<le> t \\<longrightarrow>\n      space (F s) = space (F t) \\<and> sets (F s) \\<subseteq> sets (F t))\n\ngoal (1 subgoal):\n 1. space (F t) = space M", "by auto"], ["proof (state)\nthis:\n  space (F t) = space M\n\ngoal (2 subgoals):\n 1. f \\<in> space M \\<rightarrow> space N\n 2. \\<And>y.\n       y \\<in> sets N \\<Longrightarrow> f -` y \\<inter> space M \\<in> events", "thus \"f\\<in> space M \\<rightarrow> space N\""], ["proof (prove)\nusing this:\n  space (F t) = space M\n\ngoal (1 subgoal):\n 1. f \\<in> space M \\<rightarrow> space N", "using assms"], ["proof (prove)\nusing this:\n  space (F t) = space M\n  f \\<in> F t \\<rightarrow>\\<^sub>M N\n\ngoal (1 subgoal):\n 1. f \\<in> space M \\<rightarrow> space N", "unfolding measurable_def"], ["proof (prove)\nusing this:\n  space (F t) = space M\n  f \\<in> {f \\<in> space (F t) \\<rightarrow> space N.\n           \\<forall>y\\<in>sets N.\n              f -` y \\<inter> space (F t) \\<in> sets (F t)}\n\ngoal (1 subgoal):\n 1. f \\<in> space M \\<rightarrow> space N", "by simp"], ["proof (state)\nthis:\n  f \\<in> space M \\<rightarrow> space N\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> sets N \\<Longrightarrow> f -` y \\<inter> space M \\<in> events", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> sets N \\<Longrightarrow> f -` y \\<inter> space M \\<in> events", "assume \"y\\<in> sets N\""], ["proof (state)\nthis:\n  y \\<in> sets N\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> sets N \\<Longrightarrow> f -` y \\<inter> space M \\<in> events", "hence \"f -`y\\<inter> space M \\<in> sets (F t)\""], ["proof (prove)\nusing this:\n  y \\<in> sets N\n\ngoal (1 subgoal):\n 1. f -` y \\<inter> space M \\<in> sets (F t)", "using assms"], ["proof (prove)\nusing this:\n  y \\<in> sets N\n  f \\<in> F t \\<rightarrow>\\<^sub>M N\n\ngoal (1 subgoal):\n 1. f -` y \\<inter> space M \\<in> sets (F t)", "unfolding measurable_def"], ["proof (prove)\nusing this:\n  y \\<in> sets N\n  f \\<in> {f \\<in> space (F t) \\<rightarrow> space N.\n           \\<forall>y\\<in>sets N.\n              f -` y \\<inter> space (F t) \\<in> sets (F t)}\n\ngoal (1 subgoal):\n 1. f -` y \\<inter> space M \\<in> sets (F t)", "using \\<open>space (F t) = space M\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> sets N\n  f \\<in> {f \\<in> space (F t) \\<rightarrow> space N.\n           \\<forall>y\\<in>sets N.\n              f -` y \\<inter> space (F t) \\<in> sets (F t)}\n  space (F t) = space M\n\ngoal (1 subgoal):\n 1. f -` y \\<inter> space M \\<in> sets (F t)", "by auto"], ["proof (state)\nthis:\n  f -` y \\<inter> space M \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> sets N \\<Longrightarrow> f -` y \\<inter> space M \\<in> events", "thus \"f -`y\\<inter> space M \\<in> sets M\""], ["proof (prove)\nusing this:\n  f -` y \\<inter> space M \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. f -` y \\<inter> space M \\<in> events", "using assms filtration"], ["proof (prove)\nusing this:\n  f -` y \\<inter> space M \\<in> sets (F t)\n  f \\<in> F t \\<rightarrow>\\<^sub>M N\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. f -` y \\<inter> space M \\<in> events", "unfolding filtration_def subalgebra_def"], ["proof (prove)\nusing this:\n  f -` y \\<inter> space M \\<in> sets (F t)\n  f \\<in> F t \\<rightarrow>\\<^sub>M N\n  (\\<forall>t.\n      space (F t) = space M \\<and> sets (F t) \\<subseteq> events) \\<and>\n  (\\<forall>s t.\n      s \\<le> t \\<longrightarrow>\n      space (F s) = space (F t) \\<and> sets (F s) \\<subseteq> sets (F t))\n\ngoal (1 subgoal):\n 1. f -` y \\<inter> space M \\<in> events", "by auto"], ["proof (state)\nthis:\n  f -` y \\<inter> space M \\<in> events\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f \\<in> space M \\<rightarrow> space N \\<and>\n  (\\<forall>y\\<in>sets N. f -` y \\<inter> space M \\<in> events)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in filtrated_prob_space) increasing_measurable_info:\n  assumes \"f\\<in> measurable (F s) N\"\n  and \"s \\<le> t\"\n  shows \"f\\<in> measurable (F t) N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> F t \\<rightarrow>\\<^sub>M N", "proof (rule measurableI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> space (F t) \\<Longrightarrow> f x \\<in> space N\n 2. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "have inc: \"sets (F s) \\<subseteq> sets (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sets (F s) \\<subseteq> sets (F t)", "using assms(2) filtration"], ["proof (prove)\nusing this:\n  s \\<le> t\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. sets (F s) \\<subseteq> sets (F t)", "by (simp add: filtration_def subalgebra_def)"], ["proof (state)\nthis:\n  sets (F s) \\<subseteq> sets (F t)\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> space (F t) \\<Longrightarrow> f x \\<in> space N\n 2. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "have sp: \"space (F s) = space (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space (F s) = space (F t)", "by (metis filtration filtration_def subalgebra_def)"], ["proof (state)\nthis:\n  space (F s) = space (F t)\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> space (F t) \\<Longrightarrow> f x \\<in> space N\n 2. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "thus \"\\<And>x. x \\<in> space (F t) \\<Longrightarrow> f x \\<in> space N\""], ["proof (prove)\nusing this:\n  space (F s) = space (F t)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space (F t) \\<Longrightarrow> f x \\<in> space N", "using assms"], ["proof (prove)\nusing this:\n  space (F s) = space (F t)\n  f \\<in> F s \\<rightarrow>\\<^sub>M N\n  s \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space (F t) \\<Longrightarrow> f x \\<in> space N", "by (simp add: measurable_space)"], ["proof (state)\nthis:\n  ?x12 \\<in> space (F t) \\<Longrightarrow> f ?x12 \\<in> space N\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "show \"\\<And>A. A \\<in> sets N \\<Longrightarrow> f -` A \\<inter> space (F t) \\<in> sets (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "fix A"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "assume \"A\\<in> sets N\""], ["proof (state)\nthis:\n  A \\<in> sets N\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "hence \"f -` A \\<inter> space (F s) \\<in> sets (F s)\""], ["proof (prove)\nusing this:\n  A \\<in> sets N\n\ngoal (1 subgoal):\n 1. f -` A \\<inter> space (F s) \\<in> sets (F s)", "using assms"], ["proof (prove)\nusing this:\n  A \\<in> sets N\n  f \\<in> F s \\<rightarrow>\\<^sub>M N\n  s \\<le> t\n\ngoal (1 subgoal):\n 1. f -` A \\<inter> space (F s) \\<in> sets (F s)", "using measurable_sets"], ["proof (prove)\nusing this:\n  A \\<in> sets N\n  f \\<in> F s \\<rightarrow>\\<^sub>M N\n  s \\<le> t\n  \\<lbrakk>?f \\<in> ?M \\<rightarrow>\\<^sub>M ?A; ?S \\<in> sets ?A\\<rbrakk>\n  \\<Longrightarrow> ?f -` ?S \\<inter> space ?M \\<in> sets ?M\n\ngoal (1 subgoal):\n 1. f -` A \\<inter> space (F s) \\<in> sets (F s)", "by blast"], ["proof (state)\nthis:\n  f -` A \\<inter> space (F s) \\<in> sets (F s)\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "hence \"f -` A \\<inter> space (F s) \\<in> sets (F t)\""], ["proof (prove)\nusing this:\n  f -` A \\<inter> space (F s) \\<in> sets (F s)\n\ngoal (1 subgoal):\n 1. f -` A \\<inter> space (F s) \\<in> sets (F t)", "using subsetD[of \"F s\" \"F t\"] inc"], ["proof (prove)\nusing this:\n  f -` A \\<inter> space (F s) \\<in> sets (F s)\n  \\<lbrakk>sets (F s) \\<subseteq> sets (F t); ?c \\<in> sets (F s)\\<rbrakk>\n  \\<Longrightarrow> ?c \\<in> sets (F t)\n  sets (F s) \\<subseteq> sets (F t)\n\ngoal (1 subgoal):\n 1. f -` A \\<inter> space (F s) \\<in> sets (F t)", "by blast"], ["proof (state)\nthis:\n  f -` A \\<inter> space (F s) \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       A \\<in> sets N \\<Longrightarrow>\n       f -` A \\<inter> space (F t) \\<in> sets (F t)", "thus \"f -` A \\<inter> space (F t) \\<in> sets (F t)\""], ["proof (prove)\nusing this:\n  f -` A \\<inter> space (F s) \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. f -` A \\<inter> space (F t) \\<in> sets (F t)", "using sp"], ["proof (prove)\nusing this:\n  f -` A \\<inter> space (F s) \\<in> sets (F t)\n  space (F s) = space (F t)\n\ngoal (1 subgoal):\n 1. f -` A \\<inter> space (F t) \\<in> sets (F t)", "by simp"], ["proof (state)\nthis:\n  f -` A \\<inter> space (F t) \\<in> sets (F t)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?A12 \\<in> sets N \\<Longrightarrow>\n  f -` ?A12 \\<inter> space (F t) \\<in> sets (F t)\n\ngoal:\nNo subgoals!", "qed"], ["", "definition disc_filtr :: \"'a measure \\<Rightarrow> (nat \\<Rightarrow> 'a measure) \\<Rightarrow> bool\" where\n  \"disc_filtr M F \\<longleftrightarrow>\n    (\\<forall>n. subalgebra M (F n))  \\<and>\n    (\\<forall> n m. n \\<le> m \\<longrightarrow> subalgebra (F m) (F n))\""], ["", "locale disc_filtr_prob_space = prob_space +\n  fixes F\n  assumes discrete_filtration: \"disc_filtr M F\""], ["", "lemma (in disc_filtr_prob_space) subalgebra_filtration:\n  assumes \"subalgebra N M\"\n  and \"filtration M F\"\nshows \"filtration N F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Filtration.filtration N F", "proof (rule filtrationI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>t. subalgebra N (F t)\n 2. \\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)", "show \"\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)", "using assms"], ["proof (prove)\nusing this:\n  subalgebra N M\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. \\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)", "unfolding filtration_def"], ["proof (prove)\nusing this:\n  subalgebra N M\n  (\\<forall>t. subalgebra M (F t)) \\<and>\n  (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))\n\ngoal (1 subgoal):\n 1. \\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)", "by simp"], ["proof (state)\nthis:\n  \\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s)\n\ngoal (1 subgoal):\n 1. \\<forall>t. subalgebra N (F t)", "show \"\\<forall>t. subalgebra N (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t. subalgebra N (F t)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. subalgebra N (F t)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. subalgebra N (F t)", "have \"subalgebra M (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subalgebra M (F t)", "using assms"], ["proof (prove)\nusing this:\n  subalgebra N M\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. subalgebra M (F t)", "unfolding filtration_def"], ["proof (prove)\nusing this:\n  subalgebra N M\n  (\\<forall>t. subalgebra M (F t)) \\<and>\n  (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))\n\ngoal (1 subgoal):\n 1. subalgebra M (F t)", "by auto"], ["proof (state)\nthis:\n  subalgebra M (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t. subalgebra N (F t)", "thus \"subalgebra N (F t)\""], ["proof (prove)\nusing this:\n  subalgebra M (F t)\n\ngoal (1 subgoal):\n 1. subalgebra N (F t)", "using assms"], ["proof (prove)\nusing this:\n  subalgebra M (F t)\n  subalgebra N M\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. subalgebra N (F t)", "by (metis subalgebra_def subsetCE subsetI)"], ["proof (state)\nthis:\n  subalgebra N (F t)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>t. subalgebra N (F t)\n\ngoal:\nNo subgoals!", "qed"], ["", "sublocale disc_filtr_prob_space \\<subseteq>  filtrated_prob_space"], ["proof (prove)\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "proof unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. Filtration.filtration M F", "show \"filtration M F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Filtration.filtration M F", "using  discrete_filtration"], ["proof (prove)\nusing this:\n  disc_filtr M F\n\ngoal (1 subgoal):\n 1. Filtration.filtration M F", "by (simp add: filtration_def disc_filtr_def)"], ["proof (state)\nthis:\n  Filtration.filtration M F\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Stochastic processes\\<close>"], ["", "text  \\<open>Stochastic processes are collections of measurable functions. Those of a particular interest when\nthere is a filtration are the adapted stochastic processes.\\<close>"], ["", "definition stoch_procs where\n  \"stoch_procs M N = {X. \\<forall>t. (X t) \\<in> measurable M N}\""], ["", "subsubsection \\<open>Adapted stochastic processes\\<close>"], ["", "definition adapt_stoch_proc where\n  \"(adapt_stoch_proc F X N) \\<longleftrightarrow> (\\<forall>t. (X t) \\<in> measurable (F t) N)\""], ["", "abbreviation \"borel_adapt_stoch_proc F X \\<equiv> adapt_stoch_proc F X borel\""], ["", "lemma (in filtrated_prob_space) adapted_is_dsp:\n  assumes \"adapt_stoch_proc F X N\"\n  shows \"X \\<in> stoch_procs M N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<in> stoch_procs M N", "unfolding  stoch_procs_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<in> {X. \\<forall>t. random_variable N (X t)}", "by (intro CollectI, (meson adapt_stoch_proc_def assms filtration filtration_def measurable_from_subalg))"], ["", "lemma (in filtrated_prob_space) adapt_stoch_proc_borel_measurable:\n  assumes \"adapt_stoch_proc F X N\"\n  shows \"\\<forall>n. (X n) \\<in> measurable M N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. random_variable N (X n)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. random_variable N (X n)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. random_variable N (X n)", "have \"X n \\<in> measurable (F n) N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "using assms"], ["proof (prove)\nusing this:\n  adapt_stoch_proc F X N\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "unfolding  adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  \\<forall>t. X t \\<in> F t \\<rightarrow>\\<^sub>M N\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "by simp"], ["proof (state)\nthis:\n  X n \\<in> F n \\<rightarrow>\\<^sub>M N\n\ngoal (1 subgoal):\n 1. \\<And>n. random_variable N (X n)", "moreover"], ["proof (state)\nthis:\n  X n \\<in> F n \\<rightarrow>\\<^sub>M N\n\ngoal (1 subgoal):\n 1. \\<And>n. random_variable N (X n)", "have \"subalgebra M (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subalgebra M (F n)", "using filtration"], ["proof (prove)\nusing this:\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. subalgebra M (F n)", "unfolding filtration_def"], ["proof (prove)\nusing this:\n  (\\<forall>t. subalgebra M (F t)) \\<and>\n  (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))\n\ngoal (1 subgoal):\n 1. subalgebra M (F n)", "by simp"], ["proof (state)\nthis:\n  subalgebra M (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n. random_variable N (X n)", "ultimately"], ["proof (chain)\npicking this:\n  X n \\<in> F n \\<rightarrow>\\<^sub>M N\n  subalgebra M (F n)", "show \"X n \\<in> measurable M N\""], ["proof (prove)\nusing this:\n  X n \\<in> F n \\<rightarrow>\\<^sub>M N\n  subalgebra M (F n)\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "by (simp add:measurable_from_subalg)"], ["proof (state)\nthis:\n  random_variable N (X n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_borel_measurable:\n  assumes \"borel_adapt_stoch_proc F X\"\n  shows \"\\<forall>n. (X n) \\<in> borel_measurable M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. random_variable borel (X n)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. random_variable borel (X n)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. random_variable borel (X n)", "have \"X n \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X n \\<in> borel_measurable (F n)", "using assms"], ["proof (prove)\nusing this:\n  borel_adapt_stoch_proc F X\n\ngoal (1 subgoal):\n 1. X n \\<in> borel_measurable (F n)", "unfolding  adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  \\<forall>t. X t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. X n \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  X n \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n. random_variable borel (X n)", "moreover"], ["proof (state)\nthis:\n  X n \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n. random_variable borel (X n)", "have \"subalgebra M (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subalgebra M (F n)", "using filtration"], ["proof (prove)\nusing this:\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. subalgebra M (F n)", "unfolding filtration_def"], ["proof (prove)\nusing this:\n  (\\<forall>t. subalgebra M (F t)) \\<and>\n  (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (F t) (F s))\n\ngoal (1 subgoal):\n 1. subalgebra M (F n)", "by simp"], ["proof (state)\nthis:\n  subalgebra M (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n. random_variable borel (X n)", "ultimately"], ["proof (chain)\npicking this:\n  X n \\<in> borel_measurable (F n)\n  subalgebra M (F n)", "show \"X n \\<in> borel_measurable M\""], ["proof (prove)\nusing this:\n  X n \\<in> borel_measurable (F n)\n  subalgebra M (F n)\n\ngoal (1 subgoal):\n 1. random_variable borel (X n)", "by (simp add:measurable_from_subalg)"], ["proof (state)\nthis:\n  random_variable borel (X n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in filtrated_prob_space) constant_process_borel_adapted:\n  shows \"borel_adapt_stoch_proc F (\\<lambda> n w. c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_adapt_stoch_proc F (\\<lambda>n w. c)", "unfolding  adapt_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t. (\\<lambda>w. c) \\<in> borel_measurable (F t)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. c) \\<in> borel_measurable (F t)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. c) \\<in> borel_measurable (F t)", "show \"(\\<lambda>w. c) \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. c) \\<in> borel_measurable (F t)", "using borel_measurable_const"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ?c) \\<in> borel_measurable ?M\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. c) \\<in> borel_measurable (F t)", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>w. c) \\<in> borel_measurable (F t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_add:\n  fixes X::\"'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_monoid_add})\"\n  assumes \"borel_adapt_stoch_proc F X\"\n  and \"borel_adapt_stoch_proc F Y\"\nshows \"borel_adapt_stoch_proc F (\\<lambda>t w. X t w + Y t w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_adapt_stoch_proc F (\\<lambda>t w. X t w + Y t w)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t. (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)", "have \"X t \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X t \\<in> borel_measurable (F t)", "using assms"], ["proof (prove)\nusing this:\n  borel_adapt_stoch_proc F X\n  borel_adapt_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. X t \\<in> borel_measurable (F t)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  \\<forall>t. X t \\<in> borel_measurable (F t)\n  \\<forall>t. Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. X t \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  X t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)", "moreover"], ["proof (state)\nthis:\n  X t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)", "have \"Y t \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y t \\<in> borel_measurable (F t)", "using assms"], ["proof (prove)\nusing this:\n  borel_adapt_stoch_proc F X\n  borel_adapt_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. Y t \\<in> borel_measurable (F t)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  \\<forall>t. X t \\<in> borel_measurable (F t)\n  \\<forall>t. Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. Y t \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)", "ultimately"], ["proof (chain)\npicking this:\n  X t \\<in> borel_measurable (F t)\n  Y t \\<in> borel_measurable (F t)", "show \"(\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)\""], ["proof (prove)\nusing this:\n  X t \\<in> borel_measurable (F t)\n  Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. X t w + Y t w) \\<in> borel_measurable (F t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_sum:\n  fixes A::\"'d \\<Rightarrow> 'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_comm_monoid_add})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_adapt_stoch_proc F (A i)\"\nshows \"borel_adapt_stoch_proc F (\\<lambda> t w. (\\<Sum> i\\<in> S. A i t w))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_adapt_stoch_proc F (\\<lambda>t w. \\<Sum>i\\<in>S. A i t w)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "have \"\\<And>i. i\\<in> S\\<Longrightarrow> A i t \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i t \\<in> borel_measurable (F t)", "using assms"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> borel_adapt_stoch_proc F (A ?i12)\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i t \\<in> borel_measurable (F t)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow>\n  \\<forall>t. A ?i12 t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i t \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "thus \"(\\<lambda> w. (\\<Sum> i\\<in> S. A i t w)) \\<in> borel_measurable (F t)\""], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "by (simp add:borel_measurable_sum)"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Sum>i\\<in>S. A i t w) \\<in> borel_measurable (F t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_times:\n  fixes X::\"'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_algebra})\"\n  assumes \"borel_adapt_stoch_proc F X\"\n  and \"borel_adapt_stoch_proc F Y\"\nshows \"borel_adapt_stoch_proc F (\\<lambda>t w. X t w * Y t w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_adapt_stoch_proc F (\\<lambda>t w. X t w * Y t w)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t. (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)", "have \"X t \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X t \\<in> borel_measurable (F t)", "using assms"], ["proof (prove)\nusing this:\n  borel_adapt_stoch_proc F X\n  borel_adapt_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. X t \\<in> borel_measurable (F t)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  \\<forall>t. X t \\<in> borel_measurable (F t)\n  \\<forall>t. Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. X t \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  X t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)", "moreover"], ["proof (state)\nthis:\n  X t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)", "have \"Y t \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y t \\<in> borel_measurable (F t)", "using assms"], ["proof (prove)\nusing this:\n  borel_adapt_stoch_proc F X\n  borel_adapt_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. Y t \\<in> borel_measurable (F t)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  \\<forall>t. X t \\<in> borel_measurable (F t)\n  \\<forall>t. Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. Y t \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t. (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)", "ultimately"], ["proof (chain)\npicking this:\n  X t \\<in> borel_measurable (F t)\n  Y t \\<in> borel_measurable (F t)", "show \"(\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)\""], ["proof (prove)\nusing this:\n  X t \\<in> borel_measurable (F t)\n  Y t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. X t w * Y t w) \\<in> borel_measurable (F t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in filtrated_prob_space) borel_adapt_stoch_proc_prod:\n  fixes A::\"'d \\<Rightarrow> 'b \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_field})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_adapt_stoch_proc F (A i)\"\nshows \"borel_adapt_stoch_proc F (\\<lambda> t w. (\\<Prod> i\\<in> S. A i t w))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_adapt_stoch_proc F (\\<lambda>t w. \\<Prod>i\\<in>S. A i t w)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "have \"\\<And>i. i\\<in> S\\<Longrightarrow> A i t \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i t \\<in> borel_measurable (F t)", "using assms"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> borel_adapt_stoch_proc F (A ?i12)\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i t \\<in> borel_measurable (F t)", "unfolding adapt_stoch_proc_def"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow>\n  \\<forall>t. A ?i12 t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i t \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "thus \"(\\<lambda> w. (\\<Prod> i\\<in> S. A i t w)) \\<in> borel_measurable (F t)\""], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 t \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i t w) \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Prod>i\\<in>S. A i t w) \\<in> borel_measurable (F t)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsubsection \\<open>Predictable stochastic processes\\<close>"], ["", "definition predict_stoch_proc where\n  \"(predict_stoch_proc F X N) \\<longleftrightarrow> (X 0 \\<in> measurable (F 0) N \\<and> (\\<forall>n. (X (Suc n)) \\<in> measurable (F n) N))\""], ["", "abbreviation  \"borel_predict_stoch_proc F X \\<equiv> predict_stoch_proc F X borel\""], ["", "lemma (in disc_filtr_prob_space) predict_imp_adapt:\n  assumes \"predict_stoch_proc F X N\"\n  shows \"adapt_stoch_proc F X N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. adapt_stoch_proc F X N", "unfolding adapt_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t. X t \\<in> F t \\<rightarrow>\\<^sub>M N", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. X t \\<in> F t \\<rightarrow>\\<^sub>M N", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. X t \\<in> F t \\<rightarrow>\\<^sub>M N", "show \"X n \\<in> measurable (F n) N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "proof (cases \"n = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow> X n \\<in> F n \\<rightarrow>\\<^sub>M N\n 2. n \\<noteq> 0 \\<Longrightarrow> X n \\<in> F n \\<rightarrow>\\<^sub>M N", "case True"], ["proof (state)\nthis:\n  n = 0\n\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow> X n \\<in> F n \\<rightarrow>\\<^sub>M N\n 2. n \\<noteq> 0 \\<Longrightarrow> X n \\<in> F n \\<rightarrow>\\<^sub>M N", "thus ?thesis"], ["proof (prove)\nusing this:\n  n = 0\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "using assms"], ["proof (prove)\nusing this:\n  n = 0\n  predict_stoch_proc F X N\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  n = 0\n  X 0 \\<in> F 0 \\<rightarrow>\\<^sub>M N \\<and>\n  (\\<forall>n. X (Suc n) \\<in> F n \\<rightarrow>\\<^sub>M N)\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "by auto"], ["proof (state)\nthis:\n  X n \\<in> F n \\<rightarrow>\\<^sub>M N\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow> X n \\<in> F n \\<rightarrow>\\<^sub>M N", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow> X n \\<in> F n \\<rightarrow>\\<^sub>M N", "case False"], ["proof (state)\nthis:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow> X n \\<in> F n \\<rightarrow>\\<^sub>M N", "thus ?thesis"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "using assms"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n  predict_stoch_proc F X N\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n  X 0 \\<in> F 0 \\<rightarrow>\\<^sub>M N \\<and>\n  (\\<forall>n. X (Suc n) \\<in> F n \\<rightarrow>\\<^sub>M N)\n\ngoal (1 subgoal):\n 1. X n \\<in> F n \\<rightarrow>\\<^sub>M N", "by (metis Suc_n_not_le_n increasing_measurable_info nat_le_linear not0_implies_Suc)"], ["proof (state)\nthis:\n  X n \\<in> F n \\<rightarrow>\\<^sub>M N\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  X n \\<in> F n \\<rightarrow>\\<^sub>M N\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in disc_filtr_prob_space) predictable_is_dsp:\n  assumes \"predict_stoch_proc F X N\"\n  shows \"X \\<in> stoch_procs M N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<in> stoch_procs M N", "unfolding  stoch_procs_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<in> {X. \\<forall>t. random_variable N (X t)}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>t. random_variable N (X t)", "show \"\\<forall>n. random_variable N (X n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. random_variable N (X n)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. random_variable N (X n)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. random_variable N (X n)", "show \"random_variable N (X n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. random_variable N (X n)", "proof (cases \"n=0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow> random_variable N (X n)\n 2. n \\<noteq> 0 \\<Longrightarrow> random_variable N (X n)", "case True"], ["proof (state)\nthis:\n  n = 0\n\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow> random_variable N (X n)\n 2. n \\<noteq> 0 \\<Longrightarrow> random_variable N (X n)", "thus ?thesis"], ["proof (prove)\nusing this:\n  n = 0\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "using assms"], ["proof (prove)\nusing this:\n  n = 0\n  predict_stoch_proc F X N\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  n = 0\n  X 0 \\<in> F 0 \\<rightarrow>\\<^sub>M N \\<and>\n  (\\<forall>n. X (Suc n) \\<in> F n \\<rightarrow>\\<^sub>M N)\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "using filtration filtration_def measurable_from_subalg"], ["proof (prove)\nusing this:\n  n = 0\n  X 0 \\<in> F 0 \\<rightarrow>\\<^sub>M N \\<and>\n  (\\<forall>n. X (Suc n) \\<in> F n \\<rightarrow>\\<^sub>M N)\n  Filtration.filtration M F\n  Filtration.filtration ?M ?F =\n  ((\\<forall>t. subalgebra ?M (?F t)) \\<and>\n   (\\<forall>s t. s \\<le> t \\<longrightarrow> subalgebra (?F t) (?F s)))\n  \\<lbrakk>subalgebra ?M ?F; ?f \\<in> ?F \\<rightarrow>\\<^sub>M ?N\\<rbrakk>\n  \\<Longrightarrow> ?f \\<in> ?M \\<rightarrow>\\<^sub>M ?N\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "by blast"], ["proof (state)\nthis:\n  random_variable N (X n)\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow> random_variable N (X n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow> random_variable N (X n)", "case False"], ["proof (state)\nthis:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow> random_variable N (X n)", "thus ?thesis"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "using assms"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n  predict_stoch_proc F X N\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  n \\<noteq> 0\n  X 0 \\<in> F 0 \\<rightarrow>\\<^sub>M N \\<and>\n  (\\<forall>n. X (Suc n) \\<in> F n \\<rightarrow>\\<^sub>M N)\n\ngoal (1 subgoal):\n 1. random_variable N (X n)", "by (metis filtration filtration_def measurable_from_subalg not0_implies_Suc)"], ["proof (state)\nthis:\n  random_variable N (X n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  random_variable N (X n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n. random_variable N (X n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_borel_measurable:\n  assumes \"borel_predict_stoch_proc F X\"\n  shows \"\\<forall>n. (X n) \\<in> borel_measurable M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. random_variable borel (X n)", "using assms predictable_is_dsp"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  predict_stoch_proc F ?X ?N \\<Longrightarrow> ?X \\<in> stoch_procs M ?N\n\ngoal (1 subgoal):\n 1. \\<forall>n. random_variable borel (X n)", "unfolding stoch_procs_def"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  predict_stoch_proc F ?X ?N \\<Longrightarrow>\n  ?X \\<in> {X. \\<forall>t. random_variable ?N (X t)}\n\ngoal (1 subgoal):\n 1. \\<forall>n. random_variable borel (X n)", "by auto"], ["", "lemma (in disc_filtr_prob_space) constant_process_borel_predictable:\n  shows \"borel_predict_stoch_proc F (\\<lambda> n w. c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_predict_stoch_proc F (\\<lambda>n w. c)", "unfolding  predict_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. c) \\<in> borel_measurable (F 0) \\<and>\n    (\\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>w. c) \\<in> borel_measurable (F 0)\n 2. \\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n)", "show \"(\\<lambda>w. c) \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. c) \\<in> borel_measurable (F 0)", "using borel_measurable_const"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ?c) \\<in> borel_measurable ?M\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. c) \\<in> borel_measurable (F 0)", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>w. c) \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. \\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n)", "show \"\\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n)", "using borel_measurable_const"], ["proof (prove)\nusing this:\n  (\\<lambda>x. ?c) \\<in> borel_measurable ?M\n\ngoal (1 subgoal):\n 1. \\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n)", "by blast"], ["proof (state)\nthis:\n  \\<forall>n. (\\<lambda>w. c) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_add:\n  fixes X::\"nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_monoid_add})\"\n  assumes \"borel_predict_stoch_proc F X\"\n  and \"borel_predict_stoch_proc F Y\"\nshows \"borel_predict_stoch_proc F (\\<lambda>t w. X t w + Y t w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_predict_stoch_proc F (\\<lambda>t w. X t w + Y t w)", "unfolding predict_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w + Y 0 w) \\<in> borel_measurable (F 0) \\<and>\n    (\\<forall>n.\n        (\\<lambda>w. X (Suc n) w + Y (Suc n) w)\n        \\<in> borel_measurable (F n))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>w. X 0 w + Y 0 w) \\<in> borel_measurable (F 0)\n 2. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "show \"(\\<lambda>w. X 0 w + Y 0 w) \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w + Y 0 w) \\<in> borel_measurable (F 0)", "using assms(1) assms(2) borel_measurable_add predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  borel_predict_stoch_proc F Y\n  \\<lbrakk>?f \\<in> borel_measurable ?M;\n   ?g \\<in> borel_measurable ?M\\<rbrakk>\n  \\<Longrightarrow> (\\<lambda>x. ?f x + ?g x) \\<in> borel_measurable ?M\n  predict_stoch_proc ?F ?X ?N =\n  (?X 0 \\<in> ?F 0 \\<rightarrow>\\<^sub>M ?N \\<and>\n   (\\<forall>n. ?X (Suc n) \\<in> ?F n \\<rightarrow>\\<^sub>M ?N))\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w + Y 0 w) \\<in> borel_measurable (F 0)", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>w. X 0 w + Y 0 w) \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "show \"\\<forall>n. (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "have \"X (Suc n) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X (Suc n) \\<in> borel_measurable (F n)", "using assms"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  borel_predict_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. X (Suc n) \\<in> borel_measurable (F n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  X 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. X (Suc n) \\<in> borel_measurable (F n))\n  Y 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. Y (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. X (Suc n) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  X (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "moreover"], ["proof (state)\nthis:\n  X (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "have \"Y (Suc n) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y (Suc n) \\<in> borel_measurable (F n)", "using assms"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  borel_predict_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. Y (Suc n) \\<in> borel_measurable (F n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  X 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. X (Suc n) \\<in> borel_measurable (F n))\n  Y 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. Y (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. Y (Suc n) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  Y (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "ultimately"], ["proof (chain)\npicking this:\n  X (Suc n) \\<in> borel_measurable (F n)\n  Y (Suc n) \\<in> borel_measurable (F n)", "show \"(\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)\""], ["proof (prove)\nusing this:\n  X (Suc n) \\<in> borel_measurable (F n)\n  Y (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     (\\<lambda>w. X (Suc n) w + Y (Suc n) w) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_sum:\n  fixes A::\"'d \\<Rightarrow> nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, topological_comm_monoid_add})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A i)\"\nshows \"borel_predict_stoch_proc F (\\<lambda> t w. (\\<Sum> i\\<in> S. A i t w))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_predict_stoch_proc F (\\<lambda>t w. \\<Sum>i\\<in>S. A i t w)", "unfolding predict_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0) \\<and>\n    (\\<forall>n.\n        (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n        \\<in> borel_measurable (F n))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\n 2. \\<forall>n.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "show \"(\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> ?A\n 2. ?A \\<subseteq> borel_measurable (F 0)", "have \"\\<And>i. i\\<in> S\\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)", "using assms"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A ?i12)\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow>\n  A ?i12 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. A ?i12 (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)", "by simp"], ["proof (state)\nthis:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 0 \\<in> borel_measurable (F 0)\n\ngoal (2 subgoals):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> ?A\n 2. ?A \\<subseteq> borel_measurable (F 0)", "thus \"(\\<lambda> w. (\\<Sum> i\\<in> S. A i 0 w)) \\<in> borel_measurable (F 0)\""], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)", "by (simp add:borel_measurable_sum)"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. borel_measurable (F 0) \\<subseteq> borel_measurable (F 0)", "qed simp"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Sum>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "show \"\\<forall>n. (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "have \"\\<And>i. i\\<in> S\\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)", "using assms"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A ?i12)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow>\n  A ?i12 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. A ?i12 (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "thus \"(\\<lambda> w. (\\<Sum> i\\<in> S. A i (Suc n) w)) \\<in> borel_measurable (F n)\""], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w) \\<in> borel_measurable (F n)", "by (simp add:borel_measurable_sum)"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     (\\<lambda>w. \\<Sum>i\\<in>S. A i (Suc n) w) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_times:\n  fixes X::\"nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_algebra})\"\n  assumes \"borel_predict_stoch_proc F X\"\n  and \"borel_predict_stoch_proc F Y\"\nshows \"borel_predict_stoch_proc F (\\<lambda>t w. X t w * Y t w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_predict_stoch_proc F (\\<lambda>t w. X t w * Y t w)", "unfolding predict_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0) \\<and>\n    (\\<forall>n.\n        (\\<lambda>w. X (Suc n) w * Y (Suc n) w)\n        \\<in> borel_measurable (F n))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)\n 2. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "show \"(\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)", "have \"X 0 \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X 0 \\<in> borel_measurable (F 0)", "using assms"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  borel_predict_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. X 0 \\<in> borel_measurable (F 0)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  X 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. X (Suc n) \\<in> borel_measurable (F n))\n  Y 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. Y (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. X 0 \\<in> borel_measurable (F 0)", "by simp"], ["proof (state)\nthis:\n  X 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)", "moreover"], ["proof (state)\nthis:\n  X 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)", "have \"Y 0 \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y 0 \\<in> borel_measurable (F 0)", "using assms"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  borel_predict_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. Y 0 \\<in> borel_measurable (F 0)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  X 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. X (Suc n) \\<in> borel_measurable (F n))\n  Y 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. Y (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. Y 0 \\<in> borel_measurable (F 0)", "by simp"], ["proof (state)\nthis:\n  Y 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)", "ultimately"], ["proof (chain)\npicking this:\n  X 0 \\<in> borel_measurable (F 0)\n  Y 0 \\<in> borel_measurable (F 0)", "show \"(\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)\""], ["proof (prove)\nusing this:\n  X 0 \\<in> borel_measurable (F 0)\n  Y 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>w. X 0 w * Y 0 w) \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "show \"\\<forall>n. (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "have \"X (Suc n) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X (Suc n) \\<in> borel_measurable (F n)", "using assms"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  borel_predict_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. X (Suc n) \\<in> borel_measurable (F n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  X 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. X (Suc n) \\<in> borel_measurable (F n))\n  Y 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. Y (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. X (Suc n) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  X (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "moreover"], ["proof (state)\nthis:\n  X (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "have \"Y (Suc n) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y (Suc n) \\<in> borel_measurable (F n)", "using assms"], ["proof (prove)\nusing this:\n  borel_predict_stoch_proc F X\n  borel_predict_stoch_proc F Y\n\ngoal (1 subgoal):\n 1. Y (Suc n) \\<in> borel_measurable (F n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  X 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. X (Suc n) \\<in> borel_measurable (F n))\n  Y 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. Y (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. Y (Suc n) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  Y (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "ultimately"], ["proof (chain)\npicking this:\n  X (Suc n) \\<in> borel_measurable (F n)\n  Y (Suc n) \\<in> borel_measurable (F n)", "show \"(\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)\""], ["proof (prove)\nusing this:\n  X (Suc n) \\<in> borel_measurable (F n)\n  Y (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     (\\<lambda>w. X (Suc n) w * Y (Suc n) w) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in disc_filtr_prob_space) borel_predict_stoch_proc_prod:\n  fixes A::\"'d \\<Rightarrow> nat \\<Rightarrow> 'a \\<Rightarrow> ('c::{second_countable_topology, real_normed_field})\"\n  assumes \"\\<And>i. i\\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A i)\"\nshows \"borel_predict_stoch_proc F (\\<lambda> t w. (\\<Prod> i\\<in> S. A i t w))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. borel_predict_stoch_proc F (\\<lambda>t w. \\<Prod>i\\<in>S. A i t w)", "unfolding predict_stoch_proc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w)\n    \\<in> borel_measurable (F 0) \\<and>\n    (\\<forall>n.\n        (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n        \\<in> borel_measurable (F n))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\n 2. \\<forall>n.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "show \"(\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)", "have \"\\<And>i. i\\<in> S\\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)", "using assms"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A ?i12)\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow>\n  A ?i12 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. A ?i12 (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> A i 0 \\<in> borel_measurable (F 0)", "by simp"], ["proof (state)\nthis:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)", "thus \"(\\<lambda> w. (\\<Prod> i\\<in> S. A i 0 w)) \\<in> borel_measurable (F 0)\""], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Prod>i\\<in>S. A i 0 w) \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "show \"\\<forall>n. (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "have \"\\<And>i. i\\<in> S\\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)", "using assms"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> borel_predict_stoch_proc F (A ?i12)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)", "unfolding predict_stoch_proc_def"], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow>\n  A ?i12 0 \\<in> borel_measurable (F 0) \\<and>\n  (\\<forall>n. A ?i12 (Suc n) \\<in> borel_measurable (F n))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> A i (Suc n) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n       \\<in> borel_measurable (F n)", "thus \"(\\<lambda> w. (\\<Prod> i\\<in> S. A i (Suc n) w)) \\<in> borel_measurable (F n)\""], ["proof (prove)\nusing this:\n  ?i12 \\<in> S \\<Longrightarrow> A ?i12 (Suc n) \\<in> borel_measurable (F n)\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w) \\<in> borel_measurable (F n)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w) \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     (\\<lambda>w. \\<Prod>i\\<in>S. A i (Suc n) w)\n     \\<in> borel_measurable (F n)\n\ngoal:\nNo subgoals!", "qed"], ["", "definition (in prob_space) constant_image where\n  \"constant_image f = (if \\<exists> c::'b::{t2_space}. \\<forall>x\\<in> space M. f x = c then\n    SOME c. \\<forall>x \\<in> space M. f x = c else undefined)\""], ["", "lemma (in prob_space) constant_imageI:\n  assumes \"\\<exists>c::'b::{t2_space}. \\<forall>x\\<in> space M. f x = c\"\n  shows \"\\<forall>x\\<in> space M. f x = (constant_image f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>space M. f x = constant_image f", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space M \\<Longrightarrow> f x = constant_image f", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space M \\<Longrightarrow> f x = constant_image f", "assume \"x\\<in> space M\""], ["proof (state)\nthis:\n  x \\<in> space M\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space M \\<Longrightarrow> f x = constant_image f", "let ?c = \"SOME c. \\<forall>x\\<in> space M. f x = c\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space M \\<Longrightarrow> f x = constant_image f", "have \"f x = ?c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x = (SOME c. \\<forall>x\\<in>space M. f x = c)", "using \\<open>x\\<in> space M\\<close> someI_ex[of \"\\<lambda>c. \\<forall>x\\<in> space M. f x = c\"] assms"], ["proof (prove)\nusing this:\n  x \\<in> space M\n  \\<exists>x. \\<forall>xa\\<in>space M. f xa = x \\<Longrightarrow>\n  \\<forall>x\\<in>space M. f x = (SOME x. \\<forall>xa\\<in>space M. f xa = x)\n  \\<exists>c. \\<forall>x\\<in>space M. f x = c\n\ngoal (1 subgoal):\n 1. f x = (SOME c. \\<forall>x\\<in>space M. f x = c)", "by blast"], ["proof (state)\nthis:\n  f x = (SOME c. \\<forall>x\\<in>space M. f x = c)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space M \\<Longrightarrow> f x = constant_image f", "thus \"f x = (constant_image f)\""], ["proof (prove)\nusing this:\n  f x = (SOME c. \\<forall>x\\<in>space M. f x = c)\n\ngoal (1 subgoal):\n 1. f x = constant_image f", "by (simp add: assms prob_space.constant_image_def prob_space_axioms)"], ["proof (state)\nthis:\n  f x = constant_image f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in prob_space) constant_image_pos:\n  assumes \"\\<forall>x\\<in> space M. (0::real) < f x\"\n  and \"\\<exists>c::real. \\<forall>x\\<in> space M. f x = c\"\nshows \"0 < (constant_image f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < constant_image f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < constant_image f", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < constant_image f", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < constant_image f", "assume \"x\\<in> space M\""], ["proof (state)\nthis:\n  x \\<in> space M\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "hence \"0 < f x\""], ["proof (prove)\nusing this:\n  x \\<in> space M\n\ngoal (1 subgoal):\n 1. 0 < f x", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> space M\n  \\<forall>x\\<in>space M. 0 < f x\n  \\<exists>c. \\<forall>x\\<in>space M. f x = c\n\ngoal (1 subgoal):\n 1. 0 < f x", "by simp"], ["proof (state)\nthis:\n  0 < f x\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "also"], ["proof (state)\nthis:\n  0 < f x\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "have \"... = constant_image f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x = constant_image f", "using assms constant_imageI \\<open>x\\<in> space M\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>space M. 0 < f x\n  \\<exists>c. \\<forall>x\\<in>space M. f x = c\n  \\<exists>c. \\<forall>x\\<in>space M. ?f x = c \\<Longrightarrow>\n  \\<forall>x\\<in>space M. ?f x = constant_image ?f\n  x \\<in> space M\n\ngoal (1 subgoal):\n 1. f x = constant_image f", "by auto"], ["proof (state)\nthis:\n  f x = constant_image f\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "finally"], ["proof (chain)\npicking this:\n  0 < constant_image f", "have ?thesis"], ["proof (prove)\nusing this:\n  0 < constant_image f\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "."], ["proof (state)\nthis:\n  0 < constant_image f\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "}"], ["proof (state)\nthis:\n  ?x15 \\<in> space M \\<Longrightarrow> 0 < constant_image f\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?x15 \\<in> space M \\<Longrightarrow> 0 < constant_image f\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "using subprob_not_empty"], ["proof (prove)\nusing this:\n  ?x15 \\<in> space M \\<Longrightarrow> 0 < constant_image f\n  space M \\<noteq> {}\n\ngoal (1 subgoal):\n 1. 0 < constant_image f", "by auto"], ["proof (state)\nthis:\n  0 < constant_image f\n\ngoal:\nNo subgoals!", "qed"], ["", "definition open_except where\n\"open_except x y = (if x = y then {} else SOME A. open A \\<and> x\\<in> A \\<and> y\\<notin> A)\""], ["", "lemma open_exceptI:\n  assumes \"(x::'b::{t1_space}) \\<noteq> y\"\n  shows \"open (open_except x y)\" and \"x\\<in> open_except x y\" and  \"y\\<notin> open_except x y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (open_except x y) &&&\n    x \\<in> open_except x y &&& y \\<notin> open_except x y", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. open (open_except x y)\n 2. x \\<in> open_except x y\n 3. y \\<notin> open_except x y", "have ex:\"\\<exists>U. open U \\<and> x \\<in> U \\<and> y \\<notin> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> x \\<in> U \\<and> y \\<notin> U", "using \\<open>x\\<noteq> y\\<close>"], ["proof (prove)\nusing this:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> x \\<in> U \\<and> y \\<notin> U", "by (simp add:t1_space)"], ["proof (state)\nthis:\n  \\<exists>U. open U \\<and> x \\<in> U \\<and> y \\<notin> U\n\ngoal (3 subgoals):\n 1. open (open_except x y)\n 2. x \\<in> open_except x y\n 3. y \\<notin> open_except x y", "let ?V = \"SOME A. open A \\<and> x\\<in> A \\<and> y\\<notin> A\""], ["proof (state)\ngoal (3 subgoals):\n 1. open (open_except x y)\n 2. x \\<in> open_except x y\n 3. y \\<notin> open_except x y", "have vprop: \"open ?V \\<and> x \\<in> ?V \\<and> y \\<notin> ?V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A) \\<and>\n    x \\<in> (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A) \\<and>\n    y \\<notin> (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A)", "using someI_ex[of \"\\<lambda>U. open U \\<and> x \\<in> U \\<and> y \\<notin> U\"] ex"], ["proof (prove)\nusing this:\n  \\<exists>xa.\n     open xa \\<and> x \\<in> xa \\<and> y \\<notin> xa \\<Longrightarrow>\n  open (SOME xa. open xa \\<and> x \\<in> xa \\<and> y \\<notin> xa) \\<and>\n  x \\<in> (SOME xa. open xa \\<and> x \\<in> xa \\<and> y \\<notin> xa) \\<and>\n  y \\<notin> (SOME xa. open xa \\<and> x \\<in> xa \\<and> y \\<notin> xa)\n  \\<exists>U. open U \\<and> x \\<in> U \\<and> y \\<notin> U\n\ngoal (1 subgoal):\n 1. open (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A) \\<and>\n    x \\<in> (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A) \\<and>\n    y \\<notin> (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A)", "by blast"], ["proof (state)\nthis:\n  open (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A) \\<and>\n  x \\<in> (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A) \\<and>\n  y \\<notin> (SOME A. open A \\<and> x \\<in> A \\<and> y \\<notin> A)\n\ngoal (3 subgoals):\n 1. open (open_except x y)\n 2. x \\<in> open_except x y\n 3. y \\<notin> open_except x y", "show \"open (open_except x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (open_except x y)", "by (simp add: open_except_def vprop)"], ["proof (state)\nthis:\n  open (open_except x y)\n\ngoal (2 subgoals):\n 1. x \\<in> open_except x y\n 2. y \\<notin> open_except x y", "show \"x\\<in> open_except x y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> open_except x y", "by (metis (full_types) open_except_def vprop)"], ["proof (state)\nthis:\n  x \\<in> open_except x y\n\ngoal (1 subgoal):\n 1. y \\<notin> open_except x y", "show \"y\\<notin> open_except x y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<notin> open_except x y", "by (metis (full_types) open_except_def vprop)"], ["proof (state)\nthis:\n  y \\<notin> open_except x y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma open_except_set:\n  assumes \"finite A\"\n  and \"(x::'b::{t1_space}) \\<notin> A\"\nshows \"\\<exists>U. open U \\<and> x\\<in> U \\<and> U\\<inter> A = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> x \\<in> U \\<and> U \\<inter> A = {}", "proof(intro exI conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. open ?U\n 2. x \\<in> ?U\n 3. ?U \\<inter> A = {}", "have \"\\<forall>y\\<in> A. x\\<noteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A. x \\<noteq> y", "using assms"], ["proof (prove)\nusing this:\n  finite A\n  x \\<notin> A\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A. x \\<noteq> y", "by auto"], ["proof (state)\nthis:\n  \\<forall>y\\<in>A. x \\<noteq> y\n\ngoal (3 subgoals):\n 1. open ?U\n 2. x \\<in> ?U\n 3. ?U \\<inter> A = {}", "let ?U = \"\\<Inter> y \\<in> A. open_except x y\""], ["proof (state)\ngoal (3 subgoals):\n 1. open ?U\n 2. x \\<in> ?U\n 3. ?U \\<inter> A = {}", "show \"open ?U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (\\<Inter> (open_except x ` A))", "proof (intro open_INT ballI, (simp add: assms))"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> A \\<Longrightarrow> open (open_except x y)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> A \\<Longrightarrow> open (open_except x y)", "assume \"y\\<in> A\""], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> A \\<Longrightarrow> open (open_except x y)", "show \"open (open_except x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (open_except x y)", "using \\<open>\\<forall>y\\<in> A. x\\<noteq> y\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>A. x \\<noteq> y\n\ngoal (1 subgoal):\n 1. open (open_except x y)", "by (simp add: \\<open>y \\<in> A\\<close> open_exceptI)"], ["proof (state)\nthis:\n  open (open_except x y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  open (\\<Inter> (open_except x ` A))\n\ngoal (2 subgoals):\n 1. x \\<in> \\<Inter> (open_except x ` A)\n 2. \\<Inter> (open_except x ` A) \\<inter> A = {}", "show \"x \\<in> (\\<Inter>y\\<in>A. open_except x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> \\<Inter> (open_except x ` A)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> A \\<Longrightarrow> x \\<in> open_except x y", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> A \\<Longrightarrow> x \\<in> open_except x y", "assume \"y\\<in> A\""], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> A \\<Longrightarrow> x \\<in> open_except x y", "show \"x\\<in>open_except x y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> open_except x y", "using \\<open>\\<forall>y\\<in> A. x\\<noteq> y\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>A. x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<in> open_except x y", "by (simp add: \\<open>y \\<in> A\\<close> open_exceptI)"], ["proof (state)\nthis:\n  x \\<in> open_except x y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<in> \\<Inter> (open_except x ` A)\n\ngoal (1 subgoal):\n 1. \\<Inter> (open_except x ` A) \\<inter> A = {}", "have \"\\<forall>y\\<in>A. y\\<notin> ?U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A. y \\<notin> \\<Inter> (open_except x ` A)", "using \\<open>\\<forall>y\\<in> A. x\\<noteq> y\\<close> open_exceptI(3)"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>A. x \\<noteq> y\n  ?x \\<noteq> ?y \\<Longrightarrow> ?y \\<notin> open_except ?x ?y\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>A. y \\<notin> \\<Inter> (open_except x ` A)", "by auto"], ["proof (state)\nthis:\n  \\<forall>y\\<in>A. y \\<notin> \\<Inter> (open_except x ` A)\n\ngoal (1 subgoal):\n 1. \\<Inter> (open_except x ` A) \\<inter> A = {}", "thus \"(\\<Inter>y\\<in>A. open_except x y) \\<inter> A = {}\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>A. y \\<notin> \\<Inter> (open_except x ` A)\n\ngoal (1 subgoal):\n 1. \\<Inter> (open_except x ` A) \\<inter> A = {}", "by auto"], ["proof (state)\nthis:\n  \\<Inter> (open_except x ` A) \\<inter> A = {}\n\ngoal:\nNo subgoals!", "qed"], ["", "definition open_exclude_set where\n\"open_exclude_set x A = (if (\\<exists>U. open U \\<and> U\\<inter> A = {x}) then SOME U. open U \\<and> U \\<inter> A = {x} else {})\""], ["", "lemma open_exclude_setI:\n  assumes \"\\<exists>U. open U \\<and> U\\<inter> A = {x}\"\nshows \"open (open_exclude_set x A)\" and \"(open_exclude_set x A) \\<inter> A = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (open_exclude_set x A) &&& open_exclude_set x A \\<inter> A = {x}", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. open (open_exclude_set x A)\n 2. open_exclude_set x A \\<inter> A = {x}", "let ?V = \"SOME U. open U \\<and> U \\<inter> A = {x}\""], ["proof (state)\ngoal (2 subgoals):\n 1. open (open_exclude_set x A)\n 2. open_exclude_set x A \\<inter> A = {x}", "have vprop: \"open ?V \\<and> ?V \\<inter> A = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (SOME U. open U \\<and> U \\<inter> A = {x}) \\<and>\n    (SOME U. open U \\<and> U \\<inter> A = {x}) \\<inter> A = {x}", "using someI_ex[of \"\\<lambda>U. open U \\<and> U \\<inter> A = {x}\"] assms"], ["proof (prove)\nusing this:\n  \\<exists>xa. open xa \\<and> xa \\<inter> A = {x} \\<Longrightarrow>\n  open (SOME xa. open xa \\<and> xa \\<inter> A = {x}) \\<and>\n  (SOME xa. open xa \\<and> xa \\<inter> A = {x}) \\<inter> A = {x}\n  \\<exists>U. open U \\<and> U \\<inter> A = {x}\n\ngoal (1 subgoal):\n 1. open (SOME U. open U \\<and> U \\<inter> A = {x}) \\<and>\n    (SOME U. open U \\<and> U \\<inter> A = {x}) \\<inter> A = {x}", "by blast"], ["proof (state)\nthis:\n  open (SOME U. open U \\<and> U \\<inter> A = {x}) \\<and>\n  (SOME U. open U \\<and> U \\<inter> A = {x}) \\<inter> A = {x}\n\ngoal (2 subgoals):\n 1. open (open_exclude_set x A)\n 2. open_exclude_set x A \\<inter> A = {x}", "show \"open (open_exclude_set x A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (open_exclude_set x A)", "by (simp add: open_exclude_set_def vprop)"], ["proof (state)\nthis:\n  open (open_exclude_set x A)\n\ngoal (1 subgoal):\n 1. open_exclude_set x A \\<inter> A = {x}", "show \"open_exclude_set x A \\<inter> A = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open_exclude_set x A \\<inter> A = {x}", "by (metis (mono_tags, lifting) open_exclude_set_def vprop)"], ["proof (state)\nthis:\n  open_exclude_set x A \\<inter> A = {x}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma open_exclude_finite:\n  assumes \"finite A\"\n  and \"(x::'b::{t1_space})\\<in> A\"\nshows open_set: \"open (open_exclude_set x A)\" and inter_x:\"(open_exclude_set x A) \\<inter> A = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (open_exclude_set x A) &&& open_exclude_set x A \\<inter> A = {x}", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. open (open_exclude_set x A)\n 2. open_exclude_set x A \\<inter> A = {x}", "have \"\\<exists>U. open U \\<and> U\\<inter> A = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> U \\<inter> A = {x}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> U \\<inter> A = {x}", "have \"\\<exists>U. open U \\<and> x\\<in> U \\<and> U\\<inter> (A-{x}) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> x \\<in> U \\<and> U \\<inter> (A - {x}) = {}", "proof (rule open_except_set)"], ["proof (state)\ngoal (2 subgoals):\n 1. finite (A - {x})\n 2. x \\<notin> A - {x}", "show \"finite (A -{x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (A - {x})", "using assms"], ["proof (prove)\nusing this:\n  finite A\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. finite (A - {x})", "by auto"], ["proof (state)\nthis:\n  finite (A - {x})\n\ngoal (1 subgoal):\n 1. x \\<notin> A - {x}", "show \"x\\<notin> A -{x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> A - {x}", "by simp"], ["proof (state)\nthis:\n  x \\<notin> A - {x}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>U. open U \\<and> x \\<in> U \\<and> U \\<inter> (A - {x}) = {}\n\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> U \\<inter> A = {x}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>U. open U \\<and> x \\<in> U \\<and> U \\<inter> (A - {x}) = {}\n\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> U \\<inter> A = {x}", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>U. open U \\<and> x \\<in> U \\<and> U \\<inter> (A - {x}) = {}\n  finite A\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. \\<exists>U. open U \\<and> U \\<inter> A = {x}", "by auto"], ["proof (state)\nthis:\n  \\<exists>U. open U \\<and> U \\<inter> A = {x}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>U. open U \\<and> U \\<inter> A = {x}\n\ngoal (2 subgoals):\n 1. open (open_exclude_set x A)\n 2. open_exclude_set x A \\<inter> A = {x}", "thus \"open (open_exclude_set x A)\" and \"(open_exclude_set x A) \\<inter> A = {x}\""], ["proof (prove)\nusing this:\n  \\<exists>U. open U \\<and> U \\<inter> A = {x}\n\ngoal (1 subgoal):\n 1. open (open_exclude_set x A) &&& open_exclude_set x A \\<inter> A = {x}", "by (auto simp add: open_exclude_setI)"], ["proof (state)\nthis:\n  open (open_exclude_set x A)\n  open_exclude_set x A \\<inter> A = {x}\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Initially trivial filtrations\\<close>"], ["", "text \\<open>Intuitively, these are filtrations that can be used to denote the fact that there is no information at the start.\\<close>"], ["", "definition init_triv_filt::\"'a measure \\<Rightarrow> ('i::linorder_bot \\<Rightarrow> 'a measure) \\<Rightarrow> bool\" where\n  \"init_triv_filt M F \\<longleftrightarrow> filtration M F \\<and> sets (F bot) = {{}, space M}\""], ["", "lemma triv_measurable_cst:\n  fixes f::\"'a\\<Rightarrow>'b::{t2_space}\"\n  assumes \"space N = space M\"\n  and \"space M \\<noteq> {}\"\n  and \"sets N = {{}, space M}\"\n  and \"f\\<in> measurable N borel\"\nshows \"\\<exists> c::'b. \\<forall>x\\<in> space N. f x = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>x\\<in>space N. f x = c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>x\\<in>space N. f x = c", "have \"f `(space N) \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f ` space N \\<noteq> {}", "using assms"], ["proof (prove)\nusing this:\n  space N = space M\n  space M \\<noteq> {}\n  sets N = {{}, space M}\n  f \\<in> borel_measurable N\n\ngoal (1 subgoal):\n 1. f ` space N \\<noteq> {}", "by (simp add: assms)"], ["proof (state)\nthis:\n  f ` space N \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>x\\<in>space N. f x = c", "hence \"\\<exists> c. c\\<in> f`(space N)\""], ["proof (prove)\nusing this:\n  f ` space N \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>c. c \\<in> f ` space N", "by auto"], ["proof (state)\nthis:\n  \\<exists>c. c \\<in> f ` space N\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>x\\<in>space N. f x = c", "from this"], ["proof (chain)\npicking this:\n  \\<exists>c. c \\<in> f ` space N", "obtain c where \"c\\<in> f`(space N)\""], ["proof (prove)\nusing this:\n  \\<exists>c. c \\<in> f ` space N\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        c \\<in> f ` space N \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c \\<in> f ` space N\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>x\\<in>space N. f x = c", "have \"\\<forall>x \\<in> space N. f x = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>space N. f x = c", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space N \\<Longrightarrow> f x = c", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space N \\<Longrightarrow> f x = c", "assume \"x\\<in> space N\""], ["proof (state)\nthis:\n  x \\<in> space N\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> space N \\<Longrightarrow> f x = c", "show \"f x = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x = c", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "assume \"f x \\<noteq> c\""], ["proof (state)\nthis:\n  f x \\<noteq> c\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "hence \"(\\<exists>U V. open U \\<and> open V \\<and> (f x) \\<in> U \\<and> c \\<in> V \\<and> U \\<inter> V = {})\""], ["proof (prove)\nusing this:\n  f x \\<noteq> c\n\ngoal (1 subgoal):\n 1. \\<exists>U V.\n       open U \\<and>\n       open V \\<and> f x \\<in> U \\<and> c \\<in> V \\<and> U \\<inter> V = {}", "by (simp add: separation_t2)"], ["proof (state)\nthis:\n  \\<exists>U V.\n     open U \\<and>\n     open V \\<and> f x \\<in> U \\<and> c \\<in> V \\<and> U \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "from this"], ["proof (chain)\npicking this:\n  \\<exists>U V.\n     open U \\<and>\n     open V \\<and> f x \\<in> U \\<and> c \\<in> V \\<and> U \\<inter> V = {}", "obtain U and V where \"open U\" and \"open V\" and \"(f x) \\<in> U\" and \"c \\<in> V\" and \"U \\<inter> V = {}\""], ["proof (prove)\nusing this:\n  \\<exists>U V.\n     open U \\<and>\n     open V \\<and> f x \\<in> U \\<and> c \\<in> V \\<and> U \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. (\\<And>U V.\n        \\<lbrakk>open U; open V; f x \\<in> U; c \\<in> V;\n         U \\<inter> V = {}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  open U\n  open V\n  f x \\<in> U\n  c \\<in> V\n  U \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "have \"(f -`V) \\<inter> space N = space N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N = space N", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N = space N", "have \"V\\<in> sets borel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. V \\<in> sets borel", "using \\<open>open V\\<close>"], ["proof (prove)\nusing this:\n  open V\n\ngoal (1 subgoal):\n 1. V \\<in> sets borel", "unfolding borel_def"], ["proof (prove)\nusing this:\n  open V\n\ngoal (1 subgoal):\n 1. V \\<in> sets (sigma UNIV (Collect open))", "by simp"], ["proof (state)\nthis:\n  V \\<in> sets borel\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N = space N", "hence \"(f -`V) \\<inter> space N \\<in> sets N\""], ["proof (prove)\nusing this:\n  V \\<in> sets borel\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N \\<in> sets N", "using assms"], ["proof (prove)\nusing this:\n  V \\<in> sets borel\n  space N = space M\n  space M \\<noteq> {}\n  sets N = {{}, space M}\n  f \\<in> borel_measurable N\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N \\<in> sets N", "unfolding measurable_def"], ["proof (prove)\nusing this:\n  V \\<in> sets borel\n  space N = space M\n  space M \\<noteq> {}\n  sets N = {{}, space M}\n  f \\<in> {f \\<in> space N \\<rightarrow> space borel.\n           \\<forall>y\\<in>sets borel. f -` y \\<inter> space N \\<in> sets N}\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N \\<in> sets N", "by simp"], ["proof (state)\nthis:\n  f -` V \\<inter> space N \\<in> sets N\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N = space N", "show \"(f -`V) \\<inter> space N = space N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N = space N", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N \\<noteq> space N \\<Longrightarrow> False", "assume \"(f -`V) \\<inter> space N \\<noteq> space N\""], ["proof (state)\nthis:\n  f -` V \\<inter> space N \\<noteq> space N\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N \\<noteq> space N \\<Longrightarrow> False", "hence \"(f -`V) \\<inter> space N = {}\""], ["proof (prove)\nusing this:\n  f -` V \\<inter> space N \\<noteq> space N\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N = {}", "using assms \\<open>(f -`V) \\<inter> space N \\<in> sets N\\<close>"], ["proof (prove)\nusing this:\n  f -` V \\<inter> space N \\<noteq> space N\n  space N = space M\n  space M \\<noteq> {}\n  sets N = {{}, space M}\n  f \\<in> borel_measurable N\n  f -` V \\<inter> space N \\<in> sets N\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N = {}", "by simp"], ["proof (state)\nthis:\n  f -` V \\<inter> space N = {}\n\ngoal (1 subgoal):\n 1. f -` V \\<inter> space N \\<noteq> space N \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  f -` V \\<inter> space N = {}\n\ngoal (1 subgoal):\n 1. False", "using \\<open>c\\<in>V\\<close>"], ["proof (prove)\nusing this:\n  f -` V \\<inter> space N = {}\n  c \\<in> V\n\ngoal (1 subgoal):\n 1. False", "using \\<open>c \\<in> f ` space N\\<close>"], ["proof (prove)\nusing this:\n  f -` V \\<inter> space N = {}\n  c \\<in> V\n  c \\<in> f ` space N\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f -` V \\<inter> space N = space N\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f -` V \\<inter> space N = space N\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "have \"((f-`U)\\<inter> space N) \\<inter> ((f-`V) \\<inter> space N) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f -` U \\<inter> space N \\<inter> (f -` V \\<inter> space N) = {}", "using \\<open>U\\<inter>V = {}\\<close>"], ["proof (prove)\nusing this:\n  U \\<inter> V = {}\n\ngoal (1 subgoal):\n 1. f -` U \\<inter> space N \\<inter> (f -` V \\<inter> space N) = {}", "by auto"], ["proof (state)\nthis:\n  f -` U \\<inter> space N \\<inter> (f -` V \\<inter> space N) = {}\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  f -` U \\<inter> space N \\<inter> (f -` V \\<inter> space N) = {}\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "have \"(f -`U) \\<inter> space N \\<in> sets N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f -` U \\<inter> space N \\<in> sets N", "using assms \\<open>open U\\<close>"], ["proof (prove)\nusing this:\n  space N = space M\n  space M \\<noteq> {}\n  sets N = {{}, space M}\n  f \\<in> borel_measurable N\n  open U\n\ngoal (1 subgoal):\n 1. f -` U \\<inter> space N \\<in> sets N", "unfolding measurable_def"], ["proof (prove)\nusing this:\n  space N = space M\n  space M \\<noteq> {}\n  sets N = {{}, space M}\n  f \\<in> {f \\<in> space N \\<rightarrow> space borel.\n           \\<forall>y\\<in>sets borel. f -` y \\<inter> space N \\<in> sets N}\n  open U\n\ngoal (1 subgoal):\n 1. f -` U \\<inter> space N \\<in> sets N", "by simp"], ["proof (state)\nthis:\n  f -` U \\<inter> space N \\<in> sets N\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  f -` U \\<inter> space N \\<inter> (f -` V \\<inter> space N) = {}\n  f -` U \\<inter> space N \\<in> sets N", "have \"(f -`U) \\<inter> space N = {}\""], ["proof (prove)\nusing this:\n  f -` U \\<inter> space N \\<inter> (f -` V \\<inter> space N) = {}\n  f -` U \\<inter> space N \\<in> sets N\n\ngoal (1 subgoal):\n 1. f -` U \\<inter> space N = {}", "using assms \\<open>(f -`V) \\<inter> space N = space N\\<close>"], ["proof (prove)\nusing this:\n  f -` U \\<inter> space N \\<inter> (f -` V \\<inter> space N) = {}\n  f -` U \\<inter> space N \\<in> sets N\n  space N = space M\n  space M \\<noteq> {}\n  sets N = {{}, space M}\n  f \\<in> borel_measurable N\n  f -` V \\<inter> space N = space N\n\ngoal (1 subgoal):\n 1. f -` U \\<inter> space N = {}", "by simp"], ["proof (state)\nthis:\n  f -` U \\<inter> space N = {}\n\ngoal (1 subgoal):\n 1. f x \\<noteq> c \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  f -` U \\<inter> space N = {}\n\ngoal (1 subgoal):\n 1. False", "using \\<open>f x \\<in> U\\<close> \\<open>x \\<in> space N\\<close>"], ["proof (prove)\nusing this:\n  f -` U \\<inter> space N = {}\n  f x \\<in> U\n  x \\<in> space N\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f x = c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x\\<in>space N. f x = c\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>x\\<in>space N. f x = c", "thus \"\\<exists> c. \\<forall>x\\<in> space N. f x = c\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>space N. f x = c\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>x\\<in>space N. f x = c", "by auto"], ["proof (state)\nthis:\n  \\<exists>c. \\<forall>x\\<in>space N. f x = c\n\ngoal:\nNo subgoals!", "qed"], ["", "locale trivial_init_filtrated_prob_space = prob_space +\n  fixes F\n  assumes info_filtration: \"init_triv_filt M F\""], ["", "sublocale trivial_init_filtrated_prob_space \\<subseteq> filtrated_prob_space"], ["proof (prove)\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "using info_filtration"], ["proof (prove)\nusing this:\n  init_triv_filt M F\n\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "unfolding init_triv_filt_def"], ["proof (prove)\nusing this:\n  Filtration.filtration M F \\<and> sets (F \\<bottom>) = {{}, space M}\n\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "by (unfold_locales, simp)"], ["", "locale triv_init_disc_filtr_prob_space = prob_space +\n  fixes F\n  assumes info_disc_filtr: \"disc_filtr M F \\<and> sets (F bot) = {{}, space M}\""], ["", "sublocale triv_init_disc_filtr_prob_space \\<subseteq> trivial_init_filtrated_prob_space"], ["proof (prove)\ngoal (1 subgoal):\n 1. trivial_init_filtrated_prob_space M F", "proof unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. init_triv_filt M F", "show \"init_triv_filt M F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. init_triv_filt M F", "using info_disc_filtr bot_nat_def"], ["proof (prove)\nusing this:\n  disc_filtr M F \\<and> sets (F \\<bottom>) = {{}, space M}\n  \\<bottom> = 0\n\ngoal (1 subgoal):\n 1. init_triv_filt M F", "unfolding init_triv_filt_def disc_filtr_def"], ["proof (prove)\nusing this:\n  ((\\<forall>n. subalgebra M (F n)) \\<and>\n   (\\<forall>n m.\n       n \\<le> m \\<longrightarrow> subalgebra (F m) (F n))) \\<and>\n  sets (F \\<bottom>) = {{}, space M}\n  \\<bottom> = 0\n\ngoal (1 subgoal):\n 1. Filtration.filtration M F \\<and> sets (F \\<bottom>) = {{}, space M}", "by (simp add: filtrationI)"], ["proof (state)\nthis:\n  init_triv_filt M F\n\ngoal:\nNo subgoals!", "qed"], ["", "sublocale triv_init_disc_filtr_prob_space \\<subseteq> disc_filtr_prob_space"], ["proof (prove)\ngoal (1 subgoal):\n 1. disc_filtr_prob_space M F", "proof unfold_locales"], ["proof (state)\ngoal (1 subgoal):\n 1. disc_filtr M F", "show \"disc_filtr M F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disc_filtr M F", "using info_disc_filtr"], ["proof (prove)\nusing this:\n  disc_filtr M F \\<and> sets (F \\<bottom>) = {{}, space M}\n\ngoal (1 subgoal):\n 1. disc_filtr M F", "by simp"], ["proof (state)\nthis:\n  disc_filtr M F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in triv_init_disc_filtr_prob_space) adapted_init:\n  assumes \"borel_adapt_stoch_proc F x\"\n  shows \"\\<exists>c. \\<forall>w \\<in> space M. ((x 0 w)::real) = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>w\\<in>space M. x 0 w = c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>w\\<in>space M. x 0 w = c", "have \"space M = space (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space M = space (F 0)", "using filtration"], ["proof (prove)\nusing this:\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. space M = space (F 0)", "by (simp add: filtration_def subalgebra_def)"], ["proof (state)\nthis:\n  space M = space (F 0)\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>w\\<in>space M. x 0 w = c", "moreover"], ["proof (state)\nthis:\n  space M = space (F 0)\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>w\\<in>space M. x 0 w = c", "have \"\\<exists>c. \\<forall>w \\<in> space (F 0). x 0 w = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>w\\<in>space (F 0). x 0 w = c", "proof (rule triv_measurable_cst)"], ["proof (state)\ngoal (4 subgoals):\n 1. space (F 0) = space ?M\n 2. space ?M \\<noteq> {}\n 3. sets (F 0) = {{}, space ?M}\n 4. x 0 \\<in> borel_measurable (F 0)", "show \"space (F 0) = space M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space (F 0) = space M", "using \\<open>space M = space (F 0)\\<close>"], ["proof (prove)\nusing this:\n  space M = space (F 0)\n\ngoal (1 subgoal):\n 1. space (F 0) = space M", ".."], ["proof (state)\nthis:\n  space (F 0) = space M\n\ngoal (3 subgoals):\n 1. space M \\<noteq> {}\n 2. sets (F 0) = {{}, space M}\n 3. x 0 \\<in> borel_measurable (F 0)", "show \"sets (F 0) = {{}, space M}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sets (F 0) = {{}, space M}", "using info_disc_filtr"], ["proof (prove)\nusing this:\n  disc_filtr M F \\<and> sets (F \\<bottom>) = {{}, space M}\n\ngoal (1 subgoal):\n 1. sets (F 0) = {{}, space M}", "by (simp add: init_triv_filt_def bot_nat_def)"], ["proof (state)\nthis:\n  sets (F 0) = {{}, space M}\n\ngoal (2 subgoals):\n 1. space M \\<noteq> {}\n 2. x 0 \\<in> borel_measurable (F 0)", "show \"x 0 \\<in> borel_measurable (F 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x 0 \\<in> borel_measurable (F 0)", "using assms"], ["proof (prove)\nusing this:\n  borel_adapt_stoch_proc F x\n\ngoal (1 subgoal):\n 1. x 0 \\<in> borel_measurable (F 0)", "by (simp add: adapt_stoch_proc_def)"], ["proof (state)\nthis:\n  x 0 \\<in> borel_measurable (F 0)\n\ngoal (1 subgoal):\n 1. space M \\<noteq> {}", "show \"space M \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space M \\<noteq> {}", "by (simp add:not_empty)"], ["proof (state)\nthis:\n  space M \\<noteq> {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>c. \\<forall>w\\<in>space (F 0). x 0 w = c\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>w\\<in>space M. x 0 w = c", "ultimately"], ["proof (chain)\npicking this:\n  space M = space (F 0)\n  \\<exists>c. \\<forall>w\\<in>space (F 0). x 0 w = c", "show ?thesis"], ["proof (prove)\nusing this:\n  space M = space (F 0)\n  \\<exists>c. \\<forall>w\\<in>space (F 0). x 0 w = c\n\ngoal (1 subgoal):\n 1. \\<exists>c. \\<forall>w\\<in>space M. x 0 w = c", "by simp"], ["proof (state)\nthis:\n  \\<exists>c. \\<forall>w\\<in>space M. x 0 w = c\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Filtration-equivalent measure spaces\\<close>"], ["", "text \\<open>This is a relaxation of the notion of equivalent probability spaces, where equivalence is tested modulo a\nfiltration. Equivalent measure spaces agree on events that have a zero probability of occurring; here, filtration-equivalent\nmeasure spaces agree on such events when they belong to the filtration under consideration.\\<close>"], ["", "definition filt_equiv where\n\"filt_equiv F M N \\<longleftrightarrow> sets M = sets N \\<and> filtration M F  \\<and> (\\<forall> t A. A \\<in> sets (F t) \\<longrightarrow> (emeasure M A = 0) \\<longleftrightarrow> (emeasure N A = 0))\""], ["", "lemma filt_equiv_space:\n  assumes \"filt_equiv F M N\"\n  shows \"space M = space N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space M = space N", "using assms"], ["proof (prove)\nusing this:\n  filt_equiv F M N\n\ngoal (1 subgoal):\n 1. space M = space N", "unfolding filt_equiv_def\n filtration_def subalgebra_def"], ["proof (prove)\nusing this:\n  sets M = sets N \\<and>\n  ((\\<forall>t.\n       space (F t) = space M \\<and> sets (F t) \\<subseteq> sets M) \\<and>\n   (\\<forall>s t.\n       s \\<le> t \\<longrightarrow>\n       space (F s) = space (F t) \\<and>\n       sets (F s) \\<subseteq> sets (F t))) \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n\ngoal (1 subgoal):\n 1. space M = space N", "by (meson sets_eq_imp_space_eq)"], ["", "lemma filt_equiv_sets:\n  assumes \"filt_equiv F M N\"\n  shows \"sets M = sets N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sets M = sets N", "using assms"], ["proof (prove)\nusing this:\n  filt_equiv F M N\n\ngoal (1 subgoal):\n 1. sets M = sets N", "unfolding filt_equiv_def"], ["proof (prove)\nusing this:\n  sets M = sets N \\<and>\n  Filtration.filtration M F \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n\ngoal (1 subgoal):\n 1. sets M = sets N", "by simp"], ["", "lemma filt_equiv_filtration:\n  assumes \"filt_equiv F M N\"\n  shows \"filtration N F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Filtration.filtration N F", "using assms"], ["proof (prove)\nusing this:\n  filt_equiv F M N\n\ngoal (1 subgoal):\n 1. Filtration.filtration N F", "unfolding filt_equiv_def filtration_def subalgebra_def"], ["proof (prove)\nusing this:\n  sets M = sets N \\<and>\n  ((\\<forall>t.\n       space (F t) = space M \\<and> sets (F t) \\<subseteq> sets M) \\<and>\n   (\\<forall>s t.\n       s \\<le> t \\<longrightarrow>\n       space (F s) = space (F t) \\<and>\n       sets (F s) \\<subseteq> sets (F t))) \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n\ngoal (1 subgoal):\n 1. (\\<forall>t.\n        space (F t) = space N \\<and> sets (F t) \\<subseteq> sets N) \\<and>\n    (\\<forall>s t.\n        s \\<le> t \\<longrightarrow>\n        space (F s) = space (F t) \\<and> sets (F s) \\<subseteq> sets (F t))", "by (metis sets_eq_imp_space_eq)"], ["", "lemma (in filtrated_prob_space) AE_borel_eq:\nfixes f::\"'a\\<Rightarrow>real\"\nassumes \"f\\<in> borel_measurable (F t)\"\nand \"g\\<in> borel_measurable (F t)\"\nand \"AE w in M. f w = g w\"\nshows \"{w\\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and> emeasure M {w\\<in> space M. f w \\<noteq> g w} = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n    emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)\n 2. emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0", "show \"{w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "define minus where \"minus = (\\<lambda>w. (f w) - (g w))\""], ["proof (state)\nthis:\n  minus = (\\<lambda>w. f w - g w)\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "have \"minus \\<in> borel_measurable (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. minus \\<in> borel_measurable (F t)", "unfolding minus_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>w. f w - g w) \\<in> borel_measurable (F t)", "using assms"], ["proof (prove)\nusing this:\n  f \\<in> borel_measurable (F t)\n  g \\<in> borel_measurable (F t)\n  AE w in M. f w = g w\n\ngoal (1 subgoal):\n 1. (\\<lambda>w. f w - g w) \\<in> borel_measurable (F t)", "by simp"], ["proof (state)\nthis:\n  minus \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "hence \"{w\\<in> space (F t). 0 < minus w} \\<in> sets (F t)\""], ["proof (prove)\nusing this:\n  minus \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<in> sets (F t)", "using borel_measurable_iff_greater"], ["proof (prove)\nusing this:\n  minus \\<in> borel_measurable (F t)\n  (?f \\<in> borel_measurable ?M) =\n  (\\<forall>a. {w \\<in> space ?M. a < ?f w} \\<in> sets ?M)\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<in> sets (F t)", "by auto"], ["proof (state)\nthis:\n  {w \\<in> space (F t). 0 < minus w} \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "moreover"], ["proof (state)\nthis:\n  {w \\<in> space (F t). 0 < minus w} \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "have \"{w\\<in> space (F t). minus w < 0} \\<in> sets (F t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). minus w < 0} \\<in> sets (F t)", "using borel_measurable_iff_less\n      \\<open>minus \\<in> borel_measurable (F t)\\<close>"], ["proof (prove)\nusing this:\n  (?f \\<in> borel_measurable ?M) =\n  (\\<forall>a. {w \\<in> space ?M. ?f w < a} \\<in> sets ?M)\n  minus \\<in> borel_measurable (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). minus w < 0} \\<in> sets (F t)", "by auto"], ["proof (state)\nthis:\n  {w \\<in> space (F t). minus w < 0} \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "ultimately"], ["proof (chain)\npicking this:\n  {w \\<in> space (F t). 0 < minus w} \\<in> sets (F t)\n  {w \\<in> space (F t). minus w < 0} \\<in> sets (F t)", "have \"{w\\<in> space (F t). 0 < minus w} \\<union> {w\\<in> space (F t). minus w < 0} \\<in> sets (F t)\""], ["proof (prove)\nusing this:\n  {w \\<in> space (F t). 0 < minus w} \\<in> sets (F t)\n  {w \\<in> space (F t). minus w < 0} \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}\n    \\<in> sets (F t)", "by simp"], ["proof (state)\nthis:\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n  \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "moreover"], ["proof (state)\nthis:\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n  \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "have \"{w\\<in> space (F t). f w \\<noteq> g w} = {w\\<in> space (F t). 0 < minus w} \\<union> {w\\<in> space (F t). minus w < 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). f w \\<noteq> g w} =\n    {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {w \\<in> space (F t). f w \\<noteq> g w}\n    \\<subseteq> {w \\<in> space (F t). 0 < minus w} \\<union>\n                {w \\<in> space (F t). minus w < 0}\n 2. {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "show \"{w \\<in> space (F t). f w \\<noteq> g w} \\<subseteq> {w \\<in> space (F t). 0 < minus w} \\<union> {w \\<in> space (F t). minus w < 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). f w \\<noteq> g w}\n    \\<subseteq> {w \\<in> space (F t). 0 < minus w} \\<union>\n                {w \\<in> space (F t). minus w < 0}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {w \\<in> space (F t). f w \\<noteq> g w} \\<Longrightarrow>\n       x \\<in> {w \\<in> space (F t). 0 < minus w} \\<union>\n               {w \\<in> space (F t). minus w < 0}", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {w \\<in> space (F t). f w \\<noteq> g w} \\<Longrightarrow>\n       x \\<in> {w \\<in> space (F t). 0 < minus w} \\<union>\n               {w \\<in> space (F t). minus w < 0}", "assume \"w \\<in> {w \\<in> space (F t). f w \\<noteq> g w}\""], ["proof (state)\nthis:\n  w \\<in> {w \\<in> space (F t). f w \\<noteq> g w}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {w \\<in> space (F t). f w \\<noteq> g w} \\<Longrightarrow>\n       x \\<in> {w \\<in> space (F t). 0 < minus w} \\<union>\n               {w \\<in> space (F t). minus w < 0}", "hence \"w\\<in> space (F t)\" and \"f w \\<noteq> g w\""], ["proof (prove)\nusing this:\n  w \\<in> {w \\<in> space (F t). f w \\<noteq> g w}\n\ngoal (1 subgoal):\n 1. w \\<in> space (F t) &&& f w \\<noteq> g w", "by auto"], ["proof (state)\nthis:\n  w \\<in> space (F t)\n  f w \\<noteq> g w\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {w \\<in> space (F t). f w \\<noteq> g w} \\<Longrightarrow>\n       x \\<in> {w \\<in> space (F t). 0 < minus w} \\<union>\n               {w \\<in> space (F t). minus w < 0}", "thus \"w\\<in> {w \\<in> space (F t). 0 < minus w} \\<union> {w \\<in> space (F t). minus w < 0}\""], ["proof (prove)\nusing this:\n  w \\<in> space (F t)\n  f w \\<noteq> g w\n\ngoal (1 subgoal):\n 1. w \\<in> {w \\<in> space (F t). 0 < minus w} \\<union>\n            {w \\<in> space (F t). minus w < 0}", "unfolding minus_def"], ["proof (prove)\nusing this:\n  w \\<in> space (F t)\n  f w \\<noteq> g w\n\ngoal (1 subgoal):\n 1. w \\<in> {w \\<in> space (F t). 0 < f w - g w} \\<union>\n            {w \\<in> space (F t). f w - g w < 0}", "by (cases \"f w < g w\") auto"], ["proof (state)\nthis:\n  w \\<in> {w \\<in> space (F t). 0 < minus w} \\<union>\n          {w \\<in> space (F t). minus w < 0}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {w \\<in> space (F t). f w \\<noteq> g w}\n  \\<subseteq> {w \\<in> space (F t). 0 < minus w} \\<union>\n              {w \\<in> space (F t). minus w < 0}\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "have \"{w \\<in> space (F t). 0 < minus w} \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "unfolding minus_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < f w - g w}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "by auto"], ["proof (state)\nthis:\n  {w \\<in> space (F t). 0 < minus w}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "moreover"], ["proof (state)\nthis:\n  {w \\<in> space (F t). 0 < minus w}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "have \"{w \\<in> space (F t). minus w < 0} \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). minus w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "unfolding minus_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). f w - g w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "by auto"], ["proof (state)\nthis:\n  {w \\<in> space (F t). minus w < 0}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "ultimately"], ["proof (chain)\npicking this:\n  {w \\<in> space (F t). 0 < minus w}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\n  {w \\<in> space (F t). minus w < 0}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "show \"{w \\<in> space (F t). 0 < minus w} \\<union> {w \\<in> space (F t). minus w < 0} \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\""], ["proof (prove)\nusing this:\n  {w \\<in> space (F t). 0 < minus w}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\n  {w \\<in> space (F t). minus w < 0}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\n\ngoal (1 subgoal):\n 1. {w \\<in> space (F t). 0 < minus w} \\<union>\n    {w \\<in> space (F t). minus w < 0}\n    \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}", "by simp"], ["proof (state)\nthis:\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n  \\<subseteq> {w \\<in> space (F t). f w \\<noteq> g w}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {w \\<in> space (F t). f w \\<noteq> g w} =\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "moreover"], ["proof (state)\nthis:\n  {w \\<in> space (F t). f w \\<noteq> g w} =\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "have \"space (F t) = space M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space (F t) = space M", "using filtration"], ["proof (prove)\nusing this:\n  Filtration.filtration M F\n\ngoal (1 subgoal):\n 1. space (F t) = space M", "unfolding filtration_def subalgebra_def"], ["proof (prove)\nusing this:\n  (\\<forall>t.\n      space (F t) = space M \\<and> sets (F t) \\<subseteq> events) \\<and>\n  (\\<forall>s t.\n      s \\<le> t \\<longrightarrow>\n      space (F s) = space (F t) \\<and> sets (F s) \\<subseteq> sets (F t))\n\ngoal (1 subgoal):\n 1. space (F t) = space M", "by simp"], ["proof (state)\nthis:\n  space (F t) = space M\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "ultimately"], ["proof (chain)\npicking this:\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n  \\<in> sets (F t)\n  {w \\<in> space (F t). f w \\<noteq> g w} =\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n  space (F t) = space M", "show ?thesis"], ["proof (prove)\nusing this:\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n  \\<in> sets (F t)\n  {w \\<in> space (F t). f w \\<noteq> g w} =\n  {w \\<in> space (F t). 0 < minus w} \\<union>\n  {w \\<in> space (F t). minus w < 0}\n  space (F t) = space M\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)", "by simp"], ["proof (state)\nthis:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t)\n\ngoal (1 subgoal):\n 1. emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0", "show \"emeasure M {w\\<in> space M. f w \\<noteq> g w} = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0", "by (metis (no_types) AE_iff_measurable assms(3) emeasure_notin_sets)"], ["proof (state)\nthis:\n  emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in prob_space) filt_equiv_borel_AE_eq:\n  fixes f::\"'a\\<Rightarrow> real\"\n  assumes \"filt_equiv F M N\"\nand \"f\\<in> borel_measurable (F t)\"\nand \"g\\<in> borel_measurable (F t)\"\nand \"AE w in M. f w = g w\"\nshows \"AE w in N. f w = g w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "have set0: \"{w\\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and> emeasure M {w\\<in> space M. f w \\<noteq> g w} = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n    emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0", "proof (rule filtrated_prob_space.AE_borel_eq, (auto simp add: assms))"], ["proof (state)\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "show \"filtrated_prob_space M F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "using assms"], ["proof (prove)\nusing this:\n  filt_equiv F M N\n  f \\<in> borel_measurable (F t)\n  g \\<in> borel_measurable (F t)\n  AE w in M. f w = g w\n\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "unfolding filt_equiv_def"], ["proof (prove)\nusing this:\n  events = sets N \\<and>\n  Filtration.filtration M F \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n  f \\<in> borel_measurable (F t)\n  g \\<in> borel_measurable (F t)\n  AE w in M. f w = g w\n\ngoal (1 subgoal):\n 1. filtrated_prob_space M F", "by (simp add: filtrated_prob_space_axioms.intro filtrated_prob_space_def prob_space_axioms)"], ["proof (state)\nthis:\n  filtrated_prob_space M F\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n  emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0\n\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "hence \"emeasure N {w\\<in> space M. f w \\<noteq> g w} = 0\""], ["proof (prove)\nusing this:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n  emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0\n\ngoal (1 subgoal):\n 1. emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0", "using assms"], ["proof (prove)\nusing this:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n  emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0\n  filt_equiv F M N\n  f \\<in> borel_measurable (F t)\n  g \\<in> borel_measurable (F t)\n  AE w in M. f w = g w\n\ngoal (1 subgoal):\n 1. emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0", "unfolding filt_equiv_def"], ["proof (prove)\nusing this:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n  emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0\n  events = sets N \\<and>\n  Filtration.filtration M F \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n  f \\<in> borel_measurable (F t)\n  g \\<in> borel_measurable (F t)\n  AE w in M. f w = g w\n\ngoal (1 subgoal):\n 1. emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0", "by auto"], ["proof (state)\nthis:\n  emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0\n\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "moreover"], ["proof (state)\nthis:\n  emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0\n\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "have \"{w\\<in> space M. f w \\<noteq> g w} \\<in> sets N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N", "using set0 assms"], ["proof (prove)\nusing this:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n  emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0\n  filt_equiv F M N\n  f \\<in> borel_measurable (F t)\n  g \\<in> borel_measurable (F t)\n  AE w in M. f w = g w\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N", "unfolding filt_equiv_def\n    filtration_def subalgebra_def"], ["proof (prove)\nusing this:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets (F t) \\<and>\n  emeasure M {w \\<in> space M. f w \\<noteq> g w} = 0\n  events = sets N \\<and>\n  ((\\<forall>t.\n       space (F t) = space M \\<and> sets (F t) \\<subseteq> events) \\<and>\n   (\\<forall>s t.\n       s \\<le> t \\<longrightarrow>\n       space (F s) = space (F t) \\<and>\n       sets (F s) \\<subseteq> sets (F t))) \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n  f \\<in> borel_measurable (F t)\n  g \\<in> borel_measurable (F t)\n  AE w in M. f w = g w\n\ngoal (1 subgoal):\n 1. {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N", "by auto"], ["proof (state)\nthis:\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N\n\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "ultimately"], ["proof (chain)\npicking this:\n  emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N", "show ?thesis"], ["proof (prove)\nusing this:\n  emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N\n\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0;\n     {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N\\<rbrakk>\n    \\<Longrightarrow> AE w in N. f w = g w", "have \"space M = space N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space M = space N", "by (metis assms(1) filt_equiv_space)"], ["proof (state)\nthis:\n  space M = space N\n\ngoal (1 subgoal):\n 1. \\<lbrakk>emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0;\n     {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N\\<rbrakk>\n    \\<Longrightarrow> AE w in N. f w = g w", "then"], ["proof (chain)\npicking this:\n  space M = space N", "have \"\\<forall>p. almost_everywhere N p \\<or> {a \\<in> space N. \\<not> p a} \\<noteq> {a \\<in> space N. f a \\<noteq> g a}\""], ["proof (prove)\nusing this:\n  space M = space N\n\ngoal (1 subgoal):\n 1. \\<forall>p.\n       almost_everywhere N p \\<or>\n       {a \\<in> space N. \\<not> p a} \\<noteq>\n       {a \\<in> space N. f a \\<noteq> g a}", "using AE_iff_measurable \\<open>emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0\\<close> \\<open>{w \\<in> space M. f w \\<noteq> g w} \\<in> sets N\\<close>"], ["proof (prove)\nusing this:\n  space M = space N\n  \\<lbrakk>?N \\<in> sets ?M; {x \\<in> space ?M. \\<not> ?P x} = ?N\\<rbrakk>\n  \\<Longrightarrow> almost_everywhere ?M ?P = (emeasure ?M ?N = 0)\n  emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0\n  {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N\n\ngoal (1 subgoal):\n 1. \\<forall>p.\n       almost_everywhere N p \\<or>\n       {a \\<in> space N. \\<not> p a} \\<noteq>\n       {a \\<in> space N. f a \\<noteq> g a}", "by auto"], ["proof (state)\nthis:\n  \\<forall>p.\n     almost_everywhere N p \\<or>\n     {a \\<in> space N. \\<not> p a} \\<noteq>\n     {a \\<in> space N. f a \\<noteq> g a}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>emeasure N {w \\<in> space M. f w \\<noteq> g w} = 0;\n     {w \\<in> space M. f w \\<noteq> g w} \\<in> sets N\\<rbrakk>\n    \\<Longrightarrow> AE w in N. f w = g w", "then"], ["proof (chain)\npicking this:\n  \\<forall>p.\n     almost_everywhere N p \\<or>\n     {a \\<in> space N. \\<not> p a} \\<noteq>\n     {a \\<in> space N. f a \\<noteq> g a}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>p.\n     almost_everywhere N p \\<or>\n     {a \\<in> space N. \\<not> p a} \\<noteq>\n     {a \\<in> space N. f a \\<noteq> g a}\n\ngoal (1 subgoal):\n 1. AE w in N. f w = g w", "by metis"], ["proof (state)\nthis:\n  AE w in N. f w = g w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  AE w in N. f w = g w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma filt_equiv_prob_space_subalgebra:\n  assumes \"prob_space N\"\n  and \"filt_equiv F M N\"\n  and \"sigma_finite_subalgebra M G\"\nshows \"sigma_finite_subalgebra N G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sigma_finite_subalgebra N G", "unfolding sigma_finite_subalgebra_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. subalgebra N G \\<and> sigma_finite_measure (restr_to_subalg N G)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. subalgebra N G\n 2. sigma_finite_measure (restr_to_subalg N G)", "show \"subalgebra N G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subalgebra N G", "by (metis assms(2) assms(3) filt_equiv_space filt_equiv_def sigma_finite_subalgebra_def subalgebra_def)"], ["proof (state)\nthis:\n  subalgebra N G\n\ngoal (1 subgoal):\n 1. sigma_finite_measure (restr_to_subalg N G)", "show \"sigma_finite_measure (restr_to_subalg N G)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sigma_finite_measure (restr_to_subalg N G)", "unfolding restr_to_subalg_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sigma_finite_measure (measure_of (space N) (sets G) (emeasure N))", "by (metis \\<open>subalgebra N G\\<close> assms(1) finite_measure_def finite_measure_restr_to_subalg prob_space_def restr_to_subalg_def)"], ["proof (state)\nthis:\n  sigma_finite_measure (restr_to_subalg N G)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma filt_equiv_measurable:\n  assumes \"filt_equiv F M N\"\n  and \"f\\<in> measurable M P\"\nshows \"f\\<in> measurable N P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<in> N \\<rightarrow>\\<^sub>M P", "using assms"], ["proof (prove)\nusing this:\n  filt_equiv F M N\n  f \\<in> M \\<rightarrow>\\<^sub>M P\n\ngoal (1 subgoal):\n 1. f \\<in> N \\<rightarrow>\\<^sub>M P", "unfolding filt_equiv_def measurable_def"], ["proof (prove)\nusing this:\n  sets M = sets N \\<and>\n  Filtration.filtration M F \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n  f \\<in> {f \\<in> space M \\<rightarrow> space P.\n           \\<forall>y\\<in>sets P. f -` y \\<inter> space M \\<in> sets M}\n\ngoal (1 subgoal):\n 1. f \\<in> {f \\<in> space N \\<rightarrow> space P.\n             \\<forall>y\\<in>sets P. f -` y \\<inter> space N \\<in> sets N}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>sets M = sets N \\<and>\n             Filtration.filtration M F \\<and>\n             (\\<forall>t A.\n                 A \\<in> sets (F t) \\<longrightarrow>\n                 (emeasure M A = 0) = (emeasure N A = 0));\n     f \\<in> {f \\<in> space M \\<rightarrow> space P.\n              \\<forall>y\\<in>sets P.\n                 f -` y \\<inter> space M \\<in> sets M}\\<rbrakk>\n    \\<Longrightarrow> f \\<in> {f \\<in> space N \\<rightarrow> space P.\n                               \\<forall>y\\<in>sets P.\n                                  f -` y \\<inter> space N \\<in> sets N}", "assume a1: \"sets M = sets N \\<and> Filtration.filtration M F \\<and> (\\<forall>t A. A \\<in> sets (F t) \\<longrightarrow> (emeasure M A = 0) = (emeasure N A = 0))\""], ["proof (state)\nthis:\n  sets M = sets N \\<and>\n  Filtration.filtration M F \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>sets M = sets N \\<and>\n             Filtration.filtration M F \\<and>\n             (\\<forall>t A.\n                 A \\<in> sets (F t) \\<longrightarrow>\n                 (emeasure M A = 0) = (emeasure N A = 0));\n     f \\<in> {f \\<in> space M \\<rightarrow> space P.\n              \\<forall>y\\<in>sets P.\n                 f -` y \\<inter> space M \\<in> sets M}\\<rbrakk>\n    \\<Longrightarrow> f \\<in> {f \\<in> space N \\<rightarrow> space P.\n                               \\<forall>y\\<in>sets P.\n                                  f -` y \\<inter> space N \\<in> sets N}", "assume a2: \"f \\<in> {f \\<in> space M \\<rightarrow> space P. \\<forall>y\\<in>sets P. f -` y \\<inter> space M \\<in> sets M}\""], ["proof (state)\nthis:\n  f \\<in> {f \\<in> space M \\<rightarrow> space P.\n           \\<forall>y\\<in>sets P. f -` y \\<inter> space M \\<in> sets M}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>sets M = sets N \\<and>\n             Filtration.filtration M F \\<and>\n             (\\<forall>t A.\n                 A \\<in> sets (F t) \\<longrightarrow>\n                 (emeasure M A = 0) = (emeasure N A = 0));\n     f \\<in> {f \\<in> space M \\<rightarrow> space P.\n              \\<forall>y\\<in>sets P.\n                 f -` y \\<inter> space M \\<in> sets M}\\<rbrakk>\n    \\<Longrightarrow> f \\<in> {f \\<in> space N \\<rightarrow> space P.\n                               \\<forall>y\\<in>sets P.\n                                  f -` y \\<inter> space N \\<in> sets N}", "have \"space N = space M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. space N = space M", "using a1"], ["proof (prove)\nusing this:\n  sets M = sets N \\<and>\n  Filtration.filtration M F \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n\ngoal (1 subgoal):\n 1. space N = space M", "by (metis (lifting) sets_eq_imp_space_eq)"], ["proof (state)\nthis:\n  space N = space M\n\ngoal (1 subgoal):\n 1. \\<lbrakk>sets M = sets N \\<and>\n             Filtration.filtration M F \\<and>\n             (\\<forall>t A.\n                 A \\<in> sets (F t) \\<longrightarrow>\n                 (emeasure M A = 0) = (emeasure N A = 0));\n     f \\<in> {f \\<in> space M \\<rightarrow> space P.\n              \\<forall>y\\<in>sets P.\n                 f -` y \\<inter> space M \\<in> sets M}\\<rbrakk>\n    \\<Longrightarrow> f \\<in> {f \\<in> space N \\<rightarrow> space P.\n                               \\<forall>y\\<in>sets P.\n                                  f -` y \\<inter> space N \\<in> sets N}", "then"], ["proof (chain)\npicking this:\n  space N = space M", "show \"f \\<in> {f \\<in> space N \\<rightarrow> space P. \\<forall>C\\<in>sets P. f -` C \\<inter> space N \\<in> sets N}\""], ["proof (prove)\nusing this:\n  space N = space M\n\ngoal (1 subgoal):\n 1. f \\<in> {f \\<in> space N \\<rightarrow> space P.\n             \\<forall>C\\<in>sets P. f -` C \\<inter> space N \\<in> sets N}", "using a2 a1"], ["proof (prove)\nusing this:\n  space N = space M\n  f \\<in> {f \\<in> space M \\<rightarrow> space P.\n           \\<forall>y\\<in>sets P. f -` y \\<inter> space M \\<in> sets M}\n  sets M = sets N \\<and>\n  Filtration.filtration M F \\<and>\n  (\\<forall>t A.\n      A \\<in> sets (F t) \\<longrightarrow>\n      (emeasure M A = 0) = (emeasure N A = 0))\n\ngoal (1 subgoal):\n 1. f \\<in> {f \\<in> space N \\<rightarrow> space P.\n             \\<forall>C\\<in>sets P. f -` C \\<inter> space N \\<in> sets N}", "by force"], ["proof (state)\nthis:\n  f \\<in> {f \\<in> space N \\<rightarrow> space P.\n           \\<forall>C\\<in>sets P. f -` C \\<inter> space N \\<in> sets N}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma filt_equiv_imp_subalgebra:\n  assumes \"filt_equiv F M N\"\nshows \"subalgebra N M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subalgebra N M", "unfolding subalgebra_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. space M = space N \\<and> sets M \\<subseteq> sets N", "using assms filt_equiv_space filt_equiv_def"], ["proof (prove)\nusing this:\n  filt_equiv F M N\n  filt_equiv ?F ?M ?N \\<Longrightarrow> space ?M = space ?N\n  filt_equiv ?F ?M ?N =\n  (sets ?M = sets ?N \\<and>\n   Filtration.filtration ?M ?F \\<and>\n   (\\<forall>t A.\n       A \\<in> sets (?F t) \\<longrightarrow>\n       (emeasure ?M A = 0) = (emeasure ?N A = 0)))\n\ngoal (1 subgoal):\n 1. space M = space N \\<and> sets M \\<subseteq> sets N", "by blast"], ["", "end"]]}