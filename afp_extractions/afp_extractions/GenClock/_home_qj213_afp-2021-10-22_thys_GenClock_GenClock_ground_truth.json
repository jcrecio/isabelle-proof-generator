{"file_name": "/home/qj213/afp-2021-10-22/thys/GenClock/GenClock.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/GenClock", "problem_names": ["lemma rts0d:\nassumes cp: \"correct p (te p (i+1))\"\nshows \"te p (i+1) - te p i \\<le> rmax\"", "lemma rts1d:\nassumes cp: \"correct p (te p (i+1))\"\nshows \"rmin \\<le> te p (i+1) - te p i\"", "lemma rte:\nassumes cp: \"correct p (te p (i+1))\"\nshows \"te p i \\<le> te p (i+1)\"", "lemma beta_bound1:\nassumes corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i+1))\"\nshows \"0 \\<le> te p (i+1) - te q i\"", "lemma beta_bound2:\nassumes corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te q i)\"\nshows \"te p (i+1) - te q i \\<le> rmax + \\<beta>\"", "lemma bd:\n  assumes ie: \"s \\<le> t\"\n  and rb1: \"rho_bound1 C\"\n  and rb2: \"rho_bound2 D\"\n  and PC_ie: \"D q t - D q s \\<le> C p t - C p s\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\n  shows \"\\<bar> C p t - D q t \\<bar>  \\<le> \\<bar> C p s - D q s \\<bar> + 2*\\<rho>*(t - s)\"", "lemma bounded_drift:\n  assumes ie: \"s \\<le> t\"\n  and rb1: \"rho_bound1 C\"\n  and rb2: \"rho_bound2 C\"\n  and rb3: \"rho_bound1 D\"\n  and rb4: \"rho_bound2 D\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\n  shows \"\\<bar>C p t - D q t\\<bar> \\<le> \\<bar>C p s - D q s\\<bar>  + 2*\\<rho>*(t - s)\"", "lemma IC_rate1:\n\"rho_bound1 (\\<lambda> p t. IC p i t)\"", "lemma IC_rate2:\n\"rho_bound2 (\\<lambda> p t. IC p i t)\"", "lemma IC_bd:\n  assumes ie: \"s \\<le> t\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\n  shows \"\\<bar>IC p i t - IC q j t\\<bar> \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2*\\<rho>*(t - s)\"", "lemma event_bound:\nassumes ie1: \"0 \\<le> (t::real)\"\nand corr_p: \"correct p t\"\nand corr_q: \"correct q t\"\nshows \"\\<exists> i. t < max (te p i) (te q i)\"", "lemma okClocks_sym:\nassumes ok_pq: \"okClocks p q i\"\nshows \"okClocks q p i\"", "lemma ICp_Suc:\nassumes corr_p: \"correct p (te p (i+1))\"\nshows \"IC p (i+1) (te p (i+1)) = cfn p (\\<theta> p (i+1)) \"", "lemma IC_trans_inv:\nassumes ie1: \"te q (i+1) \\<le> te p (i+1)\"\nand corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i+1))\"\nshows\n\"IC q (i+1) (te p (i+1)) =\n  cfn q (\\<lambda> n. \\<theta> q (i+1) n + (PC q (te p (i+1)) - PC q (te q (i+1))))\"\n(is \"?T1 = ?T2\")", "lemma beta_rho:\nassumes ie: \"te q (i+1) \\<le> te p (i+1)\"\nand corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i+1))\"\nand corr_l: \"correct l (te p (i+1))\"\nshows \"\\<bar>(PC l (te p (i+1)) - PC l (te q (i+1))) - (te p (i+1) - te q (i+1))\\<bar> \\<le> \\<beta>*\\<rho>\"", "lemma pe_cond1:\nassumes ie: \"te q (i+1) \\<le> te p (i+1)\"\nand corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i + 1))\"\nand corr_l: \"correct l (te p (i+1))\"\nshows \"\\<bar>\\<theta> q (i+1) l + (PC q (te p (i+1)) - PC q (te q (i+1))) -\n           \\<theta> p (i+1) l\\<bar> \\<le> 2* \\<rho> * \\<beta> + 2*\\<Lambda>\"\n(is \"?M \\<le> ?N\")", "lemma pe_cond2:\nassumes ie: \"te m i \\<le> te l i\"\nand corr_k: \"correct k (te k (i+1))\"\nand corr_l_tk: \"correct l (te k (i+1))\"\nand corr_m_tk: \"correct m (te k (i+1))\"\nand ind_hyp: \"\\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S\"\nshows \"\\<bar>\\<theta> k (i+1) l - \\<theta> k (i+1) m\\<bar> \\<le> 2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\"", "lemma theta_bound:\nassumes corr_l: \"correct l (te p (i+1))\"\nand corr_m: \"correct m (te p (i+1))\"\nand corr_p: \"correct p (te p (i+1))\"\nand IC_bound:\n    \"\\<bar>IC l i (max (te l i) (te m i)) - IC m i (max (te l i) (te m i))\\<bar>\n      \\<le> \\<delta>S\"\nshows \"\\<bar>\\<theta> p (i+1) l - \\<theta> p (i+1) m\\<bar>\n       \\<le>  2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\"", "lemma four_one_ind_half:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ind_hyp: \"okmaxsync i \\<delta>S\"\n  and ie4: \"te q (i+1) \\<le> te p (i+1)\"\n  and corr_p: \"correct p (te p (i+1))\"\n  and corr_q: \"correct q (te p (i+1))\"\nshows \"\\<bar>IC p (i+1) (te p (i+1)) - IC q (i+1) (te p (i+1))\\<bar> \\<le> \\<delta>S\"", "theorem four_one:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\nshows \"okmaxsync i \\<delta>S\"", "lemma VC_cfn:\n  assumes corr_p: \"correct p (te p (i+1))\"\n  and ie: \"te p (i+1) < te p (i+2)\"\nshows \"VC p (te p (i+1)) = cfn p (\\<theta> p (i+1))\"", "lemma four_two_ind:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ie4: \"\\<gamma>2 \\<delta>S \\<le> \\<delta>\"\n  and ie5: \"\\<gamma>3 \\<delta>S \\<le> \\<delta>\"\n  and ie6: \"te q (i+1) \\<le> te p (i+1)\"\n  and ind_hyp: \"okClocks p q i\"\n  and t_bound1: \"0 \\<le> t\"\n  and t_bound2: \"t < max (te p (i+1)) (te q (i+1))\"\n  and t_bound3: \"max (te p i) (te q i) \\<le> t\"\n  and tpq_bound: \"max (te p i) (te q i) < max (te p (i+1)) (te q (i+1))\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\nshows \"\\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\"", "theorem four_two:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ie4: \"\\<gamma>2 \\<delta>S \\<le> \\<delta>\"\n  and ie5: \"\\<gamma>3 \\<delta>S \\<le> \\<delta>\"\nshows \"okClocks p q i\"", "theorem agreement:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ie4: \"\\<gamma>2 \\<delta>S \\<le> \\<delta>\"\n  and ie5: \"\\<gamma>3 \\<delta>S \\<le> \\<delta>\"\n  and ie6: \"0 \\<le> t\"\n  and cpq: \"correct p t \\<and> correct q t\"\nshows \"\\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\""], "translations": [["", "lemma rts0d:\nassumes cp: \"correct p (te p (i+1))\"\nshows \"te p (i+1) - te p i \\<le> rmax\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p (i + 1) - te p i \\<le> rmax", "using cp rts0"], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  \\<forall>p t i.\n     correct p t \\<and> t \\<le> te p (i + 1) \\<longrightarrow>\n     t - te p i \\<le> rmax\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te p i \\<le> rmax", "by simp"], ["", "lemma rts1d:\nassumes cp: \"correct p (te p (i+1))\"\nshows \"rmin \\<le> te p (i+1) - te p i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rmin \\<le> te p (i + 1) - te p i", "using cp rts1"], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  \\<forall>p t i.\n     correct p t \\<and> te p (i + 1) \\<le> t \\<longrightarrow>\n     rmin \\<le> t - te p i\n\ngoal (1 subgoal):\n 1. rmin \\<le> te p (i + 1) - te p i", "by simp"], ["", "lemma rte:\nassumes cp: \"correct p (te p (i+1))\"\nshows \"te p i \\<le> te p (i+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p i \\<le> te p (i + 1)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. te p i \\<le> te p (i + 1)", "from cp rts1d"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i", "have \"rmin \\<le> te p (i+1) - te p i\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i\n\ngoal (1 subgoal):\n 1. rmin \\<le> te p (i + 1) - te p i", "by simp"], ["proof (state)\nthis:\n  rmin \\<le> te p (i + 1) - te p i\n\ngoal (1 subgoal):\n 1. te p i \\<le> te p (i + 1)", "from this constants_ax"], ["proof (chain)\npicking this:\n  rmin \\<le> te p (i + 1) - te p i\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np", "show ?thesis"], ["proof (prove)\nusing this:\n  rmin \\<le> te p (i + 1) - te p i\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np\n\ngoal (1 subgoal):\n 1. te p i \\<le> te p (i + 1)", "by arith"], ["proof (state)\nthis:\n  te p i \\<le> te p (i + 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma beta_bound1:\nassumes corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i+1))\"\nshows \"0 \\<le> te p (i+1) - te q i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "from corr_p rte"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)", "have \"te p i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)\n\ngoal (1 subgoal):\n 1. te p i \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  te p i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "from this corr_p correct_closed"], ["proof (chain)\npicking this:\n  te p i \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_pi: \"correct p (te p i)\""], ["proof (prove)\nusing this:\n  te p i \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct p (te p i)", "by blast"], ["proof (state)\nthis:\n  correct p (te p i)\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "from corr_p rts1d nonoverlap"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i\n  \\<beta> \\<le> rmin", "have \"rmin \\<le> te p (i+1) - te p i\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i\n  \\<beta> \\<le> rmin\n\ngoal (1 subgoal):\n 1. rmin \\<le> te p (i + 1) - te p i", "by simp"], ["proof (state)\nthis:\n  rmin \\<le> te p (i + 1) - te p i\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "from this nonoverlap"], ["proof (chain)\npicking this:\n  rmin \\<le> te p (i + 1) - te p i\n  \\<beta> \\<le> rmin", "have \"\\<beta> \\<le> te p (i+1) - te p i\""], ["proof (prove)\nusing this:\n  rmin \\<le> te p (i + 1) - te p i\n  \\<beta> \\<le> rmin\n\ngoal (1 subgoal):\n 1. \\<beta> \\<le> te p (i + 1) - te p i", "by simp"], ["proof (state)\nthis:\n  \\<beta> \\<le> te p (i + 1) - te p i\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "hence \"te p i + \\<beta> \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  \\<beta> \\<le> te p (i + 1) - te p i\n\ngoal (1 subgoal):\n 1. te p i + \\<beta> \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  te p i + \\<beta> \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "from this corr_p corr_q rts2a"], ["proof (chain)\npicking this:\n  te p i + \\<beta> \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  \\<forall>p q t i.\n     correct p t \\<and>\n     correct q t \\<and> te q i + \\<beta> \\<le> t \\<longrightarrow>\n     te p i \\<le> t", "have \"te q i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  te p i + \\<beta> \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  \\<forall>p q t i.\n     correct p t \\<and>\n     correct q t \\<and> te q i + \\<beta> \\<le> t \\<longrightarrow>\n     te p i \\<le> t\n\ngoal (1 subgoal):\n 1. te q i \\<le> te p (i + 1)", "by blast"], ["proof (state)\nthis:\n  te q i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "thus ?thesis"], ["proof (prove)\nusing this:\n  te q i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q i", "by simp"], ["proof (state)\nthis:\n  0 \\<le> te p (i + 1) - te q i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma beta_bound2:\nassumes corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te q i)\"\nshows \"te p (i+1) - te q i \\<le> rmax + \\<beta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "from corr_p rte"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)", "have \"te p i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)\n\ngoal (1 subgoal):\n 1. te p i \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  te p i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "from this corr_p correct_closed"], ["proof (chain)\npicking this:\n  te p i \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_pi: \"correct p (te p i)\""], ["proof (prove)\nusing this:\n  te p i \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct p (te p i)", "by blast"], ["proof (state)\nthis:\n  correct p (te p i)\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "have split: \"te p (i+1) - te q i =\n    (te p (i+1) - te p i) + (te p i - te q i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i = te p (i + 1) - te p i + (te p i - te q i)", "by (simp)"], ["proof (state)\nthis:\n  te p (i + 1) - te q i = te p (i + 1) - te p i + (te p i - te q i)\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "from corr_q corr_pi rts2b"], ["proof (chain)\npicking this:\n  correct q (te q i)\n  correct p (te p i)\n  \\<forall>p q i.\n     correct p (te p i) \\<and> correct q (te q i) \\<longrightarrow>\n     \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>", "have Eq1: \"abs(te p i - te q i) \\<le> \\<beta>\""], ["proof (prove)\nusing this:\n  correct q (te q i)\n  correct p (te p i)\n  \\<forall>p q i.\n     correct p (te p i) \\<and> correct q (te q i) \\<longrightarrow>\n     \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>", "by simp"], ["proof (state)\nthis:\n  \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "have Eq2: \"te p i - te q i \\<le> \\<beta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p i - te q i \\<le> \\<beta>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> te p i - te q i \\<le> \\<beta>\n 2. \\<not> ?P \\<Longrightarrow> te p i - te q i \\<le> \\<beta>", "assume \"te q i \\<le> te p i\""], ["proof (state)\nthis:\n  te q i \\<le> te p i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> te p i - te q i \\<le> \\<beta>\n 2. \\<not> ?P \\<Longrightarrow> te p i - te q i \\<le> \\<beta>", "from this Eq1"], ["proof (chain)\npicking this:\n  te q i \\<le> te p i\n  \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>", "show ?thesis"], ["proof (prove)\nusing this:\n  te q i \\<le> te p i\n  \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. te p i - te q i \\<le> \\<beta>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  te p i - te q i \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<not> te q i \\<le> te p i \\<Longrightarrow>\n    te p i - te q i \\<le> \\<beta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> te q i \\<le> te p i \\<Longrightarrow>\n    te p i - te q i \\<le> \\<beta>", "assume \"\\<not> (te q i \\<le> te p i)\""], ["proof (state)\nthis:\n  \\<not> te q i \\<le> te p i\n\ngoal (1 subgoal):\n 1. \\<not> te q i \\<le> te p i \\<Longrightarrow>\n    te p i - te q i \\<le> \\<beta>", "from this Eq1"], ["proof (chain)\npicking this:\n  \\<not> te q i \\<le> te p i\n  \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> te q i \\<le> te p i\n  \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. te p i - te q i \\<le> \\<beta>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  te p i - te q i \\<le> \\<beta>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  te p i - te q i \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "from corr_p rts0d"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p (?i + 1) - te ?p ?i \\<le> rmax", "have \"te p (i+1) - te p i \\<le> rmax\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p (?i + 1) - te ?p ?i \\<le> rmax\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te p i \\<le> rmax", "by simp"], ["proof (state)\nthis:\n  te p (i + 1) - te p i \\<le> rmax\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "from this split Eq2"], ["proof (chain)\npicking this:\n  te p (i + 1) - te p i \\<le> rmax\n  te p (i + 1) - te q i = te p (i + 1) - te p i + (te p i - te q i)\n  te p i - te q i \\<le> \\<beta>", "show ?thesis"], ["proof (prove)\nusing this:\n  te p (i + 1) - te p i \\<le> rmax\n  te p (i + 1) - te q i = te p (i + 1) - te p i + (te p i - te q i)\n  te p i - te q i \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q i \\<le> rmax + \\<beta>", "by simp"], ["proof (state)\nthis:\n  te p (i + 1) - te q i \\<le> rmax + \\<beta>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsubsection\\<open>Bounded-drift for logical clocks (IC)\\<close>"], ["", "lemma bd:\n  assumes ie: \"s \\<le> t\"\n  and rb1: \"rho_bound1 C\"\n  and rb2: \"rho_bound2 D\"\n  and PC_ie: \"D q t - D q s \\<le> C p t - C p s\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\n  shows \"\\<bar> C p t - D q t \\<bar>  \\<le> \\<bar> C p s - D q s \\<bar> + 2*\\<rho>*(t - s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "let ?Dt = \"C p t - D q t\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "let ?Ds = \"C p s - D q s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "let ?Bp = \"C p t - C p s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "let ?Bq = \"D q t - D q s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "let ?I = \"t - s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "have \"\\<bar> ?Bp - ?Bq \\<bar> \\<le> 2*\\<rho>*(t - s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "from PC_ie"], ["proof (chain)\npicking this:\n  D q t - D q s \\<le> C p t - C p s", "have Eq1: \"\\<bar> ?Bp - ?Bq \\<bar> = ?Bp - ?Bq\""], ["proof (prove)\nusing this:\n  D q t - D q s \\<le> C p t - C p s\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> =\n    C p t - C p s - (D q t - D q s)", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> =\n  C p t - C p s - (D q t - D q s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "from corr_p ie rb1"], ["proof (chain)\npicking this:\n  correct p t\n  s \\<le> t\n  rho_bound1 C", "have Eq2: \"?Bp - ?Bq \\<le> ?I*(1+\\<rho>) - ?Bq\" (is \"?E1 \\<le> ?E2\")"], ["proof (prove)\nusing this:\n  correct p t\n  s \\<le> t\n  rho_bound1 C\n\ngoal (1 subgoal):\n 1. C p t - C p s - (D q t - D q s)\n    \\<le> (t - s) * (1 + \\<rho>) - (D q t - D q s)", "by(simp add: rho_bound1_def)"], ["proof (state)\nthis:\n  C p t - C p s - (D q t - D q s)\n  \\<le> (t - s) * (1 + \\<rho>) - (D q t - D q s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "from corr_q ie rb2"], ["proof (chain)\npicking this:\n  correct q t\n  s \\<le> t\n  rho_bound2 D", "have \"?I*(1 - \\<rho>) \\<le> ?Bq\""], ["proof (prove)\nusing this:\n  correct q t\n  s \\<le> t\n  rho_bound2 D\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> D q t - D q s", "by(simp add: rho_bound2_def)"], ["proof (state)\nthis:\n  (t - s) * (1 - \\<rho>) \\<le> D q t - D q s\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "from this"], ["proof (chain)\npicking this:\n  (t - s) * (1 - \\<rho>) \\<le> D q t - D q s", "have Eq3: \"?E2 \\<le> ?I*(1+\\<rho>) - ?I*(1 - \\<rho>)\""], ["proof (prove)\nusing this:\n  (t - s) * (1 - \\<rho>) \\<le> D q t - D q s\n\ngoal (1 subgoal):\n 1. (t - s) * (1 + \\<rho>) - (D q t - D q s)\n    \\<le> (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>)", "by(simp)"], ["proof (state)\nthis:\n  (t - s) * (1 + \\<rho>) - (D q t - D q s)\n  \\<le> (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "have Eq4: \"?I*(1+\\<rho>) - ?I*(1 - \\<rho>) = 2*\\<rho>*?I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>) = 2 * \\<rho> * (t - s)", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>) = 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "from Eq1 Eq2 Eq3 Eq4"], ["proof (chain)\npicking this:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> =\n  C p t - C p s - (D q t - D q s)\n  C p t - C p s - (D q t - D q s)\n  \\<le> (t - s) * (1 + \\<rho>) - (D q t - D q s)\n  (t - s) * (1 + \\<rho>) - (D q t - D q s)\n  \\<le> (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>)\n  (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>) = 2 * \\<rho> * (t - s)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> =\n  C p t - C p s - (D q t - D q s)\n  C p t - C p s - (D q t - D q s)\n  \\<le> (t - s) * (1 + \\<rho>) - (D q t - D q s)\n  (t - s) * (1 + \\<rho>) - (D q t - D q s)\n  \\<le> (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>)\n  (t - s) * (1 + \\<rho>) - (t - s) * (1 - \\<rho>) = 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)", "by simp"], ["proof (state)\nthis:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "moreover"], ["proof (state)\nthis:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "have \"\\<bar>?Dt\\<bar>  \\<le> \\<bar>?Bp - ?Bq\\<bar>  + \\<bar>?Ds\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p t - C p s - (D q t - D q s)\\<bar> +\n          \\<bar>C p s - D q s\\<bar>", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>C p t - D q t\\<bar>\n  \\<le> \\<bar>C p t - C p s - (D q t - D q s)\\<bar> +\n        \\<bar>C p s - D q s\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "ultimately"], ["proof (chain)\npicking this:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)\n  \\<bar>C p t - D q t\\<bar>\n  \\<le> \\<bar>C p t - C p s - (D q t - D q s)\\<bar> +\n        \\<bar>C p s - D q s\\<bar>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>C p t - C p s - (D q t - D q s)\\<bar> \\<le> 2 * \\<rho> * (t - s)\n  \\<bar>C p t - D q t\\<bar>\n  \\<le> \\<bar>C p t - C p s - (D q t - D q s)\\<bar> +\n        \\<bar>C p s - D q s\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "by simp"], ["proof (state)\nthis:\n  \\<bar>C p t - D q t\\<bar>\n  \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bounded_drift:\n  assumes ie: \"s \\<le> t\"\n  and rb1: \"rho_bound1 C\"\n  and rb2: \"rho_bound2 C\"\n  and rb3: \"rho_bound1 D\"\n  and rb4: \"rho_bound2 D\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\n  shows \"\\<bar>C p t - D q t\\<bar> \\<le> \\<bar>C p s - D q s\\<bar>  + 2*\\<rho>*(t - s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "let ?Bp = \"C p t - C p s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "let ?Bq = \"D q t - D q s\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "assume \"?Bq \\<le> ?Bp\""], ["proof (state)\nthis:\n  D q t - D q s \\<le> C p t - C p s\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "from this ie rb1 rb4 corr_p corr_q bd"], ["proof (chain)\npicking this:\n  D q t - D q s \\<le> C p t - C p s\n  s \\<le> t\n  rho_bound1 C\n  rho_bound2 D\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; rho_bound1 ?C; rho_bound2 ?D;\n   ?D ?q ?t - ?D ?q ?s \\<le> ?C ?p ?t - ?C ?p ?s; correct ?p ?t;\n   correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?C ?p ?t - ?D ?q ?t\\<bar>\n                    \\<le> \\<bar>?C ?p ?s - ?D ?q ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)", "show ?thesis"], ["proof (prove)\nusing this:\n  D q t - D q s \\<le> C p t - C p s\n  s \\<le> t\n  rho_bound1 C\n  rho_bound2 D\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; rho_bound1 ?C; rho_bound2 ?D;\n   ?D ?q ?t - ?D ?q ?s \\<le> ?C ?p ?t - ?C ?p ?s; correct ?p ?t;\n   correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?C ?p ?t - ?D ?q ?t\\<bar>\n                    \\<le> \\<bar>?C ?p ?s - ?D ?q ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "by simp"], ["proof (state)\nthis:\n  \\<bar>C p t - D q t\\<bar>\n  \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<not> D q t - D q s \\<le> C p t - C p s \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> D q t - D q s \\<le> C p t - C p s \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "assume \"\\<not> (?Bq \\<le> ?Bp)\""], ["proof (state)\nthis:\n  \\<not> D q t - D q s \\<le> C p t - C p s\n\ngoal (1 subgoal):\n 1. \\<not> D q t - D q s \\<le> C p t - C p s \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "hence \"?Bp \\<le> ?Bq\""], ["proof (prove)\nusing this:\n  \\<not> D q t - D q s \\<le> C p t - C p s\n\ngoal (1 subgoal):\n 1. C p t - C p s \\<le> D q t - D q s", "by simp"], ["proof (state)\nthis:\n  C p t - C p s \\<le> D q t - D q s\n\ngoal (1 subgoal):\n 1. \\<not> D q t - D q s \\<le> C p t - C p s \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "from this ie rb2 rb3 corr_p corr_q bd"], ["proof (chain)\npicking this:\n  C p t - C p s \\<le> D q t - D q s\n  s \\<le> t\n  rho_bound2 C\n  rho_bound1 D\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; rho_bound1 ?C; rho_bound2 ?D;\n   ?D ?q ?t - ?D ?q ?s \\<le> ?C ?p ?t - ?C ?p ?s; correct ?p ?t;\n   correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?C ?p ?t - ?D ?q ?t\\<bar>\n                    \\<le> \\<bar>?C ?p ?s - ?D ?q ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)", "have \"\\<bar>D q t - C p t\\<bar>  \\<le> \\<bar>D q s - C p s\\<bar> + 2*\\<rho>*(t - s)\""], ["proof (prove)\nusing this:\n  C p t - C p s \\<le> D q t - D q s\n  s \\<le> t\n  rho_bound2 C\n  rho_bound1 D\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; rho_bound1 ?C; rho_bound2 ?D;\n   ?D ?q ?t - ?D ?q ?s \\<le> ?C ?p ?t - ?C ?p ?s; correct ?p ?t;\n   correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?C ?p ?t - ?D ?q ?t\\<bar>\n                    \\<le> \\<bar>?C ?p ?s - ?D ?q ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)\n\ngoal (1 subgoal):\n 1. \\<bar>D q t - C p t\\<bar>\n    \\<le> \\<bar>D q s - C p s\\<bar> + 2 * \\<rho> * (t - s)", "by simp"], ["proof (state)\nthis:\n  \\<bar>D q t - C p t\\<bar>\n  \\<le> \\<bar>D q s - C p s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<not> D q t - D q s \\<le> C p t - C p s \\<Longrightarrow>\n    \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "from this"], ["proof (chain)\npicking this:\n  \\<bar>D q t - C p t\\<bar>\n  \\<le> \\<bar>D q s - C p s\\<bar> + 2 * \\<rho> * (t - s)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>D q t - C p t\\<bar>\n  \\<le> \\<bar>D q s - C p s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<bar>C p t - D q t\\<bar>\n    \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)", "by (simp add: abs_minus_commute)"], ["proof (state)\nthis:\n  \\<bar>C p t - D q t\\<bar>\n  \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>C p t - D q t\\<bar>\n  \\<le> \\<bar>C p s - D q s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Drift rate of logical clocks\\<close>"], ["", "lemma IC_rate1:\n\"rho_bound1 (\\<lambda> p t. IC p i t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "fix p::process"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "fix s::time"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "fix t::time"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "assume cp: \"correct p t\""], ["proof (state)\nthis:\n  correct p t\n\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "assume ie: \"s \\<le> t\""], ["proof (state)\nthis:\n  s \\<le> t\n\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "from cp ie correct_closed"], ["proof (chain)\npicking this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have cps: \"correct p s\""], ["proof (prove)\nusing this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct p s", "by blast"], ["proof (state)\nthis:\n  correct p s\n\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "have \"IC p i t - IC p i s \\<le> (t - s)*(1+\\<rho>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "from cp IClock"], ["proof (chain)\npicking this:\n  correct p t\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i", "have \"IC p i t = PC p t + Adj p i\""], ["proof (prove)\nusing this:\n  correct p t\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i t = PC p t + Adj p i", "by simp"], ["proof (state)\nthis:\n  IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "moreover"], ["proof (state)\nthis:\n  IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "from cps IClock"], ["proof (chain)\npicking this:\n  correct p s\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i", "have \"IC p i s = PC p s + Adj p i\""], ["proof (prove)\nusing this:\n  correct p s\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i s = PC p s + Adj p i", "by simp"], ["proof (state)\nthis:\n  IC p i s = PC p s + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "moreover"], ["proof (state)\nthis:\n  IC p i s = PC p s + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "from cp ie rate_1"], ["proof (chain)\npicking this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)", "have \"PC p t - PC p s \\<le> (t - s)*(1+\\<rho>)\""], ["proof (prove)\nusing this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)", "by simp"], ["proof (state)\nthis:\n  PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "ultimately"], ["proof (chain)\npicking this:\n  IC p i t = PC p t + Adj p i\n  IC p i s = PC p s + Adj p i\n  PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)", "show ?thesis"], ["proof (prove)\nusing this:\n  IC p i t = PC p t + Adj p i\n  IC p i s = PC p s + Adj p i\n  PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)", "by simp"], ["proof (state)\nthis:\n  IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  IC p i t - IC p i s \\<le> (t - s) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>correct ?p2 ?t2; ?s2 \\<le> ?t2\\<rbrakk>\n  \\<Longrightarrow> IC ?p2 i ?t2 - IC ?p2 i ?s2\n                    \\<le> (?t2 - ?s2) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>correct ?p2 ?t2; ?s2 \\<le> ?t2\\<rbrakk>\n  \\<Longrightarrow> IC ?p2 i ?t2 - IC ?p2 i ?s2\n                    \\<le> (?t2 - ?s2) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. rho_bound1 (\\<lambda>p. IC p i)", "by (simp add: rho_bound1_def)"], ["proof (state)\nthis:\n  rho_bound1 (\\<lambda>p. IC p i)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma IC_rate2:\n\"rho_bound2 (\\<lambda> p t. IC p i t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "fix p::process"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "fix s::time"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "fix t::time"], ["proof (state)\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "assume cp: \"correct p t\""], ["proof (state)\nthis:\n  correct p t\n\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "assume ie: \"s \\<le> t\""], ["proof (state)\nthis:\n  s \\<le> t\n\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "from cp ie correct_closed"], ["proof (chain)\npicking this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have cps: \"correct p s\""], ["proof (prove)\nusing this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct p s", "by blast"], ["proof (state)\nthis:\n  correct p s\n\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "have \"(t - s)*(1 - \\<rho>) \\<le> IC p i t - IC p i s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "from cp IClock"], ["proof (chain)\npicking this:\n  correct p t\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i", "have \"IC p i t = PC p t + Adj p i\""], ["proof (prove)\nusing this:\n  correct p t\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i t = PC p t + Adj p i", "by simp"], ["proof (state)\nthis:\n  IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "moreover"], ["proof (state)\nthis:\n  IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "from cps IClock"], ["proof (chain)\npicking this:\n  correct p s\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i", "have \"IC p i s = PC p s + Adj p i\""], ["proof (prove)\nusing this:\n  correct p s\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p i s = PC p s + Adj p i", "by simp"], ["proof (state)\nthis:\n  IC p i s = PC p s + Adj p i\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "moreover"], ["proof (state)\nthis:\n  IC p i s = PC p s + Adj p i\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "from cp ie rate_2"], ["proof (chain)\npicking this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s", "have \"(t - s)*(1-\\<rho>) \\<le> PC p t - PC p s\""], ["proof (prove)\nusing this:\n  correct p t\n  s \\<le> t\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s", "by simp"], ["proof (state)\nthis:\n  (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "ultimately"], ["proof (chain)\npicking this:\n  IC p i t = PC p t + Adj p i\n  IC p i s = PC p s + Adj p i\n  (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s", "show ?thesis"], ["proof (prove)\nusing this:\n  IC p i t = PC p t + Adj p i\n  IC p i s = PC p s + Adj p i\n  (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s\n\ngoal (1 subgoal):\n 1. (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s", "by simp"], ["proof (state)\nthis:\n  (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (t - s) * (1 - \\<rho>) \\<le> IC p i t - IC p i s\n\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>correct ?p2 ?t2; ?s2 \\<le> ?t2\\<rbrakk>\n  \\<Longrightarrow> (?t2 - ?s2) * (1 - \\<rho>)\n                    \\<le> IC ?p2 i ?t2 - IC ?p2 i ?s2\n\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>correct ?p2 ?t2; ?s2 \\<le> ?t2\\<rbrakk>\n  \\<Longrightarrow> (?t2 - ?s2) * (1 - \\<rho>)\n                    \\<le> IC ?p2 i ?t2 - IC ?p2 i ?s2\n\ngoal (1 subgoal):\n 1. rho_bound2 (\\<lambda>p. IC p i)", "by (simp add: rho_bound2_def)"], ["proof (state)\nthis:\n  rho_bound2 (\\<lambda>p. IC p i)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Auxilary function \\<open>ICf\\<close>: we introduce this to avoid some\nunification problem in some tactic of isabelle.\\<close>"], ["", "definition\n  ICf :: \"nat \\<Rightarrow> (process \\<Rightarrow> time \\<Rightarrow> Clocktime)\" where\n  \"ICf i = (\\<lambda> p t. IC p i t)\""], ["", "lemma IC_bd:\n  assumes ie: \"s \\<le> t\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\n  shows \"\\<bar>IC p i t - IC q j t\\<bar> \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2*\\<rho>*(t - s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "let ?C = \"ICf i\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "let ?D = \"ICf j\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "let ?G = \"\\<bar>?C p t - ?D q t\\<bar> \\<le> \\<bar>?C p s - ?D q s\\<bar> + 2*\\<rho>*(t - s)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "from IC_rate1"], ["proof (chain)\npicking this:\n  rho_bound1 (\\<lambda>p. IC p ?i)", "have rb1: \"rho_bound1 (ICf i) \\<and> rho_bound1 (ICf j)\""], ["proof (prove)\nusing this:\n  rho_bound1 (\\<lambda>p. IC p ?i)\n\ngoal (1 subgoal):\n 1. rho_bound1 (ICf i) \\<and> rho_bound1 (ICf j)", "by (simp add: ICf_def)"], ["proof (state)\nthis:\n  rho_bound1 (ICf i) \\<and> rho_bound1 (ICf j)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "from IC_rate2"], ["proof (chain)\npicking this:\n  rho_bound2 (\\<lambda>p. IC p ?i)", "have rb2: \"rho_bound2 (ICf i) \\<and> rho_bound2 (ICf j)\""], ["proof (prove)\nusing this:\n  rho_bound2 (\\<lambda>p. IC p ?i)\n\ngoal (1 subgoal):\n 1. rho_bound2 (ICf i) \\<and> rho_bound2 (ICf j)", "by (simp add: ICf_def)"], ["proof (state)\nthis:\n  rho_bound2 (ICf i) \\<and> rho_bound2 (ICf j)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "from ie rb1 rb2 corr_p corr_q bounded_drift"], ["proof (chain)\npicking this:\n  s \\<le> t\n  rho_bound1 (ICf i) \\<and> rho_bound1 (ICf j)\n  rho_bound2 (ICf i) \\<and> rho_bound2 (ICf j)\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; rho_bound1 ?C; rho_bound2 ?C; rho_bound1 ?D;\n   rho_bound2 ?D; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?C ?p ?t - ?D ?q ?t\\<bar>\n                    \\<le> \\<bar>?C ?p ?s - ?D ?q ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)", "have ?G"], ["proof (prove)\nusing this:\n  s \\<le> t\n  rho_bound1 (ICf i) \\<and> rho_bound1 (ICf j)\n  rho_bound2 (ICf i) \\<and> rho_bound2 (ICf j)\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; rho_bound1 ?C; rho_bound2 ?C; rho_bound1 ?D;\n   rho_bound2 ?D; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?C ?p ?t - ?D ?q ?t\\<bar>\n                    \\<le> \\<bar>?C ?p ?s - ?D ?q ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)\n\ngoal (1 subgoal):\n 1. \\<bar>ICf i p t - ICf j q t\\<bar>\n    \\<le> \\<bar>ICf i p s - ICf j q s\\<bar> + 2 * \\<rho> * (t - s)", "by simp"], ["proof (state)\nthis:\n  \\<bar>ICf i p t - ICf j q t\\<bar>\n  \\<le> \\<bar>ICf i p s - ICf j q s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "from this"], ["proof (chain)\npicking this:\n  \\<bar>ICf i p t - ICf j q t\\<bar>\n  \\<le> \\<bar>ICf i p s - ICf j q s\\<bar> + 2 * \\<rho> * (t - s)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>ICf i p t - ICf j q t\\<bar>\n  \\<le> \\<bar>ICf i p s - ICf j q s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q j t\\<bar>\n    \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)", "by (simp add: ICf_def)"], ["proof (state)\nthis:\n  \\<bar>IC p i t - IC q j t\\<bar>\n  \\<le> \\<bar>IC p i s - IC q j s\\<bar> + 2 * \\<rho> * (t - s)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma event_bound:\nassumes ie1: \"0 \\<le> (t::real)\"\nand corr_p: \"correct p t\"\nand corr_q: \"correct q t\"\nshows \"\\<exists> i. t < max (te p i) (te q i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i. t < max (te p i) (te q i)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>i. t < max (te p i) (te q i) \\<Longrightarrow> False", "assume A: \"\\<not> (\\<exists> i. t < max (te p i) (te q i))\""], ["proof (state)\nthis:\n  \\<nexists>i. t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<nexists>i. t < max (te p i) (te q i) \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "have F1: \"\\<forall> i. te p i \\<le> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i. te p i \\<le> t", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. te p i \\<le> t", "fix i :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. te p i \\<le> t", "from A"], ["proof (chain)\npicking this:\n  \\<nexists>i. t < max (te p i) (te q i)", "have \"\\<not> (t < max (te p i) (te q i))\""], ["proof (prove)\nusing this:\n  \\<nexists>i. t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<not> t < max (te p i) (te q i)", "by simp"], ["proof (state)\nthis:\n  \\<not> t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<And>i. te p i \\<le> t", "hence Eq1: \"max (te p i) (te q i) \\<le> t\""], ["proof (prove)\nusing this:\n  \\<not> t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. max (te p i) (te q i) \\<le> t", "by arith"], ["proof (state)\nthis:\n  max (te p i) (te q i) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>i. te p i \\<le> t", "have Eq2: \"te p i \\<le> max (te p i) (te q i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p i \\<le> max (te p i) (te q i)", "by (simp add: max_def)"], ["proof (state)\nthis:\n  te p i \\<le> max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<And>i. te p i \\<le> t", "from Eq1 Eq2"], ["proof (chain)\npicking this:\n  max (te p i) (te q i) \\<le> t\n  te p i \\<le> max (te p i) (te q i)", "show \"te p i \\<le> t\""], ["proof (prove)\nusing this:\n  max (te p i) (te q i) \\<le> t\n  te p i \\<le> max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. te p i \\<le> t", "by simp"], ["proof (state)\nthis:\n  te p i \\<le> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i. te p i \\<le> t\n\ngoal (1 subgoal):\n 1. False", "have F2: \"\\<forall> (i :: nat). correct p (te p i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i. correct p (te p i)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. correct p (te p i)", "fix i :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. correct p (te p i)", "from F1"], ["proof (chain)\npicking this:\n  \\<forall>i. te p i \\<le> t", "have \"te p i \\<le> t\""], ["proof (prove)\nusing this:\n  \\<forall>i. te p i \\<le> t\n\ngoal (1 subgoal):\n 1. te p i \\<le> t", "by simp"], ["proof (state)\nthis:\n  te p i \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>i. correct p (te p i)", "from this corr_p correct_closed"], ["proof (chain)\npicking this:\n  te p i \\<le> t\n  correct p t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "show \"correct p (te p i)\""], ["proof (prove)\nusing this:\n  te p i \\<le> t\n  correct p t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct p (te p i)", "by blast"], ["proof (state)\nthis:\n  correct p (te p i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i. correct p (te p i)\n\ngoal (1 subgoal):\n 1. False", "have F3: \"\\<forall> (i :: nat). real i * rmin \\<le> te p i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i. real i * rmin \\<le> te p i", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. real i * rmin \\<le> te p i", "fix i :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. real i * rmin \\<le> te p i", "show \"real i * rmin \\<le> te p i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real i * rmin \\<le> te p i", "proof (induct i)"], ["proof (state)\ngoal (2 subgoals):\n 1. real 0 * rmin \\<le> te p 0\n 2. \\<And>i.\n       real i * rmin \\<le> te p i \\<Longrightarrow>\n       real (Suc i) * rmin \\<le> te p (Suc i)", "from synch0"], ["proof (chain)\npicking this:\n  \\<forall>p. te p 0 = 0", "show \"real (0::nat) * rmin \\<le> te p 0\""], ["proof (prove)\nusing this:\n  \\<forall>p. te p 0 = 0\n\ngoal (1 subgoal):\n 1. real 0 * rmin \\<le> te p 0", "by simp"], ["proof (state)\nthis:\n  real 0 * rmin \\<le> te p 0\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       real i * rmin \\<le> te p i \\<Longrightarrow>\n       real (Suc i) * rmin \\<le> te p (Suc i)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       real i * rmin \\<le> te p i \\<Longrightarrow>\n       real (Suc i) * rmin \\<le> te p (Suc i)", "fix i :: nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       real i * rmin \\<le> te p i \\<Longrightarrow>\n       real (Suc i) * rmin \\<le> te p (Suc i)", "assume ind_hyp: \"real i * rmin \\<le> te p i\""], ["proof (state)\nthis:\n  real i * rmin \\<le> te p i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       real i * rmin \\<le> te p i \\<Longrightarrow>\n       real (Suc i) * rmin \\<le> te p (Suc i)", "show \"real (Suc i) * rmin \\<le> te p (Suc i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "have Eq1: \"real i * rmin + rmin = (real i + 1)*rmin\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real i * rmin + rmin = (real i + 1) * rmin", "by (simp add: distrib_right)"], ["proof (state)\nthis:\n  real i * rmin + rmin = (real i + 1) * rmin\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "have Eq2: \"real i + 1 = real (i+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real i + 1 = real (i + 1)", "by simp"], ["proof (state)\nthis:\n  real i + 1 = real (i + 1)\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "from Eq1 Eq2"], ["proof (chain)\npicking this:\n  real i * rmin + rmin = (real i + 1) * rmin\n  real i + 1 = real (i + 1)", "have Eq3: \"real i * rmin + rmin = real (i+1) * rmin\""], ["proof (prove)\nusing this:\n  real i * rmin + rmin = (real i + 1) * rmin\n  real i + 1 = real (i + 1)\n\ngoal (1 subgoal):\n 1. real i * rmin + rmin = real (i + 1) * rmin", "by presburger"], ["proof (state)\nthis:\n  real i * rmin + rmin = real (i + 1) * rmin\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "from F2"], ["proof (chain)\npicking this:\n  \\<forall>i. correct p (te p i)", "have cp1: \"correct p (te p (i+1))\""], ["proof (prove)\nusing this:\n  \\<forall>i. correct p (te p i)\n\ngoal (1 subgoal):\n 1. correct p (te p (i + 1))", "by simp"], ["proof (state)\nthis:\n  correct p (te p (i + 1))\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "from F2"], ["proof (chain)\npicking this:\n  \\<forall>i. correct p (te p i)", "have cp2: \"correct p (te p i)\""], ["proof (prove)\nusing this:\n  \\<forall>i. correct p (te p i)\n\ngoal (1 subgoal):\n 1. correct p (te p i)", "by simp"], ["proof (state)\nthis:\n  correct p (te p i)\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "from cp1 rts1d"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i", "have \"rmin \\<le> te p (i+1) - te p i\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i\n\ngoal (1 subgoal):\n 1. rmin \\<le> te p (i + 1) - te p i", "by simp"], ["proof (state)\nthis:\n  rmin \\<le> te p (i + 1) - te p i\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "hence Eq4: \"te p i + rmin \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  rmin \\<le> te p (i + 1) - te p i\n\ngoal (1 subgoal):\n 1. te p i + rmin \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  te p i + rmin \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "from ind_hyp"], ["proof (chain)\npicking this:\n  real i * rmin \\<le> te p i", "have \"real i * rmin + rmin \\<le> te p i + rmin\""], ["proof (prove)\nusing this:\n  real i * rmin \\<le> te p i\n\ngoal (1 subgoal):\n 1. real i * rmin + rmin \\<le> te p i + rmin", "by (simp)"], ["proof (state)\nthis:\n  real i * rmin + rmin \\<le> te p i + rmin\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "from this Eq4"], ["proof (chain)\npicking this:\n  real i * rmin + rmin \\<le> te p i + rmin\n  te p i + rmin \\<le> te p (i + 1)", "have \"real i * rmin + rmin \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  real i * rmin + rmin \\<le> te p i + rmin\n  te p i + rmin \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. real i * rmin + rmin \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  real i * rmin + rmin \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "from this Eq3"], ["proof (chain)\npicking this:\n  real i * rmin + rmin \\<le> te p (i + 1)\n  real i * rmin + rmin = real (i + 1) * rmin", "show ?thesis"], ["proof (prove)\nusing this:\n  real i * rmin + rmin \\<le> te p (i + 1)\n  real i * rmin + rmin = real (i + 1) * rmin\n\ngoal (1 subgoal):\n 1. real (Suc i) * rmin \\<le> te p (Suc i)", "by simp"], ["proof (state)\nthis:\n  real (Suc i) * rmin \\<le> te p (Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real (Suc i) * rmin \\<le> te p (Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real i * rmin \\<le> te p i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i. real i * rmin \\<le> te p i\n\ngoal (1 subgoal):\n 1. False", "have F4: \"\\<forall> (i::nat). real i * rmin \\<le> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i. real i * rmin \\<le> t", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. real i * rmin \\<le> t", "fix i::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. real i * rmin \\<le> t", "from F1"], ["proof (chain)\npicking this:\n  \\<forall>i. te p i \\<le> t", "have \"te p i \\<le> t\""], ["proof (prove)\nusing this:\n  \\<forall>i. te p i \\<le> t\n\ngoal (1 subgoal):\n 1. te p i \\<le> t", "by simp"], ["proof (state)\nthis:\n  te p i \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>i. real i * rmin \\<le> t", "moreover"], ["proof (state)\nthis:\n  te p i \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>i. real i * rmin \\<le> t", "from F3"], ["proof (chain)\npicking this:\n  \\<forall>i. real i * rmin \\<le> te p i", "have \"real i * rmin \\<le> te p i\""], ["proof (prove)\nusing this:\n  \\<forall>i. real i * rmin \\<le> te p i\n\ngoal (1 subgoal):\n 1. real i * rmin \\<le> te p i", "by simp"], ["proof (state)\nthis:\n  real i * rmin \\<le> te p i\n\ngoal (1 subgoal):\n 1. \\<And>i. real i * rmin \\<le> t", "ultimately"], ["proof (chain)\npicking this:\n  te p i \\<le> t\n  real i * rmin \\<le> te p i", "show \"real i * rmin \\<le> t\""], ["proof (prove)\nusing this:\n  te p i \\<le> t\n  real i * rmin \\<le> te p i\n\ngoal (1 subgoal):\n 1. real i * rmin \\<le> t", "by simp"], ["proof (state)\nthis:\n  real i * rmin \\<le> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i. real i * rmin \\<le> t\n\ngoal (1 subgoal):\n 1. False", "from constants_ax"], ["proof (chain)\npicking this:\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np", "have \"0 < rmin\""], ["proof (prove)\nusing this:\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np\n\ngoal (1 subgoal):\n 1. 0 < rmin", "by simp"], ["proof (state)\nthis:\n  0 < rmin\n\ngoal (1 subgoal):\n 1. False", "from this reals_Archimedean3"], ["proof (chain)\npicking this:\n  0 < rmin\n  0 < ?x \\<Longrightarrow> \\<forall>y. \\<exists>n. y < real n * ?x", "have Archi: \"\\<exists> (k::nat). t < real k * rmin\""], ["proof (prove)\nusing this:\n  0 < rmin\n  0 < ?x \\<Longrightarrow> \\<forall>y. \\<exists>n. y < real n * ?x\n\ngoal (1 subgoal):\n 1. \\<exists>k. t < real k * rmin", "by blast"], ["proof (state)\nthis:\n  \\<exists>k. t < real k * rmin\n\ngoal (1 subgoal):\n 1. False", "from Archi"], ["proof (chain)\npicking this:\n  \\<exists>k. t < real k * rmin", "obtain k::nat where C: \"t < real k * rmin\""], ["proof (prove)\nusing this:\n  \\<exists>k. t < real k * rmin\n\ngoal (1 subgoal):\n 1. (\\<And>k. t < real k * rmin \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  t < real k * rmin\n\ngoal (1 subgoal):\n 1. False", "from F4"], ["proof (chain)\npicking this:\n  \\<forall>i. real i * rmin \\<le> t", "have \"real k * rmin \\<le> t\""], ["proof (prove)\nusing this:\n  \\<forall>i. real i * rmin \\<le> t\n\ngoal (1 subgoal):\n 1. real k * rmin \\<le> t", "by simp"], ["proof (state)\nthis:\n  real k * rmin \\<le> t\n\ngoal (1 subgoal):\n 1. False", "hence notC: \"\\<not> (t < real k * rmin)\""], ["proof (prove)\nusing this:\n  real k * rmin \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < real k * rmin", "by simp"], ["proof (state)\nthis:\n  \\<not> t < real k * rmin\n\ngoal (1 subgoal):\n 1. False", "from C notC"], ["proof (chain)\npicking this:\n  t < real k * rmin\n  \\<not> t < real k * rmin", "show False"], ["proof (prove)\nusing this:\n  t < real k * rmin\n  \\<not> t < real k * rmin\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open>Agreement property\\<close>"], ["", "definition \"\\<gamma>1 x = \\<pi> (2*\\<rho>*\\<beta> + 2*\\<Lambda>) (2*\\<Lambda> + x + 2*\\<rho>*(rmax + \\<beta>))\""], ["", "definition \"\\<gamma>2 x = x + 2*\\<rho>*rmax\""], ["", "definition \"\\<gamma>3 x = \\<alpha> (2*\\<Lambda> + x + 2*\\<rho>*(rmax + \\<beta>)) + \\<Lambda> + 2*\\<rho>*\\<beta>\""], ["", "definition\n  okmaxsync :: \"[nat, Clocktime] \\<Rightarrow> bool\" where\n  \"okmaxsync i x \\<longleftrightarrow> (\\<forall> p q. correct p (max (te p i) (te q i))\n     \\<and> correct q (max (te p i) (te q i)) \\<longrightarrow>\n       \\<bar>IC p i (max (te p i) (te q i)) - IC q i (max (te p i) (te q i))\\<bar> \\<le> x)\""], ["", "definition\n  okClocks :: \"[process, process, nat] \\<Rightarrow> bool\" where\n  \"okClocks p q i \\<longleftrightarrow> (\\<forall> t. 0 \\<le> t \\<and> t < max (te p i) (te q i)\n        \\<and> correct p t \\<and> correct q t\n     \\<longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>)\""], ["", "lemma okClocks_sym:\nassumes ok_pq: \"okClocks p q i\"\nshows \"okClocks q p i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. okClocks q p i", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks q p i", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks q p i", "fix t :: time"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks q p i", "assume ie1: \"0 \\<le> t\""], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. okClocks q p i", "assume ie2: \"t < max (te q i) (te p i)\""], ["proof (state)\nthis:\n  t < max (te q i) (te p i)\n\ngoal (1 subgoal):\n 1. okClocks q p i", "assume corr_q: \"correct q t\""], ["proof (state)\nthis:\n  correct q t\n\ngoal (1 subgoal):\n 1. okClocks q p i", "assume corr_p: \"correct p t\""], ["proof (state)\nthis:\n  correct p t\n\ngoal (1 subgoal):\n 1. okClocks q p i", "have \"max (te q i) (te p i) = max (te p i) (te q i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (te q i) (te p i) = max (te p i) (te q i)", "by (simp add: max_def)"], ["proof (state)\nthis:\n  max (te q i) (te p i) = max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. okClocks q p i", "from this ok_pq ie1 ie2 corr_p corr_q"], ["proof (chain)\npicking this:\n  max (te q i) (te p i) = max (te p i) (te q i)\n  okClocks p q i\n  0 \\<le> t\n  t < max (te q i) (te p i)\n  correct p t\n  correct q t", "have \"\\<bar>VC q t - VC p t\\<bar> \\<le> \\<delta>\""], ["proof (prove)\nusing this:\n  max (te q i) (te p i) = max (te p i) (te q i)\n  okClocks p q i\n  0 \\<le> t\n  t < max (te q i) (te p i)\n  correct p t\n  correct q t\n\ngoal (1 subgoal):\n 1. \\<bar>VC q t - VC p t\\<bar> \\<le> \\<delta>", "by(simp add: abs_minus_commute okClocks_def)"], ["proof (state)\nthis:\n  \\<bar>VC q t - VC p t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks q p i", "}"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?t2; ?t2 < max (te q i) (te p i); correct q ?t2;\n   correct p ?t2\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC q ?t2 - VC p ?t2\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks q p i", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?t2; ?t2 < max (te q i) (te p i); correct q ?t2;\n   correct p ?t2\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC q ?t2 - VC p ?t2\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks q p i", "by (simp add: okClocks_def)"], ["proof (state)\nthis:\n  okClocks q p i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ICp_Suc:\nassumes corr_p: \"correct p (te p (i+1))\"\nshows \"IC p (i+1) (te p (i+1)) = cfn p (\\<theta> p (i+1)) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. IC p (i + 1) (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "using corr_p IClock"], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p (i + 1) (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "by(simp add: Adj_def)"], ["", "lemma IC_trans_inv:\nassumes ie1: \"te q (i+1) \\<le> te p (i+1)\"\nand corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i+1))\"\nshows\n\"IC q (i+1) (te p (i+1)) =\n  cfn q (\\<lambda> n. \\<theta> q (i+1) n + (PC q (te p (i+1)) - PC q (te q (i+1))))\"\n(is \"?T1 = ?T2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "let ?X = \"PC q (te p (i+1)) - PC q (te q (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "from corr_q ie1 PC_monotone"], ["proof (chain)\npicking this:\n  correct q (te p (i + 1))\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow> PC p s \\<le> PC p t", "have posX: \"0 \\<le> ?X\""], ["proof (prove)\nusing this:\n  correct q (te p (i + 1))\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow> PC p s \\<le> PC p t\n\ngoal (1 subgoal):\n 1. 0 \\<le> PC q (te p (i + 1)) - PC q (te q (i + 1))", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  0 \\<le> PC q (te p (i + 1)) - PC q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "from IClock corr_q"], ["proof (chain)\npicking this:\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n  correct q (te p (i + 1))", "have \"?T1 = cfn q (\\<theta> q (i+1)) + ?X\""], ["proof (prove)\nusing this:\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n  correct q (te p (i + 1))\n\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q (\\<theta> q (i + 1)) + (PC q (te p (i + 1)) - PC q (te q (i + 1)))", "by(simp add: Adj_def)"], ["proof (state)\nthis:\n  IC q (i + 1) (te p (i + 1)) =\n  cfn q (\\<theta> q (i + 1)) + (PC q (te p (i + 1)) - PC q (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "from this posX trans_inv"], ["proof (chain)\npicking this:\n  IC q (i + 1) (te p (i + 1)) =\n  cfn q (\\<theta> q (i + 1)) + (PC q (te p (i + 1)) - PC q (te q (i + 1)))\n  0 \\<le> PC q (te p (i + 1)) - PC q (te q (i + 1))\n  \\<forall>p f x.\n     0 \\<le> x \\<longrightarrow> cfn p (\\<lambda>y. f y + x) = cfn p f + x", "show ?thesis"], ["proof (prove)\nusing this:\n  IC q (i + 1) (te p (i + 1)) =\n  cfn q (\\<theta> q (i + 1)) + (PC q (te p (i + 1)) - PC q (te q (i + 1)))\n  0 \\<le> PC q (te p (i + 1)) - PC q (te q (i + 1))\n  \\<forall>p f x.\n     0 \\<le> x \\<longrightarrow> cfn p (\\<lambda>y. f y + x) = cfn p f + x\n\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "by simp"], ["proof (state)\nthis:\n  IC q (i + 1) (te p (i + 1)) =\n  cfn q\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma beta_rho:\nassumes ie: \"te q (i+1) \\<le> te p (i+1)\"\nand corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i+1))\"\nand corr_l: \"correct l (te p (i+1))\"\nshows \"\\<bar>(PC l (te p (i+1)) - PC l (te q (i+1))) - (te p (i+1) - te q (i+1))\\<bar> \\<le> \\<beta>*\\<rho>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "let ?X = \"(PC l (te p (i+1)) - PC l (te q (i+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "let ?D = \"te p (i+1) - te q (i+1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from ie"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)", "have posD: \"0 \\<le> ?D\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. 0 \\<le> te p (i + 1) - te q (i + 1)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> te p (i + 1) - te q (i + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from ie PC_monotone corr_l"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow> PC p s \\<le> PC p t\n  correct l (te p (i + 1))", "have posX: \"0 \\<le> ?X\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow> PC p s \\<le> PC p t\n  correct l (te p (i + 1))\n\ngoal (1 subgoal):\n 1. 0 \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  0 \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from ie corr_l rate_1"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)", "have bound1: \"?X \\<le> ?D * (1 + \\<rho>)\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     PC p t - PC p s \\<le> (t - s) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. PC l (te p (i + 1)) - PC l (te q (i + 1))\n    \\<le> (te p (i + 1) - te q (i + 1)) * (1 + \\<rho>)", "by simp"], ["proof (state)\nthis:\n  PC l (te p (i + 1)) - PC l (te q (i + 1))\n  \\<le> (te p (i + 1) - te q (i + 1)) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from ie corr_l correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tq: \"correct l (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (te q (i + 1))", "by(blast)"], ["proof (state)\nthis:\n  correct l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from ie corr_q correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct q (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_q_tq: \"correct q (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct q (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct q (te q (i + 1))", "by blast"], ["proof (state)\nthis:\n  correct q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from corr_q_tq corr_p rts2b"], ["proof (chain)\npicking this:\n  correct q (te q (i + 1))\n  correct p (te p (i + 1))\n  \\<forall>p q i.\n     correct p (te p i) \\<and> correct q (te q i) \\<longrightarrow>\n     \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>", "have \"\\<bar>?D\\<bar> \\<le> \\<beta>\""], ["proof (prove)\nusing this:\n  correct q (te q (i + 1))\n  correct p (te p (i + 1))\n  \\<forall>p q i.\n     correct p (te p i) \\<and> correct q (te q i) \\<longrightarrow>\n     \\<bar>te p i - te q i\\<bar> \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<bar>te p (i + 1) - te q (i + 1)\\<bar> \\<le> \\<beta>", "by(simp)"], ["proof (state)\nthis:\n  \\<bar>te p (i + 1) - te q (i + 1)\\<bar> \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from this constants_ax posD"], ["proof (chain)\npicking this:\n  \\<bar>te p (i + 1) - te q (i + 1)\\<bar> \\<le> \\<beta>\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np\n  0 \\<le> te p (i + 1) - te q (i + 1)", "have D_beta: \"?D*\\<rho> \\<le> \\<beta>*\\<rho>\""], ["proof (prove)\nusing this:\n  \\<bar>te p (i + 1) - te q (i + 1)\\<bar> \\<le> \\<beta>\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np\n  0 \\<le> te p (i + 1) - te q (i + 1)\n\ngoal (1 subgoal):\n 1. (te p (i + 1) - te q (i + 1)) * \\<rho> \\<le> \\<beta> * \\<rho>", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  (te p (i + 1) - te q (i + 1)) * \\<rho> \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "assume A: \"?D \\<le> ?X\""], ["proof (state)\nthis:\n  te p (i + 1) - te q (i + 1)\n  \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from posX posD A"], ["proof (chain)\npicking this:\n  0 \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n  0 \\<le> te p (i + 1) - te q (i + 1)\n  te p (i + 1) - te q (i + 1)\n  \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))", "have absEq: \"\\<bar>?X - ?D\\<bar> = ?X - ?D\""], ["proof (prove)\nusing this:\n  0 \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n  0 \\<le> te p (i + 1) - te q (i + 1)\n  te p (i + 1) - te q (i + 1)\n  \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar> =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from bound1"], ["proof (chain)\npicking this:\n  PC l (te p (i + 1)) - PC l (te q (i + 1))\n  \\<le> (te p (i + 1) - te q (i + 1)) * (1 + \\<rho>)", "have bound2: \"?X - ?D \\<le> ?D*\\<rho>\""], ["proof (prove)\nusing this:\n  PC l (te p (i + 1)) - PC l (te q (i + 1))\n  \\<le> (te p (i + 1) - te q (i + 1)) * (1 + \\<rho>)\n\ngoal (1 subgoal):\n 1. PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))\n    \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>", "by(simp add: mult.commute distrib_right)"], ["proof (state)\nthis:\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n  \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from D_beta absEq bound2"], ["proof (chain)\npicking this:\n  (te p (i + 1) - te q (i + 1)) * \\<rho> \\<le> \\<beta> * \\<rho>\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n  \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>", "show ?thesis"], ["proof (prove)\nusing this:\n  (te p (i + 1) - te q (i + 1)) * \\<rho> \\<le> \\<beta> * \\<rho>\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n  \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "by simp"], ["proof (state)\nthis:\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<not> te p (i + 1) - te q (i + 1)\n           \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> te p (i + 1) - te q (i + 1)\n           \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "assume notA: \"\\<not> (?D \\<le> ?X)\""], ["proof (state)\nthis:\n  \\<not> te p (i + 1) - te q (i + 1)\n         \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> te p (i + 1) - te q (i + 1)\n           \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from this"], ["proof (chain)\npicking this:\n  \\<not> te p (i + 1) - te q (i + 1)\n         \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))", "have absEq2: \"\\<bar>?X - ?D\\<bar> = ?D - ?X\""], ["proof (prove)\nusing this:\n  \\<not> te p (i + 1) - te q (i + 1)\n         \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar> =\n    te p (i + 1) - te q (i + 1) -\n    (PC l (te p (i + 1)) - PC l (te q (i + 1)))", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  te p (i + 1) - te q (i + 1) - (PC l (te p (i + 1)) - PC l (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<not> te p (i + 1) - te q (i + 1)\n           \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from ie corr_l rate_2"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s", "have bound3: \"?D*(1 - \\<rho>) \\<le> ?X\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t.\n     correct p t \\<and> s \\<le> t \\<longrightarrow>\n     (t - s) * (1 - \\<rho>) \\<le> PC p t - PC p s\n\ngoal (1 subgoal):\n 1. (te p (i + 1) - te q (i + 1)) * (1 - \\<rho>)\n    \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))", "by simp"], ["proof (state)\nthis:\n  (te p (i + 1) - te q (i + 1)) * (1 - \\<rho>)\n  \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> te p (i + 1) - te q (i + 1)\n           \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from this"], ["proof (chain)\npicking this:\n  (te p (i + 1) - te q (i + 1)) * (1 - \\<rho>)\n  \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))", "have \"?D - ?X \\<le> ?D*\\<rho>\""], ["proof (prove)\nusing this:\n  (te p (i + 1) - te q (i + 1)) * (1 - \\<rho>)\n  \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. te p (i + 1) - te q (i + 1) -\n    (PC l (te p (i + 1)) - PC l (te q (i + 1)))\n    \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  te p (i + 1) - te q (i + 1) - (PC l (te p (i + 1)) - PC l (te q (i + 1)))\n  \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<not> te p (i + 1) - te q (i + 1)\n           \\<le> PC l (te p (i + 1)) - PC l (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "from this absEq2 D_beta"], ["proof (chain)\npicking this:\n  te p (i + 1) - te q (i + 1) - (PC l (te p (i + 1)) - PC l (te q (i + 1)))\n  \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  te p (i + 1) - te q (i + 1) - (PC l (te p (i + 1)) - PC l (te q (i + 1)))\n  (te p (i + 1) - te q (i + 1)) * \\<rho> \\<le> \\<beta> * \\<rho>", "show ?thesis"], ["proof (prove)\nusing this:\n  te p (i + 1) - te q (i + 1) - (PC l (te p (i + 1)) - PC l (te q (i + 1)))\n  \\<le> (te p (i + 1) - te q (i + 1)) * \\<rho>\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  te p (i + 1) - te q (i + 1) - (PC l (te p (i + 1)) - PC l (te q (i + 1)))\n  (te p (i + 1) - te q (i + 1)) * \\<rho> \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "by simp"], ["proof (state)\nthis:\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>This lemma (and the next one pe-cond2) proves an assumption used\nin the precision enhancement.\\<close>"], ["", "lemma pe_cond1:\nassumes ie: \"te q (i+1) \\<le> te p (i+1)\"\nand corr_p: \"correct p (te p (i+1))\"\nand corr_q: \"correct q (te p (i + 1))\"\nand corr_l: \"correct l (te p (i+1))\"\nshows \"\\<bar>\\<theta> q (i+1) l + (PC q (te p (i+1)) - PC q (te q (i+1))) -\n           \\<theta> p (i+1) l\\<bar> \\<le> 2* \\<rho> * \\<beta> + 2*\\<Lambda>\"\n(is \"?M \\<le> ?N\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "let ?Xl = \"(PC l (te p (i+1)) - PC l (te q (i+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "let ?Xq = \"(PC q (te p (i+1)) - PC q (te q (i+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "let ?D = \"te p (i+1) - te q (i+1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "let ?T = \"\\<theta> p (i+1) l - \\<theta> q (i+1) l\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "let ?RE1 = \"\\<theta> p (i+1) l - IC l i (te p (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "let ?RE2 = \"\\<theta> q (i+1) l - IC l i (te q (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "let ?ICT = \"IC l i (te p (i+1)) - IC l i (te q (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "have \"?M = \\<bar>(?Xq - ?D) - (?T - ?D)\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar> =\n    \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1)) -\n          (\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n           (te p (i + 1) - te q (i + 1)))\\<bar>", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar> =\n  \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1)) -\n        (\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "hence Split: \"?M \\<le> \\<bar>?Xq - ?D\\<bar> + \\<bar>?T - ?D\\<bar>\""], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar> =\n  \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1)) -\n        (\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n                (te p (i + 1) - te q (i + 1))\\<bar> +\n          \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n                (te p (i + 1) - te q (i + 1))\\<bar>", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n              (te p (i + 1) - te q (i + 1))\\<bar> +\n        \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n              (te p (i + 1) - te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "from ie corr_q correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct q (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_q_tq: \"correct q (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct q (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct q (te q (i + 1))", "by(blast)"], ["proof (state)\nthis:\n  correct q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "from ie corr_l correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tq: \"correct l (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (te q (i + 1))", "by blast"], ["proof (state)\nthis:\n  correct l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "from corr_p corr_q corr_l ie beta_rho"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  correct l (te p (i + 1))\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1)); correct ?l (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>PC ?l (te ?p (?i + 1)) - PC ?l (te ?q (?i + 1)) -\n                          (te ?p (?i + 1) - te ?q (?i + 1))\\<bar>\n                    \\<le> \\<beta> * \\<rho>", "have XlD: \"\\<bar>?Xl - ?D\\<bar> \\<le> \\<beta>*\\<rho>\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  correct l (te p (i + 1))\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1)); correct ?l (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>PC ?l (te ?p (?i + 1)) - PC ?l (te ?q (?i + 1)) -\n                          (te ?p (?i + 1) - te ?q (?i + 1))\\<bar>\n                    \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "by simp"], ["proof (state)\nthis:\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "from corr_p corr_q ie beta_rho"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1)); correct ?l (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>PC ?l (te ?p (?i + 1)) - PC ?l (te ?q (?i + 1)) -\n                          (te ?p (?i + 1) - te ?q (?i + 1))\\<bar>\n                    \\<le> \\<beta> * \\<rho>", "have XqD: \"\\<bar>?Xq - ?D\\<bar> \\<le> \\<beta>*\\<rho>\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  te q (i + 1) \\<le> te p (i + 1)\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1)); correct ?l (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>PC ?l (te ?p (?i + 1)) - PC ?l (te ?q (?i + 1)) -\n                          (te ?p (?i + 1) - te ?q (?i + 1))\\<bar>\n                    \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "by simp"], ["proof (state)\nthis:\n  \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "have TD: \"\\<bar>?T - ?D\\<bar> \\<le> 2*\\<Lambda> + \\<beta>*\\<rho>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "have Eq1: \"\\<bar>?T - ?D\\<bar> = \\<bar>(?T - ?ICT) + (?ICT - ?D)\\<bar>\" (is \"?E1 = ?E2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar> =\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n          (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n           (te p (i + 1) - te q (i + 1)))\\<bar>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "have Eq2: \"?E2 \\<le> \\<bar>?T - ?ICT\\<bar> + \\<bar>?ICT - ?D\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n          (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n           (te p (i + 1) - te q (i + 1)))\\<bar>\n    \\<le> \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n                (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar> +\n          \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n                (te p (i + 1) - te q (i + 1))\\<bar>", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n              (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar> +\n        \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n              (te p (i + 1) - te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "have Eq3: \"\\<bar>?T - ?ICT\\<bar> \\<le>  \\<bar>?RE1\\<bar> + \\<bar>?RE2\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n    \\<le> \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> +\n          \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar>", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> +\n        \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "from readerror corr_p corr_l"], ["proof (chain)\npicking this:\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))", "have Eq4: \"\\<bar>?RE1\\<bar> \\<le> \\<Lambda>\""], ["proof (prove)\nusing this:\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> \\<le> \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "from corr_l_tq corr_q_tq this readerror"], ["proof (chain)\npicking this:\n  correct l (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>", "have Eq5: \"\\<bar>?RE2\\<bar> \\<le> \\<Lambda>\""], ["proof (prove)\nusing this:\n  correct l (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar> \\<le> \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar> \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "from Eq3 Eq4 Eq5"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> +\n        \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar>\n  \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar> \\<le> \\<Lambda>", "have Eq6: \"\\<bar>?T - ?ICT\\<bar> \\<le> 2*\\<Lambda>\""], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> +\n        \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar>\n  \\<bar>\\<theta> p (i + 1) l - IC l i (te p (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<bar>\\<theta> q (i + 1) l - IC l i (te q (i + 1))\\<bar> \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n    \\<le> 2 * \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n  \\<le> 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "have Eq7: \"?ICT - ?D = ?Xl - ?D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "from corr_p rte"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)", "have \"te p i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)\n\ngoal (1 subgoal):\n 1. te p i \\<le> te p (i + 1)", "by(simp)"], ["proof (state)\nthis:\n  te p i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "from this corr_l correct_closed"], ["proof (chain)\npicking this:\n  te p i \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tpi: \"correct l (te p i)\""], ["proof (prove)\nusing this:\n  te p i \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (te p i)", "by blast"], ["proof (state)\nthis:\n  correct l (te p i)\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "from corr_q_tq rte"], ["proof (chain)\npicking this:\n  correct q (te q (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)", "have \"te q i \\<le> te q (i+1)\""], ["proof (prove)\nusing this:\n  correct q (te q (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  te ?p ?i \\<le> te ?p (?i + 1)\n\ngoal (1 subgoal):\n 1. te q i \\<le> te q (i + 1)", "by simp"], ["proof (state)\nthis:\n  te q i \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "from this corr_l_tq correct_closed"], ["proof (chain)\npicking this:\n  te q i \\<le> te q (i + 1)\n  correct l (te q (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tqi: \"correct l (te q i)\""], ["proof (prove)\nusing this:\n  te q i \\<le> te q (i + 1)\n  correct l (te q (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (te q i)", "by blast"], ["proof (state)\nthis:\n  correct l (te q i)\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "from IClock corr_l"], ["proof (chain)\npicking this:\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n  correct l (te p (i + 1))", "have F1: \"IC l i (te p (i+1)) = PC l (te p (i+1)) + Adj l i\""], ["proof (prove)\nusing this:\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n  correct l (te p (i + 1))\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) = PC l (te p (i + 1)) + Adj l i", "by(simp)"], ["proof (state)\nthis:\n  IC l i (te p (i + 1)) = PC l (te p (i + 1)) + Adj l i\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "from IClock corr_l_tq"], ["proof (chain)\npicking this:\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n  correct l (te q (i + 1))", "have F2: \"IC l i (te q (i+1)) = PC l (te q (i+1)) + Adj l i\""], ["proof (prove)\nusing this:\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n  correct l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. IC l i (te q (i + 1)) = PC l (te q (i + 1)) + Adj l i", "by simp"], ["proof (state)\nthis:\n  IC l i (te q (i + 1)) = PC l (te q (i + 1)) + Adj l i\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "from F1 F2"], ["proof (chain)\npicking this:\n  IC l i (te p (i + 1)) = PC l (te p (i + 1)) + Adj l i\n  IC l i (te q (i + 1)) = PC l (te q (i + 1)) + Adj l i", "show ?thesis"], ["proof (prove)\nusing this:\n  IC l i (te p (i + 1)) = PC l (te p (i + 1)) + Adj l i\n  IC l i (te q (i + 1)) = PC l (te q (i + 1)) + Adj l i\n\ngoal (1 subgoal):\n 1. IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1)) =\n    PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n    (te p (i + 1) - te q (i + 1))", "by(simp)"], ["proof (state)\nthis:\n  IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n  (te p (i + 1) - te q (i + 1)) =\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n  (te p (i + 1) - te q (i + 1)) =\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "from this XlD"], ["proof (chain)\npicking this:\n  IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n  (te p (i + 1) - te q (i + 1)) =\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>", "have Eq8: \"\\<bar>?ICT - ?D\\<bar> \\<le> \\<beta>*\\<rho>\""], ["proof (prove)\nusing this:\n  IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n  (te p (i + 1) - te q (i + 1)) =\n  PC l (te p (i + 1)) - PC l (te q (i + 1)) - (te p (i + 1) - te q (i + 1))\n  \\<bar>PC l (te p (i + 1)) - PC l (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> \\<beta> * \\<rho>", "by arith"], ["proof (state)\nthis:\n  \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "from Eq1 Eq2 Eq6 Eq8"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n              (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar> +\n        \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n              (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n  \\<le> 2 * \\<Lambda>\n  \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (te p (i + 1) - te q (i + 1))\\<bar> =\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1))) +\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n         (te p (i + 1) - te q (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n              (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar> +\n        \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n              (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (IC l i (te p (i + 1)) - IC l i (te q (i + 1)))\\<bar>\n  \\<le> 2 * \\<Lambda>\n  \\<bar>IC l i (te p (i + 1)) - IC l i (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n          (te p (i + 1) - te q (i + 1))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "by(simp)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "from Split XqD TD"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n              (te p (i + 1) - te q (i + 1))\\<bar> +\n        \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n              (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>", "have F1: \"?M \\<le> 2* \\<beta> * \\<rho> + 2*\\<Lambda>\""], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n              (te p (i + 1) - te q (i + 1))\\<bar> +\n        \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n              (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<bar>PC q (te p (i + 1)) - PC q (te q (i + 1)) -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> \\<beta> * \\<rho>\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> q (i + 1) l -\n        (te p (i + 1) - te q (i + 1))\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<beta> * \\<rho>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<beta> * \\<rho> + 2 * \\<Lambda>", "by(simp)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> 2 * \\<beta> * \\<rho> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "have F2: \"2 * \\<rho> * \\<beta> + 2*\\<Lambda> = 2* \\<beta> * \\<rho> + 2*\\<Lambda>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * \\<rho> * \\<beta> + 2 * \\<Lambda> =\n    2 * \\<beta> * \\<rho> + 2 * \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  2 * \\<rho> * \\<beta> + 2 * \\<Lambda> =\n  2 * \\<beta> * \\<rho> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "from F1"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> 2 * \\<beta> * \\<rho> + 2 * \\<Lambda>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> 2 * \\<beta> * \\<rho> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "by (simp only: F2)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma pe_cond2:\nassumes ie: \"te m i \\<le> te l i\"\nand corr_k: \"correct k (te k (i+1))\"\nand corr_l_tk: \"correct l (te k (i+1))\"\nand corr_m_tk: \"correct m (te k (i+1))\"\nand ind_hyp: \"\\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S\"\nshows \"\\<bar>\\<theta> k (i+1) l - \\<theta> k (i+1) m\\<bar> \\<le> 2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?X = \"\\<theta> k (i+1) l - \\<theta> k (i+1) m\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?N = \"2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?D1 = \"\\<theta> k (i+1) l - IC l i (te k (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?D2 = \"\\<theta> k (i+1) m - IC m i (te k (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?ICS = \"IC l i (te k (i+1)) - IC m i (te k (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?tlm = \"te l i\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?IC = \"IC l i ?tlm - IC m i ?tlm\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "have Eq1: \"\\<bar>?X\\<bar> = \\<bar>(?D1 - ?D2) + ?ICS\\<bar>\" (is \"?E1 = ?E2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar> =\n    \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n          (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n          (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar> =\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n        (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "have Eq2: \"?E2 \\<le> \\<bar>?D1 - ?D2\\<bar> + \\<bar>?ICS\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n          (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n          (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>\n    \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n                (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar> +\n          \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n        (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n              (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar> +\n        \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_l_tk corr_k beta_bound1"], ["proof (chain)\npicking this:\n  correct l (te k (i + 1))\n  correct k (te k (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have ie_lk: \"te l i \\<le> te k (i+1)\""], ["proof (prove)\nusing this:\n  correct l (te k (i + 1))\n  correct k (te k (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te l i \\<le> te k (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te l i \\<le> te k (i + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this corr_l_tk correct_closed"], ["proof (chain)\npicking this:\n  te l i \\<le> te k (i + 1)\n  correct l (te k (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l: \"correct l (te l i)\""], ["proof (prove)\nusing this:\n  te l i \\<le> te k (i + 1)\n  correct l (te k (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (te l i)", "by blast"], ["proof (state)\nthis:\n  correct l (te l i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from ie_lk corr_l_tk corr_m_tk IC_bd"], ["proof (chain)\npicking this:\n  te l i \\<le> te k (i + 1)\n  correct l (te k (i + 1))\n  correct m (te k (i + 1))\n  \\<lbrakk>?s \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p ?i ?t - IC ?q ?j ?t\\<bar>\n                    \\<le> \\<bar>IC ?p ?i ?s - IC ?q ?j ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)", "have Eq3: \"\\<bar>?ICS\\<bar> \\<le> \\<bar>?IC\\<bar> + 2*\\<rho>*(te k (i+1) - ?tlm)\""], ["proof (prove)\nusing this:\n  te l i \\<le> te k (i + 1)\n  correct l (te k (i + 1))\n  correct m (te k (i + 1))\n  \\<lbrakk>?s \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p ?i ?t - IC ?q ?j ?t\\<bar>\n                    \\<le> \\<bar>IC ?p ?i ?s - IC ?q ?j ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n    \\<le> \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> +\n          2 * \\<rho> * (te k (i + 1) - te l i)", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> +\n        2 * \\<rho> * (te k (i + 1) - te l i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this ind_hyp"], ["proof (chain)\npicking this:\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> +\n        2 * \\<rho> * (te k (i + 1) - te l i)\n  \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S", "have Eq4: \"\\<bar>?ICS\\<bar> \\<le> \\<delta>S + 2*\\<rho>*(te k (i+1) - ?tlm)\""], ["proof (prove)\nusing this:\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> +\n        2 * \\<rho> * (te k (i + 1) - te l i)\n  \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n    \\<le> \\<delta>S + 2 * \\<rho> * (te k (i + 1) - te l i)", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (te k (i + 1) - te l i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_l corr_k beta_bound2"], ["proof (chain)\npicking this:\n  correct l (te l i)\n  correct k (te k (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?q ?i)\\<rbrakk>\n  \\<Longrightarrow> te ?p (?i + 1) - te ?q ?i \\<le> rmax + \\<beta>", "have \"te k (i+1) - ?tlm \\<le> rmax + \\<beta>\""], ["proof (prove)\nusing this:\n  correct l (te l i)\n  correct k (te k (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?q ?i)\\<rbrakk>\n  \\<Longrightarrow> te ?p (?i + 1) - te ?q ?i \\<le> rmax + \\<beta>\n\ngoal (1 subgoal):\n 1. te k (i + 1) - te l i \\<le> rmax + \\<beta>", "by simp"], ["proof (state)\nthis:\n  te k (i + 1) - te l i \\<le> rmax + \\<beta>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this constants_ax"], ["proof (chain)\npicking this:\n  te k (i + 1) - te l i \\<le> rmax + \\<beta>\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np", "have \"2*\\<rho>*(te k (i+1) - ?tlm) \\<le> 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (prove)\nusing this:\n  te k (i + 1) - te l i \\<le> rmax + \\<beta>\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np\n\ngoal (1 subgoal):\n 1. 2 * \\<rho> * (te k (i + 1) - te l i) \\<le> 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  2 * \\<rho> * (te k (i + 1) - te l i) \\<le> 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this Eq4"], ["proof (chain)\npicking this:\n  2 * \\<rho> * (te k (i + 1) - te l i) \\<le> 2 * \\<rho> * (rmax + \\<beta>)\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (te k (i + 1) - te l i)", "have Eq4a: \"\\<bar>?ICS\\<bar> \\<le> \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (prove)\nusing this:\n  2 * \\<rho> * (te k (i + 1) - te l i) \\<le> 2 * \\<rho> * (rmax + \\<beta>)\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (te k (i + 1) - te l i)\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n    \\<le> \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_k corr_l_tk readerror"], ["proof (chain)\npicking this:\n  correct k (te k (i + 1))\n  correct l (te k (i + 1))\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>", "have Eq5: \"\\<bar>?D1\\<bar> \\<le> \\<Lambda>\""], ["proof (prove)\nusing this:\n  correct k (te k (i + 1))\n  correct l (te k (i + 1))\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> \\<le> \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_k corr_m_tk readerror"], ["proof (chain)\npicking this:\n  correct k (te k (i + 1))\n  correct m (te k (i + 1))\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>", "have Eq6: \"\\<bar>?D2\\<bar> \\<le> \\<Lambda>\""], ["proof (prove)\nusing this:\n  correct k (te k (i + 1))\n  correct m (te k (i + 1))\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar> \\<le> \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar> \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "have \"\\<bar>?D1 - ?D2\\<bar> \\<le> \\<bar>?D1\\<bar> + \\<bar>?D2\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n          (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n    \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> +\n          \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> +\n        \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this Eq5 Eq6"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> +\n        \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar>\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar> \\<le> \\<Lambda>", "have Eq7: \"\\<bar>?D1 - ?D2\\<bar> \\<le> 2*\\<Lambda>\""], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> +\n        \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar>\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<bar>\\<theta> k (i + 1) m - IC m i (te k (i + 1))\\<bar> \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n          (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n    \\<le> 2 * \\<Lambda>", "by (simp)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n  \\<le> 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from Eq1 Eq2 Eq4a Eq7 split"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar> =\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n        (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n        (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n              (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar> +\n        \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n  \\<le> 2 * \\<Lambda>\n  (case (?a, ?b) of (c, d) \\<Rightarrow> ?f c d) = ?f ?a ?b", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar> =\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n        (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1))) +\n        (IC l i (te k (i + 1)) - IC m i (te k (i + 1)))\\<bar>\n  \\<le> \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n              (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar> +\n        \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<bar>IC l i (te k (i + 1)) - IC m i (te k (i + 1))\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n  \\<bar>\\<theta> k (i + 1) l - IC l i (te k (i + 1)) -\n        (\\<theta> k (i + 1) m - IC m i (te k (i + 1)))\\<bar>\n  \\<le> 2 * \\<Lambda>\n  (case (?a, ?b) of (c, d) \\<Rightarrow> ?f c d) = ?f ?a ?b\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by (simp)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> k (i + 1) l - \\<theta> k (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma theta_bound:\nassumes corr_l: \"correct l (te p (i+1))\"\nand corr_m: \"correct m (te p (i+1))\"\nand corr_p: \"correct p (te p (i+1))\"\nand IC_bound:\n    \"\\<bar>IC l i (max (te l i) (te m i)) - IC m i (max (te l i) (te m i))\\<bar>\n      \\<le> \\<delta>S\"\nshows \"\\<bar>\\<theta> p (i+1) l - \\<theta> p (i+1) m\\<bar>\n       \\<le>  2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_p corr_l beta_bound1"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have tli_le_tp: \"te l i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te l i \\<le> te p (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te l i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_p corr_m beta_bound1"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have tmi_le_tp: \"te m i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te m i \\<le> te p (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te m i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?tml = \"max (te l i) (te m i)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tli_le_tp tmi_le_tp"], ["proof (chain)\npicking this:\n  te l i \\<le> te p (i + 1)\n  te m i \\<le> te p (i + 1)", "have tml_le_tp: \"?tml \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  te l i \\<le> te p (i + 1)\n  te m i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tml_le_tp corr_l correct_closed"], ["proof (chain)\npicking this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tml: \"correct l ?tml\""], ["proof (prove)\nusing this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (max (te l i) (te m i))", "by blast"], ["proof (state)\nthis:\n  correct l (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tml_le_tp corr_m correct_closed"], ["proof (chain)\npicking this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_m_tml: \"correct m ?tml\""], ["proof (prove)\nusing this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct m (max (te l i) (te m i))", "by blast"], ["proof (state)\nthis:\n  correct m (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?Y = \"2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "show \"\\<bar>\\<theta> p (i+1) l - \\<theta> p (i+1) m\\<bar> \\<le> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume A: \"te m i < te l i\""], ["proof (state)\nthis:\n  te m i < te l i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this IC_bound"], ["proof (chain)\npicking this:\n  te m i < te l i\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S", "have \"\\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  te m i < te l i\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S", "by(simp add: max_def)"], ["proof (state)\nthis:\n  \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this A corr_p corr_l corr_m pe_cond2"], ["proof (chain)\npicking this:\n  \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S\n  te m i < te l i\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>te ?m ?i \\<le> te ?l ?i; correct ?k (te ?k (?i + 1));\n   correct ?l (te ?k (?i + 1)); correct ?m (te ?k (?i + 1));\n   \\<bar>IC ?l ?i (te ?l ?i) - IC ?m ?i (te ?l ?i)\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?k (?i + 1) ?l -\n                          \\<theta> ?k (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>IC l i (te l i) - IC m i (te l i)\\<bar> \\<le> \\<delta>S\n  te m i < te l i\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>te ?m ?i \\<le> te ?l ?i; correct ?k (te ?k (?i + 1));\n   correct ?l (te ?k (?i + 1)); correct ?m (te ?k (?i + 1));\n   \\<bar>IC ?l ?i (te ?l ?i) - IC ?m ?i (te ?l ?i)\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?k (?i + 1) ?l -\n                          \\<theta> ?k (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by(simp)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<not> te m i < te l i \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> te m i < te l i \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume \"\\<not> (te m i < te l i)\""], ["proof (state)\nthis:\n  \\<not> te m i < te l i\n\ngoal (1 subgoal):\n 1. \\<not> te m i < te l i \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "hence Eq1: \"te l i \\<le> te m i\""], ["proof (prove)\nusing this:\n  \\<not> te m i < te l i\n\ngoal (1 subgoal):\n 1. te l i \\<le> te m i", "by simp"], ["proof (state)\nthis:\n  te l i \\<le> te m i\n\ngoal (1 subgoal):\n 1. \\<not> te m i < te l i \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this IC_bound"], ["proof (chain)\npicking this:\n  te l i \\<le> te m i\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S", "have Eq2: \"\\<bar>IC l i (te m i) - IC m i (te m i)\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  te l i \\<le> te m i\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (te m i) - IC m i (te m i)\\<bar> \\<le> \\<delta>S", "by(simp add: max_def)"], ["proof (state)\nthis:\n  \\<bar>IC l i (te m i) - IC m i (te m i)\\<bar> \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<not> te m i < te l i \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "hence \"\\<bar>IC m i (te m i) - IC l i (te m i)\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  \\<bar>IC l i (te m i) - IC m i (te m i)\\<bar> \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC m i (te m i) - IC l i (te m i)\\<bar> \\<le> \\<delta>S", "by (simp add: abs_minus_commute)"], ["proof (state)\nthis:\n  \\<bar>IC m i (te m i) - IC l i (te m i)\\<bar> \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<not> te m i < te l i \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this Eq1 corr_p corr_l corr_m pe_cond2"], ["proof (chain)\npicking this:\n  \\<bar>IC m i (te m i) - IC l i (te m i)\\<bar> \\<le> \\<delta>S\n  te l i \\<le> te m i\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>te ?m ?i \\<le> te ?l ?i; correct ?k (te ?k (?i + 1));\n   correct ?l (te ?k (?i + 1)); correct ?m (te ?k (?i + 1));\n   \\<bar>IC ?l ?i (te ?l ?i) - IC ?m ?i (te ?l ?i)\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?k (?i + 1) ?l -\n                          \\<theta> ?k (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)", "have \"\\<bar>\\<theta> p (i+1) m - \\<theta> p (i+1) l\\<bar> \\<le> ?Y\""], ["proof (prove)\nusing this:\n  \\<bar>IC m i (te m i) - IC l i (te m i)\\<bar> \\<le> \\<delta>S\n  te l i \\<le> te m i\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>te ?m ?i \\<le> te ?l ?i; correct ?k (te ?k (?i + 1));\n   correct ?l (te ?k (?i + 1)); correct ?m (te ?k (?i + 1));\n   \\<bar>IC ?l ?i (te ?l ?i) - IC ?m ?i (te ?l ?i)\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?k (?i + 1) ?l -\n                          \\<theta> ?k (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) m - \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by(simp)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) m - \\<theta> p (i + 1) l\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<not> te m i < te l i \\<Longrightarrow>\n    \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> p (i + 1) m - \\<theta> p (i + 1) l\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by (simp add: abs_minus_commute)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma four_one_ind_half:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ind_hyp: \"okmaxsync i \\<delta>S\"\n  and ie4: \"te q (i+1) \\<le> te p (i+1)\"\n  and corr_p: \"correct p (te p (i+1))\"\n  and corr_q: \"correct q (te p (i+1))\"\nshows \"\\<bar>IC p (i+1) (te p (i+1)) - IC q (i+1) (te p (i+1))\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "let ?tpq = \"te p (i+1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "let ?f = \"\\<lambda> n. \\<theta> q (i+1) n + (PC q (te p (i+1)) - PC q (te q (i+1)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "let ?g = \"\\<theta> p (i+1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "from ie4 corr_q correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct q (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_q_tq: \"correct q (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct q (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct q (te q (i + 1))", "by blast"], ["proof (state)\nthis:\n  correct q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "have Eq_IC_cfn: \"\\<bar>IC p (i+1) ?tpq - IC q (i+1) ?tpq\\<bar> =\n    \\<bar>cfn q ?f - cfn p ?g\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n    \\<bar>cfn q\n           (\\<lambda>n.\n               \\<theta> q (i + 1) n +\n               (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n          cfn p (\\<theta> p (i + 1))\\<bar>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n    \\<bar>cfn q\n           (\\<lambda>n.\n               \\<theta> q (i + 1) n +\n               (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n          cfn p (\\<theta> p (i + 1))\\<bar>", "from corr_p ICp_Suc"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  IC ?p (?i + 1) (te ?p (?i + 1)) = cfn ?p (\\<theta> ?p (?i + 1))", "have Eq1: \"IC p (i+1) ?tpq = cfn p ?g\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  IC ?p (?i + 1) (te ?p (?i + 1)) = cfn ?p (\\<theta> ?p (?i + 1))\n\ngoal (1 subgoal):\n 1. IC p (i + 1) (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "by simp"], ["proof (state)\nthis:\n  IC p (i + 1) (te p (i + 1)) = cfn p (\\<theta> p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n    \\<bar>cfn q\n           (\\<lambda>n.\n               \\<theta> q (i + 1) n +\n               (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n          cfn p (\\<theta> p (i + 1))\\<bar>", "from ie4 corr_p corr_q IC_trans_inv"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> IC ?q (?i + 1) (te ?p (?i + 1)) =\n                    cfn ?q\n                     (\\<lambda>n.\n                         \\<theta> ?q (?i + 1) n +\n                         (PC ?q (te ?p (?i + 1)) - PC ?q (te ?q (?i + 1))))", "have Eq2: \"IC q (i+1) ?tpq = cfn q ?f\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> IC ?q (?i + 1) (te ?p (?i + 1)) =\n                    cfn ?q\n                     (\\<lambda>n.\n                         \\<theta> ?q (?i + 1) n +\n                         (PC ?q (te ?p (?i + 1)) - PC ?q (te ?q (?i + 1))))\n\ngoal (1 subgoal):\n 1. IC q (i + 1) (te p (i + 1)) =\n    cfn q\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "by simp"], ["proof (state)\nthis:\n  IC q (i + 1) (te p (i + 1)) =\n  cfn q\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n    \\<bar>cfn q\n           (\\<lambda>n.\n               \\<theta> q (i + 1) n +\n               (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n          cfn p (\\<theta> p (i + 1))\\<bar>", "from Eq1 Eq2"], ["proof (chain)\npicking this:\n  IC p (i + 1) (te p (i + 1)) = cfn p (\\<theta> p (i + 1))\n  IC q (i + 1) (te p (i + 1)) =\n  cfn q\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))", "show ?thesis"], ["proof (prove)\nusing this:\n  IC p (i + 1) (te p (i + 1)) = cfn p (\\<theta> p (i + 1))\n  IC q (i + 1) (te p (i + 1)) =\n  cfn q\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n    \\<bar>cfn q\n           (\\<lambda>n.\n               \\<theta> q (i + 1) n +\n               (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n          cfn p (\\<theta> p (i + 1))\\<bar>", "by(simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "let ?ppred = \"\\<lambda> l. correct l (te p (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "let ?X = \"2*\\<rho>*\\<beta> + 2*\\<Lambda>\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "have \"\\<forall> l. ?ppred l \\<longrightarrow> \\<bar>?f l - ?g l\\<bar> \\<le> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "fix l"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "assume \"?ppred l\""], ["proof (state)\nthis:\n  correct l (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "from ie4 corr_p corr_q this pe_cond1"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1)); correct ?l (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?q (?i + 1) ?l +\n                          (PC ?q (te ?p (?i + 1)) -\n                           PC ?q (te ?q (?i + 1))) -\n                          \\<theta> ?p (?i + 1) ?l\\<bar>\n                    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "have \"\\<bar>?f l - ?g l\\<bar> \\<le> (2*\\<rho>*\\<beta> + 2*\\<Lambda>)\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1)); correct ?l (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?q (?i + 1) ?l +\n                          (PC ?q (te ?p (?i + 1)) -\n                           PC ?q (te ?q (?i + 1))) -\n                          \\<theta> ?p (?i + 1) ?l\\<bar>\n                    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          \\<theta> p (i + 1) l\\<bar>\n    \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "by(auto)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) l\\<bar>\n  \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "}"], ["proof (state)\nthis:\n  correct ?l2 (te p (i + 1)) \\<Longrightarrow>\n  \\<bar>\\<theta> q (i + 1) ?l2 +\n        (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) ?l2\\<bar>\n  \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "thus ?thesis"], ["proof (prove)\nusing this:\n  correct ?l2 (te p (i + 1)) \\<Longrightarrow>\n  \\<bar>\\<theta> q (i + 1) ?l2 +\n        (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        \\<theta> p (i + 1) ?l2\\<bar>\n  \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<forall>l.\n       correct l (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             \\<theta> p (i + 1) l\\<bar>\n       \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>", "by blast"], ["proof (state)\nthis:\n  \\<forall>l.\n     correct l (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n           \\<theta> p (i + 1) l\\<bar>\n     \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>l.\n     correct l (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n           \\<theta> p (i + 1) l\\<bar>\n     \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "hence cond1: \"okRead2 ?f ?g ?X ?ppred\""], ["proof (prove)\nusing this:\n  \\<forall>l.\n     correct l (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n           \\<theta> p (i + 1) l\\<bar>\n     \\<le> 2 * \\<rho> * \\<beta> + 2 * \\<Lambda>\n\ngoal (1 subgoal):\n 1. okRead2\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n     (\\<theta> p (i + 1)) (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n     (\\<lambda>l. correct l (te p (i + 1)))", "by(simp add: okRead2_def)"], ["proof (state)\nthis:\n  okRead2\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n   (\\<theta> p (i + 1)) (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n   (\\<lambda>l. correct l (te p (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "let ?Y = \"2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "have \"\\<forall> l m. ?ppred l \\<and> ?ppred m \\<longrightarrow> \\<bar>?f l - ?f m\\<bar> \\<le> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "fix l m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume corr_l: \"?ppred l\""], ["proof (state)\nthis:\n  correct l (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume corr_m: \"?ppred m\""], ["proof (state)\nthis:\n  correct m (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_p corr_l beta_bound1"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have tli_le_tp: \"te l i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te l i \\<le> te p (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te l i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_p corr_m beta_bound1"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have tmi_le_tp: \"te m i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te m i \\<le> te p (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te m i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?tlm = \"max (te l i) (te m i)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tli_le_tp tmi_le_tp"], ["proof (chain)\npicking this:\n  te l i \\<le> te p (i + 1)\n  te m i \\<le> te p (i + 1)", "have tlm_le_tp: \"?tlm \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  te l i \\<le> te p (i + 1)\n  te m i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from ie4 corr_l correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tq: \"correct l (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (te q (i + 1))", "by blast"], ["proof (state)\nthis:\n  correct l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from ie4 corr_m correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_m_tq: \"correct m (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct m (te q (i + 1))", "by blast"], ["proof (state)\nthis:\n  correct m (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tlm_le_tp corr_l correct_closed"], ["proof (chain)\npicking this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tlm: \"correct l ?tlm\""], ["proof (prove)\nusing this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (max (te l i) (te m i))", "by blast"], ["proof (state)\nthis:\n  correct l (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tlm_le_tp corr_m correct_closed"], ["proof (chain)\npicking this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_m_tlm: \"correct m ?tlm\""], ["proof (prove)\nusing this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct m (max (te l i) (te m i))", "by blast"], ["proof (state)\nthis:\n  correct m (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from ind_hyp corr_l_tlm corr_m_tlm"], ["proof (chain)\npicking this:\n  okmaxsync i \\<delta>S\n  correct l (max (te l i) (te m i))\n  correct m (max (te l i) (te m i))", "have EqAbs1: \"\\<bar>IC l i ?tlm - IC m i ?tlm\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  okmaxsync i \\<delta>S\n  correct l (max (te l i) (te m i))\n  correct m (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (max (te l i) (te m i)) -\n          IC m i (max (te l i) (te m i))\\<bar>\n    \\<le> \\<delta>S", "by(auto simp add: okmaxsync_def)"], ["proof (state)\nthis:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "have EqAbs3: \"\\<bar>?f l - ?f m\\<bar> = \\<bar>\\<theta> q (i+1) l - \\<theta> q (i+1) m\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          (\\<theta> q (i + 1) m +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar> =\n    \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        (\\<theta> q (i + 1) m +\n         (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar> =\n  \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from EqAbs1 corr_q_tq corr_l_tq corr_m_tq theta_bound"], ["proof (chain)\npicking this:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n  correct q (te q (i + 1))\n  correct l (te q (i + 1))\n  correct m (te q (i + 1))\n  \\<lbrakk>correct ?l (te ?p (?i + 1)); correct ?m (te ?p (?i + 1));\n   correct ?p (te ?p (?i + 1));\n   \\<bar>IC ?l ?i (max (te ?l ?i) (te ?m ?i)) -\n         IC ?m ?i (max (te ?l ?i) (te ?m ?i))\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?p (?i + 1) ?l -\n                          \\<theta> ?p (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)", "have \"\\<bar>\\<theta> q (i+1) l - \\<theta> q (i+1) m\\<bar> \\<le> ?Y\""], ["proof (prove)\nusing this:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n  correct q (te q (i + 1))\n  correct l (te q (i + 1))\n  correct m (te q (i + 1))\n  \\<lbrakk>correct ?l (te ?p (?i + 1)); correct ?m (te ?p (?i + 1));\n   correct ?p (te ?p (?i + 1));\n   \\<bar>IC ?l ?i (max (te ?l ?i) (te ?m ?i)) -\n         IC ?m ?i (max (te ?l ?i) (te ?m ?i))\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?p (?i + 1) ?l -\n                          \\<theta> ?p (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this EqAbs3"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        (\\<theta> q (i + 1) m +\n         (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar> =\n  \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>", "have \"\\<bar>?f l - ?f m\\<bar> \\<le> ?Y\""], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        (\\<theta> q (i + 1) m +\n         (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar> =\n  \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l +\n          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n          (\\<theta> q (i + 1) m +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l + (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n        (\\<theta> q (i + 1) m +\n         (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>correct ?l2 (te p (i + 1)); correct ?m2 (te p (i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> q (i + 1) ?l2 +\n                          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n                          (\\<theta> q (i + 1) ?m2 +\n                           (PC q (te p (i + 1)) -\n                            PC q (te q (i + 1))))\\<bar>\n                    \\<le> 2 * \\<Lambda> + \\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>correct ?l2 (te p (i + 1)); correct ?m2 (te p (i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> q (i + 1) ?l2 +\n                          (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n                          (\\<theta> q (i + 1) ?m2 +\n                           (PC q (te p (i + 1)) -\n                            PC q (te q (i + 1))))\\<bar>\n                    \\<le> 2 * \\<Lambda> + \\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n             (\\<theta> q (i + 1) m +\n              (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  \\<forall>l m.\n     correct l (te p (i + 1)) \\<and>\n     correct m (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n           (\\<theta> q (i + 1) m +\n            (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>l m.\n     correct l (te p (i + 1)) \\<and>\n     correct m (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n           (\\<theta> q (i + 1) m +\n            (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "hence cond2a: \"okRead1 ?f ?Y ?ppred\""], ["proof (prove)\nusing this:\n  \\<forall>l m.\n     correct l (te p (i + 1)) \\<and>\n     correct m (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l +\n           (PC q (te p (i + 1)) - PC q (te q (i + 1))) -\n           (\\<theta> q (i + 1) m +\n            (PC q (te p (i + 1)) - PC q (te q (i + 1))))\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. okRead1\n     (\\<lambda>n.\n         \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n     (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n     (\\<lambda>l. correct l (te p (i + 1)))", "by (simp add: okRead1_def)"], ["proof (state)\nthis:\n  okRead1\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te p (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "have \"\\<forall> l m. ?ppred l \\<and> ?ppred m \\<longrightarrow> \\<bar>?g l - ?g m\\<bar> \\<le> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "fix l m"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume corr_l: \"?ppred l\""], ["proof (state)\nthis:\n  correct l (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume corr_m: \"?ppred m\""], ["proof (state)\nthis:\n  correct m (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_p corr_l beta_bound1"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have tli_le_tp: \"te l i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te l i \\<le> te p (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te l i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from corr_p corr_m beta_bound1"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have tmi_le_tp: \"te m i \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te m i \\<le> te p (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te m i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?tlm = \"max (te l i) (te m i)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tli_le_tp tmi_le_tp"], ["proof (chain)\npicking this:\n  te l i \\<le> te p (i + 1)\n  te m i \\<le> te p (i + 1)", "have tlm_le_tp: \"?tlm \\<le> te p (i+1)\""], ["proof (prove)\nusing this:\n  te l i \\<le> te p (i + 1)\n  te m i \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tlm_le_tp corr_l correct_closed"], ["proof (chain)\npicking this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_l_tlm: \"correct l ?tlm\""], ["proof (prove)\nusing this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct l (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (max (te l i) (te m i))", "by blast"], ["proof (state)\nthis:\n  correct l (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tlm_le_tp corr_m correct_closed"], ["proof (chain)\npicking this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_m_tlm: \"correct m ?tlm\""], ["proof (prove)\nusing this:\n  max (te l i) (te m i) \\<le> te p (i + 1)\n  correct m (te p (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct m (max (te l i) (te m i))", "by blast"], ["proof (state)\nthis:\n  correct m (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from ind_hyp corr_l_tlm corr_m_tlm"], ["proof (chain)\npicking this:\n  okmaxsync i \\<delta>S\n  correct l (max (te l i) (te m i))\n  correct m (max (te l i) (te m i))", "have EqAbs1: \"\\<bar>IC l i ?tlm - IC m i ?tlm\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  okmaxsync i \\<delta>S\n  correct l (max (te l i) (te m i))\n  correct m (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (max (te l i) (te m i)) -\n          IC m i (max (te l i) (te m i))\\<bar>\n    \\<le> \\<delta>S", "by(auto simp add: okmaxsync_def)"], ["proof (state)\nthis:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from EqAbs1 corr_p corr_l corr_m theta_bound"], ["proof (chain)\npicking this:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?l (te ?p (?i + 1)); correct ?m (te ?p (?i + 1));\n   correct ?p (te ?p (?i + 1));\n   \\<bar>IC ?l ?i (max (te ?l ?i) (te ?m ?i)) -\n         IC ?m ?i (max (te ?l ?i) (te ?m ?i))\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?p (?i + 1) ?l -\n                          \\<theta> ?p (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)", "have \"\\<bar>?g l - ?g m\\<bar> \\<le> ?Y\""], ["proof (prove)\nusing this:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n  correct p (te p (i + 1))\n  correct l (te p (i + 1))\n  correct m (te p (i + 1))\n  \\<lbrakk>correct ?l (te ?p (?i + 1)); correct ?m (te ?p (?i + 1));\n   correct ?p (te ?p (?i + 1));\n   \\<bar>IC ?l ?i (max (te ?l ?i) (te ?m ?i)) -\n         IC ?m ?i (max (te ?l ?i) (te ?m ?i))\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?p (?i + 1) ?l -\n                          \\<theta> ?p (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>correct ?l2 (te p (i + 1)); correct ?m2 (te p (i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> p (i + 1) ?l2 -\n                          \\<theta> p (i + 1) ?m2\\<bar>\n                    \\<le> 2 * \\<Lambda> + \\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>correct ?l2 (te p (i + 1)); correct ?m2 (te p (i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> p (i + 1) ?l2 -\n                          \\<theta> p (i + 1) ?m2\\<bar>\n                    \\<le> 2 * \\<Lambda> + \\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te p (i + 1)) \\<and>\n       correct m (te p (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  \\<forall>l m.\n     correct l (te p (i + 1)) \\<and>\n     correct m (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>l m.\n     correct l (te p (i + 1)) \\<and>\n     correct m (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "hence cond2b: \"okRead1 ?g ?Y ?ppred\""], ["proof (prove)\nusing this:\n  \\<forall>l m.\n     correct l (te p (i + 1)) \\<and>\n     correct m (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) l - \\<theta> p (i + 1) m\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. okRead1 (\\<theta> p (i + 1))\n     (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n     (\\<lambda>l. correct l (te p (i + 1)))", "by (simp add: okRead1_def)"], ["proof (state)\nthis:\n  okRead1 (\\<theta> p (i + 1))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te p (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "from correct_count"], ["proof (chain)\npicking this:\n  \\<forall>t. np - maxfaults \\<le> count (\\<lambda>p. correct p t) np", "have \"np - maxfaults \\<le> count ?ppred np\""], ["proof (prove)\nusing this:\n  \\<forall>t. np - maxfaults \\<le> count (\\<lambda>p. correct p t) np\n\ngoal (1 subgoal):\n 1. np - maxfaults \\<le> count (\\<lambda>l. correct l (te p (i + 1))) np", "by simp"], ["proof (state)\nthis:\n  np - maxfaults \\<le> count (\\<lambda>l. correct l (te p (i + 1))) np\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "from this corr_p corr_q cond1 cond2a cond2b prec_enh"], ["proof (chain)\npicking this:\n  np - maxfaults \\<le> count (\\<lambda>l. correct l (te p (i + 1))) np\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  okRead2\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n   (\\<theta> p (i + 1)) (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n   (\\<lambda>l. correct l (te p (i + 1)))\n  okRead1\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te p (i + 1)))\n  okRead1 (\\<theta> p (i + 1))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te p (i + 1)))\n  \\<forall>ppred p q f g x y.\n     np - maxfaults \\<le> count ppred np \\<and>\n     okRead1 f y ppred \\<and>\n     okRead1 g y ppred \\<and>\n     okRead2 f g x ppred \\<and> ppred p \\<and> ppred q \\<longrightarrow>\n     \\<bar>cfn p f - cfn q g\\<bar> \\<le> \\<pi> x y", "have \"\\<bar>cfn q ?f - cfn p ?g\\<bar> \\<le> \\<pi> ?X ?Y\""], ["proof (prove)\nusing this:\n  np - maxfaults \\<le> count (\\<lambda>l. correct l (te p (i + 1))) np\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  okRead2\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n   (\\<theta> p (i + 1)) (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n   (\\<lambda>l. correct l (te p (i + 1)))\n  okRead1\n   (\\<lambda>n.\n       \\<theta> q (i + 1) n + (PC q (te p (i + 1)) - PC q (te q (i + 1))))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te p (i + 1)))\n  okRead1 (\\<theta> p (i + 1))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te p (i + 1)))\n  \\<forall>ppred p q f g x y.\n     np - maxfaults \\<le> count ppred np \\<and>\n     okRead1 f y ppred \\<and>\n     okRead1 g y ppred \\<and>\n     okRead2 f g x ppred \\<and> ppred p \\<and> ppred q \\<longrightarrow>\n     \\<bar>cfn p f - cfn q g\\<bar> \\<le> \\<pi> x y\n\ngoal (1 subgoal):\n 1. \\<bar>cfn q\n           (\\<lambda>n.\n               \\<theta> q (i + 1) n +\n               (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n          cfn p (\\<theta> p (i + 1))\\<bar>\n    \\<le> \\<pi> (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n           (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))", "by blast"], ["proof (state)\nthis:\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n  \\<le> \\<pi> (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "from ie3 this"], ["proof (chain)\npicking this:\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n  \\<le> \\<pi> (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))", "have \"\\<bar>cfn q ?f - cfn p ?g\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n  \\<le> \\<pi> (2 * \\<rho> * \\<beta> + 2 * \\<Lambda>)\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n\ngoal (1 subgoal):\n 1. \\<bar>cfn q\n           (\\<lambda>n.\n               \\<theta> q (i + 1) n +\n               (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n          cfn p (\\<theta> p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "by (simp add: \\<gamma>1_def)"], ["proof (state)\nthis:\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "from this Eq_IC_cfn"], ["proof (chain)\npicking this:\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n  \\<le> \\<delta>S\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n  \\<le> \\<delta>S\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar> =\n  \\<bar>cfn q\n         (\\<lambda>n.\n             \\<theta> q (i + 1) n +\n             (PC q (te p (i + 1)) - PC q (te q (i + 1)))) -\n        cfn p (\\<theta> p (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "by (simp)"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n  \\<le> \\<delta>S\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Theorem 4.1 in Shankar's paper.\\<close>"], ["", "theorem four_one:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\nshows \"okmaxsync i \\<delta>S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. okmaxsync i \\<delta>S", "proof(induct i)"], ["proof (state)\ngoal (2 subgoals):\n 1. okmaxsync 0 \\<delta>S\n 2. \\<And>i.\n       okmaxsync i \\<delta>S \\<Longrightarrow> okmaxsync (Suc i) \\<delta>S", "show \"okmaxsync 0 \\<delta>S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "fix p q"], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "assume corr_p: \"correct p (max (te p 0) (te q 0))\""], ["proof (state)\nthis:\n  correct p (max (te p 0) (te q 0))\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "assume corr_q: \"correct q (max (te p 0) (te q 0))\""], ["proof (state)\nthis:\n  correct q (max (te p 0) (te q 0))\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "from corr_p synch0"], ["proof (chain)\npicking this:\n  correct p (max (te p 0) (te q 0))\n  \\<forall>p. te p 0 = 0", "have cp0: \"correct p 0\""], ["proof (prove)\nusing this:\n  correct p (max (te p 0) (te q 0))\n  \\<forall>p. te p 0 = 0\n\ngoal (1 subgoal):\n 1. correct p 0", "by simp"], ["proof (state)\nthis:\n  correct p 0\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "from corr_q synch0"], ["proof (chain)\npicking this:\n  correct q (max (te p 0) (te q 0))\n  \\<forall>p. te p 0 = 0", "have cq0: \"correct q 0\""], ["proof (prove)\nusing this:\n  correct q (max (te p 0) (te q 0))\n  \\<forall>p. te p 0 = 0\n\ngoal (1 subgoal):\n 1. correct q 0", "by simp"], ["proof (state)\nthis:\n  correct q 0\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "from synch0 cp0 cq0 IClock"], ["proof (chain)\npicking this:\n  \\<forall>p. te p 0 = 0\n  correct p 0\n  correct q 0\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i", "have IC_eq_PC:\n        \"\\<bar>IC p 0 (max (te p 0) (te q 0)) - IC q 0 (max (te p 0) (te q 0))\\<bar>\n         = \\<bar>PC p 0 - PC q 0\\<bar>\" (is \"?T1 = ?T2\")"], ["proof (prove)\nusing this:\n  \\<forall>p. te p 0 = 0\n  correct p 0\n  correct q 0\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. \\<bar>IC p 0 (max (te p 0) (te q 0)) -\n          IC q 0 (max (te p 0) (te q 0))\\<bar> =\n    \\<bar>PC p 0 - PC q 0\\<bar>", "by(simp add: Adj_def)"], ["proof (state)\nthis:\n  \\<bar>IC p 0 (max (te p 0) (te q 0)) -\n        IC q 0 (max (te p 0) (te q 0))\\<bar> =\n  \\<bar>PC p 0 - PC q 0\\<bar>\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "from ie2 init synch0 cp0"], ["proof (chain)\npicking this:\n  \\<mu> \\<le> \\<delta>S\n  \\<forall>p.\n     correct p 0 \\<longrightarrow> 0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<mu>\n  \\<forall>p. te p 0 = 0\n  correct p 0", "have range1: \"0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  \\<mu> \\<le> \\<delta>S\n  \\<forall>p.\n     correct p 0 \\<longrightarrow> 0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<mu>\n  \\<forall>p. te p 0 = 0\n  correct p 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<delta>S", "by auto"], ["proof (state)\nthis:\n  0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "from ie2 init synch0 cq0"], ["proof (chain)\npicking this:\n  \\<mu> \\<le> \\<delta>S\n  \\<forall>p.\n     correct p 0 \\<longrightarrow> 0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<mu>\n  \\<forall>p. te p 0 = 0\n  correct q 0", "have range2: \"0 \\<le> PC q 0 \\<and> PC q 0 \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  \\<mu> \\<le> \\<delta>S\n  \\<forall>p.\n     correct p 0 \\<longrightarrow> 0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<mu>\n  \\<forall>p. te p 0 = 0\n  correct q 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> PC q 0 \\<and> PC q 0 \\<le> \\<delta>S", "by auto"], ["proof (state)\nthis:\n  0 \\<le> PC q 0 \\<and> PC q 0 \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "have \"?T2 \\<le> \\<delta>S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "assume A:\"PC p 0 < PC q 0\""], ["proof (state)\nthis:\n  PC p 0 < PC q 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "from A range1 range2"], ["proof (chain)\npicking this:\n  PC p 0 < PC q 0\n  0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<delta>S\n  0 \\<le> PC q 0 \\<and> PC q 0 \\<le> \\<delta>S", "show ?thesis"], ["proof (prove)\nusing this:\n  PC p 0 < PC q 0\n  0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<delta>S\n  0 \\<le> PC q 0 \\<and> PC q 0 \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "by(auto simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<not> PC p 0 < PC q 0 \\<Longrightarrow>\n    \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> PC p 0 < PC q 0 \\<Longrightarrow>\n    \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "assume notA: \"\\<not> (PC p 0 < PC q 0)\""], ["proof (state)\nthis:\n  \\<not> PC p 0 < PC q 0\n\ngoal (1 subgoal):\n 1. \\<not> PC p 0 < PC q 0 \\<Longrightarrow>\n    \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "from notA range1 range2"], ["proof (chain)\npicking this:\n  \\<not> PC p 0 < PC q 0\n  0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<delta>S\n  0 \\<le> PC q 0 \\<and> PC q 0 \\<le> \\<delta>S", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> PC p 0 < PC q 0\n  0 \\<le> PC p 0 \\<and> PC p 0 \\<le> \\<delta>S\n  0 \\<le> PC q 0 \\<and> PC q 0 \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S", "by(auto simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "from this IC_eq_PC"], ["proof (chain)\npicking this:\n  \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S\n  \\<bar>IC p 0 (max (te p 0) (te q 0)) -\n        IC q 0 (max (te p 0) (te q 0))\\<bar> =\n  \\<bar>PC p 0 - PC q 0\\<bar>", "have \"?T1 \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  \\<bar>PC p 0 - PC q 0\\<bar> \\<le> \\<delta>S\n  \\<bar>IC p 0 (max (te p 0) (te q 0)) -\n        IC q 0 (max (te p 0) (te q 0))\\<bar> =\n  \\<bar>PC p 0 - PC q 0\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p 0 (max (te p 0) (te q 0)) -\n          IC q 0 (max (te p 0) (te q 0))\\<bar>\n    \\<le> \\<delta>S", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC p 0 (max (te p 0) (te q 0)) -\n        IC q 0 (max (te p 0) (te q 0))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "}"], ["proof (state)\nthis:\n  \\<lbrakk>correct ?p2 (max (te ?p2 0) (te ?q2 0));\n   correct ?q2 (max (te ?p2 0) (te ?q2 0))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p2 0 (max (te ?p2 0) (te ?q2 0)) -\n                          IC ?q2 0 (max (te ?p2 0) (te ?q2 0))\\<bar>\n                    \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>correct ?p2 (max (te ?p2 0) (te ?q2 0));\n   correct ?q2 (max (te ?p2 0) (te ?q2 0))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p2 0 (max (te ?p2 0) (te ?q2 0)) -\n                          IC ?q2 0 (max (te ?p2 0) (te ?q2 0))\\<bar>\n                    \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync 0 \\<delta>S", "by (simp add: okmaxsync_def)"], ["proof (state)\nthis:\n  okmaxsync 0 \\<delta>S\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  okmaxsync 0 \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       okmaxsync i \\<delta>S \\<Longrightarrow> okmaxsync (Suc i) \\<delta>S", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       okmaxsync i \\<delta>S \\<Longrightarrow> okmaxsync (Suc i) \\<delta>S", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       okmaxsync i \\<delta>S \\<Longrightarrow> okmaxsync (Suc i) \\<delta>S", "assume ind_hyp: \"okmaxsync i \\<delta>S\""], ["proof (state)\nthis:\n  okmaxsync i \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       okmaxsync i \\<delta>S \\<Longrightarrow> okmaxsync (Suc i) \\<delta>S", "show \"okmaxsync (Suc i) \\<delta>S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "fix p q"], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "assume corr_p: \"correct p (max (te p (i + 1)) (te q (i + 1)))\""], ["proof (state)\nthis:\n  correct p (max (te p (i + 1)) (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "assume corr_q: \"correct q (max (te p (i + 1)) (te q (i + 1)))\""], ["proof (state)\nthis:\n  correct q (max (te p (i + 1)) (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "let ?tp = \"te p (i + 1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "let ?tq = \"te q (i + 1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "let ?tpq = \"max ?tp ?tq\""], ["proof (state)\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "have \"\\<bar>IC p (i+1) ?tpq - IC q (i+1) ?tpq\\<bar> \\<le> \\<delta>S\" (is \"?E1 \\<le> \\<delta>S\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "assume A: \"?tq < ?tp\""], ["proof (state)\nthis:\n  te q (i + 1) < te p (i + 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from A corr_p"], ["proof (chain)\npicking this:\n  te q (i + 1) < te p (i + 1)\n  correct p (max (te p (i + 1)) (te q (i + 1)))", "have cp1: \"correct p (te p (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) < te p (i + 1)\n  correct p (max (te p (i + 1)) (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. correct p (te p (i + 1))", "by (simp add: max_def)"], ["proof (state)\nthis:\n  correct p (te p (i + 1))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from A corr_q"], ["proof (chain)\npicking this:\n  te q (i + 1) < te p (i + 1)\n  correct q (max (te p (i + 1)) (te q (i + 1)))", "have cq1: \"correct q (te p (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) < te p (i + 1)\n  correct q (max (te p (i + 1)) (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. correct q (te p (i + 1))", "by (simp add: max_def)"], ["proof (state)\nthis:\n  correct q (te p (i + 1))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from A"], ["proof (chain)\npicking this:\n  te q (i + 1) < te p (i + 1)", "have Eq1: \"?E1 = \\<bar>IC p (i+1) (te p (i+1)) - IC q (i+1) (te p (i+1))\\<bar>\"\n                  (is \"?E1 = ?E2\")"], ["proof (prove)\nusing this:\n  te q (i + 1) < te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n    \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>", "by (simp add: max_def)"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from A cp1 cq1 corr_p corr_q ind_hyp ie1 ie2 ie3\n          four_one_ind_half"], ["proof (chain)\npicking this:\n  te q (i + 1) < te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  correct p (max (te p (i + 1)) (te q (i + 1)))\n  correct q (max (te p (i + 1)) (te q (i + 1)))\n  okmaxsync i \\<delta>S\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S; okmaxsync ?i ?\\<delta>S;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p (?i + 1) (te ?p (?i + 1)) -\n                          IC ?q (?i + 1) (te ?p (?i + 1))\\<bar>\n                    \\<le> ?\\<delta>S", "have \"?E2 \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  te q (i + 1) < te p (i + 1)\n  correct p (te p (i + 1))\n  correct q (te p (i + 1))\n  correct p (max (te p (i + 1)) (te q (i + 1)))\n  correct q (max (te p (i + 1)) (te q (i + 1)))\n  okmaxsync i \\<delta>S\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S; okmaxsync ?i ?\\<delta>S;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p (?i + 1) (te ?p (?i + 1)) -\n                          IC ?q (?i + 1) (te ?p (?i + 1))\\<bar>\n                    \\<le> ?\\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n    \\<le> \\<delta>S", "by (simp)"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from this Eq1"], ["proof (chain)\npicking this:\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n  \\<le> \\<delta>S\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n  \\<le> \\<delta>S\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n  \\<bar>IC p (i + 1) (te p (i + 1)) - IC q (i + 1) (te p (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "assume notA: \"\\<not> (?tq < ?tp)\""], ["proof (state)\nthis:\n  \\<not> te q (i + 1) < te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from this corr_p"], ["proof (chain)\npicking this:\n  \\<not> te q (i + 1) < te p (i + 1)\n  correct p (max (te p (i + 1)) (te q (i + 1)))", "have cp2: \"correct p (te q (i+1))\""], ["proof (prove)\nusing this:\n  \\<not> te q (i + 1) < te p (i + 1)\n  correct p (max (te p (i + 1)) (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. correct p (te q (i + 1))", "by (simp add: max_def)"], ["proof (state)\nthis:\n  correct p (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from notA corr_q"], ["proof (chain)\npicking this:\n  \\<not> te q (i + 1) < te p (i + 1)\n  correct q (max (te p (i + 1)) (te q (i + 1)))", "have cq2: \"correct q (te q (i+1))\""], ["proof (prove)\nusing this:\n  \\<not> te q (i + 1) < te p (i + 1)\n  correct q (max (te p (i + 1)) (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. correct q (te q (i + 1))", "by (simp add: max_def)"], ["proof (state)\nthis:\n  correct q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from notA"], ["proof (chain)\npicking this:\n  \\<not> te q (i + 1) < te p (i + 1)", "have Eq2: \"?E1 = \\<bar>IC q (i+1) (te q (i+1)) - IC p (i+1) (te q (i+1))\\<bar>\"\n                  (is \"?E1  = ?E3\")"], ["proof (prove)\nusing this:\n  \\<not> te q (i + 1) < te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n    \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>", "by (simp add: max_def abs_minus_commute)"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n  \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from notA"], ["proof (chain)\npicking this:\n  \\<not> te q (i + 1) < te p (i + 1)", "have \"?tp \\<le> ?tq\""], ["proof (prove)\nusing this:\n  \\<not> te q (i + 1) < te p (i + 1)\n\ngoal (1 subgoal):\n 1. te p (i + 1) \\<le> te q (i + 1)", "by simp"], ["proof (state)\nthis:\n  te p (i + 1) \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from this cp2 cq2 ind_hyp ie1 ie2 ie3 four_one_ind_half"], ["proof (chain)\npicking this:\n  te p (i + 1) \\<le> te q (i + 1)\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  okmaxsync i \\<delta>S\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S; okmaxsync ?i ?\\<delta>S;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p (?i + 1) (te ?p (?i + 1)) -\n                          IC ?q (?i + 1) (te ?p (?i + 1))\\<bar>\n                    \\<le> ?\\<delta>S", "have \"?E3 \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  te p (i + 1) \\<le> te q (i + 1)\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  okmaxsync i \\<delta>S\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S; okmaxsync ?i ?\\<delta>S;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); correct ?p (te ?p (?i + 1));\n   correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p (?i + 1) (te ?p (?i + 1)) -\n                          IC ?q (?i + 1) (te ?p (?i + 1))\\<bar>\n                    \\<le> ?\\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>\n    \\<le> \\<delta>S", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) < te p (i + 1) \\<Longrightarrow>\n    \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "from this Eq2"], ["proof (chain)\npicking this:\n  \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>\n  \\<le> \\<delta>S\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n  \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>\n  \\<le> \\<delta>S\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar> =\n  \\<bar>IC q (i + 1) (te q (i + 1)) - IC p (i + 1) (te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n          IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n    \\<le> \\<delta>S", "by (simp)"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n  \\<le> \\<delta>S\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>IC p (i + 1) (max (te p (i + 1)) (te q (i + 1))) -\n        IC q (i + 1) (max (te p (i + 1)) (te q (i + 1)))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "}"], ["proof (state)\nthis:\n  \\<lbrakk>correct ?p2 (max (te ?p2 (i + 1)) (te ?q2 (i + 1)));\n   correct ?q2 (max (te ?p2 (i + 1)) (te ?q2 (i + 1)))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p2 (i + 1)\n                           (max (te ?p2 (i + 1)) (te ?q2 (i + 1))) -\n                          IC ?q2 (i + 1)\n                           (max (te ?p2 (i + 1)) (te ?q2 (i + 1)))\\<bar>\n                    \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>correct ?p2 (max (te ?p2 (i + 1)) (te ?q2 (i + 1)));\n   correct ?q2 (max (te ?p2 (i + 1)) (te ?q2 (i + 1)))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p2 (i + 1)\n                           (max (te ?p2 (i + 1)) (te ?q2 (i + 1))) -\n                          IC ?q2 (i + 1)\n                           (max (te ?p2 (i + 1)) (te ?q2 (i + 1)))\\<bar>\n                    \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync (Suc i) \\<delta>S", "by (simp add: okmaxsync_def)"], ["proof (state)\nthis:\n  okmaxsync (Suc i) \\<delta>S\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  okmaxsync (Suc i) \\<delta>S\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma VC_cfn:\n  assumes corr_p: \"correct p (te p (i+1))\"\n  and ie: \"te p (i+1) < te p (i+2)\"\nshows \"VC p (te p (i+1)) = cfn p (\\<theta> p (i+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "from ie corr_p VClock"], ["proof (chain)\npicking this:\n  te p (i + 1) < te p (i + 2)\n  correct p (te p (i + 1))\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t", "have \"VC p (te p (i+1)) = IC p (i+1) (te p (i+1))\""], ["proof (prove)\nusing this:\n  te p (i + 1) < te p (i + 2)\n  correct p (te p (i + 1))\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = IC p (i + 1) (te p (i + 1))", "by simp"], ["proof (state)\nthis:\n  VC p (te p (i + 1)) = IC p (i + 1) (te p (i + 1))\n\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "moreover"], ["proof (state)\nthis:\n  VC p (te p (i + 1)) = IC p (i + 1) (te p (i + 1))\n\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "from corr_p IClock"], ["proof (chain)\npicking this:\n  correct p (te p (i + 1))\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i", "have \"IC p (i+1) (te p (i+1)) = PC p (te p (i+1)) + Adj p (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te p (i + 1))\n  \\<forall>p t i. correct p t \\<longrightarrow> IC p i t = PC p t + Adj p i\n\ngoal (1 subgoal):\n 1. IC p (i + 1) (te p (i + 1)) = PC p (te p (i + 1)) + Adj p (i + 1)", "by blast"], ["proof (state)\nthis:\n  IC p (i + 1) (te p (i + 1)) = PC p (te p (i + 1)) + Adj p (i + 1)\n\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "moreover"], ["proof (state)\nthis:\n  IC p (i + 1) (te p (i + 1)) = PC p (te p (i + 1)) + Adj p (i + 1)\n\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "have \"PC p (te p (i+1)) + Adj p (i+1) = cfn p (\\<theta> p (i+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. PC p (te p (i + 1)) + Adj p (i + 1) = cfn p (\\<theta> p (i + 1))", "by(simp add: Adj_def)"], ["proof (state)\nthis:\n  PC p (te p (i + 1)) + Adj p (i + 1) = cfn p (\\<theta> p (i + 1))\n\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "ultimately"], ["proof (chain)\npicking this:\n  VC p (te p (i + 1)) = IC p (i + 1) (te p (i + 1))\n  IC p (i + 1) (te p (i + 1)) = PC p (te p (i + 1)) + Adj p (i + 1)\n  PC p (te p (i + 1)) + Adj p (i + 1) = cfn p (\\<theta> p (i + 1))", "show ?thesis"], ["proof (prove)\nusing this:\n  VC p (te p (i + 1)) = IC p (i + 1) (te p (i + 1))\n  IC p (i + 1) (te p (i + 1)) = PC p (te p (i + 1)) + Adj p (i + 1)\n  PC p (te p (i + 1)) + Adj p (i + 1) = cfn p (\\<theta> p (i + 1))\n\ngoal (1 subgoal):\n 1. VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))", "by simp"], ["proof (state)\nthis:\n  VC p (te p (i + 1)) = cfn p (\\<theta> p (i + 1))\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Lemma for the inductive case in Theorem 4.2\\<close>"], ["", "lemma four_two_ind:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ie4: \"\\<gamma>2 \\<delta>S \\<le> \\<delta>\"\n  and ie5: \"\\<gamma>3 \\<delta>S \\<le> \\<delta>\"\n  and ie6: \"te q (i+1) \\<le> te p (i+1)\"\n  and ind_hyp: \"okClocks p q i\"\n  and t_bound1: \"0 \\<le> t\"\n  and t_bound2: \"t < max (te p (i+1)) (te q (i+1))\"\n  and t_bound3: \"max (te p i) (te q i) \\<le> t\"\n  and tpq_bound: \"max (te p i) (te q i) < max (te p (i+1)) (te q (i+1))\"\n  and corr_p: \"correct p t\"\n  and corr_q: \"correct q t\"\nshows \"\\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume A: \"t < te q (i+1)\""], ["proof (state)\nthis:\n  t < te q (i + 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "let ?tpq = \"max (te p i) (te q i)\""], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have Eq1: \"te p i \\<le> t \\<and> te q i \\<le> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p i \\<le> t \\<and> te q i \\<le> t", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> te p i \\<le> t \\<and> te q i \\<le> t\n 2. \\<not> ?P \\<Longrightarrow> te p i \\<le> t \\<and> te q i \\<le> t", "assume \"te p i \\<le> te q i\""], ["proof (state)\nthis:\n  te p i \\<le> te q i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> te p i \\<le> t \\<and> te q i \\<le> t\n 2. \\<not> ?P \\<Longrightarrow> te p i \\<le> t \\<and> te q i \\<le> t", "from this  t_bound3"], ["proof (chain)\npicking this:\n  te p i \\<le> te q i\n  max (te p i) (te q i) \\<le> t", "show ?thesis"], ["proof (prove)\nusing this:\n  te p i \\<le> te q i\n  max (te p i) (te q i) \\<le> t\n\ngoal (1 subgoal):\n 1. te p i \\<le> t \\<and> te q i \\<le> t", "by (simp add: max_def)"], ["proof (state)\nthis:\n  te p i \\<le> t \\<and> te q i \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> te p i \\<le> te q i \\<Longrightarrow>\n    te p i \\<le> t \\<and> te q i \\<le> t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> te p i \\<le> te q i \\<Longrightarrow>\n    te p i \\<le> t \\<and> te q i \\<le> t", "assume \"\\<not> (te p i \\<le> te q i)\""], ["proof (state)\nthis:\n  \\<not> te p i \\<le> te q i\n\ngoal (1 subgoal):\n 1. \\<not> te p i \\<le> te q i \\<Longrightarrow>\n    te p i \\<le> t \\<and> te q i \\<le> t", "from this t_bound3"], ["proof (chain)\npicking this:\n  \\<not> te p i \\<le> te q i\n  max (te p i) (te q i) \\<le> t", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> te p i \\<le> te q i\n  max (te p i) (te q i) \\<le> t\n\ngoal (1 subgoal):\n 1. te p i \\<le> t \\<and> te q i \\<le> t", "by (simp add: max_def)"], ["proof (state)\nthis:\n  te p i \\<le> t \\<and> te q i \\<le> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  te p i \\<le> t \\<and> te q i \\<le> t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from ie6"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)", "have tp_max: \"max (te p (i+1)) (te q (i+1)) = te p (i+1)\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)", "by(simp add: max_def)"], ["proof (state)\nthis:\n  max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this t_bound2"], ["proof (chain)\npicking this:\n  max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)\n  t < max (te p (i + 1)) (te q (i + 1))", "have Eq2: \"t < te p (i+1)\""], ["proof (prove)\nusing this:\n  max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)\n  t < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. t < te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  t < te p (i + 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from VClock Eq1 Eq2 corr_p"], ["proof (chain)\npicking this:\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te p i \\<le> t \\<and> te q i \\<le> t\n  t < te p (i + 1)\n  correct p t", "have Eq3: \"VC p t = IC p i t\""], ["proof (prove)\nusing this:\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te p i \\<le> t \\<and> te q i \\<le> t\n  t < te p (i + 1)\n  correct p t\n\ngoal (1 subgoal):\n 1. VC p t = IC p i t", "by simp"], ["proof (state)\nthis:\n  VC p t = IC p i t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from VClock Eq1 A corr_q"], ["proof (chain)\npicking this:\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te p i \\<le> t \\<and> te q i \\<le> t\n  t < te q (i + 1)\n  correct q t", "have Eq4: \"VC q t = IC q i t\""], ["proof (prove)\nusing this:\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te p i \\<le> t \\<and> te q i \\<le> t\n  t < te q (i + 1)\n  correct q t\n\ngoal (1 subgoal):\n 1. VC q t = IC q i t", "by simp"], ["proof (state)\nthis:\n  VC q t = IC q i t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from Eq3 Eq4"], ["proof (chain)\npicking this:\n  VC p t = IC p i t\n  VC q t = IC q i t", "have Eq5: \"\\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q i t\\<bar>\""], ["proof (prove)\nusing this:\n  VC p t = IC p i t\n  VC q t = IC q i t\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q i t\\<bar>", "by simp"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q i t\\<bar>\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from t_bound3 corr_p corr_q correct_closed"], ["proof (chain)\npicking this:\n  max (te p i) (te q i) \\<le> t\n  correct p t\n  correct q t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_tpq: \"correct p ?tpq \\<and> correct q ?tpq\""], ["proof (prove)\nusing this:\n  max (te p i) (te q i) \\<le> t\n  correct p t\n  correct q t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct p (max (te p i) (te q i)) \\<and>\n    correct q (max (te p i) (te q i))", "by(blast)"], ["proof (state)\nthis:\n  correct p (max (te p i) (te q i)) \\<and> correct q (max (te p i) (te q i))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from t_bound3 IC_bd corr_p corr_q"], ["proof (chain)\npicking this:\n  max (te p i) (te q i) \\<le> t\n  \\<lbrakk>?s \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p ?i ?t - IC ?q ?j ?t\\<bar>\n                    \\<le> \\<bar>IC ?p ?i ?s - IC ?q ?j ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)\n  correct p t\n  correct q t", "have Eq6: \"\\<bar>IC p i t - IC q i t\\<bar>  \\<le> \\<bar>IC p i ?tpq - IC q i ?tpq\\<bar>\n    + 2*\\<rho>*(t - ?tpq)\" (is \"?E1 \\<le> ?E2\")"], ["proof (prove)\nusing this:\n  max (te p i) (te q i) \\<le> t\n  \\<lbrakk>?s \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p ?i ?t - IC ?q ?j ?t\\<bar>\n                    \\<le> \\<bar>IC ?p ?i ?s - IC ?q ?j ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)\n  correct p t\n  correct q t\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q i t\\<bar>\n    \\<le> \\<bar>IC p i (max (te p i) (te q i)) -\n                IC q i (max (te p i) (te q i))\\<bar> +\n          2 * \\<rho> * (t - max (te p i) (te q i))", "by(blast)"], ["proof (state)\nthis:\n  \\<bar>IC p i t - IC q i t\\<bar>\n  \\<le> \\<bar>IC p i (max (te p i) (te q i)) -\n              IC q i (max (te p i) (te q i))\\<bar> +\n        2 * \\<rho> * (t - max (te p i) (te q i))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from ie1 ie2 ie3 four_one"], ["proof (chain)\npicking this:\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> okmaxsync ?i ?\\<delta>S", "have \"okmaxsync i \\<delta>S\""], ["proof (prove)\nusing this:\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> okmaxsync ?i ?\\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync i \\<delta>S", "by simp"], ["proof (state)\nthis:\n  okmaxsync i \\<delta>S\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this corr_tpq"], ["proof (chain)\npicking this:\n  okmaxsync i \\<delta>S\n  correct p (max (te p i) (te q i)) \\<and> correct q (max (te p i) (te q i))", "have \"\\<bar>IC p i ?tpq - IC q i ?tpq\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\nusing this:\n  okmaxsync i \\<delta>S\n  correct p (max (te p i) (te q i)) \\<and> correct q (max (te p i) (te q i))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i (max (te p i) (te q i)) -\n          IC q i (max (te p i) (te q i))\\<bar>\n    \\<le> \\<delta>S", "by(simp add: okmaxsync_def)"], ["proof (state)\nthis:\n  \\<bar>IC p i (max (te p i) (te q i)) -\n        IC q i (max (te p i) (te q i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from Eq6 this"], ["proof (chain)\npicking this:\n  \\<bar>IC p i t - IC q i t\\<bar>\n  \\<le> \\<bar>IC p i (max (te p i) (te q i)) -\n              IC q i (max (te p i) (te q i))\\<bar> +\n        2 * \\<rho> * (t - max (te p i) (te q i))\n  \\<bar>IC p i (max (te p i) (te q i)) -\n        IC q i (max (te p i) (te q i))\\<bar>\n  \\<le> \\<delta>S", "have Eq7: \"?E1 \\<le> \\<delta>S + 2*\\<rho>*(t - ?tpq)\""], ["proof (prove)\nusing this:\n  \\<bar>IC p i t - IC q i t\\<bar>\n  \\<le> \\<bar>IC p i (max (te p i) (te q i)) -\n              IC q i (max (te p i) (te q i))\\<bar> +\n        2 * \\<rho> * (t - max (te p i) (te q i))\n  \\<bar>IC p i (max (te p i) (te q i)) -\n        IC q i (max (te p i) (te q i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q i t\\<bar>\n    \\<le> \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC p i t - IC q i t\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from corr_p Eq2 rts0"], ["proof (chain)\npicking this:\n  correct p t\n  t < te p (i + 1)\n  \\<forall>p t i.\n     correct p t \\<and> t \\<le> te p (i + 1) \\<longrightarrow>\n     t - te p i \\<le> rmax", "have \"t - te p i \\<le> rmax\""], ["proof (prove)\nusing this:\n  correct p t\n  t < te p (i + 1)\n  \\<forall>p t i.\n     correct p t \\<and> t \\<le> te p (i + 1) \\<longrightarrow>\n     t - te p i \\<le> rmax\n\ngoal (1 subgoal):\n 1. t - te p i \\<le> rmax", "by simp"], ["proof (state)\nthis:\n  t - te p i \\<le> rmax\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this"], ["proof (chain)\npicking this:\n  t - te p i \\<le> rmax", "have \"t - ?tpq \\<le> rmax\""], ["proof (prove)\nusing this:\n  t - te p i \\<le> rmax\n\ngoal (1 subgoal):\n 1. t - max (te p i) (te q i) \\<le> rmax", "by (simp add: max_def)"], ["proof (state)\nthis:\n  t - max (te p i) (te q i) \\<le> rmax\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this constants_ax"], ["proof (chain)\npicking this:\n  t - max (te p i) (te q i) \\<le> rmax\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np", "have \"2*\\<rho>*(t - ?tpq) \\<le> 2*\\<rho>*rmax\""], ["proof (prove)\nusing this:\n  t - max (te p i) (te q i) \\<le> rmax\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np\n\ngoal (1 subgoal):\n 1. 2 * \\<rho> * (t - max (te p i) (te q i)) \\<le> 2 * \\<rho> * rmax", "by simp"], ["proof (state)\nthis:\n  2 * \\<rho> * (t - max (te p i) (te q i)) \\<le> 2 * \\<rho> * rmax\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence \"\\<delta>S + 2*\\<rho>*(t - ?tpq) \\<le> \\<delta>S + 2*\\<rho>*rmax\""], ["proof (prove)\nusing this:\n  2 * \\<rho> * (t - max (te p i) (te q i)) \\<le> 2 * \\<rho> * rmax\n\ngoal (1 subgoal):\n 1. \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))\n    \\<le> \\<delta>S + 2 * \\<rho> * rmax", "by simp"], ["proof (state)\nthis:\n  \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))\n  \\<le> \\<delta>S + 2 * \\<rho> * rmax\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this Eq7"], ["proof (chain)\npicking this:\n  \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))\n  \\<le> \\<delta>S + 2 * \\<rho> * rmax\n  \\<bar>IC p i t - IC q i t\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))", "have \"?E1 \\<le> \\<delta>S + 2*\\<rho>*rmax\""], ["proof (prove)\nusing this:\n  \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))\n  \\<le> \\<delta>S + 2 * \\<rho> * rmax\n  \\<bar>IC p i t - IC q i t\\<bar>\n  \\<le> \\<delta>S + 2 * \\<rho> * (t - max (te p i) (te q i))\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q i t\\<bar> \\<le> \\<delta>S + 2 * \\<rho> * rmax", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC p i t - IC q i t\\<bar> \\<le> \\<delta>S + 2 * \\<rho> * rmax\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this Eq5 ie4"], ["proof (chain)\npicking this:\n  \\<bar>IC p i t - IC q i t\\<bar> \\<le> \\<delta>S + 2 * \\<rho> * rmax\n  \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q i t\\<bar>\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>IC p i t - IC q i t\\<bar> \\<le> \\<delta>S + 2 * \\<rho> * rmax\n  \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q i t\\<bar>\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by(simp add: \\<gamma>2_def)"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume \"\\<not> (t < te q (i+1))\""], ["proof (state)\nthis:\n  \\<not> t < te q (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence  B: \"te q (i+1) \\<le> t\""], ["proof (prove)\nusing this:\n  \\<not> t < te q (i + 1)\n\ngoal (1 subgoal):\n 1. te q (i + 1) \\<le> t", "by simp"], ["proof (state)\nthis:\n  te q (i + 1) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from ie6 t_bound2"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  t < max (te p (i + 1)) (te q (i + 1))", "have tp_max: \"max (te p (i+1)) (te q (i+1)) = te p (i+1)\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  t < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)", "by(simp add: max_def)"], ["proof (state)\nthis:\n  max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have \"te p i \\<le> max (te p i) (te q i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te p i \\<le> max (te p i) (te q i)", "by(simp add: max_def)"], ["proof (state)\nthis:\n  te p i \\<le> max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this t_bound3"], ["proof (chain)\npicking this:\n  te p i \\<le> max (te p i) (te q i)\n  max (te p i) (te q i) \\<le> t", "have tp_bound1: \"te p i \\<le> t\""], ["proof (prove)\nusing this:\n  te p i \\<le> max (te p i) (te q i)\n  max (te p i) (te q i) \\<le> t\n\ngoal (1 subgoal):\n 1. te p i \\<le> t", "by simp"], ["proof (state)\nthis:\n  te p i \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from tp_max t_bound2"], ["proof (chain)\npicking this:\n  max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)\n  t < max (te p (i + 1)) (te q (i + 1))", "have tp_bound2: \"t < te p (i+1)\""], ["proof (prove)\nusing this:\n  max (te p (i + 1)) (te q (i + 1)) = te p (i + 1)\n  t < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. t < te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  t < te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have tq_bound1: \"t < te q (i+2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t < te q (i + 2)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 2) \\<Longrightarrow> False", "assume \"\\<not> (t < te q (i+2))\""], ["proof (state)\nthis:\n  \\<not> t < te q (i + 2)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 2) \\<Longrightarrow> False", "hence C: \"te q (i+2) \\<le> t\""], ["proof (prove)\nusing this:\n  \\<not> t < te q (i + 2)\n\ngoal (1 subgoal):\n 1. te q (i + 2) \\<le> t", "by simp"], ["proof (state)\nthis:\n  te q (i + 2) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 2) \\<Longrightarrow> False", "from C corr_q correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 2) \\<le> t\n  correct q t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_q_t2: \"correct q (te q (i+2))\""], ["proof (prove)\nusing this:\n  te q (i + 2) \\<le> t\n  correct q t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct q (te q (i + 2))", "by blast"], ["proof (state)\nthis:\n  correct q (te q (i + 2))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 2) \\<Longrightarrow> False", "have \"te q (i+1) + \\<beta> \\<le> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> t", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> t", "from corr_q_t2 rts1d"], ["proof (chain)\npicking this:\n  correct q (te q (i + 2))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i", "have \"rmin \\<le> te q (i+2) - te q (i+1)\""], ["proof (prove)\nusing this:\n  correct q (te q (i + 2))\n  correct ?p (te ?p (?i + 1)) \\<Longrightarrow>\n  rmin \\<le> te ?p (?i + 1) - te ?p ?i\n\ngoal (1 subgoal):\n 1. rmin \\<le> te q (i + 2) - te q (i + 1)", "by simp"], ["proof (state)\nthis:\n  rmin \\<le> te q (i + 2) - te q (i + 1)\n\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> t", "from this ie1"], ["proof (chain)\npicking this:\n  rmin \\<le> te q (i + 2) - te q (i + 1)\n  \\<beta> \\<le> rmin", "have \"\\<beta> \\<le> te q (i+2) - te q (i+1)\""], ["proof (prove)\nusing this:\n  rmin \\<le> te q (i + 2) - te q (i + 1)\n  \\<beta> \\<le> rmin\n\ngoal (1 subgoal):\n 1. \\<beta> \\<le> te q (i + 2) - te q (i + 1)", "by simp"], ["proof (state)\nthis:\n  \\<beta> \\<le> te q (i + 2) - te q (i + 1)\n\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> t", "hence \"te q (i+1) + \\<beta> \\<le> te q (i+2)\""], ["proof (prove)\nusing this:\n  \\<beta> \\<le> te q (i + 2) - te q (i + 1)\n\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> te q (i + 2)", "by simp"], ["proof (state)\nthis:\n  te q (i + 1) + \\<beta> \\<le> te q (i + 2)\n\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> t", "from this C"], ["proof (chain)\npicking this:\n  te q (i + 1) + \\<beta> \\<le> te q (i + 2)\n  te q (i + 2) \\<le> t", "show ?thesis"], ["proof (prove)\nusing this:\n  te q (i + 1) + \\<beta> \\<le> te q (i + 2)\n  te q (i + 2) \\<le> t\n\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> t", "by simp"], ["proof (state)\nthis:\n  te q (i + 1) + \\<beta> \\<le> t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  te q (i + 1) + \\<beta> \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 2) \\<Longrightarrow> False", "from this corr_p corr_q rts2a"], ["proof (chain)\npicking this:\n  te q (i + 1) + \\<beta> \\<le> t\n  correct p t\n  correct q t\n  \\<forall>p q t i.\n     correct p t \\<and>\n     correct q t \\<and> te q i + \\<beta> \\<le> t \\<longrightarrow>\n     te p i \\<le> t", "have \"te p (i+1) \\<le> t\""], ["proof (prove)\nusing this:\n  te q (i + 1) + \\<beta> \\<le> t\n  correct p t\n  correct q t\n  \\<forall>p q t i.\n     correct p t \\<and>\n     correct q t \\<and> te q i + \\<beta> \\<le> t \\<longrightarrow>\n     te p i \\<le> t\n\ngoal (1 subgoal):\n 1. te p (i + 1) \\<le> t", "by blast"], ["proof (state)\nthis:\n  te p (i + 1) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 2) \\<Longrightarrow> False", "hence \"\\<not> (t < te p (i+1))\""], ["proof (prove)\nusing this:\n  te p (i + 1) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  \\<not> t < te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 2) \\<Longrightarrow> False", "from this tp_bound2"], ["proof (chain)\npicking this:\n  \\<not> t < te p (i + 1)\n  t < te p (i + 1)", "show False"], ["proof (prove)\nusing this:\n  \\<not> t < te p (i + 1)\n  t < te p (i + 1)\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t < te q (i + 2)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from tq_bound1 B"], ["proof (chain)\npicking this:\n  t < te q (i + 2)\n  te q (i + 1) \\<le> t", "have tq_bound2: \"te q (i+1) < te q (i+2)\""], ["proof (prove)\nusing this:\n  t < te q (i + 2)\n  te q (i + 1) \\<le> t\n\ngoal (1 subgoal):\n 1. te q (i + 1) < te q (i + 2)", "by simp"], ["proof (state)\nthis:\n  te q (i + 1) < te q (i + 2)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from B tp_bound2"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> t\n  t < te p (i + 1)", "have tq_bound3: \"te q (i+1) < te p (i+1)\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> t\n  t < te p (i + 1)\n\ngoal (1 subgoal):\n 1. te q (i + 1) < te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  te q (i + 1) < te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from B corr_p correct_closed"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> t\n  correct p t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_p_tq1: \"correct p (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> t\n  correct p t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct p (te q (i + 1))", "by blast"], ["proof (state)\nthis:\n  correct p (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from B correct_closed corr_q"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n  correct q t", "have corr_q_tq1: \"correct q (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> t\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n  correct q t\n\ngoal (1 subgoal):\n 1. correct q (te q (i + 1))", "by blast"], ["proof (state)\nthis:\n  correct q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from corr_p_tq1 corr_q_tq1 beta_bound1"], ["proof (chain)\npicking this:\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have tq_bound4: \"te p i \\<le> te q (i+1)\""], ["proof (prove)\nusing this:\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te p i \\<le> te q (i + 1)", "by(simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te p i \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from tq_bound1 VClock B corr_q"], ["proof (chain)\npicking this:\n  t < te q (i + 2)\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te q (i + 1) \\<le> t\n  correct q t", "have Eq1: \"VC q t = IC q (i+1) t\""], ["proof (prove)\nusing this:\n  t < te q (i + 2)\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te q (i + 1) \\<le> t\n  correct q t\n\ngoal (1 subgoal):\n 1. VC q t = IC q (i + 1) t", "by simp"], ["proof (state)\nthis:\n  VC q t = IC q (i + 1) t\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from VClock tp_bound1 tp_bound2 corr_p"], ["proof (chain)\npicking this:\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te p i \\<le> t\n  t < te p (i + 1)\n  correct p t", "have Eq2: \"VC p t = IC p i t\""], ["proof (prove)\nusing this:\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  te p i \\<le> t\n  t < te p (i + 1)\n  correct p t\n\ngoal (1 subgoal):\n 1. VC p t = IC p i t", "by simp"], ["proof (state)\nthis:\n  VC p t = IC p i t\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from Eq1 Eq2"], ["proof (chain)\npicking this:\n  VC q t = IC q (i + 1) t\n  VC p t = IC p i t", "have Eq3: \"\\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q (i+1) t\\<bar>\""], ["proof (prove)\nusing this:\n  VC q t = IC q (i + 1) t\n  VC p t = IC p i t\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q (i + 1) t\\<bar>", "by simp"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q (i + 1) t\\<bar>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from B corr_p corr_q IC_bd"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> t\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p ?i ?t - IC ?q ?j ?t\\<bar>\n                    \\<le> \\<bar>IC ?p ?i ?s - IC ?q ?j ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)", "have \"\\<bar>IC p i t - IC q (i+1) t\\<bar> \\<le>\n     \\<bar>IC p i (te q (i+1)) - IC q (i+1) (te q (i+1))\\<bar> + 2*\\<rho>*(t - te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> t\n  correct p t\n  correct q t\n  \\<lbrakk>?s \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>IC ?p ?i ?t - IC ?q ?j ?t\\<bar>\n                    \\<le> \\<bar>IC ?p ?i ?s - IC ?q ?j ?s\\<bar> +\n                          2 * \\<rho> * (?t - ?s)\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i t - IC q (i + 1) t\\<bar>\n    \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n          2 * \\<rho> * (t - te q (i + 1))", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC p i t - IC q (i + 1) t\\<bar>\n  \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n        2 * \\<rho> * (t - te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this Eq3"], ["proof (chain)\npicking this:\n  \\<bar>IC p i t - IC q (i + 1) t\\<bar>\n  \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n        2 * \\<rho> * (t - te q (i + 1))\n  \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q (i + 1) t\\<bar>", "have VC_split: \"\\<bar>VC p t - VC q t\\<bar> \\<le>\n    \\<bar>IC p i (te q (i+1)) - IC q (i+1) (te q (i+1))\\<bar> + 2*\\<rho>*(t - te q (i+1))\""], ["proof (prove)\nusing this:\n  \\<bar>IC p i t - IC q (i + 1) t\\<bar>\n  \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n        2 * \\<rho> * (t - te q (i + 1))\n  \\<bar>VC p t - VC q t\\<bar> = \\<bar>IC p i t - IC q (i + 1) t\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar>\n    \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n          2 * \\<rho> * (t - te q (i + 1))", "by simp"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n        2 * \\<rho> * (t - te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from tq_bound2 VClock corr_q_tq1"], ["proof (chain)\npicking this:\n  te q (i + 1) < te q (i + 2)\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  correct q (te q (i + 1))", "have Eq4: \"VC q (te q (i+1)) = IC q (i+1) (te q (i+1))\""], ["proof (prove)\nusing this:\n  te q (i + 1) < te q (i + 2)\n  \\<forall>p t i.\n     correct p t \\<and>\n     te p i \\<le> t \\<and> t < te p (i + 1) \\<longrightarrow>\n     VC p t = IC p i t\n  correct q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. VC q (te q (i + 1)) = IC q (i + 1) (te q (i + 1))", "by simp"], ["proof (state)\nthis:\n  VC q (te q (i + 1)) = IC q (i + 1) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this tq_bound2 VC_cfn corr_q_tq1"], ["proof (chain)\npicking this:\n  VC q (te q (i + 1)) = IC q (i + 1) (te q (i + 1))\n  te q (i + 1) < te q (i + 2)\n  \\<lbrakk>correct ?p (te ?p (?i + 1));\n   te ?p (?i + 1) < te ?p (?i + 2)\\<rbrakk>\n  \\<Longrightarrow> VC ?p (te ?p (?i + 1)) = cfn ?p (\\<theta> ?p (?i + 1))\n  correct q (te q (i + 1))", "have Eq5: \"IC q (i+1) (te q (i+1)) = cfn q (\\<theta> q (i+1))\""], ["proof (prove)\nusing this:\n  VC q (te q (i + 1)) = IC q (i + 1) (te q (i + 1))\n  te q (i + 1) < te q (i + 2)\n  \\<lbrakk>correct ?p (te ?p (?i + 1));\n   te ?p (?i + 1) < te ?p (?i + 2)\\<rbrakk>\n  \\<Longrightarrow> VC ?p (te ?p (?i + 1)) = cfn ?p (\\<theta> ?p (?i + 1))\n  correct q (te q (i + 1))\n\ngoal (1 subgoal):\n 1. IC q (i + 1) (te q (i + 1)) = cfn q (\\<theta> q (i + 1))", "by simp"], ["proof (state)\nthis:\n  IC q (i + 1) (te q (i + 1)) = cfn q (\\<theta> q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence IC_eq_cfn: \"IC p i (te q (i+1)) - IC q (i+1) (te q (i+1)) =\n    IC p i (te q (i+1)) - cfn q (\\<theta> q (i+1))\"\n    (is \"?E1 = ?E2\")"], ["proof (prove)\nusing this:\n  IC q (i + 1) (te q (i + 1)) = cfn q (\\<theta> q (i + 1))\n\ngoal (1 subgoal):\n 1. IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1)) =\n    IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))", "by simp"], ["proof (state)\nthis:\n  IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1)) =\n  IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "let ?f = \"\\<theta> q (i+1)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "let ?ppred = \"\\<lambda> l. correct l (te q (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "let ?X = \"2*\\<Lambda> + \\<delta>S + 2*\\<rho>*(rmax + \\<beta>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have \"\\<forall> l m. ?ppred l \\<and> ?ppred m \\<longrightarrow> \\<bar>\\<theta> q (i+1) l - \\<theta> q (i+1) m\\<bar> \\<le> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "fix l :: process"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "fix m :: process"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume corr_l: \"?ppred l\""], ["proof (state)\nthis:\n  correct l (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "assume corr_m: \"?ppred m\""], ["proof (state)\nthis:\n  correct m (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "let ?tlm = \"max (te l i) (te m i)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "have tlm_bound: \"?tlm \\<le> te q (i+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te q (i + 1)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te q (i + 1)", "from corr_l corr_q_tq1 beta_bound1"], ["proof (chain)\npicking this:\n  correct l (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have \"te l i \\<le> te q (i+1)\""], ["proof (prove)\nusing this:\n  correct l (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te l i \\<le> te q (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te l i \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te q (i + 1)", "moreover"], ["proof (state)\nthis:\n  te l i \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te q (i + 1)", "from corr_m corr_q_tq1 beta_bound1"], ["proof (chain)\npicking this:\n  correct m (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i", "have \"te m i \\<le> te q (i+1)\""], ["proof (prove)\nusing this:\n  correct m (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?p (te ?p (?i + 1)); correct ?q (te ?p (?i + 1))\\<rbrakk>\n  \\<Longrightarrow> 0 \\<le> te ?p (?i + 1) - te ?q ?i\n\ngoal (1 subgoal):\n 1. te m i \\<le> te q (i + 1)", "by (simp add: le_diff_eq)"], ["proof (state)\nthis:\n  te m i \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te q (i + 1)", "ultimately"], ["proof (chain)\npicking this:\n  te l i \\<le> te q (i + 1)\n  te m i \\<le> te q (i + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  te l i \\<le> te q (i + 1)\n  te m i \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. max (te l i) (te m i) \\<le> te q (i + 1)", "by simp"], ["proof (state)\nthis:\n  max (te l i) (te m i) \\<le> te q (i + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  max (te l i) (te m i) \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from tlm_bound corr_l corr_m correct_closed"], ["proof (chain)\npicking this:\n  max (te l i) (te m i) \\<le> te q (i + 1)\n  correct l (te q (i + 1))\n  correct m (te q (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s", "have corr_tlm: \"correct l ?tlm \\<and> correct m ?tlm\""], ["proof (prove)\nusing this:\n  max (te l i) (te m i) \\<le> te q (i + 1)\n  correct l (te q (i + 1))\n  correct m (te q (i + 1))\n  \\<forall>p s t. s \\<le> t \\<and> correct p t \\<longrightarrow> correct p s\n\ngoal (1 subgoal):\n 1. correct l (max (te l i) (te m i)) \\<and>\n    correct m (max (te l i) (te m i))", "by blast"], ["proof (state)\nthis:\n  correct l (max (te l i) (te m i)) \\<and> correct m (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "have \"\\<bar>IC l i ?tlm - IC m i ?tlm\\<bar> \\<le> \\<delta>S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>IC l i (max (te l i) (te m i)) -\n          IC m i (max (te l i) (te m i))\\<bar>\n    \\<le> \\<delta>S", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>IC l i (max (te l i) (te m i)) -\n          IC m i (max (te l i) (te m i))\\<bar>\n    \\<le> \\<delta>S", "from ie1 ie2 ie3 four_one"], ["proof (chain)\npicking this:\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> okmaxsync ?i ?\\<delta>S", "have \"okmaxsync i \\<delta>S\""], ["proof (prove)\nusing this:\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> okmaxsync ?i ?\\<delta>S\n\ngoal (1 subgoal):\n 1. okmaxsync i \\<delta>S", "by simp"], ["proof (state)\nthis:\n  okmaxsync i \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (max (te l i) (te m i)) -\n          IC m i (max (te l i) (te m i))\\<bar>\n    \\<le> \\<delta>S", "from this corr_tlm"], ["proof (chain)\npicking this:\n  okmaxsync i \\<delta>S\n  correct l (max (te l i) (te m i)) \\<and> correct m (max (te l i) (te m i))", "show ?thesis"], ["proof (prove)\nusing this:\n  okmaxsync i \\<delta>S\n  correct l (max (te l i) (te m i)) \\<and> correct m (max (te l i) (te m i))\n\ngoal (1 subgoal):\n 1. \\<bar>IC l i (max (te l i) (te m i)) -\n          IC m i (max (te l i) (te m i))\\<bar>\n    \\<le> \\<delta>S", "by(simp add: okmaxsync_def)"], ["proof (state)\nthis:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "from this corr_l corr_m corr_q_tq1 theta_bound"], ["proof (chain)\npicking this:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n  correct l (te q (i + 1))\n  correct m (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?l (te ?p (?i + 1)); correct ?m (te ?p (?i + 1));\n   correct ?p (te ?p (?i + 1));\n   \\<bar>IC ?l ?i (max (te ?l ?i) (te ?m ?i)) -\n         IC ?m ?i (max (te ?l ?i) (te ?m ?i))\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?p (?i + 1) ?l -\n                          \\<theta> ?p (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)", "have \"\\<bar>\\<theta> q (i+1) l - \\<theta> q (i+1) m\\<bar> \\<le> ?X\""], ["proof (prove)\nusing this:\n  \\<bar>IC l i (max (te l i) (te m i)) -\n        IC m i (max (te l i) (te m i))\\<bar>\n  \\<le> \\<delta>S\n  correct l (te q (i + 1))\n  correct m (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<lbrakk>correct ?l (te ?p (?i + 1)); correct ?m (te ?p (?i + 1));\n   correct ?p (te ?p (?i + 1));\n   \\<bar>IC ?l ?i (max (te ?l ?i) (te ?m ?i)) -\n         IC ?m ?i (max (te ?l ?i) (te ?m ?i))\\<bar>\n   \\<le> ?\\<delta>S\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> ?p (?i + 1) ?l -\n                          \\<theta> ?p (?i + 1) ?m\\<bar>\n                    \\<le> 2 * \\<Lambda> + ?\\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n    \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n  \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>correct ?l2 (te q (i + 1)); correct ?m2 (te q (i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> q (i + 1) ?l2 -\n                          \\<theta> q (i + 1) ?m2\\<bar>\n                    \\<le> 2 * \\<Lambda> + \\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>correct ?l2 (te q (i + 1)); correct ?m2 (te q (i + 1))\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<theta> q (i + 1) ?l2 -\n                          \\<theta> q (i + 1) ?m2\\<bar>\n                    \\<le> 2 * \\<Lambda> + \\<delta>S +\n                          2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<forall>l m.\n       correct l (te q (i + 1)) \\<and>\n       correct m (te q (i + 1)) \\<longrightarrow>\n       \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n       \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)", "by blast"], ["proof (state)\nthis:\n  \\<forall>l m.\n     correct l (te q (i + 1)) \\<and>\n     correct m (te q (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>l m.\n     correct l (te q (i + 1)) \\<and>\n     correct m (te q (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence readOK: \"okRead1 (\\<theta> q (i+1)) ?X ?ppred\""], ["proof (prove)\nusing this:\n  \\<forall>l m.\n     correct l (te q (i + 1)) \\<and>\n     correct m (te q (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> q (i + 1) l - \\<theta> q (i + 1) m\\<bar>\n     \\<le> 2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)\n\ngoal (1 subgoal):\n 1. okRead1 (\\<theta> q (i + 1))\n     (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n     (\\<lambda>l. correct l (te q (i + 1)))", "by(simp add: okRead1_def)"], ["proof (state)\nthis:\n  okRead1 (\\<theta> q (i + 1))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te q (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "let ?E3 = \"cfn q (\\<theta> q (i+1)) - \\<theta> q (i+1) p\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "let ?E4 = \"\\<theta> q (i+1) p - IC p i (te q (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have \"\\<bar>?E2\\<bar> = \\<bar>?E3 + ?E4\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar> =\n    \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p +\n          (\\<theta> q (i + 1) p - IC p i (te q (i + 1)))\\<bar>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar> =\n  \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p +\n        (\\<theta> q (i + 1) p - IC p i (te q (i + 1)))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence Eq8: \"\\<bar>?E2\\<bar> \\<le> \\<bar>?E3\\<bar> + \\<bar>?E4\\<bar>\""], ["proof (prove)\nusing this:\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar> =\n  \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p +\n        (\\<theta> q (i + 1) p - IC p i (te q (i + 1)))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n    \\<le> \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar> +\n          \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>", "by (simp add: abs_if)"], ["proof (state)\nthis:\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar> +\n        \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from correct_count"], ["proof (chain)\npicking this:\n  \\<forall>t. np - maxfaults \\<le> count (\\<lambda>p. correct p t) np", "have ppredOK: \"np - maxfaults \\<le> count ?ppred np\""], ["proof (prove)\nusing this:\n  \\<forall>t. np - maxfaults \\<le> count (\\<lambda>p. correct p t) np\n\ngoal (1 subgoal):\n 1. np - maxfaults \\<le> count (\\<lambda>l. correct l (te q (i + 1))) np", "by simp"], ["proof (state)\nthis:\n  np - maxfaults \\<le> count (\\<lambda>l. correct l (te q (i + 1))) np\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from readOK ppredOK corr_p_tq1 corr_q_tq1 acc_prsv"], ["proof (chain)\npicking this:\n  okRead1 (\\<theta> q (i + 1))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te q (i + 1)))\n  np - maxfaults \\<le> count (\\<lambda>l. correct l (te q (i + 1))) np\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<forall>ppred p q f x.\n     okRead1 f x ppred \\<and>\n     np - maxfaults \\<le> count ppred np \\<and>\n     ppred p \\<and> ppred q \\<longrightarrow>\n     \\<bar>cfn p f - f q\\<bar> \\<le> \\<alpha> x", "have \"\\<bar>?E3\\<bar> \\<le> \\<alpha> ?X\""], ["proof (prove)\nusing this:\n  okRead1 (\\<theta> q (i + 1))\n   (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n   (\\<lambda>l. correct l (te q (i + 1)))\n  np - maxfaults \\<le> count (\\<lambda>l. correct l (te q (i + 1))) np\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<forall>ppred p q f x.\n     okRead1 f x ppred \\<and>\n     np - maxfaults \\<le> count ppred np \\<and>\n     ppred p \\<and> ppred q \\<longrightarrow>\n     \\<bar>cfn p f - f q\\<bar> \\<le> \\<alpha> x\n\ngoal (1 subgoal):\n 1. \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar>\n    \\<le> \\<alpha>\n           (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))", "by blast"], ["proof (state)\nthis:\n  \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar>\n  \\<le> \\<alpha> (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this Eq8"], ["proof (chain)\npicking this:\n  \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar>\n  \\<le> \\<alpha> (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar> +\n        \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>", "have Eq9: \"\\<bar>?E2\\<bar> \\<le> \\<alpha> ?X + \\<bar>?E4\\<bar>\""], ["proof (prove)\nusing this:\n  \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar>\n  \\<le> \\<alpha> (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>))\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<bar>cfn q (\\<theta> q (i + 1)) - \\<theta> q (i + 1) p\\<bar> +\n        \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n    \\<le> \\<alpha>\n           (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n          \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from corr_p_tq1 corr_q_tq1 readerror"], ["proof (chain)\npicking this:\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>", "have \"\\<bar>?E4\\<bar> \\<le> \\<Lambda>\""], ["proof (prove)\nusing this:\n  correct p (te q (i + 1))\n  correct q (te q (i + 1))\n  \\<forall>p q i.\n     correct p (te p (i + 1)) \\<and>\n     correct q (te p (i + 1)) \\<longrightarrow>\n     \\<bar>\\<theta> p (i + 1) q - IC q i (te p (i + 1))\\<bar>\n     \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar> \\<le> \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar> \\<le> \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this Eq9"], ["proof (chain)\npicking this:\n  \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>", "have Eq10: \"\\<bar>?E2\\<bar> \\<le> \\<alpha> ?X + \\<Lambda>\""], ["proof (prove)\nusing this:\n  \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar> \\<le> \\<Lambda>\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<bar>\\<theta> q (i + 1) p - IC p i (te q (i + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n    \\<le> \\<alpha>\n           (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n          \\<Lambda>", "by simp"], ["proof (state)\nthis:\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this VC_split IC_eq_cfn"], ["proof (chain)\npicking this:\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda>\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n        2 * \\<rho> * (t - te q (i + 1))\n  IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1)) =\n  IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))", "have almost_right:\n    \"\\<bar>VC p t - VC q t\\<bar> \\<le>\n     \\<alpha> ?X + \\<Lambda> + 2*\\<rho>*(t - te q (i+1))\""], ["proof (prove)\nusing this:\n  \\<bar>IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda>\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<bar>IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1))\\<bar> +\n        2 * \\<rho> * (t - te q (i + 1))\n  IC p i (te q (i + 1)) - IC q (i + 1) (te q (i + 1)) =\n  IC p i (te q (i + 1)) - cfn q (\\<theta> q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar>\n    \\<le> \\<alpha>\n           (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n          \\<Lambda> +\n          2 * \\<rho> * (t - te q (i + 1))", "by simp"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * (t - te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have \"t - te q (i+1) \\<le> \\<beta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t - te q (i + 1) \\<le> \\<beta>", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t - te q (i + 1) \\<le> \\<beta> \\<Longrightarrow> False", "assume \"\\<not> (t - te q (i+1) \\<le> \\<beta>)\""], ["proof (state)\nthis:\n  \\<not> t - te q (i + 1) \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<not> t - te q (i + 1) \\<le> \\<beta> \\<Longrightarrow> False", "hence \"te q (i+1) + \\<beta> \\<le> t\""], ["proof (prove)\nusing this:\n  \\<not> t - te q (i + 1) \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. te q (i + 1) + \\<beta> \\<le> t", "by simp"], ["proof (state)\nthis:\n  te q (i + 1) + \\<beta> \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t - te q (i + 1) \\<le> \\<beta> \\<Longrightarrow> False", "from this corr_p corr_q rts2a"], ["proof (chain)\npicking this:\n  te q (i + 1) + \\<beta> \\<le> t\n  correct p t\n  correct q t\n  \\<forall>p q t i.\n     correct p t \\<and>\n     correct q t \\<and> te q i + \\<beta> \\<le> t \\<longrightarrow>\n     te p i \\<le> t", "have \"te p (i+1) \\<le> t\""], ["proof (prove)\nusing this:\n  te q (i + 1) + \\<beta> \\<le> t\n  correct p t\n  correct q t\n  \\<forall>p q t i.\n     correct p t \\<and>\n     correct q t \\<and> te q i + \\<beta> \\<le> t \\<longrightarrow>\n     te p i \\<le> t\n\ngoal (1 subgoal):\n 1. te p (i + 1) \\<le> t", "by auto"], ["proof (state)\nthis:\n  te p (i + 1) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t - te q (i + 1) \\<le> \\<beta> \\<Longrightarrow> False", "hence \"\\<not> (t < te p (i+1))\""], ["proof (prove)\nusing this:\n  te p (i + 1) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < te p (i + 1)", "by simp"], ["proof (state)\nthis:\n  \\<not> t < te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> t - te q (i + 1) \\<le> \\<beta> \\<Longrightarrow> False", "from this tp_bound2"], ["proof (chain)\npicking this:\n  \\<not> t < te p (i + 1)\n  t < te p (i + 1)", "show False"], ["proof (prove)\nusing this:\n  \\<not> t < te p (i + 1)\n  t < te p (i + 1)\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t - te q (i + 1) \\<le> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this constants_ax"], ["proof (chain)\npicking this:\n  t - te q (i + 1) \\<le> \\<beta>\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np", "have \"\\<alpha> ?X + \\<Lambda> + 2*\\<rho>*(t - te q (i+1))\n        \\<le> \\<alpha> ?X + \\<Lambda> + 2*\\<rho>*\\<beta>\""], ["proof (prove)\nusing this:\n  t - te q (i + 1) \\<le> \\<beta>\n  0 < \\<beta> \\<and>\n  0 < \\<mu> \\<and>\n  0 < rmin \\<and>\n  rmin \\<le> rmax \\<and> 0 < \\<rho> \\<and> 0 < np \\<and> maxfaults \\<le> np\n\ngoal (1 subgoal):\n 1. \\<alpha> (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n    \\<Lambda> +\n    2 * \\<rho> * (t - te q (i + 1))\n    \\<le> \\<alpha>\n           (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n          \\<Lambda> +\n          2 * \\<rho> * \\<beta>", "by (simp)"], ["proof (state)\nthis:\n  \\<alpha> (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n  \\<Lambda> +\n  2 * \\<rho> * (t - te q (i + 1))\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * \\<beta>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this almost_right"], ["proof (chain)\npicking this:\n  \\<alpha> (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n  \\<Lambda> +\n  2 * \\<rho> * (t - te q (i + 1))\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * \\<beta>\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * (t - te q (i + 1))", "have \"\\<bar>VC p t - VC q t\\<bar> \\<le> \\<alpha> ?X + \\<Lambda> + 2*\\<rho>*\\<beta>\""], ["proof (prove)\nusing this:\n  \\<alpha> (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n  \\<Lambda> +\n  2 * \\<rho> * (t - te q (i + 1))\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * \\<beta>\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * (t - te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar>\n    \\<le> \\<alpha>\n           (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n          \\<Lambda> +\n          2 * \\<rho> * \\<beta>", "by arith"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * \\<beta>\n\ngoal (1 subgoal):\n 1. \\<not> t < te q (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this ie5"], ["proof (chain)\npicking this:\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * \\<beta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>VC p t - VC q t\\<bar>\n  \\<le> \\<alpha>\n         (2 * \\<Lambda> + \\<delta>S + 2 * \\<rho> * (rmax + \\<beta>)) +\n        \\<Lambda> +\n        2 * \\<rho> * \\<beta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by (simp add: \\<gamma>3_def)"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Theorem 4.2 in Shankar's paper.\\<close>"], ["", "theorem four_two:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ie4: \"\\<gamma>2 \\<delta>S \\<le> \\<delta>\"\n  and ie5: \"\\<gamma>3 \\<delta>S \\<le> \\<delta>\"\nshows \"okClocks p q i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. okClocks p q i", "proof (induct i)"], ["proof (state)\ngoal (2 subgoals):\n 1. okClocks p q 0\n 2. \\<And>i. okClocks p q i \\<Longrightarrow> okClocks p q (Suc i)", "show \"okClocks p q 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. okClocks p q 0", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q 0", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q 0", "fix t :: time"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q 0", "assume t_bound1: \"0 \\<le> t\""], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "assume t_bound2: \"t < max (te p 0) (te q 0)\""], ["proof (state)\nthis:\n  t < max (te p 0) (te q 0)\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "assume corr_p: \"correct p t\""], ["proof (state)\nthis:\n  correct p t\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "assume corr_q: \"correct q t\""], ["proof (state)\nthis:\n  correct q t\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "from t_bound2 synch0"], ["proof (chain)\npicking this:\n  t < max (te p 0) (te q 0)\n  \\<forall>p. te p 0 = 0", "have \"t < 0\""], ["proof (prove)\nusing this:\n  t < max (te p 0) (te q 0)\n  \\<forall>p. te p 0 = 0\n\ngoal (1 subgoal):\n 1. t < 0", "by(simp add: max_def)"], ["proof (state)\nthis:\n  t < 0\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "from this t_bound1"], ["proof (chain)\npicking this:\n  t < 0\n  0 \\<le> t", "have False"], ["proof (prove)\nusing this:\n  t < 0\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "hence \"\\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\""], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by simp"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "}"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?t2; ?t2 < max (te p 0) (te q 0); correct p ?t2;\n   correct q ?t2\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC p ?t2 - VC q ?t2\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?t2; ?t2 < max (te p 0) (te q 0); correct p ?t2;\n   correct q ?t2\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC p ?t2 - VC q ?t2\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks p q 0", "by (simp add: okClocks_def)"], ["proof (state)\nthis:\n  okClocks p q 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  okClocks p q 0\n\ngoal (1 subgoal):\n 1. \\<And>i. okClocks p q i \\<Longrightarrow> okClocks p q (Suc i)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. okClocks p q i \\<Longrightarrow> okClocks p q (Suc i)", "fix i::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. okClocks p q i \\<Longrightarrow> okClocks p q (Suc i)", "assume ind_hyp: \"okClocks p q i\""], ["proof (state)\nthis:\n  okClocks p q i\n\ngoal (1 subgoal):\n 1. \\<And>i. okClocks p q i \\<Longrightarrow> okClocks p q (Suc i)", "show \"okClocks p q (Suc i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "fix t :: time"], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "assume t_bound1: \"0 \\<le> t\""], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "assume t_bound2: \"t < max (te p (i+1)) (te q (i+1))\""], ["proof (state)\nthis:\n  t < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "assume corr_p: \"correct p t\""], ["proof (state)\nthis:\n  correct p t\n\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "assume corr_q: \"correct q t\""], ["proof (state)\nthis:\n  correct q t\n\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "let ?tpq1 = \"max (te p i) (te q i)\""], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "let ?tpq2 = \"max (te p (i+1)) (te q (i+1))\""], ["proof (state)\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "have \"\\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume tpq_bound: \"?tpq1 < ?tpq2\""], ["proof (state)\nthis:\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume \"t < ?tpq1\""], ["proof (state)\nthis:\n  t < max (te p i) (te q i)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from t_bound1 this  corr_p corr_q ind_hyp"], ["proof (chain)\npicking this:\n  0 \\<le> t\n  t < max (te p i) (te q i)\n  correct p t\n  correct q t\n  okClocks p q i", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> t\n  t < max (te p i) (te q i)\n  correct p t\n  correct q t\n  okClocks p q i\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by(simp add: okClocks_def)"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> t < max (te p i) (te q i) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t < max (te p i) (te q i) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume \"\\<not> (t < ?tpq1)\""], ["proof (state)\nthis:\n  \\<not> t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<not> t < max (te p i) (te q i) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence tpq_le_t: \"?tpq1 \\<le> t\""], ["proof (prove)\nusing this:\n  \\<not> t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. max (te p i) (te q i) \\<le> t", "by arith"], ["proof (state)\nthis:\n  max (te p i) (te q i) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t < max (te p i) (te q i) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume A: \"te q (i+1) \\<le> te p (i+1)\""], ["proof (state)\nthis:\n  te q (i + 1) \\<le> te p (i + 1)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n 2. \\<not> ?P \\<Longrightarrow> \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this tpq_le_t tpq_bound ie1 ie2 ie3 ie4 ie5\n              ind_hyp t_bound1 t_bound2\n              corr_p corr_q tpq_bound four_two_ind"], ["proof (chain)\npicking this:\n  te q (i + 1) \\<le> te p (i + 1)\n  max (te p i) (te q i) \\<le> t\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>\n  okClocks p q i\n  0 \\<le> t\n  t < max (te p (i + 1)) (te q (i + 1))\n  correct p t\n  correct q t\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S;\n   \\<gamma>2 ?\\<delta>S \\<le> \\<delta>; \\<gamma>3 ?\\<delta>S \\<le> \\<delta>;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); okClocks ?p ?q ?i; 0 \\<le> ?t;\n   ?t < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   max (te ?p ?i) (te ?q ?i) \\<le> ?t;\n   max (te ?p ?i) (te ?q ?i) < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC ?p ?t - VC ?q ?t\\<bar> \\<le> \\<delta>", "show ?thesis"], ["proof (prove)\nusing this:\n  te q (i + 1) \\<le> te p (i + 1)\n  max (te p i) (te q i) \\<le> t\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>\n  okClocks p q i\n  0 \\<le> t\n  t < max (te p (i + 1)) (te q (i + 1))\n  correct p t\n  correct q t\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S;\n   \\<gamma>2 ?\\<delta>S \\<le> \\<delta>; \\<gamma>3 ?\\<delta>S \\<le> \\<delta>;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); okClocks ?p ?q ?i; 0 \\<le> ?t;\n   ?t < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   max (te ?p ?i) (te ?q ?i) \\<le> ?t;\n   max (te ?p ?i) (te ?q ?i) < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC ?p ?t - VC ?q ?t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by(simp)"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume \"\\<not> (te q (i+1) \\<le> te p (i+1))\""], ["proof (state)\nthis:\n  \\<not> te q (i + 1) \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence B: \"te p (i+1) \\<le> te q (i+1)\""], ["proof (prove)\nusing this:\n  \\<not> te q (i + 1) \\<le> te p (i + 1)\n\ngoal (1 subgoal):\n 1. te p (i + 1) \\<le> te q (i + 1)", "by simp"], ["proof (state)\nthis:\n  te p (i + 1) \\<le> te q (i + 1)\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from ind_hyp okClocks_sym"], ["proof (chain)\npicking this:\n  okClocks p q i\n  okClocks ?p ?q ?i \\<Longrightarrow> okClocks ?q ?p ?i", "have ind_hyp1: \"okClocks q p i\""], ["proof (prove)\nusing this:\n  okClocks p q i\n  okClocks ?p ?q ?i \\<Longrightarrow> okClocks ?q ?p ?i\n\ngoal (1 subgoal):\n 1. okClocks q p i", "by blast"], ["proof (state)\nthis:\n  okClocks q p i\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have maxsym1: \"max (te p (i+1)) (te q (i+1)) = max (te q (i+1)) (te p (i+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (te p (i + 1)) (te q (i + 1)) = max (te q (i + 1)) (te p (i + 1))", "by (simp add: max_def)"], ["proof (state)\nthis:\n  max (te p (i + 1)) (te q (i + 1)) = max (te q (i + 1)) (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "have maxsym2: \"max (te p i) (te q i) = max (te q i) (te p i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (te p i) (te q i) = max (te q i) (te p i)", "by (simp add: max_def)"], ["proof (state)\nthis:\n  max (te p i) (te q i) = max (te q i) (te p i)\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from maxsym1 t_bound2"], ["proof (chain)\npicking this:\n  max (te p (i + 1)) (te q (i + 1)) = max (te q (i + 1)) (te p (i + 1))\n  t < max (te p (i + 1)) (te q (i + 1))", "have t_bound21: \"t < max (te q (i+1)) (te p (i+1))\""], ["proof (prove)\nusing this:\n  max (te p (i + 1)) (te q (i + 1)) = max (te q (i + 1)) (te p (i + 1))\n  t < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. t < max (te q (i + 1)) (te p (i + 1))", "by simp"], ["proof (state)\nthis:\n  t < max (te q (i + 1)) (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from maxsym1 maxsym2 tpq_bound"], ["proof (chain)\npicking this:\n  max (te p (i + 1)) (te q (i + 1)) = max (te q (i + 1)) (te p (i + 1))\n  max (te p i) (te q i) = max (te q i) (te p i)\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))", "have tpq_bound1: \"max (te q i) (te p i) < max (te q (i+1)) (te p (i+1))\""], ["proof (prove)\nusing this:\n  max (te p (i + 1)) (te q (i + 1)) = max (te q (i + 1)) (te p (i + 1))\n  max (te p i) (te q i) = max (te q i) (te p i)\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. max (te q i) (te p i) < max (te q (i + 1)) (te p (i + 1))", "by simp"], ["proof (state)\nthis:\n  max (te q i) (te p i) < max (te q (i + 1)) (te p (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from maxsym2 tpq_le_t"], ["proof (chain)\npicking this:\n  max (te p i) (te q i) = max (te q i) (te p i)\n  max (te p i) (te q i) \\<le> t", "have tpq_le_t1: \"max (te q i) (te p i) \\<le> t\""], ["proof (prove)\nusing this:\n  max (te p i) (te q i) = max (te q i) (te p i)\n  max (te p i) (te q i) \\<le> t\n\ngoal (1 subgoal):\n 1. max (te q i) (te p i) \\<le> t", "by simp"], ["proof (state)\nthis:\n  max (te q i) (te p i) \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from B tpq_le_t1 tpq_bound1 ie1 ie2 ie3 ie4 ie5\n              ind_hyp1 t_bound1 t_bound21\n              corr_p corr_q tpq_bound four_two_ind"], ["proof (chain)\npicking this:\n  te p (i + 1) \\<le> te q (i + 1)\n  max (te q i) (te p i) \\<le> t\n  max (te q i) (te p i) < max (te q (i + 1)) (te p (i + 1))\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>\n  okClocks q p i\n  0 \\<le> t\n  t < max (te q (i + 1)) (te p (i + 1))\n  correct p t\n  correct q t\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S;\n   \\<gamma>2 ?\\<delta>S \\<le> \\<delta>; \\<gamma>3 ?\\<delta>S \\<le> \\<delta>;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); okClocks ?p ?q ?i; 0 \\<le> ?t;\n   ?t < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   max (te ?p ?i) (te ?q ?i) \\<le> ?t;\n   max (te ?p ?i) (te ?q ?i) < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC ?p ?t - VC ?q ?t\\<bar> \\<le> \\<delta>", "have \"\\<bar>VC q t - VC p t\\<bar> \\<le> \\<delta>\""], ["proof (prove)\nusing this:\n  te p (i + 1) \\<le> te q (i + 1)\n  max (te q i) (te p i) \\<le> t\n  max (te q i) (te p i) < max (te q (i + 1)) (te p (i + 1))\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>\n  okClocks q p i\n  0 \\<le> t\n  t < max (te q (i + 1)) (te p (i + 1))\n  correct p t\n  correct q t\n  max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S;\n   \\<gamma>2 ?\\<delta>S \\<le> \\<delta>; \\<gamma>3 ?\\<delta>S \\<le> \\<delta>;\n   te ?q (?i + 1) \\<le> te ?p (?i + 1); okClocks ?p ?q ?i; 0 \\<le> ?t;\n   ?t < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   max (te ?p ?i) (te ?q ?i) \\<le> ?t;\n   max (te ?p ?i) (te ?q ?i) < max (te ?p (?i + 1)) (te ?q (?i + 1));\n   correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC ?p ?t - VC ?q ?t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<bar>VC q t - VC p t\\<bar> \\<le> \\<delta>", "by(simp)"], ["proof (state)\nthis:\n  \\<bar>VC q t - VC p t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> te q (i + 1) \\<le> te p (i + 1) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>VC q t - VC p t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by (simp add: abs_minus_commute)"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> max (te p i) (te q i)\n           < max (te p (i + 1)) (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> max (te p i) (te q i)\n           < max (te p (i + 1)) (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "assume \"\\<not> (?tpq1 < ?tpq2)\""], ["proof (state)\nthis:\n  \\<not> max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. \\<not> max (te p i) (te q i)\n           < max (te p (i + 1)) (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "hence \"?tpq2 \\<le> ?tpq1\""], ["proof (prove)\nusing this:\n  \\<not> max (te p i) (te q i) < max (te p (i + 1)) (te q (i + 1))\n\ngoal (1 subgoal):\n 1. max (te p (i + 1)) (te q (i + 1)) \\<le> max (te p i) (te q i)", "by arith"], ["proof (state)\nthis:\n  max (te p (i + 1)) (te q (i + 1)) \\<le> max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<not> max (te p i) (te q i)\n           < max (te p (i + 1)) (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from t_bound2 this"], ["proof (chain)\npicking this:\n  t < max (te p (i + 1)) (te q (i + 1))\n  max (te p (i + 1)) (te q (i + 1)) \\<le> max (te p i) (te q i)", "have \"t < ?tpq1\""], ["proof (prove)\nusing this:\n  t < max (te p (i + 1)) (te q (i + 1))\n  max (te p (i + 1)) (te q (i + 1)) \\<le> max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. t < max (te p i) (te q i)", "by arith"], ["proof (state)\nthis:\n  t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<not> max (te p i) (te q i)\n           < max (te p (i + 1)) (te q (i + 1)) \\<Longrightarrow>\n    \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from t_bound1 this corr_p corr_q ind_hyp"], ["proof (chain)\npicking this:\n  0 \\<le> t\n  t < max (te p i) (te q i)\n  correct p t\n  correct q t\n  okClocks p q i", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> t\n  t < max (te p i) (te q i)\n  correct p t\n  correct q t\n  okClocks p q i\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by(simp add: okClocks_def)"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?t2; ?t2 < max (te p (i + 1)) (te q (i + 1));\n   correct p ?t2; correct q ?t2\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC p ?t2 - VC q ?t2\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?t2; ?t2 < max (te p (i + 1)) (te q (i + 1));\n   correct p ?t2; correct q ?t2\\<rbrakk>\n  \\<Longrightarrow> \\<bar>VC p ?t2 - VC q ?t2\\<bar> \\<le> \\<delta>\n\ngoal (1 subgoal):\n 1. okClocks p q (Suc i)", "by (simp add: okClocks_def)"], ["proof (state)\nthis:\n  okClocks p q (Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  okClocks p q (Suc i)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>The main theorem: all correct clocks are synchronized within the\nbound delta.\\<close>"], ["", "theorem agreement:\n  assumes ie1: \"\\<beta> \\<le> rmin\"\n  and ie2: \"\\<mu> \\<le> \\<delta>S\"\n  and ie3: \"\\<gamma>1 \\<delta>S \\<le> \\<delta>S\"\n  and ie4: \"\\<gamma>2 \\<delta>S \\<le> \\<delta>\"\n  and ie5: \"\\<gamma>3 \\<delta>S \\<le> \\<delta>\"\n  and ie6: \"0 \\<le> t\"\n  and cpq: \"correct p t \\<and> correct q t\"\nshows \"\\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from ie6 cpq event_bound"], ["proof (chain)\npicking this:\n  0 \\<le> t\n  correct p t \\<and> correct q t\n  \\<lbrakk>0 \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i. ?t < max (te ?p i) (te ?q i)", "have \"\\<exists> i :: nat. t < max (te p i) (te q i)\""], ["proof (prove)\nusing this:\n  0 \\<le> t\n  correct p t \\<and> correct q t\n  \\<lbrakk>0 \\<le> ?t; correct ?p ?t; correct ?q ?t\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i. ?t < max (te ?p i) (te ?q i)\n\ngoal (1 subgoal):\n 1. \\<exists>i. t < max (te p i) (te q i)", "by simp"], ["proof (state)\nthis:\n  \\<exists>i. t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from this"], ["proof (chain)\npicking this:\n  \\<exists>i. t < max (te p i) (te q i)", "obtain i  :: nat where t_bound: \"t < max (te p i) (te q i)\""], ["proof (prove)\nusing this:\n  \\<exists>i. t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        t < max (te p i) (te q i) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  t < max (te p i) (te q i)\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from t_bound ie1 ie2 ie3 ie4 ie5 four_two"], ["proof (chain)\npicking this:\n  t < max (te p i) (te q i)\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S;\n   \\<gamma>2 ?\\<delta>S \\<le> \\<delta>;\n   \\<gamma>3 ?\\<delta>S \\<le> \\<delta>\\<rbrakk>\n  \\<Longrightarrow> okClocks ?p ?q ?i", "have \"okClocks p q i\""], ["proof (prove)\nusing this:\n  t < max (te p i) (te q i)\n  \\<beta> \\<le> rmin\n  \\<mu> \\<le> \\<delta>S\n  \\<gamma>1 \\<delta>S \\<le> \\<delta>S\n  \\<gamma>2 \\<delta>S \\<le> \\<delta>\n  \\<gamma>3 \\<delta>S \\<le> \\<delta>\n  \\<lbrakk>\\<beta> \\<le> rmin; \\<mu> \\<le> ?\\<delta>S;\n   \\<gamma>1 ?\\<delta>S \\<le> ?\\<delta>S;\n   \\<gamma>2 ?\\<delta>S \\<le> \\<delta>;\n   \\<gamma>3 ?\\<delta>S \\<le> \\<delta>\\<rbrakk>\n  \\<Longrightarrow> okClocks ?p ?q ?i\n\ngoal (1 subgoal):\n 1. okClocks p q i", "by simp"], ["proof (state)\nthis:\n  okClocks p q i\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "from ie6 this t_bound cpq"], ["proof (chain)\npicking this:\n  0 \\<le> t\n  okClocks p q i\n  t < max (te p i) (te q i)\n  correct p t \\<and> correct q t", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> t\n  okClocks p q i\n  t < max (te p i) (te q i)\n  correct p t \\<and> correct q t\n\ngoal (1 subgoal):\n 1. \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>", "by (simp add: okClocks_def)"], ["proof (state)\nthis:\n  \\<bar>VC p t - VC q t\\<bar> \\<le> \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}