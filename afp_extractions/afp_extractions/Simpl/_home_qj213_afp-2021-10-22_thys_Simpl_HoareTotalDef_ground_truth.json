{"file_name": "/home/qj213/afp-2021-10-22/thys/Simpl/HoareTotalDef.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Simpl", "problem_names": ["lemma validtI:\n \"\\<lbrakk>\\<And>s t. \\<lbrakk>\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;s \\<in> P;t \\<notin> Fault ` F\\<rbrakk> \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n   \\<And>s. s \\<in> P \\<Longrightarrow> \\<Gamma>\\<turnstile> c\\<down>(Normal s) \\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma cvalidtI:\n \"\\<lbrakk>\\<And>s t. \\<lbrakk>\\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A;\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;s \\<in> P;\n          t \\<notin> Fault ` F\\<rbrakk>\n          \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n   \\<And>s. \\<lbrakk>\\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A; s\\<in>P\\<rbrakk> \\<Longrightarrow>  \\<Gamma>\\<turnstile>c\\<down>(Normal s)\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma cvalidt_postD:\n \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A; \\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A;\\<Gamma>\\<turnstile>\\<langle>c,Normal s \\<rangle> \\<Rightarrow> t;\n   s \\<in> P;t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\"", "lemma cvalidt_termD:\n \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A; \\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A;s \\<in> P\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile>c\\<down>(Normal s)\"", "lemma validt_augment_Faults:\n  assumes valid:\"\\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes F': \"F \\<subseteq> F'\"\n  shows \"\\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F'\\<^esub> P c Q,A\"", "lemma hoaret_to_hoarep:\n  assumes hoaret: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P p Q,A\"", "lemma hoaret_augment_context:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\"\n  shows \"\\<And>\\<Theta>'. \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow> \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\"", "lemma  Conseq': \"\\<forall>s. s \\<in> P \\<longrightarrow>\n            (\\<exists>P' Q' A'.\n              (\\<forall> Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)) \\<and>\n                    (\\<exists>Z. s \\<in> P' Z \\<and> (Q' Z \\<subseteq> Q) \\<and> (A' Z \\<subseteq> A)))\n           \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma conseq:\"\\<lbrakk>\\<forall>Z. \\<Gamma>,\\<Theta> \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z);\n              \\<forall>s. s \\<in> P \\<longrightarrow> (\\<exists> Z. s\\<in>P' Z \\<and> (Q' Z \\<subseteq> Q)\\<and> (A' Z \\<subseteq> A))\\<rbrakk>\n              \\<Longrightarrow>\n              \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"", "theorem conseqPrePost:\n  \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<Longrightarrow> P \\<subseteq> P' \\<Longrightarrow>  Q' \\<subseteq> Q \\<Longrightarrow> A' \\<subseteq> A \\<Longrightarrow>  \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma conseqPre: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q,A \\<Longrightarrow> P \\<subseteq> P' \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma conseqPost: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q',A'\\<Longrightarrow> Q' \\<subseteq> Q \\<Longrightarrow> A' \\<subseteq> A \\<Longrightarrow>   \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"", "lemma Spec_wf_conv:\n  \"(\\<lambda>(P, q, Q, A). (P \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r}, q, Q, A)) `\n                (\\<Union>p\\<in>Procs. \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}) =\n        (\\<Union>q\\<in>Procs. \\<Union>Z. {(P q Z \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r}, q, Q q Z, A q Z)})\"", "lemma CallRec':\n  \"\\<lbrakk>p\\<in>Procs; Procs \\<subseteq> dom \\<Gamma>;\n    wf r;\n   \\<forall>p\\<in>Procs. \\<forall>\\<tau> Z.\n   \\<Gamma>,\\<Theta>\\<union>(\\<Union>q\\<in>Procs. \\<Union>Z.\n    {((P q Z) \\<inter> {s. ((s,q),(\\<tau>,p)) \\<in> r},q,Q q Z,(A q Z))})\n     \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> (P p Z)) (the (\\<Gamma> p)) (Q p Z),(A p Z)\\<rbrakk>\n   \\<Longrightarrow>\n   \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P p Z) (Call p) (Q p Z),(A p Z)\""], "translations": [["", "lemma validtI:\n \"\\<lbrakk>\\<And>s t. \\<lbrakk>\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;s \\<in> P;t \\<notin> Fault ` F\\<rbrakk> \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n   \\<And>s. s \\<in> P \\<Longrightarrow> \\<Gamma>\\<turnstile> c\\<down>(Normal s) \\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s t.\n                \\<lbrakk>\\<Gamma>\\<turnstile> \\<langle>c,Normal\n                    s\\<rangle> \\<Rightarrow> t;\n                 s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n                \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n     \\<And>s.\n        s \\<in> P \\<Longrightarrow>\n        \\<Gamma>\\<turnstile>c \\<down> Normal s\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "by (auto simp add: validt_def valid_def)"], ["", "lemma cvalidtI:\n \"\\<lbrakk>\\<And>s t. \\<lbrakk>\\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A;\\<Gamma>\\<turnstile>\\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;s \\<in> P;\n          t \\<notin> Fault ` F\\<rbrakk>\n          \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n   \\<And>s. \\<lbrakk>\\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A; s\\<in>P\\<rbrakk> \\<Longrightarrow>  \\<Gamma>\\<turnstile>c\\<down>(Normal s)\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s t.\n                \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                            \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                            P Call p Q,A;\n                 \\<Gamma>\\<turnstile> \\<langle>c,Normal\n            s\\<rangle> \\<Rightarrow> t;\n                 s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n                \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A;\n     \\<And>s.\n        \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n                    \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                    P Call p Q,A;\n         s \\<in> P\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>\\<turnstile>c \\<down> Normal s\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                      P c Q,A", "by (auto simp add: cvalidt_def validt_def valid_def)"], ["", "lemma cvalidt_postD:\n \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A; \\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A;\\<Gamma>\\<turnstile>\\<langle>c,Normal s \\<rangle> \\<Rightarrow> t;\n   s \\<in> P;t \\<notin> Fault ` F\\<rbrakk>\n  \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n             P c Q,A;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p Q,A;\n     \\<Gamma>\\<turnstile> \\<langle>c,Normal s\\<rangle> \\<Rightarrow> t;\n     s \\<in> P; t \\<notin> Fault ` F\\<rbrakk>\n    \\<Longrightarrow> t \\<in> Normal ` Q \\<union> Abrupt ` A", "by (simp add: cvalidt_def validt_def valid_def)"], ["", "lemma cvalidt_termD:\n \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A; \\<forall>(P,p,Q,A)\\<in>\\<Theta>. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A;s \\<in> P\\<rbrakk>\n  \\<Longrightarrow> \\<Gamma>\\<turnstile>c\\<down>(Normal s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n             P c Q,A;\n     \\<forall>(P, p, Q, A)\\<in>\\<Theta>.\n        \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p Q,A;\n     s \\<in> P\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>\\<turnstile>c \\<down> Normal s", "by (simp add: cvalidt_def validt_def valid_def)"], ["", "lemma validt_augment_Faults:\n  assumes valid:\"\\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"\n  assumes F': \"F \\<subseteq> F'\"\n  shows \"\\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F'\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F'\\<^esub> P c Q,A", "using valid F'"], ["proof (prove)\nusing this:\n  \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  F \\<subseteq> F'\n\ngoal (1 subgoal):\n 1. \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F'\\<^esub> P c Q,A", "by (auto intro: valid_augment_Faults simp add: validt_def)"], ["", "subsection \\<open>The Hoare Rules: \\<open>\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\\<close>\\<close>"], ["", "inductive \"hoaret\"::\"[('s,'p,'f) body,('s,'p) quadruple set,'f set,\n                        's assn,('s,'p,'f) com,'s assn,'s assn]\n                       => bool\"\n    (\"(3_,_/\\<turnstile>\\<^sub>t\\<^bsub>'/_\\<^esub> (_/ (_)/ _,_))\" [61,60,60,1000,20,1000,1000]60)\n   for \\<Gamma>::\"('s,'p,'f) body\"\nwhere\n  Skip: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\"\n\n| Basic: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} (Basic f) Q,A\"\n\n| Spec: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. (\\<forall>t. (s,t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and> (\\<exists>t. (s,t) \\<in> r)} (Spec r) Q,A\"\n\n| Seq: \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A; \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A\\<rbrakk>\n        \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Seq c\\<^sub>1 c\\<^sub>2 Q,A\"\n\n| Cond: \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b) c\\<^sub>1 Q,A; \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2 Q,A\\<rbrakk>\n         \\<Longrightarrow>\n         \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Cond b c\\<^sub>1 c\\<^sub>2) Q,A\"\n\n| While: \"\\<lbrakk>wf r; \\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter> P \\<inter> b) c ({t. (t,\\<sigma>)\\<in>r} \\<inter> P),A\\<rbrakk>\n          \\<Longrightarrow>\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (While b c) (P \\<inter> - b),A\"\n\n| Guard: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\n          \\<Longrightarrow>\n          \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) Guard f g c Q,A\"\n\n| Guarantee: \"\\<lbrakk>f \\<in> F; \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A\\<rbrakk>\n              \\<Longrightarrow>\n              \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Guard f g c) Q,A\"\n\n| CallRec:\n  \"\\<lbrakk>(P,p,Q,A) \\<in> Specs;\n    wf r;\n    Specs_wf = (\\<lambda>p \\<sigma>. (\\<lambda>(P,q,Q,A). (P \\<inter> {s. ((s,q),(\\<sigma>,p)) \\<in> r},q,Q,A)) ` Specs);\n    \\<forall>(P,p,Q,A)\\<in> Specs.\n      p \\<in> dom \\<Gamma> \\<and> (\\<forall>\\<sigma>. \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter> P) (the (\\<Gamma> p)) Q,A)\n    \\<rbrakk>\n    \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A\"\n\n\n| DynCom:  \"\\<forall>s \\<in> P. \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (c s) Q,A\n            \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (DynCom c) Q,A\"\n\n\n| Throw: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\"\n\n| Catch: \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R; \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A\\<rbrakk> \\<Longrightarrow>  \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Catch c\\<^sub>1 c\\<^sub>2 Q,A\"\n\n| Conseq: \"\\<forall>s \\<in> P. \\<exists>P' Q' A'. \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and> s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n           \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"\n\n\n| Asm: \"(P,p,Q,A) \\<in> \\<Theta>\n        \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P (Call p) Q,A\"\n\n| ExFalso: \"\\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A; \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\\<rbrakk> \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\"\n  \\<comment> \\<open>This is a hack rule that enables us to derive completeness for\n        an arbitrary context \\<open>\\<Theta>\\<close>, from completeness for an empty context.\\<close>"], ["", "text \\<open>Does not work, because of rule ExFalso, the context \\<open>\\<Theta>\\<close> is to blame.\n A weaker version with empty context can be derived from soundness\n later on.\\<close>"], ["", "lemma hoaret_to_hoarep:\n  assumes hoaret: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\"\n  shows \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P p Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P p Q,A", "using hoaret"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P p Q,A", "proof (induct)"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s. f s \\<in> Q} Basic f Q,A\n 3. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 10. \\<And>P \\<Theta> F c Q A.\n        \\<forall>s\\<in>P.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\nA total of 15 subgoals...", "case Skip"], ["proof (state)\nthis:\n  \n\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s. f s \\<in> Q} Basic f Q,A\n 3. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 10. \\<And>P \\<Theta> F c Q A.\n        \\<forall>s\\<in>P.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\nA total of 15 subgoals...", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>Q_ Skip Q_,A_", "by (rule hoarep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>Q_ Skip Q_,A_\n\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F f Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s. f s \\<in> Q} Basic f Q,A\n 2. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 6. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 7. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 8. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q.\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F f Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s. f s \\<in> Q} Basic f Q,A\n 2. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 6. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 7. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 8. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q.\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\nA total of 14 subgoals...", "case Basic"], ["proof (state)\nthis:\n  \n\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F f Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s. f s \\<in> Q} Basic f Q,A\n 2. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 3. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 6. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 7. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 8. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q.\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\n       \\<turnstile>\\<^bsub>/F_ \\<^esub>{s. f_ s \\<in> Q_} Basic f_ Q_,A_", "by (rule hoarep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>{s. f_ s \\<in> Q_} Basic f_ Q_,A_\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 5. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 6. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 7. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 8. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 9. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>P\n                      Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 5. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 6. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 7. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 8. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 9. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>P\n                      Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "case Seq"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c\\<^sub>1_ R_,A_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c\\<^sub>1_ R_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> R_ c\\<^sub>2_ Q_,A_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>R_ c\\<^sub>2_ Q_,A_\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 4. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 5. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 6. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 7. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 8. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 9. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>P\n                      Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c\\<^sub>1_ R_,A_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c\\<^sub>1_ R_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> R_ c\\<^sub>2_ Q_,A_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>R_ c\\<^sub>2_ Q_,A_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\n       \\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Seq c\\<^sub>1_ c\\<^sub>2_ Q_,A_", "by - (rule hoarep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Seq c\\<^sub>1_ c\\<^sub>2_ Q_,A_\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 6. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n               \\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 6. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n               \\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\nA total of 12 subgoals...", "case Cond"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> (P_ \\<inter> b_) c\\<^sub>1_\n       Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(P_ \\<inter> b_) c\\<^sub>1_ Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> (P_ \\<inter> - b_) c\\<^sub>2_\n       Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(P_ \\<inter> - b_) c\\<^sub>2_ Q_,A_\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> - b) c\\<^sub>2 Q,\n    A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 3. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 4. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 5. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 6. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 7. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 8. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 9. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 10. \\<And>P \\<Theta> F c Q A.\n        \\<forall>s\\<in>P.\n           \\<exists>P' Q' A'.\n              (\\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n               \\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n              s \\<in> P' \\<and>\n              Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> (P_ \\<inter> b_) c\\<^sub>1_\n       Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(P_ \\<inter> b_) c\\<^sub>1_ Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> (P_ \\<inter> - b_) c\\<^sub>2_\n       Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(P_ \\<inter> - b_) c\\<^sub>2_ Q_,A_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\n       \\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Cond b_ c\\<^sub>1_ c\\<^sub>2_ Q_,\n A_", "by - (rule hoarep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Cond b_ c\\<^sub>1_ c\\<^sub>2_ Q_,A_\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 5. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 10. \\<And>P p Q A \\<Theta> F.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\nA total of 11 subgoals...", "next"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 5. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 10. \\<And>P p Q A \\<Theta> F.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\nA total of 11 subgoals...", "case (While r \\<Theta> F P b c A)"], ["proof (state)\nthis:\n  wf r\n  \\<forall>\\<sigma>.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n          P \\<inter>\n          b)\n         c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter> b) c\n ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 5. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 10. \\<And>P p Q A \\<Theta> F.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\nA total of 11 subgoals...", "hence \"\\<forall>\\<sigma>. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter> P \\<inter> b) c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\""], ["proof (prove)\nusing this:\n  wf r\n  \\<forall>\\<sigma>.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n          P \\<inter>\n          b)\n         c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter> b) c\n ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\n\ngoal (1 subgoal):\n 1. \\<forall>\\<sigma>.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter> b)\n   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A", "by iprover"], ["proof (state)\nthis:\n  \\<forall>\\<sigma>.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter> b) c\n ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 5. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 10. \\<And>P p Q A \\<Theta> F.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\nA total of 11 subgoals...", "hence \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> (P \\<inter> b) c P,A\""], ["proof (prove)\nusing this:\n  \\<forall>\\<sigma>.\n     \\<Gamma>,\\<Theta>\n        \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter> b) c\n ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A", "by (rule HoarePartialDef.conseq) blast"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>r \\<Theta> F P b c A.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P \\<inter>\n        b)\n       c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P While b c\n                     (P \\<inter> - b),A\n 3. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 4. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 5. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 7. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 8. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 9. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 10. \\<And>P p Q A \\<Theta> F.\n        (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A", "show \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F\\<^esub> P While b c (P \\<inter> - b),A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>(P \\<inter> b) c P,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\n       \\<turnstile>\\<^bsub>/F \\<^esub>P While b c (P \\<inter> - b),A", "by (rule hoarep.While)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\n     \\<turnstile>\\<^bsub>/F \\<^esub>P While b c (P \\<inter> - b),A\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 3. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 4. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 5. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 6. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 7. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 8. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 9. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 10. \\<And>\\<Theta> F P c Q A.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                 P c Q,A;\n         \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n         P c Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 3. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 4. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 5. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 6. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 7. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 8. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 9. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 10. \\<And>\\<Theta> F P c Q A.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                 P c Q,A;\n         \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n         P c Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case Guard"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> (g_ \\<inter> P_) c_ Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(g_ \\<inter> P_) c_ Q_,A_\n\ngoal (10 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>\\<Theta> F g P c Q A f.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P)\n                     Guard f g c Q,A\n 3. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 4. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 5. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 6. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 7. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 8. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 9. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 10. \\<And>\\<Theta> F P c Q A.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                 P c Q,A;\n         \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n         P c Q,A\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                             \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> (g_ \\<inter> P_) c_ Q_,A_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(g_ \\<inter> P_) c_ Q_,A_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\n       \\<turnstile>\\<^bsub>/F_ \\<^esub>(g_ \\<inter> P_) Guard f_ g_ c_ Q_,A_", "by - (rule hoarep.intros)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(g_ \\<inter> P_) Guard f_ g_ c_ Q_,A_\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 8. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "(*next\n  case (CallRec A F P Procs Q Z \\<Theta>  p r)\n  hence hyp: \"\\<forall>p\\<in>Procs. \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union> (\\<Union>q\\<in>Procs. \\<Union>Z. {(P q Z \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r},\n                      Call q, Q q Z,A q Z)})\\<turnstile>\\<^bsub>/F\\<^esub>\n              ({\\<tau>} \\<inter> P p Z) (the (\\<Gamma> p)) (Q p Z),(A p Z)\"\n    by blast\n  have \"\\<forall>p\\<in>Procs. \\<forall>Z.\n           \\<Gamma>,\\<Theta> \\<union> (\\<Union>q\\<in>Procs. \\<Union>Z. {(P q Z,\n                      Call q, Q q Z,A q Z)})\\<turnstile>\\<^bsub>/F\\<^esub>\n              (P p Z) (the (\\<Gamma> p)) (Q p Z),(A p Z)\"\n  proof (intro ballI allI)\n    fix p Z\n    assume \"p \\<in> Procs\"\n    with hyp\n    have hyp': \"\\<And> \\<tau>.\n           \\<Gamma>,\\<Theta> \\<union> (\\<Union>q\\<in>Procs. \\<Union>Z. {(P q Z \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r},\n                      Call q, Q q Z, A q Z)})\\<turnstile>\\<^bsub>/F\\<^esub>\n              ({\\<tau>} \\<inter> P p Z) (the (\\<Gamma> p)) (Q p Z),(A p Z)\"\n      by blast\n    have \"\\<forall>\\<tau>.\n           \\<Gamma>,\\<Theta> \\<union> (\\<Union>q\\<in>Procs. \\<Union>Z. {(P q Z,\n                      Call q, Q q Z,A q Z)})\\<turnstile>\\<^bsub>/F\\<^esub>\n              ({\\<tau>} \\<inter> P p Z) (the (\\<Gamma> p)) (Q p Z),(A p Z)\"\n      (is \"\\<forall>\\<tau>. \\<Gamma>,?\\<Theta>'\\<turnstile>\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P p Z) (the (\\<Gamma> p)) (Q p Z),(A p Z)\")\n    proof (rule allI, rule WeakenContext [OF hyp'],clarify)\n      fix \\<tau> P' c Q' A'\n      assume \"(P', c, Q', A') \\<in> \\<Theta> \\<union>\n         (\\<Union>q\\<in>Procs.\n             \\<Union>Z. {(P q Z \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r},\n                  Call q, Q q Z,\n                  A q Z)})\" (is \"(P', c, Q', A') \\<in> \\<Theta> \\<union> ?Spec\")\n      then show \"\\<Gamma>,?\\<Theta>'\\<turnstile>\\<^bsub>/F\\<^esub> P' c Q',A'\"\n      proof (cases rule: UnE [consumes 1])\n        assume \"(P',c,Q',A') \\<in> \\<Theta>\"\n        then show ?thesis\n          by (blast intro: HoarePartialDef.Asm)\n      next\n        assume \"(P',c,Q',A') \\<in> ?Spec\"\n        then show ?thesis\n        proof (clarify)\n          fix q Z\n          assume q: \"q \\<in> Procs\"\n          show \"\\<Gamma>,?\\<Theta>'\\<turnstile>\\<^bsub>/F\\<^esub> (P q Z \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r})\n                         Call  q\n                        (Q q Z),(A q Z)\"\n          proof -\n            from q\n            have \"\\<Gamma>,?\\<Theta>'\\<turnstile>\\<^bsub>/F\\<^esub> (P q Z) Call q (Q q Z),(A q Z)\"\n              by - (rule HoarePartialDef.Asm,blast)\n            thus ?thesis\n              by (rule HoarePartialDef.conseqPre) blast\n          qed\n        qed\n      qed\n    qed\n    then show \"\\<Gamma>,\\<Theta> \\<union> (\\<Union>q\\<in>Procs. \\<Union>Z. {(P q Z, Call q, Q q Z,A q Z)})\n                \\<turnstile>\\<^bsub>/F\\<^esub> (P p Z) (the (\\<Gamma> p)) (Q p Z),(A p Z)\"\n      by (rule HoarePartialDef.conseq) blast\n  qed\n  thus ?case\n    by - (rule hoarep.CallRec)*)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>(g_ \\<inter> P_) Guard f_ g_ c_ Q_,A_\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 8. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 8. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case DynCom"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P_.\n     \\<Gamma>,\\<Theta>_\n        \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c_ s Q_,A_ \\<and>\n     \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c_ s Q_,A_\n\ngoal (9 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A \\<and>\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^bsub>/F \\<^esub>P c s Q,A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P DynCom c Q,A\n 5. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 6. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 7. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 8. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 9. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P_.\n     \\<Gamma>,\\<Theta>_\n        \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c_ s Q_,A_ \\<and>\n     \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c_ s Q_,A_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ DynCom c_ Q_,A_", "by (blast intro: hoarep.DynCom)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ DynCom c_ Q_,A_\n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 7. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 7. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case Throw"], ["proof (state)\nthis:\n  \n\ngoal (8 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F A Q.\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>A Throw Q,A\n 5. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 7. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 8. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>A_ Throw Q_,A_", "by - (rule hoarep.Throw)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>A_ Throw Q_,A_\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 6. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 6. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case Catch"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c\\<^sub>1_ Q_,R_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c\\<^sub>1_ Q_,R_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> R_ c\\<^sub>2_ Q_,A_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>R_ c\\<^sub>2_ Q_,A_\n\ngoal (7 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c\\<^sub>1 Q,R;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>R c\\<^sub>2 Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P\n                     Catch c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 6. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 7. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c\\<^sub>1_ Q_,R_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c\\<^sub>1_ Q_,R_\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> R_ c\\<^sub>2_ Q_,A_\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>R_ c\\<^sub>2_ Q_,A_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\n       \\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Catch c\\<^sub>1_ c\\<^sub>2_ Q_,A_", "by - (rule hoarep.Catch)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\n     \\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Catch c\\<^sub>1_ c\\<^sub>2_ Q_,A_\n\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 5. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 5. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case Conseq"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P_.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>_\n            \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P' c_ Q',A' \\<and>\n         \\<Gamma>,\\<Theta>_\n            \\<turnstile>\\<^bsub>/F_ \\<^esub>P' c_ Q',A') \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q_ \\<and> A' \\<subseteq> A_\n\ngoal (6 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P \\<Theta> F c Q A.\n       \\<forall>s\\<in>P.\n          \\<exists>P' Q' A'.\n             (\\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n              \\<Gamma>,\\<Theta>\n                 \\<turnstile>\\<^bsub>/F \\<^esub>P' c Q',A') \\<and>\n             s \\<in> P' \\<and>\n             Q' \\<subseteq> Q \\<and> A' \\<subseteq> A \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A\n 5. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 6. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P_.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>_\n            \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P' c_ Q',A' \\<and>\n         \\<Gamma>,\\<Theta>_\n            \\<turnstile>\\<^bsub>/F_ \\<^esub>P' c_ Q',A') \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q_ \\<and> A' \\<subseteq> A_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c_ Q_,A_", "by - (rule hoarep.Conseq,blast)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ c_ Q_,A_\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 5. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 5. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case Asm"], ["proof (state)\nthis:\n  (P_, p_, Q_, A_) \\<in> \\<Theta>_\n\ngoal (5 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>P p Q A \\<Theta> F.\n       (P, p, Q, A) \\<in> \\<Theta> \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>\\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 5. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "thus ?case"], ["proof (prove)\nusing this:\n  (P_, p_, Q_, A_) \\<in> \\<Theta>_\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Call p_ Q_,A_", "by (rule HoarePartialDef.Asm)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>_\\<turnstile>\\<^bsub>/F_ \\<^esub>P_ Call p_ Q_,A_\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "case (ExFalso \\<Theta> F P c Q A)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "assume \"\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (4 subgoals):\n 1. \\<And>\\<Theta> F r Q A.\n       \\<Gamma>,\\<Theta>\n          \\<turnstile>\\<^bsub>/F \\<^esub>{s.\n    (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n    (\\<exists>t. (s, t) \\<in> r)}\n   Spec r Q,A\n 2. \\<And>f F \\<Theta> g P c Q A.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^bsub>/F \\<^esub>(g \\<inter> P) c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Guard f g c Q,A\n 3. \\<And>P p Q A Specs r Specs_wf \\<Theta> F.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^bsub>/F \\<^esub>({\\<sigma>} \\<inter> P)\n           the (\\<Gamma> p) Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P Call p Q,A\n 4. \\<And>\\<Theta> F P c Q A.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n                P c Q,A;\n        \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub>\n        P c Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^bsub>/F \\<^esub>P c Q,A", "hence \"\\<Gamma>,\\<Theta>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>\\<^bsub>/F\\<^esub> P c Q,A", "oops"], ["", "lemma hoaret_augment_context:\n  assumes deriv: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\"\n  shows \"\\<And>\\<Theta>'. \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow> \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A", "using deriv"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A\n\ngoal (1 subgoal):\n 1. \\<And>\\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P p Q,A", "proof (induct)"], ["proof (state)\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F \\<Theta>'.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               (\\<forall>x.\n                   \\<Theta> \\<union> Specs_wf p \\<sigma>\n                   \\<subseteq> x \\<longrightarrow>\n                   \\<Gamma>,x\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                        P)\n                       the (\\<Gamma> p) Q,A));\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p\n                             Q,A\n 10. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n        \\<lbrakk>\\<forall>s\\<in>P.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                        Q,A \\<and>\n                    (\\<forall>x.\n                        \\<Theta> \\<subseteq> x \\<longrightarrow>\n                        \\<Gamma>,x\n                           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                            Q,A);\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              DynCom c Q,A\nA total of 15 subgoals...", "case (CallRec P p Q A Specs r Specs_wf \\<Theta> F \\<Theta>')"], ["proof (state)\nthis:\n  (P, p, Q, A) \\<in> Specs\n  wf r\n  Specs_wf =\n  (\\<lambda>p \\<sigma>.\n      (\\<lambda>(P, q, Q, A).\n          (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n      Specs)\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<sigma>.\n         \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter> P)\n             the (\\<Gamma> p) Q,A \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<union> Specs_wf p \\<sigma>\n             \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                  P)\n                 the (\\<Gamma> p) Q,A))\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F \\<Theta>'.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               (\\<forall>x.\n                   \\<Theta> \\<union> Specs_wf p \\<sigma>\n                   \\<subseteq> x \\<longrightarrow>\n                   \\<Gamma>,x\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                        P)\n                       the (\\<Gamma> p) Q,A));\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p\n                             Q,A\n 10. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n        \\<lbrakk>\\<forall>s\\<in>P.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                        Q,A \\<and>\n                    (\\<forall>x.\n                        \\<Theta> \\<subseteq> x \\<longrightarrow>\n                        \\<Gamma>,x\n                           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                            Q,A);\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              DynCom c Q,A\nA total of 15 subgoals...", "have aug: \"\\<Theta> \\<subseteq> \\<Theta>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Theta> \\<subseteq> \\<Theta>'", "by fact"], ["proof (state)\nthis:\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F \\<Theta>'.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               (\\<forall>x.\n                   \\<Theta> \\<union> Specs_wf p \\<sigma>\n                   \\<subseteq> x \\<longrightarrow>\n                   \\<Gamma>,x\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                        P)\n                       the (\\<Gamma> p) Q,A));\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p\n                             Q,A\n 10. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n        \\<lbrakk>\\<forall>s\\<in>P.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                        Q,A \\<and>\n                    (\\<forall>x.\n                        \\<Theta> \\<subseteq> x \\<longrightarrow>\n                        \\<Gamma>,x\n                           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                            Q,A);\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              DynCom c Q,A\nA total of 15 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<Theta> \\<subseteq> \\<Theta>'", "have h: \"\\<And>\\<tau> p. \\<Theta> \\<union> Specs_wf p \\<tau>\n       \\<subseteq> \\<Theta>' \\<union> Specs_wf p \\<tau>\""], ["proof (prove)\nusing this:\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (1 subgoal):\n 1. \\<And>\\<tau> p.\n       \\<Theta> \\<union> Specs_wf p \\<tau>\n       \\<subseteq> \\<Theta>' \\<union> Specs_wf p \\<tau>", "by blast"], ["proof (state)\nthis:\n  \\<Theta> \\<union> Specs_wf ?p ?\\<tau>\n  \\<subseteq> \\<Theta>' \\<union> Specs_wf ?p ?\\<tau>\n\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F \\<Theta>'.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               (\\<forall>x.\n                   \\<Theta> \\<union> Specs_wf p \\<sigma>\n                   \\<subseteq> x \\<longrightarrow>\n                   \\<Gamma>,x\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                        P)\n                       the (\\<Gamma> p) Q,A));\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p\n                             Q,A\n 10. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n        \\<lbrakk>\\<forall>s\\<in>P.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                        Q,A \\<and>\n                    (\\<forall>x.\n                        \\<Theta> \\<subseteq> x \\<longrightarrow>\n                        \\<Gamma>,x\n                           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                            Q,A);\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              DynCom c Q,A\nA total of 15 subgoals...", "have \"\\<forall>(P,p,Q,A)\\<in>Specs. p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<tau>. \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) (the (\\<Gamma> p)) Q,A \\<and>\n           (\\<forall>x. \\<Theta> \\<union> Specs_wf p \\<tau>\n                 \\<subseteq> x \\<longrightarrow>\n                 \\<Gamma>,x\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) (the (\\<Gamma> p)) Q,A))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       p \\<in> dom \\<Gamma> \\<and>\n       (\\<forall>\\<tau>.\n           \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n               the (\\<Gamma> p) Q,A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<union> Specs_wf p \\<tau>\n               \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A))", "by fact"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<tau>.\n         \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n             the (\\<Gamma> p) Q,A \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<union> Specs_wf p \\<tau>\n             \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n                 the (\\<Gamma> p) Q,A))\n\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F \\<Theta>'.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               (\\<forall>x.\n                   \\<Theta> \\<union> Specs_wf p \\<sigma>\n                   \\<subseteq> x \\<longrightarrow>\n                   \\<Gamma>,x\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                        P)\n                       the (\\<Gamma> p) Q,A));\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p\n                             Q,A\n 10. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n        \\<lbrakk>\\<forall>s\\<in>P.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                        Q,A \\<and>\n                    (\\<forall>x.\n                        \\<Theta> \\<subseteq> x \\<longrightarrow>\n                        \\<Gamma>,x\n                           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                            Q,A);\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              DynCom c Q,A\nA total of 15 subgoals...", "hence \"\\<forall>(P,p,Q,A)\\<in>Specs. p \\<in> dom \\<Gamma> \\<and>\n         (\\<forall>\\<tau>. \\<Gamma>,\\<Theta>'\\<union> Specs_wf p \\<tau> \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) (the (\\<Gamma> p)) Q,A)\""], ["proof (prove)\nusing this:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<tau>.\n         \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n             the (\\<Gamma> p) Q,A \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<union> Specs_wf p \\<tau>\n             \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n                 the (\\<Gamma> p) Q,A))\n\ngoal (1 subgoal):\n 1. \\<forall>(P, p, Q, A)\\<in>Specs.\n       p \\<in> dom \\<Gamma> \\<and>\n       (\\<forall>\\<tau>.\n           \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n               the (\\<Gamma> p) Q,A)", "apply (clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a aa ab b.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>Specs.\n                   p \\<in> dom \\<Gamma> \\<and>\n                   (\\<forall>\\<tau>.\n                       \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n                          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                            P)\n                           the (\\<Gamma> p) Q,A \\<and>\n                       (\\<forall>x.\n                           \\<Theta> \\<union> Specs_wf p \\<tau>\n                           \\<subseteq> x \\<longrightarrow>\n                           \\<Gamma>,x\n                              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                                P)\n                               the (\\<Gamma> p) Q,A));\n        (a, aa, ab, b) \\<in> Specs\\<rbrakk>\n       \\<Longrightarrow> aa \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>\\<tau>.\n                             \\<Gamma>,\\<Theta>' \\<union> Specs_wf aa \\<tau>\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                                  a)\n                                 the (\\<Gamma> aa) ab,b)", "apply (rename_tac P p Q A)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P p Q A.\n       \\<lbrakk>\\<forall>(P, p, Q, A)\\<in>Specs.\n                   p \\<in> dom \\<Gamma> \\<and>\n                   (\\<forall>\\<tau>.\n                       \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n                          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                            P)\n                           the (\\<Gamma> p) Q,A \\<and>\n                       (\\<forall>x.\n                           \\<Theta> \\<union> Specs_wf p \\<tau>\n                           \\<subseteq> x \\<longrightarrow>\n                           \\<Gamma>,x\n                              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                                P)\n                               the (\\<Gamma> p) Q,A));\n        (P, p, Q, A) \\<in> Specs\\<rbrakk>\n       \\<Longrightarrow> p \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>\\<tau>.\n                             \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                                  P)\n                                 the (\\<Gamma> p) Q,A)", "apply (drule (1) bspec)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P p Q A.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        case (P, p, Q, A) of\n        (P, p, Q, A) \\<Rightarrow>\n          p \\<in> dom \\<Gamma> \\<and>\n          (\\<forall>\\<tau>.\n              \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P)\n                  the (\\<Gamma> p) Q,A \\<and>\n              (\\<forall>x.\n                  \\<Theta> \\<union> Specs_wf p \\<tau>\n                  \\<subseteq> x \\<longrightarrow>\n                  \\<Gamma>,x\n                     \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                       P)\n                      the (\\<Gamma> p) Q,A))\\<rbrakk>\n       \\<Longrightarrow> p \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>\\<tau>.\n                             \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                                  P)\n                                 the (\\<Gamma> p) Q,A)", "apply (clarsimp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P p Q A \\<tau> y.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs;\n        \\<forall>\\<tau>.\n           \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n               Q,A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<and>\n               Specs_wf p \\<tau> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                    P)\n                   y Q,A);\n        \\<Gamma> p = Some y\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P)\n                             y Q,A", "apply (erule_tac x=\\<tau> in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P p Q A \\<tau> y.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; \\<Gamma> p = Some y;\n        \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n            Q,A \\<and>\n        (\\<forall>x.\n            \\<Theta> \\<subseteq> x \\<and>\n            Specs_wf p \\<tau> \\<subseteq> x \\<longrightarrow>\n            \\<Gamma>,x\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n                y Q,A)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P)\n                             y Q,A", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P p Q A \\<tau> y.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; \\<Gamma> p = Some y;\n        \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n            Q,A;\n        \\<forall>x.\n           \\<Theta> \\<subseteq> x \\<and>\n           Specs_wf p \\<tau> \\<subseteq> x \\<longrightarrow>\n           \\<Gamma>,x\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n               Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P)\n                             y Q,A", "apply (erule_tac x=\"\\<Theta>' \\<union> Specs_wf p \\<tau>\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P p Q A \\<tau> y.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; \\<Gamma> p = Some y;\n        \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n            Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>' \\<union> Specs_wf p \\<tau> \\<and>\n        Specs_wf p \\<tau>\n        \\<subseteq> \\<Theta>' \\<union> Specs_wf p \\<tau> \\<longrightarrow>\n        \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n            Q,A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P)\n                             y Q,A", "apply (insert aug)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P p Q A \\<tau> y.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; \\<Gamma> p = Some y;\n        \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<tau>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n            Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>' \\<union> Specs_wf p \\<tau> \\<and>\n        Specs_wf p \\<tau>\n        \\<subseteq> \\<Theta>' \\<union> Specs_wf p \\<tau> \\<longrightarrow>\n        \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P) y\n            Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P)\n                             y Q,A", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<tau>.\n         \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n             the (\\<Gamma> p) Q,A)\n\ngoal (15 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P p Q A Specs r Specs_wf \\<Theta> F \\<Theta>'.\n       \\<lbrakk>(P, p, Q, A) \\<in> Specs; wf r;\n        Specs_wf =\n        (\\<lambda>p \\<sigma>.\n            (\\<lambda>(P, q, Q, A).\n                (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n            Specs);\n        \\<forall>(P, p, Q, A)\\<in>Specs.\n           p \\<in> dom \\<Gamma> \\<and>\n           (\\<forall>\\<sigma>.\n               \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P)\n                   the (\\<Gamma> p) Q,A \\<and>\n               (\\<forall>x.\n                   \\<Theta> \\<union> Specs_wf p \\<sigma>\n                   \\<subseteq> x \\<longrightarrow>\n                   \\<Gamma>,x\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                        P)\n                       the (\\<Gamma> p) Q,A));\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p\n                             Q,A\n 10. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n        \\<lbrakk>\\<forall>s\\<in>P.\n                    \\<Gamma>,\\<Theta>\n                       \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                        Q,A \\<and>\n                    (\\<forall>x.\n                        \\<Theta> \\<subseteq> x \\<longrightarrow>\n                        \\<Gamma>,x\n                           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                            Q,A);\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              DynCom c Q,A\nA total of 15 subgoals...", "with CallRec"], ["proof (chain)\npicking this:\n  (P, p, Q, A) \\<in> Specs\n  wf r\n  Specs_wf =\n  (\\<lambda>p \\<sigma>.\n      (\\<lambda>(P, q, Q, A).\n          (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n      Specs)\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<sigma>.\n         \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter> P)\n             the (\\<Gamma> p) Q,A \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<union> Specs_wf p \\<sigma>\n             \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                  P)\n                 the (\\<Gamma> p) Q,A))\n  \\<Theta> \\<subseteq> \\<Theta>'\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<tau>.\n         \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n             the (\\<Gamma> p) Q,A)", "show ?case"], ["proof (prove)\nusing this:\n  (P, p, Q, A) \\<in> Specs\n  wf r\n  Specs_wf =\n  (\\<lambda>p \\<sigma>.\n      (\\<lambda>(P, q, Q, A).\n          (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n      Specs)\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<sigma>.\n         \\<Gamma>,\\<Theta> \\<union> Specs_wf p \\<sigma>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter> P)\n             the (\\<Gamma> p) Q,A \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<union> Specs_wf p \\<sigma>\n             \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                  P)\n                 the (\\<Gamma> p) Q,A))\n  \\<Theta> \\<subseteq> \\<Theta>'\n  \\<forall>(P, p, Q, A)\\<in>Specs.\n     p \\<in> dom \\<Gamma> \\<and>\n     (\\<forall>\\<tau>.\n         \\<Gamma>,\\<Theta>' \\<union> Specs_wf p \\<tau>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P)\n             the (\\<Gamma> p) Q,A)\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p Q,A", "by - (rule hoaret.CallRec)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P Call p Q,A\n\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n       \\<lbrakk>\\<forall>s\\<in>P.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                       Q,A \\<and>\n                   (\\<forall>x.\n                       \\<Theta> \\<subseteq> x \\<longrightarrow>\n                       \\<Gamma>,x\n                          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q \\<Theta>'.\n        \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\nA total of 14 subgoals...", "next"], ["proof (state)\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n       \\<lbrakk>\\<forall>s\\<in>P.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                       Q,A \\<and>\n                   (\\<forall>x.\n                       \\<Theta> \\<subseteq> x \\<longrightarrow>\n                       \\<Gamma>,x\n                          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q \\<Theta>'.\n        \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\nA total of 14 subgoals...", "case DynCom"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P_.\n     \\<Gamma>,\\<Theta>_\n        \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c_ s Q_,A_ \\<and>\n     (\\<forall>x.\n         \\<Theta>_ \\<subseteq> x \\<longrightarrow>\n         \\<Gamma>,x\\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c_ s Q_,A_)\n  \\<Theta>_ \\<subseteq> \\<Theta>'\n\ngoal (14 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>P \\<Theta> F c Q A \\<Theta>'.\n       \\<lbrakk>\\<forall>s\\<in>P.\n                   \\<Gamma>,\\<Theta>\n                      \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s\n                       Q,A \\<and>\n                   (\\<forall>x.\n                       \\<Theta> \\<subseteq> x \\<longrightarrow>\n                       \\<Gamma>,x\n                          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c s Q,A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             DynCom c Q,A\n 10. \\<And>\\<Theta> F A Q \\<Theta>'.\n        \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n        \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P_.\n     \\<Gamma>,\\<Theta>_\n        \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c_ s Q_,A_ \\<and>\n     (\\<forall>x.\n         \\<Theta>_ \\<subseteq> x \\<longrightarrow>\n         \\<Gamma>,x\\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ c_ s Q_,A_)\n  \\<Theta>_ \\<subseteq> \\<Theta>'\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>'\n       \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ DynCom c_ Q_,A_", "by (blast intro: hoaret.DynCom)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>'\n     \\<turnstile>\\<^sub>t\\<^bsub>/F_\\<^esub> P_ DynCom c_ Q_,A_\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "next"], ["proof (state)\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "case (Conseq P \\<Theta> F c Q A \\<Theta>')"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A')) \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "from Conseq"], ["proof (chain)\npicking this:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A')) \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n  \\<Theta> \\<subseteq> \\<Theta>'", "have \"\\<forall>s \\<in> P. (\\<exists>P' Q' A'. (\\<Gamma>,\\<Theta>' \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A') \\<and> s \\<in> P'\\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A)\""], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A')) \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>P.\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>'\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "by blast"], ["proof (state)\nthis:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        \\<Gamma>,\\<Theta>'\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n\ngoal (13 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 13 subgoals...", "with Conseq"], ["proof (chain)\npicking this:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A')) \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n  \\<Theta> \\<subseteq> \\<Theta>'\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        \\<Gamma>,\\<Theta>'\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        (\\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n         (\\<forall>x.\n             \\<Theta> \\<subseteq> x \\<longrightarrow>\n             \\<Gamma>,x\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A')) \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n  \\<Theta> \\<subseteq> \\<Theta>'\n  \\<forall>s\\<in>P.\n     \\<exists>P' Q' A'.\n        \\<Gamma>,\\<Theta>'\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n        s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "by - (rule hoaret.Conseq)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 12 subgoals...", "next"], ["proof (state)\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 12 subgoals...", "case (ExFalso \\<Theta> F P  c Q A \\<Theta>')"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 12 subgoals...", "have \"\\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\" \"\\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\" \"\\<Theta> \\<subseteq> \\<Theta>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A &&&\n    \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A &&&\n    \\<Theta> \\<subseteq> \\<Theta>'", "by fact+"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (12 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 12 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Theta> \\<subseteq> \\<Theta>'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Gamma>,\\<Theta>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<not> \\<Gamma>\\<Turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n  \\<Theta> \\<subseteq> \\<Theta>'\n\ngoal (1 subgoal):\n 1. \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "by (fastforce intro: hoaret.ExFalso simp add: cvalidt_def)"], ["proof (state)\nthis:\n  \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\n\ngoal (11 subgoals):\n 1. \\<And>\\<Theta> F Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> Q Skip Q,A\n 2. \\<And>\\<Theta> F f Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s. f s \\<in> Q} Basic f\n           Q,A\n 3. \\<And>\\<Theta> F r Q A \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\n          \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> {s.\n            (\\<forall>t. (s, t) \\<in> r \\<longrightarrow> t \\<in> Q) \\<and>\n            (\\<exists>t. (s, t) \\<in> r)}\n           Spec r Q,A\n 4. \\<And>\\<Theta> F P c\\<^sub>1 R A c\\<^sub>2 Q \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 R,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Seq c\\<^sub>1 c\\<^sub>2 Q,A\n 5. \\<And>\\<Theta> F P b c\\<^sub>1 Q A c\\<^sub>2 \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n                    c\\<^sub>1 Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> b)\n               c\\<^sub>1 Q,A;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b) c\\<^sub>2\n            Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P \\<inter> - b)\n               c\\<^sub>2 Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Cond b c\\<^sub>1 c\\<^sub>2 Q,A\n 6. \\<And>r \\<Theta> F P b c A \\<Theta>'.\n       \\<lbrakk>wf r;\n        \\<forall>\\<sigma>.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                P \\<inter>\n                b)\n               c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A \\<and>\n           (\\<forall>x.\n               \\<Theta> \\<subseteq> x \\<longrightarrow>\n               \\<Gamma>,x\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                    P \\<inter>\n                    b)\n                   c ({t. (t, \\<sigma>) \\<in> r} \\<inter> P),A);\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             While b c (P \\<inter> - b),A\n 7. \\<And>\\<Theta> F g P c Q A f \\<Theta>'.\n       \\<lbrakk>\\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c\n                    Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter>\n                              P)\n                             Guard f g c Q,A\n 8. \\<And>f F \\<Theta> g P c Q A \\<Theta>'.\n       \\<lbrakk>f \\<in> F;\n        \\<Gamma>,\\<Theta>\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<And>\\<Theta>'.\n           \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>'\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (g \\<inter> P) c Q,A;\n        \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                             Guard f g c Q,A\n 9. \\<And>\\<Theta> F A Q \\<Theta>'.\n       \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n       \\<Gamma>,\\<Theta>'\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> A Throw Q,A\n 10. \\<And>\\<Theta> F P c\\<^sub>1 Q R c\\<^sub>2 A \\<Theta>'.\n        \\<lbrakk>\\<Gamma>,\\<Theta>\n                    \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c\\<^sub>1 Q,R;\n         \\<Gamma>,\\<Theta>\n            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<And>\\<Theta>'.\n            \\<Theta> \\<subseteq> \\<Theta>' \\<Longrightarrow>\n            \\<Gamma>,\\<Theta>'\n               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> R c\\<^sub>2 Q,A;\n         \\<Theta> \\<subseteq> \\<Theta>'\\<rbrakk>\n        \\<Longrightarrow> \\<Gamma>,\\<Theta>'\n                             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P\n                              Catch c\\<^sub>1 c\\<^sub>2 Q,A\nA total of 11 subgoals...", "qed (blast intro: hoaret.intros)+"], ["", "subsection \\<open>Some Derived Rules\\<close>"], ["", "lemma  Conseq': \"\\<forall>s. s \\<in> P \\<longrightarrow>\n            (\\<exists>P' Q' A'.\n              (\\<forall> Z. \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z)) \\<and>\n                    (\\<exists>Z. s \\<in> P' Z \\<and> (Q' Z \\<subseteq> Q) \\<and> (A' Z \\<subseteq> A)))\n           \\<Longrightarrow>\n           \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s.\n       s \\<in> P \\<longrightarrow>\n       (\\<exists>P' Q' A'.\n           (\\<forall>Z.\n               \\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c\n                   (Q' Z),(A' Z)) \\<and>\n           (\\<exists>Z.\n               s \\<in> P' Z \\<and>\n               Q' Z \\<subseteq> Q \\<and>\n               A' Z \\<subseteq> A)) \\<Longrightarrow>\n    \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "apply (rule Conseq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s.\n       s \\<in> P \\<longrightarrow>\n       (\\<exists>P' Q' A'.\n           (\\<forall>Z.\n               \\<Gamma>,\\<Theta>\n                  \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c\n                   (Q' Z),(A' Z)) \\<and>\n           (\\<exists>Z.\n               s \\<in> P' Z \\<and>\n               Q' Z \\<subseteq> Q \\<and>\n               A' Z \\<subseteq> A)) \\<Longrightarrow>\n    \\<forall>s\\<in>P.\n       \\<exists>P' Q' A'.\n          \\<Gamma>,\\<Theta>\n             \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<and>\n          s \\<in> P' \\<and> Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule ballI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>\\<forall>s.\n                   s \\<in> P \\<longrightarrow>\n                   (\\<exists>P' Q' A'.\n                       (\\<forall>Z.\n                           \\<Gamma>,\\<Theta>\n                              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z)\n                               c (Q' Z),(A' Z)) \\<and>\n                       (\\<exists>Z.\n                           s \\<in> P' Z \\<and>\n                           Q' Z \\<subseteq> Q \\<and> A' Z \\<subseteq> A));\n        s \\<in> P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c\n                                Q',A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (erule_tac x=s in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>s \\<in> P;\n        s \\<in> P \\<longrightarrow>\n        (\\<exists>P' Q' A'.\n            (\\<forall>Z.\n                \\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c\n                    (Q' Z),(A' Z)) \\<and>\n            (\\<exists>Z.\n                s \\<in> P' Z \\<and>\n                Q' Z \\<subseteq> Q \\<and> A' Z \\<subseteq> A))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c\n                                Q',A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' Z.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z);\n        s \\<in> P' Z; Q' Z \\<subseteq> Q; A' Z \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P' Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c\n                                Q',A' \\<and>\n                            s \\<in> P' \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=\"P' Z\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' Z.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z);\n        s \\<in> P' Z; Q' Z \\<subseteq> Q; A' Z \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z)\n                                c Q',A' \\<and>\n                            s \\<in> P' Z \\<and>\n                            Q' \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=\"Q' Z\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' Z.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z);\n        s \\<in> P' Z; Q' Z \\<subseteq> Q; A' Z \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A'.\n                            \\<Gamma>,\\<Theta>\n                               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z)\n                                c (Q' Z),A' \\<and>\n                            s \\<in> P' Z \\<and>\n                            Q' Z \\<subseteq> Q \\<and> A' \\<subseteq> A", "apply (rule_tac x=\"A' Z\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s P' Q' A' Z.\n       \\<lbrakk>s \\<in> P;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta>\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z);\n        s \\<in> P' Z; Q' Z \\<subseteq> Q; A' Z \\<subseteq> A\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c\n                             (Q' Z),(A' Z) \\<and>\n                         s \\<in> P' Z \\<and>\n                         Q' Z \\<subseteq> Q \\<and> A' Z \\<subseteq> A", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma conseq:\"\\<lbrakk>\\<forall>Z. \\<Gamma>,\\<Theta> \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c (Q' Z),(A' Z);\n              \\<forall>s. s \\<in> P \\<longrightarrow> (\\<exists> Z. s\\<in>P' Z \\<and> (Q' Z \\<subseteq> Q)\\<and> (A' Z \\<subseteq> A))\\<rbrakk>\n              \\<Longrightarrow>\n              \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>Z.\n                \\<Gamma>,\\<Theta>\n                   \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P' Z) c\n                    (Q' Z),(A' Z);\n     \\<forall>s.\n        s \\<in> P \\<longrightarrow>\n        (\\<exists>Z.\n            s \\<in> P' Z \\<and>\n            Q' Z \\<subseteq> Q \\<and> A' Z \\<subseteq> A)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                         \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "by (rule Conseq) blast"], ["", "theorem conseqPrePost:\n  \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A' \\<Longrightarrow> P \\<subseteq> P' \\<Longrightarrow>  Q' \\<subseteq> Q \\<Longrightarrow> A' \\<subseteq> A \\<Longrightarrow>  \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q',A';\n     P \\<subseteq> P'; Q' \\<subseteq> Q; A' \\<subseteq> A\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                         \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "by (rule conseq [where ?P'=\"\\<lambda>Z. P'\" and ?Q'=\"\\<lambda>Z. Q'\"]) auto"], ["", "lemma conseqPre: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q,A \\<Longrightarrow> P \\<subseteq> P' \\<Longrightarrow> \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P' c Q,A;\n     P \\<subseteq> P'\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                         \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "by (rule conseq) auto"], ["", "lemma conseqPost: \"\\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q',A'\\<Longrightarrow> Q' \\<subseteq> Q \\<Longrightarrow> A' \\<subseteq> A \\<Longrightarrow>   \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Gamma>,\\<Theta>\n                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q',A';\n     Q' \\<subseteq> Q; A' \\<subseteq> A\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                         \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> P c Q,A", "by (rule conseq) auto"], ["", "lemma Spec_wf_conv:\n  \"(\\<lambda>(P, q, Q, A). (P \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r}, q, Q, A)) `\n                (\\<Union>p\\<in>Procs. \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}) =\n        (\\<Union>q\\<in>Procs. \\<Union>Z. {(P q Z \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r}, q, Q q Z, A q Z)})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>(P, q, Q, A).\n        (P \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r}, q, Q, A)) `\n    (\\<Union>p\\<in>Procs. \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}) =\n    (\\<Union>q\\<in>Procs.\n        \\<Union>Z.\n           {(P q Z \\<inter> {s. ((s, q), \\<tau>, p) \\<in> r}, q, Q q Z,\n             A q Z)})", "by (auto intro!: image_eqI)"], ["", "lemma CallRec':\n  \"\\<lbrakk>p\\<in>Procs; Procs \\<subseteq> dom \\<Gamma>;\n    wf r;\n   \\<forall>p\\<in>Procs. \\<forall>\\<tau> Z.\n   \\<Gamma>,\\<Theta>\\<union>(\\<Union>q\\<in>Procs. \\<Union>Z.\n    {((P q Z) \\<inter> {s. ((s,q),(\\<tau>,p)) \\<in> r},q,Q q Z,(A q Z))})\n     \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> (P p Z)) (the (\\<Gamma> p)) (Q p Z),(A p Z)\\<rbrakk>\n   \\<Longrightarrow>\n   \\<Gamma>,\\<Theta>\\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P p Z) (Call p) (Q p Z),(A p Z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> \\<Gamma>,\\<Theta>\n                         \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> (P p Z)\n                          Call p (Q p Z),(A p Z)", "apply (rule CallRec [where Specs=\"\\<Union>p\\<in>Procs. \\<Union>Z. {((P p Z),p,Q p Z,A p Z)}\" and\n         r=r])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> (P p Z, p, Q p Z, A p Z)\n                      \\<in> (\\<Union>p\\<in>Procs.\n                                \\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n 2. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> wf r\n 3. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> ?Specs_wf =\n                      (\\<lambda>p \\<sigma>.\n                          (\\<lambda>(P, q, Q, A).\n                              (P \\<inter>\n                               {s. ((s, q), \\<sigma>, p) \\<in> r},\n                               q, Q, A)) `\n                          (\\<Union>p\\<in>Procs.\n                              \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}))\n 4. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> \\<forall>(P, p, Q, A)\n                               \\<in>\\<Union>p\\<in>Procs.\n \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}.\n                         p \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>\\<sigma>.\n                             \\<Gamma>,\\<Theta> \\<union> ?Specs_wf p \\<sigma>\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                  P)\n                                 the (\\<Gamma> p) Q,A)", "apply    blast"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> wf r\n 2. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> ?Specs_wf =\n                      (\\<lambda>p \\<sigma>.\n                          (\\<lambda>(P, q, Q, A).\n                              (P \\<inter>\n                               {s. ((s, q), \\<sigma>, p) \\<in> r},\n                               q, Q, A)) `\n                          (\\<Union>p\\<in>Procs.\n                              \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}))\n 3. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> \\<forall>(P, p, Q, A)\n                               \\<in>\\<Union>p\\<in>Procs.\n \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}.\n                         p \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>\\<sigma>.\n                             \\<Gamma>,\\<Theta> \\<union> ?Specs_wf p \\<sigma>\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                  P)\n                                 the (\\<Gamma> p) Q,A)", "apply   assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> ?Specs_wf =\n                      (\\<lambda>p \\<sigma>.\n                          (\\<lambda>(P, q, Q, A).\n                              (P \\<inter>\n                               {s. ((s, q), \\<sigma>, p) \\<in> r},\n                               q, Q, A)) `\n                          (\\<Union>p\\<in>Procs.\n                              \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}))\n 2. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> \\<forall>(P, p, Q, A)\n                               \\<in>\\<Union>p\\<in>Procs.\n \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}.\n                         p \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>\\<sigma>.\n                             \\<Gamma>,\\<Theta> \\<union> ?Specs_wf p \\<sigma>\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                  P)\n                                 the (\\<Gamma> p) Q,A)", "apply  (rule refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n     \\<forall>p\\<in>Procs.\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p) \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p Z)\n               the (\\<Gamma> p) (Q p Z),(A p Z)\\<rbrakk>\n    \\<Longrightarrow> \\<forall>(Pa, p, Qa, Aa)\n                               \\<in>\\<Union>p\\<in>Procs.\n \\<Union>Z. {(P p Z, p, Q p Z, A p Z)}.\n                         p \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>\\<sigma>.\n                             \\<Gamma>,\\<Theta> \\<union>\n(\\<lambda>(P, q, Q, A).\n    (P \\<inter> {s. ((s, q), \\<sigma>, p) \\<in> r}, q, Q, A)) `\n(\\<Union>p\\<in>Procs. \\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                  Pa)\n                                 the (\\<Gamma> p) Qa,Aa)", "apply (clarsimp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        \\<forall>p\\<in>Procs.\n           \\<forall>\\<tau> Z.\n              \\<Gamma>,\\<Theta> \\<union>\n                       (\\<Union>q\\<in>Procs.\n                           \\<Union>Z.\n                              {(P q Z \\<inter>\n                                {s. ((s, q), \\<tau>, p) \\<in> r},\n                                q, Q q Z, A q Z)})\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P p Z)\n                  the (\\<Gamma> p) (Q p Z),(A p Z);\n        y \\<in> Procs\\<rbrakk>\n       \\<Longrightarrow> y \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>ya \\<sigma>.\n                             \\<Gamma>,\\<Theta> \\<union>\n(\\<lambda>x.\n    case x of\n    (P, q, Q, A) \\<Rightarrow>\n      (P \\<inter> {s. ((s, q), \\<sigma>, y) \\<in> r}, q, Q, A)) `\n(\\<Union>p\\<in>Procs. \\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                  P y ya)\n                                 the (\\<Gamma> y) (Q y ya),(A y ya))", "apply (rename_tac p')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p'.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        \\<forall>p\\<in>Procs.\n           \\<forall>\\<tau> Z.\n              \\<Gamma>,\\<Theta> \\<union>\n                       (\\<Union>q\\<in>Procs.\n                           \\<Union>Z.\n                              {(P q Z \\<inter>\n                                {s. ((s, q), \\<tau>, p) \\<in> r},\n                                q, Q q Z, A q Z)})\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P p Z)\n                  the (\\<Gamma> p) (Q p Z),(A p Z);\n        p' \\<in> Procs\\<rbrakk>\n       \\<Longrightarrow> p' \\<in> dom \\<Gamma> \\<and>\n                         (\\<forall>y \\<sigma>.\n                             \\<Gamma>,\\<Theta> \\<union>\n(\\<lambda>x.\n    case x of\n    (P, q, Q, A) \\<Rightarrow>\n      (P \\<inter> {s. ((s, q), \\<sigma>, p') \\<in> r}, q, Q, A)) `\n(\\<Union>p\\<in>Procs. \\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                                \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                  P p' y)\n                                 the (\\<Gamma> p') (Q p' y),(A p' y))", "apply (rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>p'.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        \\<forall>p\\<in>Procs.\n           \\<forall>\\<tau> Z.\n              \\<Gamma>,\\<Theta> \\<union>\n                       (\\<Union>q\\<in>Procs.\n                           \\<Union>Z.\n                              {(P q Z \\<inter>\n                                {s. ((s, q), \\<tau>, p) \\<in> r},\n                                q, Q q Z, A q Z)})\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P p Z)\n                  the (\\<Gamma> p) (Q p Z),(A p Z);\n        p' \\<in> Procs\\<rbrakk>\n       \\<Longrightarrow> p' \\<in> dom \\<Gamma>\n 2. \\<And>p'.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        \\<forall>p\\<in>Procs.\n           \\<forall>\\<tau> Z.\n              \\<Gamma>,\\<Theta> \\<union>\n                       (\\<Union>q\\<in>Procs.\n                           \\<Union>Z.\n                              {(P q Z \\<inter>\n                                {s. ((s, q), \\<tau>, p) \\<in> r},\n                                q, Q q Z, A q Z)})\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P p Z)\n                  the (\\<Gamma> p) (Q p Z),(A p Z);\n        p' \\<in> Procs\\<rbrakk>\n       \\<Longrightarrow> \\<forall>y \\<sigma>.\n                            \\<Gamma>,\\<Theta> \\<union>\n                                     (\\<lambda>x.\n   case x of\n   (P, q, Q, A) \\<Rightarrow>\n     (P \\<inter> {s. ((s, q), \\<sigma>, p') \\<in> r}, q, Q, A)) `\n                                     (\\<Union>p\\<in>Procs.\n   \\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                 P p' y)\n                                the (\\<Gamma> p') (Q p' y),(A p' y)", "apply  blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p'.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        \\<forall>p\\<in>Procs.\n           \\<forall>\\<tau> Z.\n              \\<Gamma>,\\<Theta> \\<union>\n                       (\\<Union>q\\<in>Procs.\n                           \\<Union>Z.\n                              {(P q Z \\<inter>\n                                {s. ((s, q), \\<tau>, p) \\<in> r},\n                                q, Q q Z, A q Z)})\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P p Z)\n                  the (\\<Gamma> p) (Q p Z),(A p Z);\n        p' \\<in> Procs\\<rbrakk>\n       \\<Longrightarrow> \\<forall>y \\<sigma>.\n                            \\<Gamma>,\\<Theta> \\<union>\n                                     (\\<lambda>x.\n   case x of\n   (P, q, Q, A) \\<Rightarrow>\n     (P \\<inter> {s. ((s, q), \\<sigma>, p') \\<in> r}, q, Q, A)) `\n                                     (\\<Union>p\\<in>Procs.\n   \\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                               \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                                 P p' y)\n                                the (\\<Gamma> p') (Q p' y),(A p' y)", "apply (intro allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p' y \\<sigma>.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        \\<forall>p\\<in>Procs.\n           \\<forall>\\<tau> Z.\n              \\<Gamma>,\\<Theta> \\<union>\n                       (\\<Union>q\\<in>Procs.\n                           \\<Union>Z.\n                              {(P q Z \\<inter>\n                                {s. ((s, q), \\<tau>, p) \\<in> r},\n                                q, Q q Z, A q Z)})\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P p Z)\n                  the (\\<Gamma> p) (Q p Z),(A p Z);\n        p' \\<in> Procs\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta> \\<union>\n                                  (\\<lambda>x.\ncase x of\n(P, q, Q, A) \\<Rightarrow>\n  (P \\<inter> {s. ((s, q), \\<sigma>, p') \\<in> r}, q, Q, A)) `\n                                  (\\<Union>p\\<in>Procs.\n\\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<sigma>} \\<inter>\n                              P p' y)\n                             the (\\<Gamma> p') (Q p' y),(A p' y)", "apply (rename_tac Z \\<tau>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p' Z \\<tau>.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        \\<forall>p\\<in>Procs.\n           \\<forall>\\<tau> Z.\n              \\<Gamma>,\\<Theta> \\<union>\n                       (\\<Union>q\\<in>Procs.\n                           \\<Union>Z.\n                              {(P q Z \\<inter>\n                                {s. ((s, q), \\<tau>, p) \\<in> r},\n                                q, Q q Z, A q Z)})\n                 \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                   P p Z)\n                  the (\\<Gamma> p) (Q p Z),(A p Z);\n        p' \\<in> Procs\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta> \\<union>\n                                  (\\<lambda>x.\ncase x of\n(P, q, Q, A) \\<Rightarrow>\n  (P \\<inter> {s. ((s, q), \\<tau>, p') \\<in> r}, q, Q, A)) `\n                                  (\\<Union>p\\<in>Procs.\n\\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P p' Z)\n                             the (\\<Gamma> p') (Q p' Z),(A p' Z)", "apply (drule_tac x=p' in bspec, assumption)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p' Z \\<tau>.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        p' \\<in> Procs;\n        \\<forall>\\<tau> Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p') \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p' Z)\n               the (\\<Gamma> p') (Q p' Z),(A p' Z)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta> \\<union>\n                                  (\\<lambda>x.\ncase x of\n(P, q, Q, A) \\<Rightarrow>\n  (P \\<inter> {s. ((s, q), \\<tau>, p') \\<in> r}, q, Q, A)) `\n                                  (\\<Union>p\\<in>Procs.\n\\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P p' Z)\n                             the (\\<Gamma> p') (Q p' Z),(A p' Z)", "apply (erule_tac x=\\<tau> in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p' Z \\<tau>.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        p' \\<in> Procs;\n        \\<forall>Z.\n           \\<Gamma>,\\<Theta> \\<union>\n                    (\\<Union>q\\<in>Procs.\n                        \\<Union>Z.\n                           {(P q Z \\<inter>\n                             {s. ((s, q), \\<tau>, p') \\<in> r},\n                             q, Q q Z, A q Z)})\n              \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                P p' Z)\n               the (\\<Gamma> p') (Q p' Z),(A p' Z)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta> \\<union>\n                                  (\\<lambda>x.\ncase x of\n(P, q, Q, A) \\<Rightarrow>\n  (P \\<inter> {s. ((s, q), \\<tau>, p') \\<in> r}, q, Q, A)) `\n                                  (\\<Union>p\\<in>Procs.\n\\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P p' Z)\n                             the (\\<Gamma> p') (Q p' Z),(A p' Z)", "apply (erule_tac x=Z in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>p' Z \\<tau>.\n       \\<lbrakk>p \\<in> Procs; Procs \\<subseteq> dom \\<Gamma>; wf r;\n        p' \\<in> Procs;\n        \\<Gamma>,\\<Theta> \\<union>\n                 (\\<Union>q\\<in>Procs.\n                     \\<Union>Z.\n                        {(P q Z \\<inter> {s. ((s, q), \\<tau>, p') \\<in> r},\n                          q, Q q Z, A q Z)})\n           \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter> P p' Z)\n            the (\\<Gamma> p') (Q p' Z),(A p' Z)\\<rbrakk>\n       \\<Longrightarrow> \\<Gamma>,\\<Theta> \\<union>\n                                  (\\<lambda>x.\ncase x of\n(P, q, Q, A) \\<Rightarrow>\n  (P \\<inter> {s. ((s, q), \\<tau>, p') \\<in> r}, q, Q, A)) `\n                                  (\\<Union>p\\<in>Procs.\n\\<Union>Z. {(P p Z, p, Q p Z, A p Z)})\n                            \\<turnstile>\\<^sub>t\\<^bsub>/F\\<^esub> ({\\<tau>} \\<inter>\n                              P p' Z)\n                             the (\\<Gamma> p') (Q p' Z),(A p' Z)", "apply (fastforce simp add: Spec_wf_conv)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"]]}